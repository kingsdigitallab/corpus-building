var pi=Object.defineProperty;var oo=t=>{throw TypeError(t)};var gi=(t,e,r)=>e in t?pi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var at=(t,e,r)=>gi(t,typeof e!="symbol"?e+"":e,r),rn=(t,e,r)=>e.has(t)||oo("Cannot "+r);var G=(t,e,r)=>(rn(t,e,"read from private field"),r?r.call(t):e.get(t)),Y=(t,e,r)=>e.has(t)?oo("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Ce=(t,e,r,n)=>(rn(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),vt=(t,e,r)=>(rn(t,e,"access private method"),r);import{D as Nn,E as Dt,f as nt,a as k,t as W,d as Bt,b as rt,F as vi,C as me,s as mi,B as Kt,c as or}from"../chunks/disclose-version.D1WK59Md.js";import"../chunks/legacy.B9jWl4Yz.js";import{aw as yi,b as ie,a9 as Cn,B as as,aH as bi,aa as so,a8 as cs,i as _i,s as tt,b1 as wi,g,ab as xi,F as Si,ac as jt,k as B,e as Pi,u as ze,b2 as ki,aU as io,aV as Ai,p as xt,x as q,o as St,q as R,z as ae,v as z,t as Z,A as Mn,aY as nn,b3 as ji,j as Oi,aZ as Ei,a_ as Tt,w as $,y as Mt,b4 as Ti,aW as zi,a$ as Ii}from"../chunks/index.B_MejUpZ.js";import{i as ls}from"../chunks/lifecycle.D3ZW4Efm.js";import{s as ce,i as Ri,b as Ni,m as Ci,c as Me,e as Mi}from"../chunks/config.BEBWYhbu.js";import{i as st,b as $i,c as At}from"../chunks/this.nM2t-5hg.js";import{t as Be,s as Li,k as Fi,f as sr}from"../chunks/index.Djtip-Fk.js";import{d as on,a as le,s as Ut,b as Bi,r as Ae}from"../chunks/attributes.Cyx_3ke0.js";import{i as us,a as ut,p as X,r as be,l as re,s as ue}from"../chunks/props.Bt9r9e64.js";import{s as Ot,e as qt,i as ee,B as se}from"../chunks/button.BdeA1Bw6.js";import{c as je,I as ds,m as Vi,a as Wi,g as Di}from"../chunks/maplibre-gl.DP0YZCHc.js";import{B as Ui}from"../chunks/BaseLink.A-HTBkEZ.js";import{o as fs,a as qi}from"../chunks/index-client.BVQqZOAy.js";import{I as de}from"../chunks/Icon.CE-PhQsp.js";import{g as Gi}from"../chunks/entry.B8utfL8F.js";import{p as Xi}from"../chunks/stores.C6gUi_eD.js";function pr(t,e,r=e){var n=yi();Nn(t,"input",o=>{var s=o?t.defaultValue:t.value;if(s=an(t)?cn(s):s,r(s),n&&s!==(s=e())){var i=t.selectionStart,a=t.selectionEnd;t.value=s??"",a!==null&&(t.selectionStart=i,t.selectionEnd=Math.min(a,t.value.length))}}),(as&&t.defaultValue!==t.value||ie(e)==null&&t.value)&&r(an(t)?cn(t.value):t.value),Cn(()=>{var o=e();an(t)&&o===cn(t.value)||t.type==="date"&&!o&&!t.value||o!==t.value&&(t.value=o??"")})}const sn=new Set;function ao(t,e,r,n,o=n){var s=r.getAttribute("type")==="checkbox",i=t;let a=!1;if(e!==null)for(var u of e)i=i[u]??(i[u]=[]);i.push(r),Nn(r,"change",()=>{var c=r.__value;s&&(c=co(i,c,r.checked)),o(c)},()=>o(s?[]:null)),Cn(()=>{var c=n();if(as&&r.defaultChecked!==r.checked){a=!0;return}s?(c=c||[],r.checked=c.includes(r.__value)):r.checked=us(r.__value,c)}),bi(()=>{var c=i.indexOf(r);c!==-1&&i.splice(c,1)}),sn.has(i)||(sn.add(i),so(()=>{i.sort((c,f)=>c.compareDocumentPosition(f)===4?-1:1),sn.delete(i)})),so(()=>{if(a){var c;if(s)c=co(i,c,r.checked);else{var f=i.find(m=>m.checked);c=f==null?void 0:f.__value}o(c)}})}function co(t,e,r){for(var n=new Set,o=0;o<t.length;o+=1)t[o].checked&&n.add(t[o].__value);return r||n.delete(e),Array.from(n)}function an(t){var e=t.type;return e==="number"||e==="range"}function cn(t){return t===""?null:+t}function hs(t,e,r){if(t.multiple)return Ki(t,e);for(var n of t.options){var o=Ve(n);if(us(o,e)){n.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function Hi(t,e){cs(()=>{var r=new MutationObserver(()=>{var n=t.__value;hs(t,n)});return r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function Yi(t,e,r=e){var n=!0;Nn(t,"change",o=>{var s=o?"[selected]":":checked",i;if(t.multiple)i=[].map.call(t.querySelectorAll(s),Ve);else{var a=t.querySelector(s)??t.querySelector("option:not([disabled])");i=a&&Ve(a)}r(i)}),cs(()=>{var o=e();if(hs(t,o,n),n&&o===void 0){var s=t.querySelector(":checked");s!==null&&(o=Ve(s),r(o))}t.__value=o,n=!1}),Hi(t)}function Ki(t,e){for(var r of t.options)r.selected=~e.indexOf(Ve(r))}function Ve(t){return"__value"in t?t.__value:t.value}function lo(t,e){var s;var r=(s=t.$$events)==null?void 0:s[e.type],n=_i(r)?r.slice():r==null?[]:[r];for(var o of n)o.call(this,e)}function Ji(t){tt(t,t.v+1)}function Zi(t){let e=0,r=Si(0),n;return()=>{wi()&&(g(r),Cn(()=>(e===0&&(n=ie(()=>t(()=>Ji(r)))),e+=1,()=>{xi().then(()=>{e-=1,e===0&&(n==null||n(),n=void 0)})})))}}function Qi(t){return typeof t=="function"}function ta(t){return t!==null&&typeof t=="object"}const ea=["string","number","bigint","boolean"];function _n(t){return t==null||ea.includes(typeof t)?!0:Array.isArray(t)?t.every(e=>_n(e)):typeof t=="object"?Object.getPrototypeOf(t)===Object.prototype:!1}const Ge=Symbol("box"),$n=Symbol("is-writable");function ra(t){return ta(t)&&Ge in t}function na(t){return D.isBox(t)&&$n in t}function D(t){let e=jt(ut(t));return{[Ge]:!0,[$n]:!0,get current(){return g(e)},set current(r){tt(e,ut(r))}}}function oa(t,e){const r=B(t);return e?{[Ge]:!0,[$n]:!0,get current(){return g(r)},set current(n){e(n)}}:{[Ge]:!0,get current(){return t()}}}function sa(t){return D.isBox(t)?t:Qi(t)?D.with(t):D(t)}function ia(t){return Object.entries(t).reduce((e,[r,n])=>D.isBox(n)?(D.isWritableBox(n)?Object.defineProperty(e,r,{get(){return n.current},set(o){n.current=o}}):Object.defineProperty(e,r,{get(){return n.current}}),e):Object.assign(e,{[r]:n}),{})}function aa(t){return D.isWritableBox(t)?{[Ge]:!0,get current(){return t.current}}:t}D.from=sa;D.with=oa;D.flatten=ia;D.readonly=aa;D.isBox=ra;D.isWritableBox=na;function ca(...t){return function(e){var r;for(const n of t)if(n){if(e.defaultPrevented)return;typeof n=="function"?n.call(this,e):(r=n.current)==null||r.call(this,e)}}}var ps={},uo=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,la=/\n/g,ua=/^\s*/,da=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,fa=/^:\s*/,ha=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,pa=/^[;\s]*/,ga=/^\s+|\s+$/g,va=`
`,fo="/",ho="*",ge="",ma="comment",ya="declaration",ba=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var r=1,n=1;function o(d){var v=d.match(la);v&&(r+=v.length);var w=d.lastIndexOf(va);n=~w?d.length-w:n+d.length}function s(){var d={line:r,column:n};return function(v){return v.position=new i(d),c(),v}}function i(d){this.start=d,this.end={line:r,column:n},this.source=e.source}i.prototype.content=t;function a(d){var v=new Error(e.source+":"+r+":"+n+": "+d);if(v.reason=d,v.filename=e.source,v.line=r,v.column=n,v.source=t,!e.silent)throw v}function u(d){var v=d.exec(t);if(v){var w=v[0];return o(w),t=t.slice(w.length),v}}function c(){u(ua)}function f(d){var v;for(d=d||[];v=m();)v!==!1&&d.push(v);return d}function m(){var d=s();if(!(fo!=t.charAt(0)||ho!=t.charAt(1))){for(var v=2;ge!=t.charAt(v)&&(ho!=t.charAt(v)||fo!=t.charAt(v+1));)++v;if(v+=2,ge===t.charAt(v-1))return a("End of comment missing");var w=t.slice(2,v-2);return n+=2,o(w),t=t.slice(v),n+=2,d({type:ma,comment:w})}}function p(){var d=s(),v=u(da);if(v){if(m(),!u(fa))return a("property missing ':'");var w=u(ha),j=d({type:ya,property:po(v[0].replace(uo,ge)),value:w?po(w[0].replace(uo,ge)):ge});return u(pa),j}}function y(){var d=[];f(d);for(var v;v=p();)v!==!1&&(d.push(v),f(d));return d}return c(),y()};function po(t){return t?t.replace(ga,ge):ge}var _a=je&&je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ps,"__esModule",{value:!0});var go=ps.default=xa,wa=_a(ba);function xa(t,e){var r=null;if(!t||typeof t!="string")return r;var n=(0,wa.default)(t),o=typeof e=="function";return n.forEach(function(s){if(s.type==="declaration"){var i=s.property,a=s.value;o?e(i,a,s):a&&(r=r||{},r[i]=a)}}),r}const Sa=go.default||go,Pa=/\d/,ka=["-","_","/","."];function Aa(t=""){if(!Pa.test(t))return t!==t.toLowerCase()}function ja(t){const e=[];let r="",n,o;for(const s of t){const i=ka.includes(s);if(i===!0){e.push(r),r="",n=void 0;continue}const a=Aa(s);if(o===!1){if(n===!1&&a===!0){e.push(r),r=s,n=a;continue}if(n===!0&&a===!1&&r.length>1){const u=r.at(-1);e.push(r.slice(0,Math.max(0,r.length-1))),r=u+s,n=a;continue}}r+=s,n=a,o=i}return e.push(r),e}function gs(t){return t?ja(t).map(e=>Ea(e)).join(""):""}function Oa(t){return Ta(gs(t||""))}function Ea(t){return t?t[0].toUpperCase()+t.slice(1):""}function Ta(t){return t?t[0].toLowerCase()+t.slice(1):""}function ir(t){if(!t)return{};const e={};function r(n,o){if(n.startsWith("-moz-")||n.startsWith("-webkit-")||n.startsWith("-ms-")||n.startsWith("-o-")){e[gs(n)]=o;return}if(n.startsWith("--")){e[n]=o;return}e[Oa(n)]=o}return Sa(t,r),e}function Ln(...t){return(...e)=>{for(const r of t)typeof r=="function"&&r(...e)}}function za(t,e){const r=RegExp(t,"g");return n=>{if(typeof n!="string")throw new TypeError(`expected an argument of type string, but got ${typeof n}`);return n.match(r)?n.replace(r,e):n}}const Ia=za(/[A-Z]/,t=>`-${t.toLowerCase()}`);function Ra(t){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected an argument of type object, but got ${typeof t}`);return Object.keys(t).map(e=>`${Ia(e)}: ${t[e]};`).join(`
`)}function vs(t={}){return Ra(t).replace(`
`," ")}const Na={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};vs(Na);function Ca(t){var e;return t.length>2&&t.startsWith("on")&&t[2]===((e=t[2])==null?void 0:e.toLowerCase())}function _e(...t){const e={...t[0]};for(let r=1;r<t.length;r++){const n=t[r];for(const o in n){const s=e[o],i=n[o],a=typeof s=="function",u=typeof i=="function";if(a&&Ca(o)){const c=s,f=i;e[o]=ca(c,f)}else if(a&&u)e[o]=Ln(s,i);else if(o==="class"){const c=_n(s),f=_n(i);c&&f?e[o]=on(s,i):c?e[o]=on(s):f&&(e[o]=on(i))}else if(o==="style"){const c=typeof s=="object",f=typeof i=="object",m=typeof s=="string",p=typeof i=="string";if(c&&f)e[o]={...s,...i};else if(c&&p){const y=ir(i);e[o]={...s,...y}}else if(m&&f){const y=ir(s);e[o]={...y,...i}}else if(m&&p){const y=ir(s),d=ir(i);e[o]={...y,...d}}else c?e[o]=s:f?e[o]=i:m?e[o]=s:p&&(e[o]=i)}else e[o]=i!==void 0?i:s}}return typeof e.style=="object"&&(e.style=vs(e.style).replaceAll(`
`," ")),e.hidden!==!0&&(e.hidden=void 0,delete e.hidden),e.disabled!==!0&&(e.disabled=void 0,delete e.disabled),e}const Ma=typeof window<"u"?window:void 0;function $a(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const r=e.shadowRoot.activeElement;if(r===e)break;e=r}return e}var Te,Ke;class La{constructor(e={}){Y(this,Te);Y(this,Ke);const{window:r=Ma,document:n=r==null?void 0:r.document}=e;r!==void 0&&(Ce(this,Te,n),Ce(this,Ke,Zi(o=>{const s=Dt(r,"focusin",o),i=Dt(r,"focusout",o);return()=>{s(),i()}})))}get current(){var e;return(e=G(this,Ke))==null||e.call(this),G(this,Te)?$a(G(this,Te)):null}}Te=new WeakMap,Ke=new WeakMap;new La;function Fa(t,e){switch(t){case"post":ze(e);break;case"pre":Pi(e);break}}function ms(t,e,r,n={}){const{lazy:o=!1}=n;let s=!o,i=Array.isArray(t)?[]:void 0;Fa(e,()=>{const a=Array.isArray(t)?t.map(c=>c()):t();if(!s){s=!0,i=a;return}const u=ie(()=>r(a,i));return i=a,u})}function Gr(t,e,r){ms(t,"post",e,r)}function Ba(t,e,r){ms(t,"pre",e,r)}Gr.pre=Ba;var Je,Zt;class ys{constructor(e){Y(this,Je);Y(this,Zt);Ce(this,Je,e),Ce(this,Zt,Symbol(e))}get key(){return G(this,Zt)}exists(){return ki(G(this,Zt))}get(){const e=io(G(this,Zt));if(e===void 0)throw new Error(`Context "${G(this,Je)}" not found`);return e}getOr(e){const r=io(G(this,Zt));return r===void 0?e:r}set(e){return Ai(G(this,Zt),e)}}Je=new WeakMap,Zt=new WeakMap;function Va(t){ze(()=>()=>{t()})}function Re({id:t,ref:e,deps:r=()=>!0,onRefChange:n,getRootNode:o}){Gr([()=>t.current,r],([s])=>{const i=(o==null?void 0:o())??document,a=i==null?void 0:i.getElementById(s);a?e.current=a:e.current=null,n==null||n(e.current)}),Va(()=>{e.current=null,n==null||n(null)})}function bs(t){ze(()=>ie(()=>t()))}function _s(t){return t?"true":"false"}function Xr(t){return t?"":void 0}const Fn="ArrowDown",Hr="ArrowLeft",Yr="ArrowRight",Bn="ArrowUp",Vn="End",ws="Enter",Wn="Home",xs=" ";function Wa(t){return window.getComputedStyle(t).getPropertyValue("direction")}function Da(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?Hr:Yr,vertical:Fn}[e]}function Ua(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?Yr:Hr,vertical:Bn}[e]}function qa(t="ltr",e="horizontal"){return["ltr","rtl"].includes(t)||(t="ltr"),["horizontal","vertical"].includes(e)||(e="horizontal"),{nextKey:Da(t,e),prevKey:Ua(t,e)}}function Ss(t){return t instanceof Element||t instanceof SVGElement}globalThis.bitsIdCounter??(globalThis.bitsIdCounter={current:0});function fe(t="bits"){return globalThis.bitsIdCounter.current++,`${t}-${globalThis.bitsIdCounter.current}`}function wn(){}function Ga(t,e){return t>=0&&t<e.length}const Xa="data-pagination-root",Ha="data-pagination-page",Ya="data-pagination-prev",Ka="data-pagination-next";var mr,yr,br,_r,wr,xr,Sr;class Ja{constructor(e){at(this,"opts");Y(this,mr,B(()=>this.opts.count.current===0?1:Math.ceil(this.opts.count.current/this.opts.perPage.current)));Y(this,yr,B(()=>{const e=(this.opts.page.current-1)*this.opts.perPage.current,r=Math.min(e+this.opts.perPage.current,this.opts.count.current);return{start:e,end:r}}));Y(this,br,B(()=>tc({page:this.opts.page.current,totalPages:this.totalPages,siblingCount:this.opts.siblingCount.current})));Y(this,_r,B(()=>this.opts.page.current>1));Y(this,wr,B(()=>this.opts.page.current<this.totalPages));Y(this,xr,B(()=>({pages:this.pages,range:this.range,currentPage:this.opts.page.current})));Y(this,Sr,B(()=>({id:this.opts.id.current,"data-orientation":this.opts.orientation.current,[Xa]:""})));this.opts=e,Re(e)}get totalPages(){return g(G(this,mr))}get range(){return g(G(this,yr))}get pages(){return g(G(this,br))}setPage(e){this.opts.page.current=e}getPageTriggerNodes(){const e=this.opts.ref.current;return e?Array.from(e.querySelectorAll("[data-pagination-page]")):[]}getButtonNode(e){const r=this.opts.ref.current;if(r)return r.querySelector(`[data-pagination-${e}]`)}get hasPrevPage(){return g(G(this,_r))}get hasNextPage(){return g(G(this,wr))}prevPage(){this.opts.page.current=Math.max(this.opts.page.current-1,1)}nextPage(){this.opts.page.current=Math.min(this.opts.page.current+1,this.totalPages)}get snippetProps(){return g(G(this,xr))}get props(){return g(G(this,Sr))}}mr=new WeakMap,yr=new WeakMap,br=new WeakMap,_r=new WeakMap,wr=new WeakMap,xr=new WeakMap,Sr=new WeakMap;var Pr,kr;class Za{constructor(e,r){at(this,"opts");at(this,"root");Y(this,Pr,B(()=>this.opts.page.current.value===this.root.opts.page.current));Y(this,kr,B(()=>({id:this.opts.id.current,"aria-label":`Page ${this.opts.page.current.value}`,"data-value":`${this.opts.page.current.value}`,"data-selected":g(G(this,Pr))?"":void 0,[Ha]:"",onclick:this.onclick,onkeydown:this.onkeydown})));this.opts=e,this.root=r,Re(e),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button===0&&this.root.setPage(this.opts.page.current.value)}onkeydown(e){e.key===xs||e.key===ws?(e.preventDefault(),this.root.setPage(this.opts.page.current.value)):Ps(e,this.opts.ref.current,this.root)}get props(){return g(G(this,kr))}}Pr=new WeakMap,kr=new WeakMap;var Ze,xn,Ar,jr;class Qa{constructor(e,r){Y(this,Ze);at(this,"opts");at(this,"root");Y(this,Ar,B(()=>this.opts.disabled.current?!0:this.opts.type==="prev"?!this.root.hasPrevPage:this.opts.type==="next"?!this.root.hasNextPage:!1));Y(this,jr,B(()=>({id:this.opts.id.current,[Ya]:this.opts.type==="prev"?"":void 0,[Ka]:this.opts.type==="next"?"":void 0,disabled:g(G(this,Ar)),onclick:this.onclick,onkeydown:this.onkeydown})));this.opts=e,this.root=r,Re(e),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button===0&&vt(this,Ze,xn).call(this)}onkeydown(e){e.key===xs||e.key===ws?(e.preventDefault(),vt(this,Ze,xn).call(this)):Ps(e,this.opts.ref.current,this.root)}get props(){return g(G(this,jr))}}Ze=new WeakSet,xn=function(){this.opts.type==="prev"?this.root.prevPage():this.root.nextPage()},Ar=new WeakMap,jr=new WeakMap;function Ps(t,e,r){if(!e||!r.opts.ref.current)return;const n=r.getPageTriggerNodes(),o=r.getButtonNode("next"),s=r.getButtonNode("prev");s&&n.unshift(s),o&&n.push(o);const i=n.indexOf(e),a=Wa(r.opts.ref.current),{nextKey:u,prevKey:c}=qa(a,r.opts.orientation.current),f=r.opts.loop.current;let p={[u]:i+1,[c]:i-1,[Wn]:0,[Vn]:n.length-1}[t.key];if(p===void 0)return;t.preventDefault(),p<0&&f?p=n.length-1:p===n.length&&f&&(p=0);const y=n[p];y&&y.focus()}function tc({page:t=1,totalPages:e,siblingCount:r=1}){const n=[],o=new Set([1,e]),s=3+r,i=e-2-r;if(s>i)for(let f=2;f<=e-1;f++)o.add(f);else if(t<s)for(let f=2;f<=Math.min(s,e);f++)o.add(f);else if(t>i)for(let f=e-1;f>=Math.max(i,2);f--)o.add(f);else for(let f=Math.max(t-r,2);f<=Math.min(t+r,e);f++)o.add(f);function a(f){n.push({type:"page",value:f,key:`page-${f}`})}function u(){const f=fe();n.push({type:"ellipsis",key:`ellipsis-${f}`})}let c=0;for(const f of Array.from(o).sort((m,p)=>m-p))f-c>1&&u(),a(f),c=f;return n}const Dn=new ys("Pagination.Root");function ec(t){return Dn.set(new Ja(t))}function rc(t){return new Za(t,Dn.get())}function ks(t){return new Qa(t,Dn.get())}var nc=W("<div><!></div>");function oc(t,e){xt(e,!0);let r=X(e,"id",19,fe),n=X(e,"perPage",3,1),o=X(e,"page",15,1),s=X(e,"ref",15,null),i=X(e,"siblingCount",3,1),a=X(e,"onPageChange",3,wn),u=X(e,"loop",3,!1),c=X(e,"orientation",3,"horizontal"),f=be(e,["$$slots","$$events","$$legacy","id","count","perPage","page","ref","siblingCount","onPageChange","loop","orientation","child","children"]);const m=ec({id:D.with(()=>r()),count:D.with(()=>e.count),perPage:D.with(()=>n()),page:D.with(()=>o(),j=>{var E;o(j),(E=a())==null||E(j)}),loop:D.with(()=>u()),siblingCount:D.with(()=>i()),orientation:D.with(()=>c()),ref:D.with(()=>s(),j=>s(j))}),p=B(()=>_e(f,m.props));var y=nt(),d=q(y);{var v=j=>{var E=nt(),P=q(E),L=Mn(()=>({props:g(p),...m.snippetProps}));Ot(P,()=>e.child,()=>g(L)),k(j,E)},w=j=>{var E=nc();let P;var L=R(E);Ot(L,()=>e.children??ae,()=>m.snippetProps),z(E),Z(()=>P=le(E,P,{...g(p)})),k(j,E)};st(d,j=>{e.child?j(v):j(w,!1)})}k(t,y),St()}var sc=W("<button><!></button>");function ic(t,e){xt(e,!0);let r=X(e,"id",19,fe),n=X(e,"ref",15,null),o=X(e,"type",3,"button"),s=X(e,"disabled",3,!1),i=be(e,["$$slots","$$events","$$legacy","id","child","children","ref","type","disabled"]);const a=ks({type:"prev",id:D.with(()=>r()),ref:D.with(()=>n(),y=>n(y)),disabled:D.with(()=>!!s())}),u=B(()=>_e(i,a.props,{type:o()}));var c=nt(),f=q(c);{var m=y=>{var d=nt(),v=q(d);Ot(v,()=>e.child,()=>({props:g(u)})),k(y,d)},p=y=>{var d=sc();let v;var w=R(d);Ot(w,()=>e.children??ae),z(d),Z(()=>v=le(d,v,{...g(u)})),k(y,d)};st(f,y=>{e.child?y(m):y(p,!1)})}k(t,c),St()}var ac=W("<button><!></button>");function cc(t,e){xt(e,!0);let r=X(e,"id",19,fe),n=X(e,"ref",15,null),o=X(e,"type",3,"button"),s=X(e,"disabled",3,!1),i=be(e,["$$slots","$$events","$$legacy","id","child","children","ref","type","disabled"]);const a=ks({type:"next",id:D.with(()=>r()),ref:D.with(()=>n(),y=>n(y)),disabled:D.with(()=>!!s())}),u=B(()=>_e(i,a.props,{type:o()}));var c=nt(),f=q(c);{var m=y=>{var d=nt(),v=q(d);Ot(v,()=>e.child,()=>({props:g(u)})),k(y,d)},p=y=>{var d=ac();let v;var w=R(d);Ot(w,()=>e.children??ae),z(d),Z(()=>v=le(d,v,{...g(u)})),k(y,d)};st(f,y=>{e.child?y(m):y(p,!1)})}k(t,c),St()}var lc=W("<button><!></button>");function uc(t,e){xt(e,!0);let r=X(e,"id",19,fe),n=X(e,"type",3,"button"),o=X(e,"ref",15,null),s=X(e,"disabled",3,!1),i=be(e,["$$slots","$$events","$$legacy","id","page","child","children","type","ref","disabled"]);const a=rc({id:D.with(()=>r()),page:D.with(()=>e.page),ref:D.with(()=>o(),y=>o(y)),disabled:D.with(()=>!!s())}),u=B(()=>_e(i,a.props,{type:n()}));var c=nt(),f=q(c);{var m=y=>{var d=nt(),v=q(d);Ot(v,()=>e.child,()=>({props:g(u)})),k(y,d)},p=y=>{var d=lc();let v;var w=R(d);{var j=P=>{var L=nt(),V=q(L);Ot(V,()=>e.children??ae),k(P,L)},E=P=>{var L=Bt();Z(()=>rt(L,e.page.value)),k(P,L)};st(w,P=>{e.children?P(j):P(E,!1)})}z(d),Z(()=>v=le(d,v,{...g(u)})),k(y,d)};st(f,y=>{e.child?y(m):y(p,!1)})}k(t,c),St()}function dc(t,e,r){const n={position:"absolute"};return t==="lr"?(n.left=`${e}%`,n.right=`${r}%`):t==="rl"?(n.right=`${e}%`,n.left=`${r}%`):t==="bt"?(n.bottom=`${e}%`,n.top=`${r}%`):(n.top=`${e}%`,n.bottom=`${r}%`),n}function As(t,e){const r={position:"absolute"};return t==="lr"?(r.left=`${e}%`,r.translate="-50% 0"):t==="rl"?(r.right=`${e}%`,r.translate="50% 0"):t==="bt"?(r.bottom=`${e}%`,r.translate="0 50%"):(r.top=`${e}%`,r.translate="0 -50%"),r}function js(t,e,r){const n={position:"absolute"};return t==="lr"?(n.left=`${e}%`,n.translate=`${r}% 0`):t==="rl"?(n.right=`${e}%`,n.translate=`${-r}% 0`):t==="bt"?(n.bottom=`${e}%`,n.translate=`0 ${-r}%`):(n.top=`${e}%`,n.translate=`0 ${r}%`),n}function Oe(t,e,r,n){const o=(t-(Number.isNaN(e)?0:e))%n;let s=Math.abs(o)*2>=n?t+Math.sign(o)*(n-Math.abs(o)):t-o;Number.isNaN(e)?!Number.isNaN(r)&&s>r&&(s=Math.floor(r/n)*n):s<e?s=e:!Number.isNaN(r)&&s>r&&(s=e+Math.floor((r-e)/n)*n);const i=n.toString(),a=i.indexOf("."),u=a>=0?i.length-a:0;if(u>0){const c=10**u;s=Math.round(s*c)/c}return s}const fc="data-slider-root",vr="data-slider-thumb",hc="data-slider-range",Os="data-slider-tick";var Qe,Or,Er,Tr;class Es{constructor(e){at(this,"opts");Y(this,Qe,jt(!1));Y(this,Or,B(()=>this.opts.orientation.current==="horizontal"?this.opts.dir.current==="rtl"?"rl":"lr":this.opts.dir.current==="rtl"?"tb":"bt"));Y(this,Er,B(()=>{if(!this.opts.disabled.current)return this.opts.orientation.current==="horizontal"?"pan-y":"pan-x"}));at(this,"getAllThumbs",()=>{const e=this.opts.ref.current;return e?Array.from(e.querySelectorAll(`[${vr}]`)):[]});Y(this,Tr,B(()=>({id:this.opts.id.current,"data-orientation":this.opts.orientation.current,"data-disabled":Xr(this.opts.disabled.current),style:{touchAction:g(G(this,Er))},[fc]:""})));this.opts=e,Re(e)}get isActive(){return g(G(this,Qe))}set isActive(e){tt(G(this,Qe),ut(e))}get direction(){return g(G(this,Or))}get props(){return g(G(this,Tr))}}Qe=new WeakMap,Or=new WeakMap,Er=new WeakMap,Tr=new WeakMap;var zr,Ir,Rr,Nr,Cr;class pc extends Es{constructor(r){super(r);at(this,"opts");at(this,"isMulti",!1);at(this,"updateValue",r=>{this.opts.value.current=Oe(r,this.opts.min.current,this.opts.max.current,this.opts.step.current)});at(this,"handlePointerMove",r=>{if(!this.isActive||this.opts.disabled.current)return;r.preventDefault(),r.stopPropagation();const n=this.opts.ref.current,o=this.getAllThumbs()[0];if(!n||!o)return;o.focus();const{left:s,right:i,top:a,bottom:u}=n.getBoundingClientRect();this.direction==="lr"?this.applyPosition({clientXY:r.clientX,start:s,end:i}):this.direction==="rl"?this.applyPosition({clientXY:r.clientX,start:i,end:s}):this.direction==="bt"?this.applyPosition({clientXY:r.clientY,start:u,end:a}):this.direction==="tb"&&this.applyPosition({clientXY:r.clientY,start:a,end:u})});at(this,"handlePointerDown",r=>{if(r.button!==0||this.opts.disabled.current)return;const n=this.opts.ref.current,o=this.getAllThumbs()[0];if(!o||!n)return;const s=r.target;!Ss(s)||!n.contains(s)||(r.preventDefault(),o.focus(),this.isActive=!0,this.handlePointerMove(r))});at(this,"handlePointerUp",()=>{this.opts.disabled.current||(this.isActive&&this.opts.onValueCommit.current(ie(()=>this.opts.value.current)),this.isActive=!1)});at(this,"getPositionFromValue",r=>{const n=this.opts.min.current,o=this.opts.max.current;return(r-n)/(o-n)*100});Y(this,zr,B(()=>{const r=this.opts.value.current;return Array.from({length:1},()=>{const n=r,o=this.getPositionFromValue(n??0),s=As(this.direction,o);return{role:"slider","aria-valuemin":this.opts.min.current,"aria-valuemax":this.opts.max.current,"aria-valuenow":n,"aria-disabled":_s(this.opts.disabled.current),"aria-orientation":this.opts.orientation.current,"data-value":n,tabindex:this.opts.disabled.current?-1:0,style:s,[vr]:""}})}));Y(this,Ir,B(()=>this.thumbsPropsArr.map((r,n)=>n)));Y(this,Rr,B(()=>{const r=this.opts.max.current,n=this.opts.min.current,o=this.opts.step.current,s=r-n;let i=Math.ceil(s/o);s%o==0&&i++;const a=this.opts.value.current;return Array.from({length:i},(u,c)=>{const f=c*(o/s)*100,m=c===0,p=c===i-1,y=m?0:p?-100:-50,d=js(this.direction,f,y),v=n+c*o,w=v<=a;return{"data-disabled":Xr(this.opts.disabled.current),"data-orientation":this.opts.orientation.current,"data-bounded":w?"":void 0,"data-value":v,style:d,[Os]:""}})}));Y(this,Nr,B(()=>this.ticksPropsArr.map((r,n)=>n)));Y(this,Cr,B(()=>({ticks:this.ticksRenderArr,thumbs:this.thumbsRenderArr})));this.opts=r,bs(()=>Ln(Dt(document,"pointerdown",this.handlePointerDown),Dt(document,"pointerup",this.handlePointerUp),Dt(document,"pointermove",this.handlePointerMove),Dt(document,"pointerleave",this.handlePointerUp))),Gr([()=>this.opts.step.current,()=>this.opts.min.current,()=>this.opts.max.current,()=>this.opts.value.current],([n,o,s,i])=>{const a=c=>Oe(c,o,s,n)===c,u=c=>Oe(c,o,s,n);a(i)||(this.opts.value.current=u(i))})}applyPosition({clientXY:r,start:n,end:o}){const s=this.opts.min.current,i=this.opts.max.current,u=(r-n)/(o-n)*(i-s)+s;if(u<s)this.updateValue(s);else if(u>i)this.updateValue(i);else{const c=this.opts.step.current,f=Math.floor((u-s)/c),m=s+f*c+c/2,p=s+(f+1)*c+c/2,y=u>=m&&u<p?(f+1)*c+s:f*c+s;y<=i&&this.updateValue(y)}}get thumbsPropsArr(){return g(G(this,zr))}get thumbsRenderArr(){return g(G(this,Ir))}get ticksPropsArr(){return g(G(this,Rr))}get ticksRenderArr(){return g(G(this,Nr))}get snippetProps(){return g(G(this,Cr))}}zr=new WeakMap,Ir=new WeakMap,Rr=new WeakMap,Nr=new WeakMap,Cr=new WeakMap;var tr,er,Mr,$r,Lr,Fr,Br,Vr;class gc extends Es{constructor(r){super(r);at(this,"opts");at(this,"isMulti",!0);Y(this,tr,jt(null));Y(this,er,jt(0));Y(this,Mr,r=>{const n=this.getAllThumbs();if(!n.length)return;for(const a of n)a.blur();const o=n.map(a=>{if(this.opts.orientation.current==="horizontal"){const{left:u,right:c}=a.getBoundingClientRect();return Math.abs(r.clientX-(u+c)/2)}else{const{top:u,bottom:c}=a.getBoundingClientRect();return Math.abs(r.clientY-(u+c)/2)}}),s=n[o.indexOf(Math.min(...o))],i=n.indexOf(s);return{node:s,idx:i}});at(this,"handlePointerMove",r=>{if(!this.isActive||this.opts.disabled.current)return;r.preventDefault(),r.stopPropagation();const n=this.opts.ref.current,o=this.activeThumb;if(!n||!o)return;o.node.focus();const{left:s,right:i,top:a,bottom:u}=n.getBoundingClientRect(),c=this.direction;c==="lr"?this.applyPosition({clientXY:r.clientX,activeThumbIdx:o.idx,start:s,end:i}):c==="rl"?this.applyPosition({clientXY:r.clientX,activeThumbIdx:o.idx,start:i,end:s}):c==="bt"?this.applyPosition({clientXY:r.clientY,activeThumbIdx:o.idx,start:u,end:a}):c==="tb"&&this.applyPosition({clientXY:r.clientY,activeThumbIdx:o.idx,start:a,end:u})});at(this,"handlePointerDown",r=>{if(r.button!==0||this.opts.disabled.current)return;const n=this.opts.ref.current,o=G(this,Mr).call(this,r);if(!o||!n)return;const s=r.target;!Ss(s)||!n.contains(s)||(r.preventDefault(),this.activeThumb=o,o.node.focus(),this.isActive=!0,this.handlePointerMove(r))});at(this,"handlePointerUp",()=>{this.opts.disabled.current||(this.isActive&&this.opts.onValueCommit.current(ie(()=>this.opts.value.current)),this.isActive=!1)});at(this,"getPositionFromValue",r=>{const n=this.opts.min.current,o=this.opts.max.current;return(r-n)/(o-n)*100});at(this,"getAllThumbs",()=>{const r=this.opts.ref.current;return r?Array.from(r.querySelectorAll(`[${vr}]`)):[]});at(this,"updateValue",(r,n)=>{const o=this.opts.value.current;if(!o.length){this.opts.value.current.push(r);return}if(o[n]===r)return;const i=[...o];if(!Ga(n,i))return;const a=i[n]>r?-1:1,u=()=>{var d;const p=n+a;i[n]=i[p],i[p]=r;const y=this.getAllThumbs();y.length&&((d=y[p])==null||d.focus(),this.activeThumb={node:y[p],idx:p})};if(this.opts.autoSort.current&&(a===-1&&r<i[n-1]||a===1&&r>i[n+1])){u(),this.opts.value.current=i;return}const c=this.opts.min.current,f=this.opts.max.current,m=this.opts.step.current;i[n]=Oe(r,c,f,m),this.opts.value.current=i});Y(this,$r,B(()=>{const r=this.opts.value.current;return Array.from({length:r.length||1},(n,o)=>{const s=ie(()=>this.currentThumbIdx);s<r.length&&ie(()=>{this.currentThumbIdx=s+1});const i=r[o],a=this.getPositionFromValue(i??0),u=As(this.direction,a);return{role:"slider","aria-valuemin":this.opts.min.current,"aria-valuemax":this.opts.max.current,"aria-valuenow":i,"aria-disabled":_s(this.opts.disabled.current),"aria-orientation":this.opts.orientation.current,"data-value":i,tabindex:this.opts.disabled.current?-1:0,style:u,[vr]:""}})}));Y(this,Lr,B(()=>this.thumbsPropsArr.map((r,n)=>n)));Y(this,Fr,B(()=>{const r=this.opts.max.current,n=this.opts.min.current,o=this.opts.step.current,s=r-n;let i=Math.ceil(s/o);s%o==0&&i++;const a=this.opts.value.current;return Array.from({length:i},(u,c)=>{const f=c*(o/s)*100,m=c===0,p=c===i-1,y=m?0:p?-100:-50,d=js(this.direction,f,y),v=n+c*o,w=a.length===1?v<=a[0]:a[0]<=v&&v<=a[a.length-1];return{"data-disabled":Xr(this.opts.disabled.current),"data-orientation":this.opts.orientation.current,"data-bounded":w?"":void 0,"data-value":v,style:d,[Os]:""}})}));Y(this,Br,B(()=>this.ticksPropsArr.map((r,n)=>n)));Y(this,Vr,B(()=>({ticks:this.ticksRenderArr,thumbs:this.thumbsRenderArr})));this.opts=r,bs(()=>Ln(Dt(document,"pointerdown",this.handlePointerDown),Dt(document,"pointerup",this.handlePointerUp),Dt(document,"pointermove",this.handlePointerMove),Dt(document,"pointerleave",this.handlePointerUp))),Gr([()=>this.opts.step.current,()=>this.opts.min.current,()=>this.opts.max.current,()=>this.opts.value.current],([n,o,s,i])=>{const a=c=>Oe(c,o,s,n)===c,u=c=>Oe(c,o,s,n);i.some(c=>!a(c))&&(this.opts.value.current=i.map(u))})}get activeThumb(){return g(G(this,tr))}set activeThumb(r){tt(G(this,tr),ut(r))}get currentThumbIdx(){return g(G(this,er))}set currentThumbIdx(r){tt(G(this,er),ut(r))}applyPosition({clientXY:r,activeThumbIdx:n,start:o,end:s}){const i=this.opts.min.current,a=this.opts.max.current,c=(r-o)/(s-o)*(a-i)+i;if(c<i)this.updateValue(i,n);else if(c>a)this.updateValue(a,n);else{const f=this.opts.step.current,m=Math.floor((c-i)/f),p=i+m*f+f/2,y=i+(m+1)*f+f/2,d=c>=p&&c<y?(m+1)*f+i:m*f+i;d<=a&&this.updateValue(d,n)}}get thumbsPropsArr(){return g(G(this,$r))}get thumbsRenderArr(){return g(G(this,Lr))}get ticksPropsArr(){return g(G(this,Fr))}get ticksRenderArr(){return g(G(this,Br))}get snippetProps(){return g(G(this,Vr))}}tr=new WeakMap,er=new WeakMap,Mr=new WeakMap,$r=new WeakMap,Lr=new WeakMap,Fr=new WeakMap,Br=new WeakMap,Vr=new WeakMap;const vc=[Hr,Yr,Bn,Fn,Wn,Vn];var Wr,Dr;class mc{constructor(e,r){at(this,"opts");at(this,"root");Y(this,Wr,B(()=>{const e=Array.isArray(this.root.opts.value.current)&&this.root.opts.value.current.length>1?this.root.getPositionFromValue(Math.min(...this.root.opts.value.current)??0):0,r=Array.isArray(this.root.opts.value.current)?100-this.root.getPositionFromValue(Math.max(...this.root.opts.value.current)??0):100-this.root.getPositionFromValue(this.root.opts.value.current);return{position:"absolute",...dc(this.root.direction,e,r)}}));Y(this,Dr,B(()=>({id:this.opts.id.current,"data-orientation":this.root.opts.orientation.current,"data-disabled":Xr(this.root.opts.disabled.current),style:this.rangeStyles,[hc]:""})));this.opts=e,this.root=r,Re(e)}get rangeStyles(){return g(G(this,Wr))}get props(){return g(G(this,Dr))}}Wr=new WeakMap,Dr=new WeakMap;var Ur,mt,kt,qr;class yc{constructor(e,r){Y(this,mt);at(this,"opts");at(this,"root");Y(this,Ur,B(()=>this.root.opts.disabled.current||this.opts.disabled.current));Y(this,qr,B(()=>({...this.root.thumbsPropsArr[this.opts.index.current],id:this.opts.id.current,onkeydown:this.onkeydown})));this.opts=e,this.root=r,Re(e),this.onkeydown=this.onkeydown.bind(this)}onkeydown(e){if(g(G(this,Ur)))return;const r=this.opts.ref.current;if(!r)return;const n=this.root.getAllThumbs();if(!n.length)return;const o=n.indexOf(r);if(this.root.isMulti&&(this.root.currentThumbIdx=o),!vc.includes(e.key))return;e.preventDefault();const s=this.root.opts.min.current,i=this.root.opts.max.current,a=this.root.opts.value.current,u=Array.isArray(a)?a[o]:a,c=this.root.opts.orientation.current,f=this.root.direction,m=this.root.opts.step.current;switch(e.key){case Wn:vt(this,mt,kt).call(this,s);break;case Vn:vt(this,mt,kt).call(this,i);break;case Hr:if(c!=="horizontal")break;if(e.metaKey){const p=f==="rl"?i:s;vt(this,mt,kt).call(this,p)}else f==="rl"&&u<i?vt(this,mt,kt).call(this,u+m):f==="lr"&&u>s&&vt(this,mt,kt).call(this,u-m);break;case Yr:if(c!=="horizontal")break;if(e.metaKey){const p=f==="rl"?s:i;vt(this,mt,kt).call(this,p)}else f==="rl"&&u>s?vt(this,mt,kt).call(this,u-m):f==="lr"&&u<i&&vt(this,mt,kt).call(this,u+m);break;case Bn:if(e.metaKey){const p=f==="tb"?s:i;vt(this,mt,kt).call(this,p)}else f==="tb"&&u>s?vt(this,mt,kt).call(this,u-m):f!=="tb"&&u<i&&vt(this,mt,kt).call(this,u+m);break;case Fn:if(e.metaKey){const p=f==="tb"?i:s;vt(this,mt,kt).call(this,p)}else f==="tb"&&u<i?vt(this,mt,kt).call(this,u+m):f!=="tb"&&u>s&&vt(this,mt,kt).call(this,u-m);break}this.root.opts.onValueCommit.current(this.root.opts.value.current)}get props(){return g(G(this,qr))}}Ur=new WeakMap,mt=new WeakSet,kt=function(e){this.root.isMulti?this.root.updateValue(e,this.opts.index.current):this.root.updateValue(e)},qr=new WeakMap;const Un=new ys("Slider.Root");function bc(t){const{type:e,...r}=t,n=e==="single"?new pc(r):new gc(r);return Un.set(n)}function _c(t){return new mc(t,Un.get())}function wc(t){return new yc(t,Un.get())}var xc=W("<span><!></span>");function Sc(t,e){xt(e,!0);let r=X(e,"id",19,fe),n=X(e,"ref",15,null),o=X(e,"value",15),s=X(e,"onValueChange",3,wn),i=X(e,"onValueCommit",3,wn),a=X(e,"disabled",3,!1),u=X(e,"min",3,0),c=X(e,"max",3,100),f=X(e,"step",3,1),m=X(e,"dir",3,"ltr"),p=X(e,"autoSort",3,!0),y=X(e,"orientation",3,"horizontal"),d=be(e,["$$slots","$$events","$$legacy","children","child","id","ref","value","type","onValueChange","onValueCommit","disabled","min","max","step","dir","autoSort","orientation"]);o()===void 0&&o(e.type==="single"?0:[]);const v=bc({id:D.with(()=>r()),ref:D.with(()=>n(),V=>n(V)),value:D.with(()=>o(),V=>{o(V),s()(V)}),onValueCommit:D.with(()=>i()),disabled:D.with(()=>a()),min:D.with(()=>u()),max:D.with(()=>c()),step:D.with(()=>f()),dir:D.with(()=>m()),autoSort:D.with(()=>p()),orientation:D.with(()=>y()),type:e.type}),w=B(()=>_e(d,v.props));var j=nt(),E=q(j);{var P=V=>{var x=nt(),S=q(x),C=Mn(()=>({props:g(w),...v.snippetProps}));Ot(S,()=>e.child,()=>g(C)),k(V,x)},L=V=>{var x=xc();let S;var C=R(x);Ot(C,()=>e.children??ae,()=>v.snippetProps),z(x),Z(()=>S=le(x,S,{...g(w)})),k(V,x)};st(E,V=>{e.child?V(P):V(L,!1)})}k(t,j),St()}var Pc=W("<span><!></span>");function kc(t,e){xt(e,!0);let r=X(e,"ref",15,null),n=X(e,"id",19,fe),o=be(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const s=_c({id:D.with(()=>n()),ref:D.with(()=>r(),m=>r(m))}),i=B(()=>_e(o,s.props));var a=nt(),u=q(a);{var c=m=>{var p=nt(),y=q(p);Ot(y,()=>e.child,()=>({props:g(i)})),k(m,p)},f=m=>{var p=Pc();let y;var d=R(p);Ot(d,()=>e.children??ae),z(p),Z(()=>y=le(p,y,{...g(i)})),k(m,p)};st(u,m=>{e.child?m(c):m(f,!1)})}k(t,a),St()}var Ac=W("<span><!></span>");function jc(t,e){xt(e,!0);let r=X(e,"ref",15,null),n=X(e,"id",19,fe),o=X(e,"disabled",3,!1),s=be(e,["$$slots","$$events","$$legacy","children","child","ref","id","index","disabled"]);const i=wc({id:D.with(()=>n()),ref:D.with(()=>r(),p=>r(p)),index:D.with(()=>e.index),disabled:D.with(()=>o())}),a=B(()=>_e(s,i.props));var u=nt(),c=q(u);{var f=p=>{var y=nt(),d=q(y);Ot(d,()=>e.child,()=>({props:g(a)})),k(p,y)},m=p=>{var y=Ac();let d;var v=R(y);Ot(v,()=>e.children??ae),z(y),Z(()=>d=le(y,d,{...g(a)})),k(p,y)};st(c,p=>{e.child?p(f):p(m,!1)})}k(t,u),St()}function Oc(t,e){const r=re(e,["children","$$slots","$$events","$$legacy"]);de(t,ue({name:"arrow-down"},()=>r,{iconNode:[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]],children:(o,s)=>{var i=nt(),a=q(i);ce(a,e,"default",{}),k(o,i)},$$slots:{default:!0}}))}function Ec(t,e){const r=re(e,["children","$$slots","$$events","$$legacy"]);de(t,ue({name:"arrow-up"},()=>r,{iconNode:[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]],children:(o,s)=>{var i=nt(),a=q(i);ce(a,e,"default",{}),k(o,i)},$$slots:{default:!0}}))}function Tc(t,e){const r=re(e,["children","$$slots","$$events","$$legacy"]);de(t,ue({name:"chevron-left"},()=>r,{iconNode:[["path",{d:"m15 18-6-6 6-6"}]],children:(o,s)=>{var i=nt(),a=q(i);ce(a,e,"default",{}),k(o,i)},$$slots:{default:!0}}))}function zc(t,e){const r=re(e,["children","$$slots","$$events","$$legacy"]);de(t,ue({name:"chevron-right"},()=>r,{iconNode:[["path",{d:"m9 18 6-6-6-6"}]],children:(o,s)=>{var i=nt(),a=q(i);ce(a,e,"default",{}),k(o,i)},$$slots:{default:!0}}))}function Ic(t,e){const r=re(e,["children","$$slots","$$events","$$legacy"]);de(t,ue({name:"filter"},()=>r,{iconNode:[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}]],children:(o,s)=>{var i=nt(),a=q(i);ce(a,e,"default",{}),k(o,i)},$$slots:{default:!0}}))}function Rc(t,e){const r=re(e,["children","$$slots","$$events","$$legacy"]);de(t,ue({name:"layout-grid"},()=>r,{iconNode:[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"}]],children:(o,s)=>{var i=nt(),a=q(i);ce(a,e,"default",{}),k(o,i)},$$slots:{default:!0}}))}function Nc(t,e){const r=re(e,["children","$$slots","$$events","$$legacy"]);de(t,ue({name:"map"},()=>r,{iconNode:[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"}],["path",{d:"M15 5.764v15"}],["path",{d:"M9 3.236v15"}]],children:(o,s)=>{var i=nt(),a=q(i);ce(a,e,"default",{}),k(o,i)},$$slots:{default:!0}}))}function Cc(t,e){const r=re(e,["children","$$slots","$$events","$$legacy"]);de(t,ue({name:"table"},()=>r,{iconNode:[["path",{d:"M12 3v18"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}]],children:(o,s)=>{var i=nt(),a=q(i);ce(a,e,"default",{}),k(o,i)},$$slots:{default:!0}}))}const Mc={"images.ctfassets.net":"contentful","cdn.builder.io":"builder.io","images.prismic.io":"imgix","www.datocms-assets.com":"imgix","cdn.sanity.io":"imgix","images.unsplash.com":"imgix","cdn.shopify.com":"shopify","s7d1.scene7.com":"scene7","ip.keycdn.com":"keycdn","assets.caisy.io":"bunny","images.contentstack.io":"contentstack","ucarecdn.com":"uploadcare","imagedelivery.net":"cloudflare_images"},$c={"imgix.net":"imgix","files.wordpress.com":"wordpress","b-cdn.net":"bunny","storyblok.com":"storyblok","kc-usercontent.com":"kontent.ai","cloudinary.com":"cloudinary","kxcdn.com":"keycdn","imgeng.in":"imageengine","imagekit.io":"imagekit","cloudimg.io":"cloudimage","ucarecdn.com":"uploadcare","supabase.co":"supabase"},Lc={"/cdn-cgi/image/":"cloudflare","/cdn-cgi/imagedelivery/":"cloudflare_images","/_next/image":"nextjs","/_next/static":"nextjs","/_vercel/image":"vercel","/is/image":"scene7","/_ipx/":"ipx","/_image":"astro","/.netlify/images":"netlify","/storage/v1/object/public/":"supabase","/storage/v1/render/image/public/":"supabase"},Ee=t=>{if(!t)return t;const e=Number(t);return isNaN(e)?t:Math.round(e)},U=(t,e,r,n,o)=>{r?(o&&(r=Ee(r)),t.searchParams.set(e,r.toString())):n&&t.searchParams.delete(e)},zt=(t,e,r)=>{t.searchParams.has(e)||t.searchParams.set(e,r.toString())},Xe=(t,e)=>{const r=Number(t.searchParams.get(e));return isNaN(r)?void 0:r},Ts=t=>{const{pathname:e,search:r}=t;return`${e}${r}`},qn=t=>t.hostname==="n"?Ts(t):t.toString(),it=(t,e)=>typeof t=="string"?new URL(t,e??"http://n/"):t,vo=new Map(Object.entries(Mc)),Fc=Object.entries($c);function Bc(t){return zs(t)||Vc(t)}function zs(t){if(typeof t=="string"&&!t.startsWith("https://"))return!1;const{hostname:e}=it(t);if(vo.has(e))return vo.get(e);for(const[r,n]of Fc)if(e.endsWith(`.${r}`))return n;return!1}function Vc(t){const{pathname:e}=it(t);for(const[r,n]of Object.entries(Lc))if(e.startsWith(r))return n;return!1}const Wc=({url:t,width:e,height:r,format:n})=>{const o=it(t);return e&&e>4e3&&(r&&(r=Math.round(r*4e3/e)),e=4e3),r&&r>4e3&&(e&&(e=Math.round(e*4e3/r)),r=4e3),U(o,"w",e,!0,!0),U(o,"h",r,!0,!0),U(o,"fm",n),zt(o,"fit","fill"),o},Dc=({url:t,width:e,height:r,format:n})=>{const o=it(t);return U(o,"width",e,!0,!0),U(o,"height",r,!0,!0),U(o,"format",n),e&&r&&(zt(o,"fit","cover"),zt(o,"sharp","true")),o},Uc=({url:t,width:e,height:r,format:n})=>{var s;const o=it(t);if(U(o,"w",e,!0,!0),U(o,"h",r,!0,!0),zt(o,"fit","min"),n){o.searchParams.set("fm",n);const i=o.searchParams.get("auto");i==="format"?o.searchParams.delete("auto"):i!=null&&i.includes("format")&&o.searchParams.set("auto",i.split(",").filter(a=>a!=="format").join(","))}else o.searchParams.delete("fm"),(s=o.searchParams.get("auto"))!=null&&s.includes("format")||o.searchParams.append("auto","format");return o},qc=/(.+?)(?:_(?:(pico|icon|thumb|small|compact|medium|large|grande|original|master)|(\d*)x(\d*)))?(?:_crop_([a-z]+))?(\.[a-zA-Z]+)(\.png|\.jpg|\.webp|\.avif)?$/,Gc=t=>{const e=it(t),r=e.pathname.match(qc);if(!r)throw new Error("Invalid Shopify URL");const[,n,o,s,i,a,u,c]=r;e.pathname=`${n}${u}`;const f=s||e.searchParams.get("width"),m=i||e.searchParams.get("height");return e.searchParams.delete("width"),e.searchParams.delete("height"),{base:e.toString(),width:Number(f)||void 0,height:Number(m)||void 0,format:c?c.slice(1):void 0,params:{crop:a,size:o},cdn:"shopify"}},Xc=({base:t,width:e,height:r,format:n,params:o})=>{const s=it(t);return U(s,"width",e,!0,!0),U(s,"height",r,!0,!0),U(s,"crop",o==null?void 0:o.crop),U(s,"format",n),s},Hc=({url:t,width:e,height:r})=>{const n=Gc(t);if(!n)return;const o={...n,width:e,height:r};return Xc(o)},Yc=({url:t,width:e,height:r})=>{const n=it(t);return U(n,"w",e,!0,!0),U(n,"h",r,!0,!0),zt(n,"crop","1"),n},Kc=({url:t,width:e,height:r})=>{const n=it(t);return U(n,"w",e,!0,!0),U(n,"h",r,!0,!0),U(n,"q",Xe(n,"q"),!0),n},Jc=/https?:\/\/(?<host>[^\/]+)\/(?<cloudName>[^\/]+)\/(?<assetType>image|video|raw)\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)\/?(?<signature>s\-\-[a-zA-Z0-9]+\-\-)?\/?(?<transformations>(?:[^_\/]+_[^,\/]+,?)*)?\/(?:(?<version>v\d+)\/)?(?<idAndFormat>[^\s]+)$/g,Zc=t=>t?Object.fromEntries(t.split(",").map(e=>e.split("_"))):{},Is=({host:t,cloudName:e,assetType:r,deliveryType:n,signature:o,transformations:s={},version:i,id:a,format:u})=>{u&&(s.f=u);const c=Object.entries(s).map(([m,p])=>`${m}_${p}`).join(",");return`https://${[t,e,r,n,o,c,i,a].filter(Boolean).join("/")}`},Rs=t=>{const r=[...it(t).toString().matchAll(Jc)];if(!r.length)throw new Error("Invalid Cloudinary URL");const n=r[0].groups||{},{transformations:o="",idAndFormat:s,...i}=n;delete n.idAndFormat;const a=s.lastIndexOf("."),u=a<0?s:s.slice(0,a),c=a<0?void 0:s.slice(a+1),{w:f,h:m,f:p,...y}=Zc(o),d=p&&p!=="auto"?p:c;return{base:Is({...i,id:u,transformations:y}),width:Number(f)||void 0,height:Number(m)||void 0,format:d,cdn:"cloudinary",params:{...n,id:n.deliveryType==="fetch"?s:u,format:d,transformations:y}}},Qc=({base:t,width:e,height:r,format:n,params:o})=>{var a;const s=Rs(t.toString()),i={transformations:{},...s.params,...o,format:n||"auto"};return e&&(i.transformations.w=Ee(e).toString()),r&&(i.transformations.h=Ee(r).toString()),(a=i.transformations).c||(a.c="lfill"),Is(i)},tl=({url:t,width:e,height:r,format:n="auto"})=>{var i,a;const o=Rs(t);if(!o)throw new Error("Invalid Cloudinary URL");if(((i=o.params)==null?void 0:i.assetType)!=="image")throw new Error("Cloudinary transformer only supports images");if((a=o.params)!=null&&a.signature)throw new Error("Cloudinary transformer does not support signed URLs");const s={...o,width:e,height:r,format:n};return Qc(s)},el=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/image\/(?<transformations>[^\/]+)?\/(?<path>.*)$/g,rl=t=>Object.fromEntries(t.split(",").map(e=>e.split("="))),Ns=({host:t,transformations:e={},path:r})=>{const n=Object.entries(e).map(([s,i])=>`${s}=${i}`).join(",");return`https://${[t,"cdn-cgi","image",n,r].join("/")}`},Cs=t=>{const e=it(t),r=[...e.toString().matchAll(el)];if(!r.length)throw new Error("Invalid Cloudflare URL");const n=r[0].groups||{},{transformations:o,...s}=n,{width:i,height:a,f:u,...c}=rl(o);return Ns({...s,transformations:c}),{base:e.toString(),width:Number(i)||void 0,height:Number(a)||void 0,format:u,cdn:"cloudflare",params:{...n,transformations:c}}},nl=({base:t,width:e,height:r,format:n,params:o})=>{var a;const s=Cs(t.toString()),i={transformations:{},...s.params,...o};return e&&(i.transformations.width=e==null?void 0:e.toString()),r&&(i.transformations.height=r==null?void 0:r.toString()),n&&(i.transformations.f=n==="jpg"?"jpeg":n),(a=i.transformations).fit||(a.fit="cover"),new URL(Ns(i))},ol=({url:t,width:e,height:r,format:n="auto"})=>{const o=Cs(t);if(!o)throw new Error("Invalid Cloudflare URL");const s={...o,width:e,height:r,format:n};return nl(s)},sl=({url:t,width:e,height:r})=>{const n=it(t);return U(n,"width",e,!0,!0),e&&r&&zt(n,"aspect_ratio",`${e}:${r}`),n},il=/(?<id>\/f\/\d+\/\d+x\d+\/\w+\/[^\/]+)\/?(?<modifiers>m\/?(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?)?$/g,al=/^(?<modifiers>\/(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?\/?)?(?<id>\/f\/.+)$/g,cl=t=>t?Object.fromEntries(t.split(":").map(e=>{if(!e)return[];const[r,n]=e.split("(");return[r,n.replace(")","")]})):{},ll=t=>{if(!t)return;const e=Object.entries(t).map(([r,n])=>`${r}(${n??""})`);if(e.length!==0)return`filters:${e.join(":")}`},ul=t=>{const e=it(t),r=e.hostname==="img2.storyblok.com"?al:il,[n]=e.pathname.matchAll(r);if(!n||!n.groups)throw new Error("Invalid Storyblok URL");const{id:o,crop:s,width:i,height:a,filters:u,flipx:c,flipy:f}=n.groups,{format:m,...p}=cl(u);return e.hostname==="img2.storyblok.com"&&(e.hostname="a.storyblok.com"),{base:e.origin+o,width:Number(i)||void 0,height:Number(a)||void 0,format:m,params:{crop:s,filters:p,flipx:c,flipy:f},cdn:"storyblok"}},dl=({base:t,width:e=0,height:r=0,format:n,params:o={}})=>{const{crop:s,filters:i,flipx:a="",flipy:u=""}=o,c=`${a}${e}x${u}${r}`;return new URL([t,"m",s,c,ll(i),n].filter(Boolean).join("/"))},fl=({url:t,width:e,height:r,format:n})=>{const o=ul(t);if(o)return n&&(o.params||(o.params={filters:{}}),o.params.filters||(o.params.filters={}),o.params.filters.format=n),dl({...o,width:e,height:r})},hl=({url:t,width:e,height:r,format:n})=>{const o=it(t);return U(o,"w",e,!0,!0),U(o,"h",r,!0,!0),U(o,"fm",n,!0),e&&r&&zt(o,"fit","crop"),o},mo=t=>{const r=it(t).searchParams.get("url");if(!r||!r.startsWith("http"))return!1;const n=zs(r);return n?{cdn:n,url:r}:!1},pl=({base:t,width:e,params:{quality:r=75,root:n="_vercel"}={}})=>{const o=new URL("http://n");return o.pathname=`/${n}/image`,o.searchParams.set("url",t.toString()),U(o,"w",e,!1,!0),zt(o,"q",r),Ts(o)},Ms=({url:t,width:e,cdn:r})=>{const n=it(t),o=n.pathname.startsWith("/_next/image")||n.pathname.startsWith("/_vercel/image"),s=o?n.searchParams.get("url"):t.toString();if(s)return U(n,"w",e,!0,!0),o?qn(n):pl({base:s,width:e,params:{root:r==="nextjs"?"_next":"_vercel"}})},gl=t=>Ms({...t,cdn:"nextjs"}),vl=({url:t,width:e,height:r,format:n})=>{const o=it(t);return U(o,"wid",e,!0,!0),U(o,"hei",r,!0,!0),U(o,"fmt",n,!0),U(o,"qlt",Xe(o,"qlt"),!0),U(o,"scl",Xe(o,"scl"),!0),zt(o,"fit","crop"),!e&&!r&&zt(o,"scl",1),o},ml=({url:t,width:e,height:r,format:n})=>{const o=it(t);return U(o,"width",e,!0,!0),U(o,"height",r,!0,!0),U(o,"format",n,!0),U(o,"quality",Xe(o,"quality"),!0),zt(o,"enlarge",0),o},yl=({url:t,width:e,height:r,format:n})=>{const o=it(t);return U(o,"width",e,!0,!0),U(o,"height",r,!0,!0),U(o,"format",n),U(o,"quality",Xe(o,"quality"),!0),o},Sn={width:"w",height:"h",autoWidthWithFallback:"w_auto",auto_width_fallback:"w_auto",scaleToScreenWidth:"pc",scale_to_screen_width:"pc",crop:"cr",outputFormat:"f",format:"f",fit:"m",fitMethod:"m",compression:"cmpr",sharpness:"s",rotate:"r",inline:"in",keepMeta:"meta",keep_meta:"meta",noOptimization:"pass",no_optimization:"pass",force_download:"dl",max_device_pixel_ratio:"maxdpr",maxDevicePixelRatio:"maxdpr"};function bl(t){return Object.keys(Sn).find(n=>Sn[n]===t)||""}function _l(t){let e=t.toString(),r=[];if(e){let n=e.split("imgeng=");n.length>1&&(r=n[1].split("/"))}return r}function wl(t){let e=t.toString(),r="";if(e){let n=e.split("imgeng=");n.length>1?r=n[0].slice(0,-1):r=e}return r}const xl=({url:t,width:e,height:r,format:n})=>{const o=it(t),s=wl(o);let i={};const a=o.toString()===s?[]:_l(o);a.length&&(i=Al(a)),e&&(i.width=e),r&&(i.height=r),n&&(i.format=n),i.hasOwnProperty("fit")||(i={...i,fit:"cropbox"});let u=Sl(i),c=Pl(u),f=c===""?"":s.includes("?")?"&":"?";return`${s}${f}${c}`};function Sl(t){return Object.entries(t).reduce((e,[r,n])=>e+kl(r,n),"")}function Pl(t){return t&&t!==""?`imgeng=${t}`:""}function kl(t,e){let r=Sn[t];return r&&(e||e===0)?`/${r}_${e}`:""}function Al(t){let e={};return t.forEach(r=>{let n=r.split("_");if(n.length>1){let o=n[0],s=n[1],i=bl(o);i&&(e[i]=s)}}),e}const jl=({url:t,width:e,height:r,format:n})=>{const o=it(t);return U(o,"width",e,!0,!0),U(o,"height",r,!0,!0),U(o,"format",n),o.searchParams.has("format")||zt(o,"auto","webp"),e&&r&&zt(o,"fit","crop"),o},Ol=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/imagedelivery\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,El=/https?:\/\/(?<host>imagedelivery.net)\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,Tl=t=>{var e;return Object.fromEntries(((e=t==null?void 0:t.split(","))==null?void 0:e.map(r=>r.split("=")))??[])},zl=({host:t,accountHash:e,transformations:r={},imageId:n})=>{const o=Object.entries(r).filter(([i,a])=>!!i&&a!==void 0).map(([i,a])=>`${i}=${a}`).join(",");return`https://${[...t==="imagedelivery.net"?[t]:[t,"cdn-cgi","imagedelivery"],e,n,o].join("/")}`},$s=t=>{const e=it(t),r=[...e.toString().matchAll(Ol),...e.toString().matchAll(El)];if(!r.length)throw new Error("Invalid Cloudflare Images URL");const n=r[0].groups||{},{transformations:o,...s}=n,{w:i,h:a,f:u,...c}=Tl(o);return{base:e.toString(),width:Number(i)||void 0,height:Number(a)||void 0,format:u,cdn:"cloudflare_images",params:{...s,transformations:c}}},Il=({base:t,width:e,height:r,format:n,params:o})=>{var a;const s=$s(t.toString()),i={transformations:{},...s.params,...o};return e&&(i.transformations.w=e==null?void 0:e.toString()),r&&(i.transformations.h=r==null?void 0:r.toString()),n&&(i.transformations.f=n),(a=i.transformations).fit||(a.fit="cover"),new URL(zl(i))},Rl=({url:t,width:e,height:r,format:n="auto"})=>{const o=$s(t);if(!o)throw new Error("Invalid Cloudflare Images URL");const s={...o,width:e,height:r,format:n};return Il(s)},Nl=t=>{const e=it(t),[r,...n]=e.pathname.split("/").slice(1),o=Object.fromEntries(r.split(",").map(s=>{const[i,a]=s.split("_");return[i,a]}));if(o.s){const[s,i]=o.s.split("x");o.w||(o.w=s),o.h||(o.h=i)}return{base:n.join("/"),width:Number(o.w)||void 0,height:Number(o.h)||void 0,quality:Number(o.q)||void 0,format:o.f||"auto",params:o,cdn:"ipx"}},yo=({base:t,width:e,height:r,format:n,params:o})=>{const s=(o==null?void 0:o.modifiers)??{};e&&r?s.s=`${e}x${r}`:e?s.w=`${e}`:r&&(s.h=`${r}`),n&&(s.f=n);const i=o!=null&&o.base.endsWith("/")?o==null?void 0:o.base:`${o==null?void 0:o.base}/`,a=Object.entries(s).map(([f,m])=>`${f}_${m}`).join(","),u=t.toString(),c=u.startsWith("/")?u.slice(1):u;return`${i}${a}/${c}`},Cl=t=>{var i,a,u,c;const e=String(t.url),r=it(e),n=r.pathname.startsWith("/_ipx")&&r.hostname!=="n"?`${r.origin}/_ipx`:"/_ipx",o=((a=(i=t.cdnOptions)==null?void 0:i.ipx)==null?void 0:a.base)??n;if(o&&o!=="/"&&e.startsWith(o)){const f=Nl(e.replace(o,""));return yo({...f,...t,params:{...(u=t.cdnOptions)==null?void 0:u.ipx,base:o}})}return yo({...t,base:e,params:{...(c=t.cdnOptions)==null?void 0:c.ipx,base:o}})},Ml=({url:t,width:e,height:r,format:n})=>{const o=it(t),s=qn(new URL(o.pathname,o.origin)),i={searchParams:new URLSearchParams};return U(i,"href",s,!0,!0),U(i,"w",e,!0,!0),U(i,"h",r,!0,!0),U(i,"f",n),`/_image?${i.searchParams.toString()}`},$l=new Set(["w","h","q","fm","url","width","height","quality"]),Ll=t=>{const e=it(t),r=Number(e.searchParams.get("w")??e.searchParams.get("width"))??void 0,n=Number(e.searchParams.get("h")??e.searchParams.get("height"))??void 0,o=Number(e.searchParams.get("q")??e.searchParams.get("quality"))||void 0,s=e.searchParams.get("fm")||void 0,i=e.searchParams.get("url")||"",a={quality:o};return e.searchParams.forEach((u,c)=>{$l.has(c)||(a[c]=u)}),e.search="",{base:i,width:r,height:n,format:s,params:a,cdn:"netlify"}},bo=({base:t,width:e,height:r,format:n,params:{site:o,quality:s,...i}={}})=>{const a=it("/.netlify/images",o);return Object.entries(i).forEach(([u,c])=>U(a,u,c)),U(a,"q",s,!0,!0),U(a,"w",e,!0,!0),U(a,"h",r,!0,!0),U(a,"fm",n),zt(a,"fit","cover"),a.searchParams.set("url",t.toString()),qn(a)},Fl=t=>{var r,n;const e=it(t.url);if(e.pathname.startsWith("/.netlify/images")){const{params:o,base:s,format:i}=Ll(e);return bo({base:s,format:i,...t,params:{...o,site:e.hostname==="n"?void 0:e.origin}})}return bo({...t,base:t.url,params:{site:(n=(r=t.cdnOptions)==null?void 0:r.netlify)==null?void 0:n.site}})},Bl=t=>(t.searchParams.get("tr")||"").split(",").reduce((r,n)=>{const[o,s]=n.split("-");return r[o]=s,r},{}),Vl=({url:t,width:e,height:r,format:n})=>{const o=it(t),s=Bl(o);s.w=e&&Math.round(e),s.h=r&&Math.round(r),s.f||(s.f="auto"),n&&(s.f=n);const i=Object.keys(s).map(a=>{const u=s[a];if(u)return`${a}-${u}`}).filter(a=>a).join(",");return o.searchParams.set("tr",i),o},Wl=/^https?:\/\/(?<host>[^\/]+)\/(?<uuid>[^\/]+)/g;function Ls(t){const e=new URL(t),r=e.pathname+e.search+e.hash,n=r.lastIndexOf("http"),o=r.lastIndexOf("/");let s="";return n>=0?s=r.slice(n):o>=0&&(s=r.slice(o+1)),s}function Dl(t){return t.startsWith("http")}function Ul(t){const e=new URL(t);return{pathname:e.origin+e.pathname||"",search:e.search||"",hash:e.hash||""}}function ql(t){const e=new URL(t),r=Ls(t),n=Dl(r)?Ul(r).pathname:r;return e.pathname=e.pathname.replace(n,""),e.search="",e.hash="",e.toString()}const Gl=t=>{if(typeof t!="string"||!t)return"";let e=t.trim();return e.startsWith("-/")?e=e.slice(2):e.startsWith("/")&&(e=e.slice(1)),e.endsWith("/")&&(e=e.slice(0,e.length-1)),e};function Xl(t){const e=ql(t),r=new URL(e),n=r.pathname.indexOf("/-/");return n===-1?[]:r.pathname.substring(n).split("/-/").filter(Boolean).map(s=>Gl(s))}const Hl=t=>t.length?t.reduce((e,r)=>{const[n,o]=r.split("/");return{...e,[n]:o}},{}):{},Fs=({host:t,uuid:e,operations:r={},filename:n})=>{const o=Object.entries(r).map(([i,a])=>`${i}/${a}`).join("/-/");return`https://${[t,e,o?`-/${o}`:"",n].join("/")}`},Bs=t=>{const e=it(t),r=[...e.toString().matchAll(Wl)];if(!r.length)throw new Error("Invalid Uploadcare URL");const n=r[0].groups||{},{...o}=n,s=Ls(e.toString()),{format:i,...a}=Hl(Xl(e.toString())),u=i&&i!=="auto"?i:"auto";return{base:Fs({...o,filename:s||void 0,operations:{...a,format:u}}),cdn:"uploadcare",params:{...n,filename:s||void 0,operations:{...a,format:u}}}},Yl=({base:t,width:e,height:r,params:n})=>{const o=t.toString(),s=Bs(o.endsWith("/")?o:`${o}/`),i={operations:{},...s.params,...n};return e&&r?i.operations={...i.operations,resize:`${e}x${r}`}:(e&&(i.operations={...i.operations,resize:`${e}x`}),r&&(i.operations={...i.operations,resize:`x${r}`})),Fs(i)},Kl=({url:t,width:e,height:r})=>{const n=Bs(t);if(!n)throw new Error("Invalid Uploadcare URL");const o={...n,width:e,height:r};return Yl(o)},Jl=["origin"],Vs="/storage/v1/object/public/",Gn="/storage/v1/render/image/public/",Zl=t=>t.pathname.startsWith(Gn),Ws=t=>{const e=it(t);if(!Zl(e))return{cdn:"supabase",base:e.origin+e.pathname};const n=e.pathname.replace(Gn,""),o=e.searchParams.has("quality")?Number(e.searchParams.get("quality")):void 0,s=e.searchParams.has("width")?Number(e.searchParams.get("width")):void 0,i=e.searchParams.has("height")?Number(e.searchParams.get("height")):void 0,a=e.searchParams.has("format")?e.searchParams.get("format"):void 0,u=e.searchParams.has("resize")?e.searchParams.get("resize"):void 0;return{cdn:"supabase",base:e.origin+Vs+n,width:s,height:i,format:a,params:{quality:o,resize:u}}},Ql=({base:t,width:e,height:r,format:n,params:o})=>{const s=Ws(t.toString());t=s.base,e=e||s.width,r=r||s.height,n=n||s.format,o={...s.params,...o};const i=new URLSearchParams;return e&&i.set("width",Ee(e).toString()),r&&i.set("height",Ee(r).toString()),n&&Jl.includes(n)&&i.set("format",n),o!=null&&o.quality&&i.set("quality",Ee(o.quality).toString()),o!=null&&o.resize&&i.set("resize",o.resize),i.toString()===""?t:s.base.replace(Vs,Gn)+"?"+i.toString()},tu=({url:t,width:e,height:r,format:n,cdnOptions:o})=>{const s=Ws(t);return Ql({base:s.base,width:e||s.width,height:r||s.height,format:n||s.format,params:(o==null?void 0:o.supabase)||s.params})},_o={vercel:mo,nextjs:mo};function eu(t,e){if(!(e in _o))return!1;const r=_o[e];return r?r(t):!1}function Xn(t,e){const r=Bc(t)||e;if(!r)return!1;const n=eu(t,r);return n||{cdn:r,url:t}}const Hn=t=>({imgix:Uc,contentful:Wc,"builder.io":Dc,shopify:Hc,wordpress:Yc,cloudimage:Kc,cloudinary:tl,bunny:sl,storyblok:fl,cloudflare:ol,vercel:Ms,nextjs:gl,scene7:vl,"kontent.ai":hl,keycdn:ml,directus:yl,imageengine:xl,contentstack:jl,cloudflare_images:Rl,ipx:Cl,astro:Ml,netlify:Fl,imagekit:Vl,uploadcare:Kl,supabase:tu})[t];var ru=(t,e)=>{if(!(!t||!e))switch(e){case"constrained":return`(min-width: ${t}px) ${t}px, 100vw`;case"fixed":return`${t}px`;case"fullWidth":return"100vw";default:return}},$e=t=>t||t===0?`${t}px`:void 0,nu=({width:t,height:e,aspectRatio:r,layout:n,objectFit:o="cover",background:s})=>{const i=[["object-fit",o]];return s!=null&&s.startsWith("https:")||s!=null&&s.startsWith("http:")||s!=null&&s.startsWith("data:")?(i.push(["background-image",`url(${s})`]),i.push(["background-size","cover"]),i.push(["background-repeat","no-repeat"])):i.push(["background",s]),n==="fixed"&&(i.push(["width",$e(t)]),i.push(["height",$e(e)])),n==="constrained"&&(i.push(["max-width",$e(t)]),i.push(["max-height",$e(e)]),i.push(["aspect-ratio",r?`${r}`:void 0]),i.push(["width","100%"])),n==="fullWidth"&&(i.push(["width","100%"]),i.push(["aspect-ratio",r?`${r}`:void 0]),i.push(["height",$e(e)])),Object.fromEntries(i.filter(([,a])=>a))},ou=[6016,5120,4480,3840,3200,2560,2048,1920,1668,1280,1080,960,828,750,640],wo=24,su=({width:t,layout:e,resolutions:r=ou})=>{if(e==="fullWidth")return r;if(!t)return[];const n=t*2;return e==="fixed"?[t,n]:e==="constrained"?[t,n,...r.filter(o=>o<n)]:[]},iu=({src:t,width:e,layout:r="constrained",height:n,aspectRatio:o,breakpoints:s,cdn:i,transformer:a,format:u})=>{const c=Xn(t,i);return c&&!a&&(a=Hn(c.cdn)),a?(s||(s=su({width:e,layout:r})),s.sort((f,m)=>f-m).map(f=>{let m;return n&&o&&(m=Math.round(f/o)),{url:c?c.url:t,width:f,height:m,format:u}})):[]},au=t=>{let{src:e,cdn:r,transformer:n}=t;const o=Xn(e,r);return o&&!n&&(n=Hn(o.cdn)),n?iu({...t,transformer:n}).map(s=>{const i=n(s);return`${i==null?void 0:i.toString()} ${s.width}w`}).join(`,
`):""};function cu({width:t,height:e,priority:r,layout:n="constrained",aspectRatio:o,...s}){return t=t&&Number(t)||void 0,e=e&&Number(e)||void 0,r?(s.loading||(s.loading="eager"),s.fetchpriority||(s.fetchpriority="high")):(s.loading||(s.loading="lazy"),s.decoding||(s.decoding="async")),s.alt===""&&(s.role||(s.role="presentation")),o?t?e||(e=Math.round(t/o)):e&&(t=Math.round(e*o)):t&&e&&(o=t/e),{width:t,height:e,aspectRatio:o,layout:n,...s}}function lu(t){let{src:e,cdn:r,transformer:n,background:o,layout:s,objectFit:i,breakpoints:a,width:u,height:c,aspectRatio:f,unstyled:m,...p}=cu(t);const y=e?Xn(e,r):void 0;let d=e;if(y&&(d=y.url,n||(n=Hn(y.cdn))),n&&o==="auto"){const w=f?Math.round(wo/f):void 0,j=n({url:d,width:wo,height:w});j&&(o=j.toString())}const v={width:u,height:c,aspectRatio:f,layout:s,objectFit:i,background:o};if(p.sizes||(p.sizes=ru(u,s)),m||(p.style={...nu(v),...p.style}),n){p.srcset=au({src:d,width:u,height:c,aspectRatio:f,layout:s,breakpoints:a,transformer:n,cdn:r});const w=n({url:d,width:u,height:c});w&&(d=w),(s==="fullWidth"||s==="constrained")&&(u=void 0,c=void 0)}return{...p,src:d==null?void 0:d.toString(),width:u,height:c}}function uu(t,e){const r=RegExp(t,"g");return n=>{if(typeof n!="string")throw new TypeError(`expected an argument of type string, but got ${typeof n}`);return n.match(r)?n.replace(r,e):n}}const du=uu(/[A-Z]/,t=>`-${t.toLowerCase()}`);function fu(t,e=du){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected an argument of type object, but got ${typeof t}`);return Object.keys(t).map(r=>`${e(r)}: ${t[r]};`).join(`
`)}var hu=W("<img>");function pu(t,e){const r=re(e,["children","$$slots","$$events","$$legacy"]);xt(e,!1);const n=Tt(),o=Tt(),s=Tt(),i=Tt(),a=Tt(),u=Tt(),c=Tt(),f=Tt(),m=Tt(),p=Tt(),y=Tt(),d=Tt(),v=Tt(),w=Tt();nn(()=>(g(n),g(o),Oi(r)),()=>{tt(n,r.style),tt(o,ji(r,["style"]))}),nn(()=>(g(s),g(i),g(a),g(u),g(c),g(f),g(m),g(p),g(y),g(d),g(v),g(o)),()=>{(P=>(tt(s,P.alt),tt(i,P.style),tt(a,P.src),tt(u,P.width),tt(c,P.height),tt(f,P.loading),tt(m,P.decoding),tt(p,P.srcset),tt(y,P.role),tt(d,P.sizes),tt(v,P.fetchpriority)))(lu(g(o)))}),nn(()=>(g(i),g(n)),()=>{tt(w,[fu(g(i)||{}),g(n)].filter(Boolean).join(";"))}),Ei(),ls();var j=hu();let E;Z((P,L,V,x)=>E=le(j,E,{...r,style:g(w),loading:g(f),width:g(u),height:g(c),decoding:g(m),role:g(y),fetchpriority:g(v),alt:P,src:L,srcset:V,sizes:x}),[()=>{var P;return(P=g(s))==null?void 0:P.toString()},()=>{var P;return(P=g(a))==null?void 0:P.toString()},()=>{var P;return(P=g(p))==null?void 0:P.toString()},()=>{var P;return(P=g(d))==null?void 0:P.toString()}],Mn),vi(j),me("load",j,function(P){lo.call(this,e,P)}),me("error",j,function(P){lo.call(this,e,P)}),k(t,j),St()}var gu=W("<em> </em>"),vu=W("<a> </a>"),mu=W('<span class="svelte-192ea9n"><!> <!> </span>'),yu=W('<div class="inscription-place"></div>');function Ds(t,e){xt(e,!0);let r=B(()=>{var o,s;return(s=(o=e.inscription)==null?void 0:o.places)==null?void 0:s.slice(0,2)});var n=yu();qt(n,21,()=>g(r),ee,(o,s)=>{var i=nt(),a=q(i);{var u=c=>{var f=mu(),m=R(f);{var p=j=>{var E=gu(),P=R(E,!0);z(E),Z(()=>rt(P,g(s).offset)),k(j,E)};st(m,j=>{g(s).offset&&j(p)})}var y=$(m,2);{var d=j=>{var E=vu(),P=R(E,!0);z(E),Z(()=>{Ut(E,"href",g(s).ref),rt(P,g(s)._)}),k(j,E)},v=j=>{var E=Bt();Z(()=>rt(E,g(s)._)),k(j,E)};st(y,j=>{g(s).ref?j(d):j(v,!1)})}var w=$(y);z(f),Z(()=>rt(w,` (${g(s).type??""})`)),k(c,f)};st(a,c=>{g(s)&&c(u)})}k(o,i)}),z(n),k(t,n),St()}function We(t,e){let r=X(e,"title",3,"");const n=B(()=>e.children),o=B(()=>`/inscription/${e.id}`),s=B(()=>r()||e.id);Ui(t,{get href(){return g(o)},get title(){return g(s)},children:(i,a)=>{var u=nt(),c=q(u);Ot(c,()=>g(n)??ae),k(i,u)},$$slots:{default:!0}})}var bu=W("<dd><a> </a></dd>"),_u=W("<dd> </dd>"),wu=W("<dd><a> </a></dd>"),xu=W("<dd> </dd>"),Su=W('<div class="inscription-card"><!> <div class="inscription-title svelte-1i8xyhq"><!></div> <div class="inscription-date-place"><!> <!></div> <dl class="svelte-1i8xyhq"><dt class="svelte-1i8xyhq">ID</dt> <dd><small><!></small></dd> <dt class="svelte-1i8xyhq">Status</dt> <dd> </dd> <dt class="svelte-1i8xyhq">Type</dt> <!> <dt class="svelte-1i8xyhq">Object type</dt> <!> <dt class="svelte-1i8xyhq">Language</dt> <dd> </dd></dl></div>');function Pu(t,e){xt(e,!0);var r=Su(),n=R(r);{var o=C=>{We(C,{get id(){return e.inscription.file},get title(){return e.inscription.title},children:(T,M)=>{pu(T,{get src(){return`${Ri}${e.inscription.file??""}/${e.inscription.facsimile.url??""}/${Ni}`},get alt(){return e.inscription.facsimile.desc},width:400,height:200})},$$slots:{default:!0}})};st(n,C=>{e.inscription.facsimile&&C(o)})}var s=$(n,2),i=R(s);We(i,{get id(){return e.inscription.file},get title(){return e.inscription.title},children:(C,T)=>{Mt();var M=Bt();Z(()=>rt(M,e.inscription.title)),k(C,M)},$$slots:{default:!0}}),z(s);var a=$(s,2),u=R(a);ds(u,{get date(){return e.inscription.date}});var c=$(u,2);Ds(c,{get inscription(){return e.inscription}}),z(a);var f=$(a,2),m=$(R(f),2),p=R(m),y=R(p);We(y,{get id(){return e.inscription.file},children:(C,T)=>{Mt();var M=Bt();Z(()=>rt(M,e.inscription.file)),k(C,M)},$$slots:{default:!0}}),z(p),z(m);var d=$(m,4),v=R(d,!0);z(d);var w=$(d,4);{var j=C=>{var T=bu(),M=R(T),F=R(M,!0);z(M),z(T),Z(()=>{var et;Ut(M,"href",e.inscription.type.ref),rt(F,(et=e.inscription.type)==null?void 0:et._)}),k(C,T)},E=C=>{var T=_u(),M=R(T,!0);z(T),Z(()=>{var F;return rt(M,((F=e.inscription.type)==null?void 0:F._)||"N/A")}),k(C,T)};st(w,C=>{var T;(T=e.inscription.type)!=null&&T.ref?C(j):C(E,!1)})}var P=$(w,4);{var L=C=>{var T=wu(),M=R(T),F=R(M,!0);z(M),z(T),Z(()=>{var et;Ut(M,"href",e.inscription.objectType.ref),rt(F,(et=e.inscription.objectType)==null?void 0:et._)}),k(C,T)},V=C=>{var T=xu(),M=R(T,!0);z(T),Z(()=>{var F;return rt(M,((F=e.inscription.objectType)==null?void 0:F._)||"N/A")}),k(C,T)};st(P,C=>{var T;(T=e.inscription.objectType)!=null&&T.ref?C(L):C(V,!1)})}var x=$(P,4),S=R(x,!0);z(x),z(f),z(r),Z(()=>{var C;rt(v,e.inscription.status),rt(S,((C=e.inscription.textLang)==null?void 0:C._)||"N/A")}),k(t,r),St()}var ku=W('<li class="svelte-p3hpfg"><!></li>'),Au=W('<ol class="inscription-list svelte-p3hpfg"></ol>');function ju(t,e){var r=Au();qt(r,21,()=>e.inscriptions,ee,(n,o)=>{var s=ku(),i=R(s);Pu(i,{get inscription(){return g(o)}}),z(s),k(n,s)}),z(r),k(t,r)}var Ou=W("<span> </span>"),Eu=W('<div role="img"><!></div>'),Tu=W('<div class="inscription-map svelte-mhd10g"><!></div>');function zu(t,e){xt(e,!0);const{Map:r,Marker:n,NavigationControl:o,Popup:s}=Vi;let i=X(e,"mapStyle",19,()=>Ci),a=X(e,"show",3,!0),u=jt(void 0),c=jt(void 0),f=jt(ut([])),m=B(()=>e.inscriptions.filter(E=>E.geo).reduce((E,P)=>{if(!P.geo||P.geo.length!==2)return E;const L=P.geo.join("_");return E[L]||(E[L]=[]),E[L].push(P),E},{})),p=B(()=>Object.entries(g(m)).map(([E,P])=>{const L=P[0].geo,V=P.length;let x="single";return V>100?x="lg":V>25?x="md":V>1&&(x="sm"),{coords:[L[1],L[0]],markerSize:x,numberInscriptions:V,inscriptions:P}}));function y(E,{coords:P,inscriptions:L}){const V=new s,x=()=>{const C=d(L);V.setHTML(C)};x();const S=new n({element:E}).setLngLat(P).setPopup(V).addTo(g(u));return g(f).push(S),{destroy(){S==null||S.remove(),tt(f,ut(g(f).filter(C=>C!==S)))},update({coords:C,inscriptions:T}){L=T,x(),S.setLngLat(C)}}}function d(E){const P=E.reduce((x,S)=>(S.places[0]&&(x[S.places[0]._]||(x[S.places[0]._]=[]),x[S.places[0]._].push(S)),x),{});let L='<div class="tooltip">';const V=Object.entries(P).map(([x,S])=>{let C=`<dt>${x}</dt>`,T=S.map(M=>`<dd><a href="inscription/${M.file}">${M.title}</a></dd>`).join("");return`${C}${T}`}).join("");return`${L}<dl>${V}</dl></div>`}fs(async()=>{tt(u,ut(new r({container:g(c),style:i(),center:[14.01535,37.59999],zoom:7}))),g(u).addControl(new o({showCompass:!0,showZoom:!0}))}),qi(async()=>{g(u)&&(g(u).remove(),tt(u,void 0),tt(c,void 0))});var v=nt(),w=q(v);{var j=E=>{var P=Tu(),L=R(P);{var V=x=>{var S=nt(),C=q(S);qt(C,17,()=>g(p),ee,(T,M)=>{var F=Eu();let et;var ht=R(F);{var dt=ct=>{var b=Ou(),l=R(b,!0);z(b),Z(()=>rt(l,g(M).numberInscriptions)),k(ct,b)};st(ht,ct=>{g(M).numberInscriptions>1&&ct(dt)})}z(F),Wi(F,(ct,b)=>y==null?void 0:y(ct,b),()=>({coords:g(M).coords,inscriptions:g(M).inscriptions})),Z(()=>{et=Bi(F,1,"marker svelte-mhd10g",null,et,{single:g(M).markerSize==="single",sm:g(M).markerSize==="sm",md:g(M).markerSize==="md",lg:g(M).markerSize==="lg"}),Ut(F,"aria-label",`Map marker for ${g(M).inscriptions[0].title}`)}),k(T,F)}),k(x,S)};st(L,x=>{g(u)&&g(p)&&x(V)})}z(P),$i(P,x=>tt(c,x),()=>g(c)),k(E,P)};st(w,E=>{a()&&E(j)})}k(t,v),St()}var Iu=W('<span class="svelte-1pdb2ke">...</span>'),Ru=W('<div class="pagination svelte-1pdb2ke"><!> <div class="pages svelte-1pdb2ke"></div> <!></div> <p class="svelte-1pdb2ke"> </p>',1);function xo(t,e){var r=nt(),n=q(r);{var o=s=>{var i=nt(),a=q(i);At(a,()=>oc,(u,c)=>{c(u,{get page(){return e.page},get count(){return e.count},get perPage(){return e.perPage},get onPageChange(){return e.onPageChange},children:(m,p)=>{let y=()=>p==null?void 0:p().pages,d=()=>p==null?void 0:p().range;var v=Ru(),w=q(v),j=R(w);At(j,()=>ic,(x,S)=>{S(x,{children:(C,T)=>{Tc(C,{})},$$slots:{default:!0}})});var E=$(j,2);qt(E,21,y,x=>x.key,(x,S,C,T)=>{var M=nt(),F=q(M);{var et=dt=>{var ct=Iu();k(dt,ct)},ht=dt=>{var ct=nt(),b=q(ct);At(b,()=>uc,(l,h)=>{h(l,{get page(){return g(S)},children:(_,A)=>{Mt();var O=Bt();Z(()=>rt(O,g(S).value)),k(_,O)},$$slots:{default:!0}})}),k(dt,ct)};st(F,dt=>{g(S).type==="ellipsis"?dt(et):dt(ht,!1)})}k(x,M)}),z(E);var P=$(E,2);At(P,()=>cc,(x,S)=>{S(x,{children:(C,T)=>{zc(C,{})},$$slots:{default:!0}})}),z(w);var L=$(w,2),V=R(L);z(L),Z(()=>rt(V,`Showing ${d().start+1} - ${d().end??""}`)),k(m,v)},$$slots:{default:!0}})}),k(s,i)};st(n,s=>{e.count>0&&s(o)})}k(t,r)}var Nu=W("<a> </a>"),Cu=W("<a> </a>"),Mu=W("<tr><td><!></td><td><!></td><td><!></td><td><!></td><td> </td><td><!></td><td><!></td><td> </td><td> </td></tr>");function $u(t,e){xt(e,!0);var r=Mu(),n=R(r),o=R(n);We(o,{get id(){return e.inscription.file},children:(T,M)=>{Mt();var F=Bt();Z(()=>rt(F,e.inscription.file)),k(T,F)},$$slots:{default:!0}}),z(n);var s=$(n),i=R(s);We(i,{get id(){return e.inscription.file},children:(T,M)=>{Mt();var F=Bt();Z(()=>rt(F,e.inscription.title)),k(T,F)},$$slots:{default:!0}}),z(s);var a=$(s),u=R(a);ds(u,{get date(){return e.inscription.date}}),z(a);var c=$(a),f=R(c);Ds(f,{get inscription(){return e.inscription}}),z(c);var m=$(c),p=R(m,!0);z(m);var y=$(m),d=R(y);{var v=T=>{var M=Nu(),F=R(M,!0);z(M),Z(()=>{var et;Ut(M,"href",e.inscription.type.ref),rt(F,(et=e.inscription.type)==null?void 0:et._)}),k(T,M)},w=T=>{var M=Bt();Z(()=>{var F;return rt(M,((F=e.inscription.type)==null?void 0:F._)||"N/A")}),k(T,M)};st(d,T=>{var M;(M=e.inscription.type)!=null&&M.ref?T(v):T(w,!1)})}z(y);var j=$(y),E=R(j);{var P=T=>{var M=Cu(),F=R(M,!0);z(M),Z(()=>{var et;Ut(M,"href",e.inscription.objectType.ref),rt(F,(et=e.inscription.objectType)==null?void 0:et._)}),k(T,M)},L=T=>{var M=Bt();Z(()=>{var F;return rt(M,((F=e.inscription.objectType)==null?void 0:F._)||"N/A")}),k(T,M)};st(E,T=>{var M;(M=e.inscription.objectType)!=null&&M.ref?T(P):T(L,!1)})}z(j);var V=$(j),x=R(V,!0);z(V);var S=$(V),C=R(S,!0);z(S),z(r),Z(()=>{var T;rt(p,e.inscription.status),rt(x,((T=e.inscription.textLang)==null?void 0:T._)||"N/A"),rt(C,e.inscription.settlement||"N/A")}),k(t,r),St()}var Lu=W('<table class="svelte-g7in6g"><thead><tr><th>ID</th><th>Title</th><th>Date</th><th>Place</th><th>Status</th><th>Type</th><th>Object type</th><th>Language</th><th>Settlement</th></tr></thead><!></table>');function Fu(t,e){var r=Lu(),n=$(R(r));qt(n,17,()=>e.inscriptions,ee,(o,s)=>{$u(o,{get inscription(){return g(s)}})}),z(r),k(t,r)}let ar=String.fromCharCode,Us="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",cr={};function Bu(t,e){if(!cr[t]){cr[t]={};for(let r=0;r<t.length;r++)cr[t][t.charAt(r)]=r}return cr[t][e]}function Vu(t){return t==null?"":Du(t,6,function(e){return Us.charAt(e)})}function Wu(t){return t==null?"":t==""?null:Uu((t=t.replace(/ /g,"+")).length,32,function(e){return Bu(Us,t.charAt(e))})}function Du(t,e,r){if(t==null)return"";let n,o,s={},i={},a="",u="",c="",f=2,m=3,p=2,y=[],d=0,v=0,w;for(w=0;w<t.length;w+=1)if(a=t.charAt(w),Object.prototype.hasOwnProperty.call(s,a)||(s[a]=m++,i[a]=!0),u=c+a,Object.prototype.hasOwnProperty.call(s,u))c=u;else{if(Object.prototype.hasOwnProperty.call(i,c)){if(256>c.charCodeAt(0)){for(n=0;n<p;n++)d<<=1,v==e-1?(v=0,y.push(r(d)),d=0):v++;for(n=0,o=c.charCodeAt(0);n<8;n++)d=d<<1|1&o,v==e-1?(v=0,y.push(r(d)),d=0):v++,o>>=1}else{for(n=0,o=1;n<p;n++)d=d<<1|o,v==e-1?(v=0,y.push(r(d)),d=0):v++,o=0;for(n=0,o=c.charCodeAt(0);n<16;n++)d=d<<1|1&o,v==e-1?(v=0,y.push(r(d)),d=0):v++,o>>=1}--f==0&&(f=Math.pow(2,p),p++),delete i[c]}else for(n=0,o=s[c];n<p;n++)d=d<<1|1&o,v==e-1?(v=0,y.push(r(d)),d=0):v++,o>>=1;--f==0&&(f=Math.pow(2,p),p++),s[u]=m++,c=String(a)}if(c!==""){if(Object.prototype.hasOwnProperty.call(i,c)){if(256>c.charCodeAt(0)){for(n=0;n<p;n++)d<<=1,v==e-1?(v=0,y.push(r(d)),d=0):v++;for(n=0,o=c.charCodeAt(0);n<8;n++)d=d<<1|1&o,v==e-1?(v=0,y.push(r(d)),d=0):v++,o>>=1}else{for(n=0,o=1;n<p;n++)d=d<<1|o,v==e-1?(v=0,y.push(r(d)),d=0):v++,o=0;for(n=0,o=c.charCodeAt(0);n<16;n++)d=d<<1|1&o,v==e-1?(v=0,y.push(r(d)),d=0):v++,o>>=1}--f==0&&(f=Math.pow(2,p),p++),delete i[c]}else for(n=0,o=s[c];n<p;n++)d=d<<1|1&o,v==e-1?(v=0,y.push(r(d)),d=0):v++,o>>=1;--f==0&&(f=Math.pow(2,p),p++)}for(n=0,o=2;n<p;n++)d=d<<1|1&o,v==e-1?(v=0,y.push(r(d)),d=0):v++,o>>=1;for(;;){if(d<<=1,v==e-1){y.push(r(d));break}v++}return y.join("")}function Uu(t,e,r){let n=[],o=4,s=4,i=3,a="",u=[],c,f,m,p,y,d,v,w={val:r(0),position:e,index:1};for(c=0;c<3;c+=1)n[c]=c;for(m=0,y=4,d=1;d!=y;)p=w.val&w.position,w.position>>=1,w.position==0&&(w.position=e,w.val=r(w.index++)),m|=(p>0?1:0)*d,d<<=1;switch(m){case 0:for(m=0,y=256,d=1;d!=y;)p=w.val&w.position,w.position>>=1,w.position==0&&(w.position=e,w.val=r(w.index++)),m|=(p>0?1:0)*d,d<<=1;v=ar(m);break;case 1:for(m=0,y=65536,d=1;d!=y;)p=w.val&w.position,w.position>>=1,w.position==0&&(w.position=e,w.val=r(w.index++)),m|=(p>0?1:0)*d,d<<=1;v=ar(m);break;case 2:return""}for(n[3]=v,f=v,u.push(v);;){if(w.index>t)return"";for(m=0,y=Math.pow(2,i),d=1;d!=y;)p=w.val&w.position,w.position>>=1,w.position==0&&(w.position=e,w.val=r(w.index++)),m|=(p>0?1:0)*d,d<<=1;switch(v=m){case 0:for(m=0,y=256,d=1;d!=y;)p=w.val&w.position,w.position>>=1,w.position==0&&(w.position=e,w.val=r(w.index++)),m|=(p>0?1:0)*d,d<<=1;n[s++]=ar(m),v=s-1,o--;break;case 1:for(m=0,y=65536,d=1;d!=y;)p=w.val&w.position,w.position>>=1,w.position==0&&(w.position=e,w.val=r(w.index++)),m|=(p>0?1:0)*d,d<<=1;n[s++]=ar(m),v=s-1,o--;break;case 2:return u.join("")}if(o==0&&(o=Math.pow(2,i),i++),n[v])a=n[v];else{if(v!==s)return null;a=f+f.charAt(0)}u.push(a),n[s++]=f+a.charAt(0),o--,f=a,o==0&&(o=Math.pow(2,i),i++)}}let qs;qs=Xi;const qu={keepFocus:!0,noScroll:!0,replaceState:!0},Gu={keepFocus:!0,noScroll:!0,replaceState:!1};function ln(t,e,r=(n,o)=>JSON.stringify(n)===JSON.stringify(o)){return typeof t=="object"&&typeof e=="object"&&r(t,e)}const lr={object:t=>({encode:e=>JSON.stringify(e),decode:e=>{if(e===null)return null;try{return JSON.parse(e)}catch{return null}},defaultValue:t}),array:t=>({encode:e=>JSON.stringify(e),decode:e=>{if(e===null)return null;try{return JSON.parse(e)}catch{return null}},defaultValue:t}),number:t=>({encode:e=>e.toString(),decode:e=>e?parseFloat(e):null,defaultValue:t}),boolean:t=>({encode:e=>e+"",decode:e=>e!==null&&e!=="false",defaultValue:t}),string:t=>({encode:e=>e??"",decode:e=>e,defaultValue:t}),lz:t=>({encode:e=>Vu(JSON.stringify(e)),decode:e=>{if(!e)return null;try{return JSON.parse(Wu(e)??"")}catch{return null}},defaultValue:t})},un=new Set;let So;const Po=new Map,dn={encode:t=>t.toString(),decode:t=>t?t.toString():null};function ur(t,{encode:e=dn.encode,decode:r=dn.decode,defaultValue:n}=dn,{debounceHistory:o=0,pushHistory:s=!0,sort:i=!0,showDefaults:a=!0,equalityFn:u}={}){const c=zi(null);let f=!0,m;function p(d,v){f=!1;const w=window.location.hash,j=P=>{if(d==null)P.delete(t);else{const L=e(d);L==null?P.delete(t):P.set(t,L)}};un.add(j),clearTimeout(So);const E=new URLSearchParams(window.location.search);So=setTimeout(async()=>{un.forEach(P=>{P(E)}),clearTimeout(Po.get(t));{c.set(d);async function P(){i&&E.sort(),await Gi(`?${E}${w}`,s?Gu:qu),c.set(null)}v||o===0?P():Po.set(t,setTimeout(P,o))}un.clear()})}const{subscribe:y}=Ti([qs,c],([d,v],w)=>{var P,L,V;if(v!=null)return ln(m,v,u)?void 0:(m=structuredClone(v),w(v));const j=(V=(L=(P=d==null?void 0:d.url)==null?void 0:P.searchParams)==null?void 0:L.get)==null?void 0:V.call(L,t);if(j==null&&n!=null)return a&&p(n,f),ln(m,n,u)?void 0:(m=structuredClone(n),w(n));const E=r(j);if(!ln(m,E,u))return m=structuredClone(E),w(E)});return{set(d){p(d)},subscribe:y,update:d=>{const v=d(m);p(v)}}}var Xu="Expected a function",ko=NaN,Hu="[object Symbol]",Yu=/^\s+|\s+$/g,Ku=/^[-+]0x[0-9a-f]+$/i,Ju=/^0b[01]+$/i,Zu=/^0o[0-7]+$/i,Qu=parseInt,td=typeof je=="object"&&je&&je.Object===Object&&je,ed=typeof self=="object"&&self&&self.Object===Object&&self,rd=td||ed||Function("return this")(),nd=Object.prototype,od=nd.toString,sd=Math.max,id=Math.min,fn=function(){return rd.Date.now()};function ad(t,e,r){var n,o,s,i,a,u,c=0,f=!1,m=!1,p=!0;if(typeof t!="function")throw new TypeError(Xu);e=Ao(e)||0,Pn(r)&&(f=!!r.leading,m="maxWait"in r,s=m?sd(Ao(r.maxWait)||0,e):s,p="trailing"in r?!!r.trailing:p);function y(x){var S=n,C=o;return n=o=void 0,c=x,i=t.apply(C,S),i}function d(x){return c=x,a=setTimeout(j,e),f?y(x):i}function v(x){var S=x-u,C=x-c,T=e-S;return m?id(T,s-C):T}function w(x){var S=x-u,C=x-c;return u===void 0||S>=e||S<0||m&&C>=s}function j(){var x=fn();if(w(x))return E(x);a=setTimeout(j,v(x))}function E(x){return a=void 0,p&&n?y(x):(n=o=void 0,i)}function P(){a!==void 0&&clearTimeout(a),c=0,n=u=o=a=void 0}function L(){return a===void 0?i:E(fn())}function V(){var x=fn(),S=w(x);if(n=arguments,o=this,u=x,S){if(a===void 0)return d(u);if(m)return a=setTimeout(j,e),y(u)}return a===void 0&&(a=setTimeout(j,e)),i}return V.cancel=P,V.flush=L,V}function Pn(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function cd(t){return!!t&&typeof t=="object"}function ld(t){return typeof t=="symbol"||cd(t)&&od.call(t)==Hu}function Ao(t){if(typeof t=="number")return t;if(ld(t))return ko;if(Pn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Pn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Yu,"");var r=Ju.test(t);return r||Zu.test(t)?Qu(t.slice(2),r?2:8):Ku.test(t)?ko:+t}var ud=ad;const dd=Di(ud);var fd=W('<label class="svelte-1sigsrd"><input type="radio" name="sort-aggregations"> </label>'),hd=W('<span class="slider-track"><!></span> <!>',1),pd=W('<section class="filter-group svelte-1sigsrd"><h3 class="svelte-1sigsrd">Date</h3> <div class="slider"><!></div> <div class="date-inputs svelte-1sigsrd"><label>Not before <input type="number"></label> <span></span> <label><input type="number"> Not after</label></div></section>'),gd=W('<input type="text" placeholder="Filter options..." class="filter-input svelte-1sigsrd">'),vd=W('<li><label><input type="checkbox"> </label></li>'),md=W('<section class="filter-group svelte-1sigsrd"><h3 class="svelte-1sigsrd"> </h3> <!> <ul class="svelte-1sigsrd"></ul></section>'),yd=W('<aside class="filters svelte-1sigsrd" tabindex="-1"><!> <section class="svelte-1sigsrd"><h2 class="svelte-1sigsrd">Filters</h2> <section class="filters-options svelte-1sigsrd"><h3 class="svelte-1sigsrd">Options</h3> <form><fieldset class="svelte-1sigsrd"><legend>Sort filters by</legend> <!></fieldset></form></section> <section class="filters-groups svelte-1sigsrd"><!> <!></section></section></aside>');function bd(t,e){xt(e,!0);const r=[],n=[];let o=X(e,"show",7,!1),s=X(e,"aggregations",19,()=>({})),i=X(e,"sortAggregationsBy",15,"key"),a=X(e,"selectedDateRange",31,()=>ut([-700,1830])),u=X(e,"selectedFilters",31,()=>ut({}));const c=[{label:"Value",value:"key"},{label:"Count",value:"count"}];let f=jt(ut(a()));const m=dd(x=>{a(x)},300);ze(()=>{m([...g(f)])});let p=ut({}),y=jt(null);function d(x){var S;tt(y,ut(document.activeElement)),(S=x.currentTarget)==null||S.focus()}function v(){o(!1)}function w(){g(y)&&g(y).focus()}function j(x,S){var T;const C=((T=p[S])==null?void 0:T.toLowerCase())||"";return C?x.filter(M=>M.key.toLowerCase().includes(C)):x}function E(x){if(x.indexOf(":::")==-1)return x;const S=x.split(":::"),C=S.length;return i()==="count"?S.pop()||"":`${"+".repeat(C-1)} ${S.pop()}`}var P=nt(),L=q(P);{var V=x=>{var S=yd(),C=R(S);At(C,()=>se,(h,_)=>{_(h,{class:"close-button",onclick:v,"aria-label":"Close filters",children:(A,O)=>{Mt();var I=Bt("");k(A,I)},$$slots:{default:!0}})});var T=$(C,2),M=$(R(T),2),F=$(R(M),2),et=R(F),ht=$(R(et),2);qt(ht,17,()=>c,ee,(h,_)=>{var A=fd(),O=R(A);Ae(O);var I,H=$(O);z(A),Z(()=>{I!==(I=g(_).value)&&(O.value=(O.__value=g(_).value)==null?"":g(_).value),rt(H,` ${g(_).label??""}`)}),ao(r,[],O,()=>(g(_).value,i()),i),k(h,A)}),z(et),z(F),z(M);var dt=$(M,2),ct=R(dt);{var b=h=>{var _=pd(),A=$(R(_),2),O=R(A);At(O,()=>Sc,(Et,$t)=>{$t(Et,{class:"slider-root",min:-700,max:1830,step:1,get value(){return g(f)},set value(yt){tt(f,ut(yt))},children:(yt,bt)=>{let ft=()=>bt==null?void 0:bt().thumbs;var gt=hd(),Rt=q(gt),Nt=R(Rt);At(Nt,()=>kc,(Ht,N)=>{N(Ht,{class:"slider-range"})}),z(Rt);var Xt=$(Rt,2);qt(Xt,17,ft,ee,(Ht,N,K)=>{var Pt=nt(),ne=q(Pt);At(ne,()=>jc,(Lt,Se)=>{Se(Lt,{get thumb(){return g(N)},class:"slider-thumb","aria-label":`${K===0?"Not before":"Not after"}`})}),k(Ht,Pt)}),k(yt,gt)},$$slots:{default:!0}})}),z(A);var I=$(A,2),H=R(I),ot=$(R(H));Ae(ot),Ut(ot,"min",-700),Ut(ot,"max",1811),z(H);var Q=$(H,4),pt=R(Q);Ae(pt),Ut(pt,"min",-675),Ut(pt,"max",1830),Mt(),z(Q),z(I),z(_),pr(ot,()=>g(f)[0],Et=>g(f)[0]=Et),pr(pt,()=>g(f)[1],Et=>g(f)[1]=Et),k(h,_)};st(ct,h=>{var _;(_=s())!=null&&_.notBefore&&h(b)})}var l=$(ct,2);qt(l,17,()=>Object.keys(u()),ee,(h,_,A)=>{var O=nt(),I=q(O);{var H=ot=>{var Q=md(),pt=R(Q),Et=R(pt);z(pt);var $t=$(pt,2);{var It=bt=>{var ft=gd();Ae(ft),pr(ft,()=>p[g(_)],gt=>p[g(_)]=gt),k(bt,ft)};st($t,bt=>{s()[g(_)].buckets.length>20&&bt(It)})}var yt=$($t,2);qt(yt,21,()=>j(s()[g(_)].buckets,g(_)),ee,(bt,ft)=>{var gt=vd(),Rt=R(gt),Nt=R(Rt);Ae(Nt);var Xt,Ht=$(Nt);z(Rt),z(gt),Z(N=>{Xt!==(Xt=g(ft).key)&&(Nt.value=(Nt.__value=g(ft).key)==null?"":g(ft).key),Nt.disabled=g(ft).doc_count===0,rt(Ht,` ${N??""} (${g(ft).doc_count??""})`)},[()=>E(g(ft).key)]),ao(n,[A],Nt,()=>(g(ft).key,u()[g(_)]),N=>u(u()[g(_)]=N,!0)),k(bt,gt)}),z(yt),z(Q),Z(()=>rt(Et,`${s()[g(_)].title??""} (${s()[g(_)].buckets.length??""})`)),k(ot,Q)};st(I,ot=>{g(_)in s()&&s()[g(_)].title&&ot(H)})}k(h,O)}),z(dt),z(T),z(S),me("introend",S,d),me("outroend",S,w),Be(3,S,()=>Li,()=>({axis:"x",duration:300})),k(x,S)};st(L,x=>{o()&&x(V)})}k(t,P),St()}var _d=W(", matching <em> </em>",1),wd=W('<span class="svelte-eb26nt"> <em> </em></span>'),xd=W(', filtered by <span class="selected-filters svelte-eb26nt"></span>',1),Sd=W('<h2 class="svelte-eb26nt"><em> </em> Inscriptions between <em> </em>  <em> </em> across <em> </em> locations<!><!></h2>');function Pd(t,e){xt(e,!0);let r=B(()=>Object.values(e.filters).some(w=>w.length>0));var n=Sd(),o=R(n),s=R(o,!0);z(o);var i=$(o,2),a=R(i,!0);z(i);var u=$(i,2),c=R(u,!0);z(u);var f=$(u,2),m=R(f,!0);z(f);var p=$(f,2);{var y=w=>{var j=_d(),E=$(q(j)),P=R(E,!0);z(E),Z(L=>rt(P,L),[()=>e.query.split(" ").join(", ")]),k(w,j)};st(p,w=>{e.query&&w(y)})}var d=$(p);{var v=w=>{var j=xd(),E=$(q(j));qt(E,21,()=>Object.entries(e.filters).filter(([P,L])=>L.length>0),ee,(P,L)=>{let V=()=>g(L)[0],x=()=>g(L)[1];var S=wd(),C=R(S),T=$(C),M=R(T,!0);z(T),z(S),Z(F=>{rt(C,`${V()??""}: `),rt(M,F)},[()=>x().join(", ").replaceAll("_"," ").replaceAll(":::"," ")]),k(P,S)}),z(E),k(w,j)};st(d,w=>{g(r)&&w(v)})}z(n),Z((w,j,E,P)=>{rt(s,w),rt(a,j),rt(c,E),rt(m,P)},[()=>e.total.toLocaleString(),()=>e.dateRange[0]>0?`AD ${e.dateRange[0]}`:`${Math.abs(e.dateRange[0])} BC`,()=>e.dateRange[1]>0?`AD ${e.dateRange[1]}`:`${Math.abs(e.dateRange[1])} BC`,()=>e.numberOfLocations.toLocaleString()]),k(t,n),St()}var Gs=typeof global=="object"&&global&&global.Object===Object&&global,kd=typeof self=="object"&&self&&self.Object===Object&&self,Gt=Gs||kd||Function("return this")(),Vt=Gt.Symbol,Xs=Object.prototype,Ad=Xs.hasOwnProperty,jd=Xs.toString,Le=Vt?Vt.toStringTag:void 0,Od=Object.prototype.toString,Ed="[object Null]",Td="[object Undefined]",jo=Vt?Vt.toStringTag:void 0;function Ne(t){return t==null?t===void 0?Td:Ed:jo&&jo in Object(t)?function(e){var r=Ad.call(e,Le),n=e[Le];try{e[Le]=void 0;var o=!0}catch{}var s=jd.call(e);return o&&(r?e[Le]=n:delete e[Le]),s}(t):function(e){return Od.call(e)}(t)}function ye(t){return t!=null&&typeof t=="object"}var zd="[object Symbol]";function He(t){return typeof t=="symbol"||ye(t)&&Ne(t)==zd}function De(t,e){for(var r=-1,n=t==null?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}var Wt=Array.isArray,Id=1/0,Oo=Vt?Vt.prototype:void 0,Eo=Oo?Oo.toString:void 0;function Hs(t){if(typeof t=="string")return t;if(Wt(t))return De(t,Hs)+"";if(He(t))return Eo?Eo.call(t):"";var e=t+"";return e=="0"&&1/t==-Id?"-0":e}function Kr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Jr(t){return t}var Rd="[object AsyncFunction]",Nd="[object Function]",Cd="[object GeneratorFunction]",Md="[object Proxy]";function Ys(t){if(!Kr(t))return!1;var e=Ne(t);return e==Nd||e==Cd||e==Rd||e==Md}var To,hn=Gt["__core-js_shared__"],zo=(To=/[^.]+$/.exec(hn&&hn.keys&&hn.keys.IE_PROTO||""))?"Symbol(src)_1."+To:"",$d=Function.prototype.toString;function we(t){if(t!=null){try{return $d.call(t)}catch{}try{return t+""}catch{}}return""}var Ld=/^\[object .+?Constructor\]$/,Fd=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xe(t,e){var r=function(n,o){return n==null?void 0:n[o]}(t,e);return function(n){return!(!Kr(n)||(o=n,zo&&zo in o))&&(Ys(n)?Fd:Ld).test(we(n));var o}(r)?r:void 0}var Io,pn,gn,kn=xe(Gt,"WeakMap"),Bd=Date.now,Vd=function(){try{var t=xe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ro=Vd,Wd=Ro?function(t,e){return Ro(t,"toString",{configurable:!0,enumerable:!1,value:(r=e,function(){return r}),writable:!0});var r}:Jr,Dd=(Io=Wd,pn=0,gn=0,function(){var t=Bd(),e=16-(t-gn);if(gn=t,e>0){if(++pn>=800)return arguments[0]}else pn=0;return Io.apply(void 0,arguments)});function Ud(t){return t!=t}function qd(t,e){return!(t==null||!t.length)&&function(r,n,o){return n==n?function(s,i,a){for(var u=-1,c=s.length;++u<c;)if(s[u]===i)return u;return-1}(r,n):function(s,i,a,u){for(var c=s.length,f=-1;++f<c;)if(i(s[f],f,s))return f;return-1}(r,Ud)}(t,e)>-1}var Gd=9007199254740991,Xd=/^(?:0|[1-9]\d*)$/;function Yn(t,e){var r=typeof t;return!!(e=e??Gd)&&(r=="number"||r!="symbol"&&Xd.test(t))&&t>-1&&t%1==0&&t<e}function Kn(t,e){return t===e||t!=t&&e!=e}var No=Math.max;function Ks(t,e){return Dd(function(r,n,o){return n=No(n===void 0?r.length-1:n,0),function(){for(var s=arguments,i=-1,a=No(s.length-n,0),u=Array(a);++i<a;)u[i]=s[n+i];i=-1;for(var c=Array(n+1);++i<n;)c[i]=s[i];return c[n]=o(u),function(f,m,p){switch(p.length){case 0:return f.call(m);case 1:return f.call(m,p[0]);case 2:return f.call(m,p[0],p[1]);case 3:return f.call(m,p[0],p[1],p[2])}return f.apply(m,p)}(r,this,c)}}(t,e,Jr),t+"")}var Hd=9007199254740991;function Jn(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Hd}function rr(t){return t!=null&&Jn(t.length)&&!Ys(t)}function Co(t,e,r){if(!Kr(r))return!1;var n=typeof e;return!!(n=="number"?rr(r)&&Yn(e,r.length):n=="string"&&e in r)&&Kn(r[e],t)}var Yd=Object.prototype;function Kd(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||Yd)}function Mo(t){return ye(t)&&Ne(t)=="[object Arguments]"}var Js=Object.prototype,Jd=Js.hasOwnProperty,Zd=Js.propertyIsEnumerable,Zn=Mo(function(){return arguments}())?Mo:function(t){return ye(t)&&Jd.call(t,"callee")&&!Zd.call(t,"callee")},Zs=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$o=Zs&&typeof module=="object"&&module&&!module.nodeType&&module,Lo=$o&&$o.exports===Zs?Gt.Buffer:void 0,An=(Lo?Lo.isBuffer:void 0)||function(){return!1},lt={};function Qs(t){return function(e){return t(e)}}lt["[object Float32Array]"]=lt["[object Float64Array]"]=lt["[object Int8Array]"]=lt["[object Int16Array]"]=lt["[object Int32Array]"]=lt["[object Uint8Array]"]=lt["[object Uint8ClampedArray]"]=lt["[object Uint16Array]"]=lt["[object Uint32Array]"]=!0,lt["[object Arguments]"]=lt["[object Array]"]=lt["[object ArrayBuffer]"]=lt["[object Boolean]"]=lt["[object DataView]"]=lt["[object Date]"]=lt["[object Error]"]=lt["[object Function]"]=lt["[object Map]"]=lt["[object Number]"]=lt["[object Object]"]=lt["[object RegExp]"]=lt["[object Set]"]=lt["[object String]"]=lt["[object WeakMap]"]=!1;var ti=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ue=ti&&typeof module=="object"&&module&&!module.nodeType&&module,vn=Ue&&Ue.exports===ti&&Gs.process,Ie=function(){try{return Ue&&Ue.require&&Ue.require("util").types||vn&&vn.binding&&vn.binding("util")}catch{}}(),Fo=Ie&&Ie.isTypedArray,ei=Fo?Qs(Fo):function(t){return ye(t)&&Jn(t.length)&&!!lt[Ne(t)]},Qd=Object.prototype.hasOwnProperty;function tf(t,e){var r=Wt(t),n=!r&&Zn(t),o=!r&&!n&&An(t),s=!r&&!n&&!o&&ei(t),i=r||n||o||s,a=i?function(f,m){for(var p=-1,y=Array(f);++p<f;)y[p]=m(p);return y}(t.length,String):[],u=a.length;for(var c in t)!Qd.call(t,c)||i&&(c=="length"||o&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Yn(c,u))||a.push(c);return a}function ef(t,e){return function(r){return t(e(r))}}var rf=ef(Object.keys,Object),nf=Object.prototype.hasOwnProperty;function Qn(t){return rr(t)?tf(t):function(e){if(!Kd(e))return rf(e);var r=[];for(var n in Object(e))nf.call(e,n)&&n!="constructor"&&r.push(n);return r}(t)}var of=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sf=/^\w*$/;function jn(t,e){if(Wt(t))return!1;var r=typeof t;return!(r!="number"&&r!="symbol"&&r!="boolean"&&t!=null&&!He(t))||sf.test(t)||!of.test(t)||e!=null&&t in Object(e)}var Fe=xe(Object,"create"),af=Object.prototype.hasOwnProperty,cf=Object.prototype.hasOwnProperty;function ve(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function dr(t,e){for(var r=t.length;r--;)if(Kn(t[r][0],e))return r;return-1}ve.prototype.clear=function(){this.__data__=Fe?Fe(null):{},this.size=0},ve.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ve.prototype.get=function(t){var e=this.__data__;if(Fe){var r=e[t];return r==="__lodash_hash_undefined__"?void 0:r}return af.call(e,t)?e[t]:void 0},ve.prototype.has=function(t){var e=this.__data__;return Fe?e[t]!==void 0:cf.call(e,t)},ve.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Fe&&e===void 0?"__lodash_hash_undefined__":e,this};var lf=Array.prototype.splice;function Qt(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Qt.prototype.clear=function(){this.__data__=[],this.size=0},Qt.prototype.delete=function(t){var e=this.__data__,r=dr(e,t);return!(r<0||(r==e.length-1?e.pop():lf.call(e,r,1),--this.size,0))},Qt.prototype.get=function(t){var e=this.__data__,r=dr(e,t);return r<0?void 0:e[r][1]},Qt.prototype.has=function(t){return dr(this.__data__,t)>-1},Qt.prototype.set=function(t,e){var r=this.__data__,n=dr(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var Ye=xe(Gt,"Map");function fr(t,e){var r,n,o=t.__data__;return((n=typeof(r=e))=="string"||n=="number"||n=="symbol"||n=="boolean"?r!=="__proto__":r===null)?o[typeof e=="string"?"string":"hash"]:o.map}function Jt(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function to(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],s=r.cache;if(s.has(o))return s.get(o);var i=t.apply(this,n);return r.cache=s.set(o,i)||s,i};return r.cache=new(to.Cache||Jt),r}Jt.prototype.clear=function(){this.size=0,this.__data__={hash:new ve,map:new(Ye||Qt),string:new ve}},Jt.prototype.delete=function(t){var e=fr(this,t).delete(t);return this.size-=e?1:0,e},Jt.prototype.get=function(t){return fr(this,t).get(t)},Jt.prototype.has=function(t){return fr(this,t).has(t)},Jt.prototype.set=function(t,e){var r=fr(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},to.Cache=Jt;var mn,yn,uf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,df=/\\(\\)?/g,ff=(mn=to(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(uf,function(r,n,o,s){e.push(o?s.replace(df,"$1"):n||r)}),e},function(t){return yn.size===500&&yn.clear(),t}),yn=mn.cache,mn);function ri(t,e){return Wt(t)?t:jn(t,e)?[t]:ff(function(r){return r==null?"":Hs(r)}(t))}var hf=1/0;function gr(t){if(typeof t=="string"||He(t))return t;var e=t+"";return e=="0"&&1/t==-hf?"-0":e}function On(t,e){for(var r=0,n=(e=ri(e,t)).length;t!=null&&r<n;)t=t[gr(e[r++])];return r&&r==n?t:void 0}function ni(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var Bo=Vt?Vt.isConcatSpreadable:void 0;function pf(t){return Wt(t)||Zn(t)||!!(Bo&&t&&t[Bo])}function gf(t,e,r,n,o){var s=-1,i=t.length;for(r||(r=pf),o||(o=[]);++s<i;){var a=t[s];r(a)?ni(o,a):o[o.length]=a}return o}function te(t){var e=this.__data__=new Qt(t);this.size=e.size}te.prototype.clear=function(){this.__data__=new Qt,this.size=0},te.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},te.prototype.get=function(t){return this.__data__.get(t)},te.prototype.has=function(t){return this.__data__.has(t)},te.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Qt){var n=r.__data__;if(!Ye||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Jt(n)}return r.set(t,e),this.size=r.size,this};var oi=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Vo=oi&&typeof module=="object"&&module&&!module.nodeType&&module,Wo=Vo&&Vo.exports===oi?Gt.Buffer:void 0;Wo&&Wo.allocUnsafe;function vf(){return[]}var mf=Object.prototype.propertyIsEnumerable,Do=Object.getOwnPropertySymbols,yf=Do?function(t){return t==null?[]:(t=Object(t),function(e,r){for(var n=-1,o=e==null?0:e.length,s=0,i=[];++n<o;){var a=e[n];mf.call(t,a)&&(i[s++]=a)}return i}(Do(t)))}:vf,bf=yf;function _f(t,e,r){var n=e(t);return Wt(t)?n:ni(n,r(t))}function Uo(t){return _f(t,Qn,bf)}var En=xe(Gt,"DataView"),Tn=xe(Gt,"Promise"),zn=xe(Gt,"Set"),qo="[object Map]",Go="[object Promise]",Xo="[object Set]",Ho="[object WeakMap]",Yo="[object DataView]",wf=we(En),xf=we(Ye),Sf=we(Tn),Pf=we(zn),kf=we(kn),pe=Ne;(En&&pe(new En(new ArrayBuffer(1)))!=Yo||Ye&&pe(new Ye)!=qo||Tn&&pe(Tn.resolve())!=Go||zn&&pe(new zn)!=Xo||kn&&pe(new kn)!=Ho)&&(pe=function(t){var e=Ne(t),r=e=="[object Object]"?t.constructor:void 0,n=r?we(r):"";if(n)switch(n){case wf:return Yo;case xf:return qo;case Sf:return Go;case Pf:return Xo;case kf:return Ho}return e});var Ko=pe,Jo=Gt.Uint8Array,Zo=Vt?Vt.prototype:void 0;Zo&&Zo.valueOf;Ie&&Ie.isMap;Ie&&Ie.isSet;function qe(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Jt;++e<r;)this.add(t[e])}function Af(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function In(t,e){return t.has(e)}qe.prototype.add=qe.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},qe.prototype.has=function(t){return this.__data__.has(t)};var jf=1,Of=2;function Qo(t,e,r,n,o,s){var i=r&jf,a=t.length,u=e.length;if(a!=u&&!(i&&u>a))return!1;var c=s.get(t),f=s.get(e);if(c&&f)return c==e&&f==t;var m=-1,p=!0,y=r&Of?new qe:void 0;for(s.set(t,e),s.set(e,t);++m<a;){var d=t[m],v=e[m];if(n)var w=i?n(v,d,m,e,t,s):n(d,v,m,t,e,s);if(w!==void 0){if(w)continue;p=!1;break}if(y){if(!Af(e,function(j,E){if(!In(y,E)&&(d===j||o(d,j,r,n,s)))return y.push(E)})){p=!1;break}}else if(d!==v&&!o(d,v,r,n,s)){p=!1;break}}return s.delete(t),s.delete(e),p}function Ef(t){var e=-1,r=Array(t.size);return t.forEach(function(n,o){r[++e]=[o,n]}),r}function Tf(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var zf=1,If=2,Rf="[object Boolean]",Nf="[object Date]",Cf="[object Error]",Mf="[object Map]",$f="[object Number]",Lf="[object RegExp]",Ff="[object Set]",Bf="[object String]",Vf="[object Symbol]",Wf="[object ArrayBuffer]",Df="[object DataView]",ts=Vt?Vt.prototype:void 0,bn=ts?ts.valueOf:void 0,Uf=1,qf=Object.prototype.hasOwnProperty,Gf=1,es="[object Arguments]",rs="[object Array]",hr="[object Object]",ns=Object.prototype.hasOwnProperty;function Rn(t,e,r,n,o){return t===e||(t==null||e==null||!ye(t)&&!ye(e)?t!=t&&e!=e:function(s,i,a,u,c,f){var m=Wt(s),p=Wt(i),y=m?rs:Ko(s),d=p?rs:Ko(i),v=(y=y==es?hr:y)==hr,w=(d=d==es?hr:d)==hr,j=y==d;if(j&&An(s)){if(!An(i))return!1;m=!0,v=!1}if(j&&!v)return f||(f=new te),m||ei(s)?Qo(s,i,a,u,c,f):function(x,S,C,T,M,F,et){switch(C){case Df:if(x.byteLength!=S.byteLength||x.byteOffset!=S.byteOffset)return!1;x=x.buffer,S=S.buffer;case Wf:return!(x.byteLength!=S.byteLength||!F(new Jo(x),new Jo(S)));case Rf:case Nf:case $f:return Kn(+x,+S);case Cf:return x.name==S.name&&x.message==S.message;case Lf:case Bf:return x==S+"";case Mf:var ht=Ef;case Ff:if(ht||(ht=Tf),x.size!=S.size&&!(T&zf))return!1;var dt=et.get(x);if(dt)return dt==S;T|=If,et.set(x,S);var ct=Qo(ht(x),ht(S),T,M,F,et);return et.delete(x),ct;case Vf:if(bn)return bn.call(x)==bn.call(S)}return!1}(s,i,y,a,u,c,f);if(!(a&Gf)){var E=v&&ns.call(s,"__wrapped__"),P=w&&ns.call(i,"__wrapped__");if(E||P){var L=E?s.value():s,V=P?i.value():i;return f||(f=new te),c(L,V,a,u,f)}}return!!j&&(f||(f=new te),function(x,S,C,T,M,F){var et=C&Uf,ht=Uo(x),dt=ht.length;if(dt!=Uo(S).length&&!et)return!1;for(var ct=dt;ct--;){var b=ht[ct];if(!(et?b in S:qf.call(S,b)))return!1}var l=F.get(x),h=F.get(S);if(l&&h)return l==S&&h==x;var _=!0;F.set(x,S),F.set(S,x);for(var A=et;++ct<dt;){var O=x[b=ht[ct]],I=S[b];if(T)var H=et?T(I,O,b,S,x,F):T(O,I,b,x,S,F);if(!(H===void 0?O===I||M(O,I,C,T,F):H)){_=!1;break}A||(A=b=="constructor")}if(_&&!A){var ot=x.constructor,Q=S.constructor;ot==Q||!("constructor"in x)||!("constructor"in S)||typeof ot=="function"&&ot instanceof ot&&typeof Q=="function"&&Q instanceof Q||(_=!1)}return F.delete(x),F.delete(S),_}(s,i,a,u,c,f))}(t,e,r,n,Rn,o))}var Xf=1,Hf=2;function os(t){return t==t&&!Kr(t)}function ss(t,e){return function(r){return r!=null&&r[t]===e&&(e!==void 0||t in Object(r))}}function Yf(t,e){return t!=null&&e in Object(t)}var Kf=1,Jf=2;function Zf(t){return typeof t=="function"?t:t==null?Jr:typeof t=="object"?Wt(t)?function(s,i){return jn(s)&&os(i)?ss(gr(s),i):function(a){var u=function(c,f,m){var p=c==null?void 0:On(c,f);return p===void 0?void 0:p}(a,s);return u===void 0&&u===i?function(c,f){return c!=null&&function(m,p,y){for(var d=-1,v=(p=ri(p,m)).length,w=!1;++d<v;){var j=gr(p[d]);if(!(w=m!=null&&y(m,j)))break;m=m[j]}return w||++d!=v?w:!!(v=m==null?0:m.length)&&Jn(v)&&Yn(j,v)&&(Wt(m)||Zn(m))}(c,f,Yf)}(a,s):Rn(i,u,Kf|Jf)}}(t[0],t[1]):(o=function(s){for(var i=Qn(s),a=i.length;a--;){var u=i[a],c=s[u];i[a]=[u,c,os(c)]}return i}(n=t),o.length==1&&o[0][2]?ss(o[0][0],o[0][1]):function(s){return s===n||function(i,a,u,c){var f=u.length,m=f;if(i==null)return!m;for(i=Object(i);f--;){var p=u[f];if(p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++f<m;){var y=(p=u[f])[0],d=i[y],v=p[1];if(p[2]){if(d===void 0&&!(y in i))return!1}else{var w=new te;if(!Rn(v,d,Xf|Hf,void 0,w))return!1}}return!0}(s,0,o)}):jn(e=t)?(r=gr(e),function(s){return s==null?void 0:s[r]}):function(s){return function(i){return On(i,s)}}(e);var e,r,n,o}var Qf=function(t,e,r){for(var n=-1,o=Object(t),s=r(t),i=s.length;i--;){var a=s[++n];if(e(o[a],a,o)===!1)break}return t};function th(t,e){return t&&Qf(t,e,Qn)}var is,eh=(is=th,function(t,e){if(t==null)return t;if(!rr(t))return is(t,e);for(var r=t.length,n=-1,o=Object(t);++n<r&&e(o[n],n,o)!==!1;);return t});function rh(t,e){var r=-1,n=rr(t)?Array(t.length):[];return eh(t,function(o,s,i){n[++r]=e(o,s,i)}),n}var nh=Math.min;function oh(t){return function(e){return ye(e)&&rr(e)}(t)?t:[]}Ks(function(t){var e=De(t,oh);return e.length&&e[0]===t[0]?function(r,n,o){for(var s=qd,i=r[0].length,a=r.length,u=a,c=Array(a),f=1/0,m=[];u--;){var p=r[u];f=nh(p.length,f),c[u]=i>=120&&p.length>=120?new qe(u&&p):void 0}p=r[0];var y=-1,d=c[0];t:for(;++y<i&&m.length<f;){var v=p[y],w=v;if(v=v!==0?v:0,!(d?In(d,w):s(m,w,o))){for(u=a;--u;){var j=c[u];if(!(j?In(j,w):s(r[u],w,o)))continue t}d&&d.push(w),m.push(v)}}return m}(e):[]});function sh(t,e){if(t!==e){var r=t!==void 0,n=t===null,o=t==t,s=He(t),i=e!==void 0,a=e===null,u=e==e,c=He(e);if(!a&&!c&&!s&&t>e||s&&i&&u&&!a&&!c||n&&i&&u||!r&&u||!o)return 1;if(!n&&!s&&!c&&t<e||c&&r&&o&&!n&&!s||a&&r&&o||!i&&o||!u)return-1}return 0}function ih(t,e,r){e=e.length?De(e,function(o){return Wt(o)?function(s){return On(s,o.length===1?o[0]:o)}:o}):[Jr];var n=-1;return e=De(e,Qs(Zf)),function(o,s){var i=o.length;for(o.sort(function(a,u){return function(c,f,m){for(var p=-1,y=c.criteria,d=f.criteria,v=y.length,w=m.length;++p<v;){var j=sh(y[p],d[p]);if(j)return p>=w?j:j*(m[p]=="desc"?-1:1)}return c.index-f.index}(a,u,r)});i--;)o[i]=o[i].value;return o}(rh(t,function(o,s,i){return{criteria:De(e,function(a){return a(o)}),index:++n,value:o}}))}Ks(function(t,e){if(t==null)return[];var r=e.length;return r>1&&Co(t,e[0],e[1])?e=[]:r>2&&Co(e[0],e[1],e[2])&&(e=[e[0]]),ih(t,gf(e),[])});function J(t){if(this.words=[],t)if(Symbol&&Symbol.iterator&&t[Symbol.iterator]!==void 0){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.add(r.value),r=e.next()}else for(let e=0;e<t.length;e++)this.add(t[e])}J.fromWords=function(t){const e=Object.create(J.prototype);return e.words=t,e},J.prototype.add=function(t){this.resize(t),this.words[t>>>5]|=1<<t},J.prototype.flip=function(t){this.resize(t),this.words[t>>>5]^=1<<t},J.prototype.clear=function(){this.words.length=0},J.prototype.remove=function(t){this.resize(t),this.words[t>>>5]&=~(1<<t)},J.prototype.isEmpty=function(t){const e=this.words.length;for(let r=0;r<e;r++)if(this.words[r]!==0)return!1;return!0},J.prototype.has=function(t){return(this.words[t>>>5]&1<<t)!=0},J.prototype.checkedAdd=function(t){this.resize(t);const e=this.words[t>>>5],r=e|1<<t;return this.words[t>>>5]=r,(r^e)>>>t},J.prototype.trim=function(t){let e=this.words.length;for(;e>0&&this.words[e-1]===0;)e--;this.words.length=e},J.prototype.resize=function(t){const e=t+32>>>5;for(let r=this.words.length;r<e;r++)this.words[r]=0},J.prototype.hammingWeight=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},J.prototype.hammingWeight4=function(t,e,r,n){return 16843009*((t=(t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)+(e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)+(r=(r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)+(n=(n=(858993459&(n-=n>>>1&1431655765))+(n>>>2&858993459))+(n>>>4)&252645135))>>>24},J.prototype.size=function(){let t=0;const e=this.words.length,r=this.words;for(let n=0;n<e;n++)t+=this.hammingWeight(r[n]);return t},J.prototype.array=function(){const t=new Array(this.size());let e=0;const r=this.words.length;for(let n=0;n<r;++n){let o=this.words[n];for(;o!=0;){const s=o&-o;t[e++]=(n<<5)+this.hammingWeight(s-1|0),o^=s}}return t},J.prototype.forEach=function(t){const e=this.words.length;for(let r=0;r<e;++r){let n=this.words[r];for(;n!=0;){const o=n&-n;t((r<<5)+this.hammingWeight(o-1|0)),n^=o}}},J.prototype[Symbol.iterator]=function(){const t=this.words.length;let e=0,r=this.words[e],n=this.hammingWeight,o=this.words;return{[Symbol.iterator](){return this},next(){for(;e<t;){if(r!==0){const s=r&-r,i=(e<<5)+n(s-1|0);return r^=s,{done:!1,value:i}}e++,e<t&&(r=o[e])}return{done:!0,value:void 0}}}},J.prototype.clone=function(){const t=Object.create(J.prototype);return t.words=this.words.slice(),t},J.prototype.intersects=function(t){const e=Math.min(this.words.length,t.words.length);for(let r=0;r<e;++r)if(this.words[r]&t.words[r])return!0;return!1},J.prototype.intersection=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)this.words[r]&=t.words[r],this.words[r+1]&=t.words[r+1],this.words[r+2]&=t.words[r+2],this.words[r+3]&=t.words[r+3],this.words[r+4]&=t.words[r+4],this.words[r+5]&=t.words[r+5],this.words[r+6]&=t.words[r+6],this.words[r+7]&=t.words[r+7];for(;r<e;++r)this.words[r]&=t.words[r];const n=this.words.length;for(r=e;r<n;++r)this.words[r]=0;return this},J.prototype.intersection_size=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(let n=0;n<e;++n)r+=this.hammingWeight(this.words[n]&t.words[n]);return r},J.prototype.new_intersection=function(t){const e=Object.create(J.prototype),r=Math.min(this.words.length,t.words.length);e.words=new Array(r);let n=0;for(;n+7<r;n+=8)e.words[n]=this.words[n]&t.words[n],e.words[n+1]=this.words[n+1]&t.words[n+1],e.words[n+2]=this.words[n+2]&t.words[n+2],e.words[n+3]=this.words[n+3]&t.words[n+3],e.words[n+4]=this.words[n+4]&t.words[n+4],e.words[n+5]=this.words[n+5]&t.words[n+5],e.words[n+6]=this.words[n+6]&t.words[n+6],e.words[n+7]=this.words[n+7]&t.words[n+7];for(;n<r;++n)e.words[n]=this.words[n]&t.words[n];return e},J.prototype.equals=function(t){const e=Math.min(this.words.length,t.words.length);for(let r=0;r<e;++r)if(this.words[r]!=t.words[r])return!1;if(this.words.length<t.words.length){const r=t.words.length;for(let n=this.words.length;n<r;++n)if(t.words[n]!=0)return!1}else if(t.words.length<this.words.length){const r=this.words.length;for(let n=t.words.length;n<r;++n)if(this.words[n]!=0)return!1}return!0},J.prototype.difference=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)this.words[r]&=~t.words[r],this.words[r+1]&=~t.words[r+1],this.words[r+2]&=~t.words[r+2],this.words[r+3]&=~t.words[r+3],this.words[r+4]&=~t.words[r+4],this.words[r+5]&=~t.words[r+5],this.words[r+6]&=~t.words[r+6],this.words[r+7]&=~t.words[r+7];for(;r<e;++r)this.words[r]&=~t.words[r];return this},J.prototype.new_difference=function(t){return this.clone().difference(t)},J.prototype.difference2=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)t.words[r]=this.words[r]&~t.words[r],t.words[r+1]=this.words[r+1]&~t.words[r+1],t.words[r+2]=this.words[r+2]&~t.words[r+2],t.words[r+3]=this.words[r+3]&~t.words[r+3],t.words[r+4]=this.words[r+4]&~t.words[r+4],t.words[r+5]=this.words[r+5]&~t.words[r+5],t.words[r+6]=this.words[r+6]&~t.words[r+6],t.words[r+7]=this.words[r+7]&~t.words[r+7];for(;r<e;++r)t.words[r]=this.words[r]&~t.words[r];for(r=this.words.length-1;r>=e;--r)t.words[r]=this.words[r];return t.words.length=this.words.length,t},J.prototype.difference_size=function(t){const e=Math.min(this.words.length,t.words.length);let r=0,n=0;for(;n<e;++n)r+=this.hammingWeight(this.words[n]&~t.words[n]);const o=this.words.length;for(;n<o;++n)r+=this.hammingWeight(this.words[n]);return r},J.prototype.change=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)this.words[r]^=t.words[r],this.words[r+1]^=t.words[r+1],this.words[r+2]^=t.words[r+2],this.words[r+3]^=t.words[r+3],this.words[r+4]^=t.words[r+4],this.words[r+5]^=t.words[r+5],this.words[r+6]^=t.words[r+6],this.words[r+7]^=t.words[r+7];for(;r<e;++r)this.words[r]^=t.words[r];for(r=t.words.length-1;r>=e;--r)this.words[r]=t.words[r];return this},J.prototype.new_change=function(t){const e=Object.create(J.prototype),r=Math.max(this.words.length,t.words.length);e.words=new Array(r);const n=Math.min(this.words.length,t.words.length);let o=0;for(;o+7<n;o+=8)e.words[o]=this.words[o]^t.words[o],e.words[o+1]=this.words[o+1]^t.words[o+1],e.words[o+2]=this.words[o+2]^t.words[o+2],e.words[o+3]=this.words[o+3]^t.words[o+3],e.words[o+4]=this.words[o+4]^t.words[o+4],e.words[o+5]=this.words[o+5]^t.words[o+5],e.words[o+6]=this.words[o+6]^t.words[o+6],e.words[o+7]=this.words[o+7]^t.words[o+7];for(;o<n;++o)e.words[o]=this.words[o]^t.words[o];const s=this.words.length;for(o=n;o<s;++o)e.words[o]=this.words[o];const i=t.words.length;for(o=n;o<i;++o)e.words[o]=t.words[o];return e},J.prototype.change_size=function(t){const e=Math.min(this.words.length,t.words.length);let r=0,n=0;for(;n<e;++n)r+=this.hammingWeight(this.words[n]^t.words[n]);const o=this.words.length>t.words.length?this:t,s=o.words.length;for(;n<s;++n)r+=this.hammingWeight(o.words[n]);return r},J.prototype.toString=function(){return"{"+this.array().join(",")+"}"},J.prototype.union=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)this.words[r]|=t.words[r],this.words[r+1]|=t.words[r+1],this.words[r+2]|=t.words[r+2],this.words[r+3]|=t.words[r+3],this.words[r+4]|=t.words[r+4],this.words[r+5]|=t.words[r+5],this.words[r+6]|=t.words[r+6],this.words[r+7]|=t.words[r+7];for(;r<e;++r)this.words[r]|=t.words[r];if(this.words.length<t.words.length){this.resize((t.words.length<<5)-1);const n=t.words.length;for(let o=e;o<n;++o)this.words[o]=t.words[o]}return this},J.prototype.new_union=function(t){const e=Object.create(J.prototype),r=Math.max(this.words.length,t.words.length);e.words=new Array(r);const n=Math.min(this.words.length,t.words.length);let o=0;for(;o+7<n;o+=8)e.words[o]=this.words[o]|t.words[o],e.words[o+1]=this.words[o+1]|t.words[o+1],e.words[o+2]=this.words[o+2]|t.words[o+2],e.words[o+3]=this.words[o+3]|t.words[o+3],e.words[o+4]=this.words[o+4]|t.words[o+4],e.words[o+5]=this.words[o+5]|t.words[o+5],e.words[o+6]=this.words[o+6]|t.words[o+6],e.words[o+7]=this.words[o+7]|t.words[o+7];for(;o<n;++o)e.words[o]=this.words[o]|t.words[o];const s=this.words.length;for(o=n;o<s;++o)e.words[o]=this.words[o];const i=t.words.length;for(o=n;o<i;++o)e.words[o]=t.words[o];return e},J.prototype.union_size=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(let n=0;n<e;++n)r+=this.hammingWeight(this.words[n]|t.words[n]);if(this.words.length<t.words.length){const n=t.words.length;for(let o=this.words.length;o<n;++o)r+=this.hammingWeight(0|t.words[o])}else{const n=this.words.length;for(let o=t.words.length;o<n;++o)r+=this.hammingWeight(0|this.words[o])}return r};(function(t){var e={exports:{}};return function(r,n){(function(){var o,s,i,a,u,c,f,m,p,y,d,v,w,j,E,P,L,V,x,S,C,T,M,F,et,ht,dt,ct,b=function(l){var h=new b.Index;return h.pipeline.add(b.trimmer,b.stopWordFilter,b.stemmer),l&&l.call(h,h),h};b.version="1.0.0",b.utils={},b.utils.warn=function(l){return function(h){l.console&&console.warn&&console.warn(h)}}(this),b.utils.asString=function(l){return l==null?"":l.toString()},b.EventEmitter=function(){this.events={}},b.EventEmitter.prototype.addListener=function(){var l=Array.prototype.slice.call(arguments),h=l.pop(),_=l;if(typeof h!="function")throw new TypeError("last argument must be a function");_.forEach(function(A){this.hasHandler(A)||(this.events[A]=[]),this.events[A].push(h)},this)},b.EventEmitter.prototype.removeListener=function(l,h){if(this.hasHandler(l)){var _=this.events[l].indexOf(h);this.events[l].splice(_,1),this.events[l].length||delete this.events[l]}},b.EventEmitter.prototype.emit=function(l){if(this.hasHandler(l)){var h=Array.prototype.slice.call(arguments,1);this.events[l].forEach(function(_){_.apply(void 0,h)})}},b.EventEmitter.prototype.hasHandler=function(l){return l in this.events},b.tokenizer=function(l){return arguments.length&&l!=null&&l!=null?Array.isArray(l)?l.map(function(h){return b.utils.asString(h).toLowerCase()}):l.toString().trim().toLowerCase().split(b.tokenizer.separator):[]},b.tokenizer.separator=/[\s\-]+/,b.tokenizer.load=function(l){var h=this.registeredFunctions[l];if(!h)throw new Error("Cannot load un-registered function: "+l);return h},b.tokenizer.label="default",b.tokenizer.registeredFunctions={default:b.tokenizer},b.tokenizer.registerFunction=function(l,h){h in this.registeredFunctions&&b.utils.warn("Overwriting existing tokenizer: "+h),l.label=h,this.registeredFunctions[h]=l},b.Pipeline=function(){this._stack=[]},b.Pipeline.registeredFunctions={},b.Pipeline.registerFunction=function(l,h){h in this.registeredFunctions&&b.utils.warn("Overwriting existing registered function: "+h),l.label=h,b.Pipeline.registeredFunctions[l.label]=l},b.Pipeline.warnIfFunctionNotRegistered=function(l){l.label&&l.label in this.registeredFunctions||b.utils.warn(`Function is not registered with pipeline. This may cause problems when serialising the index.
`,l)},b.Pipeline.load=function(l){var h=new b.Pipeline;return l.forEach(function(_){var A=b.Pipeline.registeredFunctions[_];if(!A)throw new Error("Cannot load un-registered function: "+_);h.add(A)}),h},b.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(l){b.Pipeline.warnIfFunctionNotRegistered(l),this._stack.push(l)},this)},b.Pipeline.prototype.after=function(l,h){b.Pipeline.warnIfFunctionNotRegistered(h);var _=this._stack.indexOf(l);if(_==-1)throw new Error("Cannot find existingFn");this._stack.splice(_+=1,0,h)},b.Pipeline.prototype.before=function(l,h){b.Pipeline.warnIfFunctionNotRegistered(h);var _=this._stack.indexOf(l);if(_==-1)throw new Error("Cannot find existingFn");this._stack.splice(_,0,h)},b.Pipeline.prototype.remove=function(l){var h=this._stack.indexOf(l);h!=-1&&this._stack.splice(h,1)},b.Pipeline.prototype.run=function(l){for(var h=[],_=l.length,A=this._stack.length,O=0;O<_;O++){for(var I=l[O],H=0;H<A&&(I=this._stack[H](I,O,l))!==void 0&&I!=="";H++);I!==void 0&&I!==""&&h.push(I)}return h},b.Pipeline.prototype.reset=function(){this._stack=[]},b.Pipeline.prototype.toJSON=function(){return this._stack.map(function(l){return b.Pipeline.warnIfFunctionNotRegistered(l),l.label})},b.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},b.Vector.Node=function(l,h,_){this.idx=l,this.val=h,this.next=_},b.Vector.prototype.insert=function(l,h){this._magnitude=void 0;var _=this.list;if(!_)return this.list=new b.Vector.Node(l,h,_),this.length++;if(l<_.idx)return this.list=new b.Vector.Node(l,h,_),this.length++;for(var A=_,O=_.next;O!=null;){if(l<O.idx)return A.next=new b.Vector.Node(l,h,O),this.length++;A=O,O=O.next}return A.next=new b.Vector.Node(l,h,O),this.length++},b.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var l,h=this.list,_=0;h;)_+=(l=h.val)*l,h=h.next;return this._magnitude=Math.sqrt(_)},b.Vector.prototype.dot=function(l){for(var h=this.list,_=l.list,A=0;h&&_;)h.idx<_.idx?h=h.next:(h.idx>_.idx||(A+=h.val*_.val,h=h.next),_=_.next);return A},b.Vector.prototype.similarity=function(l){return this.dot(l)/(this.magnitude()*l.magnitude())},b.SortedSet=function(){this.length=0,this.elements=[]},b.SortedSet.load=function(l){var h=new this;return h.elements=l,h.length=l.length,h},b.SortedSet.prototype.add=function(){var l,h;for(l=0;l<arguments.length;l++)~this.indexOf(h=arguments[l])||this.elements.splice(this.locationFor(h),0,h);this.length=this.elements.length},b.SortedSet.prototype.toArray=function(){return this.elements.slice()},b.SortedSet.prototype.map=function(l,h){return this.elements.map(l,h)},b.SortedSet.prototype.forEach=function(l,h){return this.elements.forEach(l,h)},b.SortedSet.prototype.indexOf=function(l){for(var h=0,_=this.elements.length,A=_-h,O=h+Math.floor(A/2),I=this.elements[O];A>1;){if(I===l)return O;I<l&&(h=O),I>l&&(_=O),A=_-h,O=h+Math.floor(A/2),I=this.elements[O]}return I===l?O:-1},b.SortedSet.prototype.locationFor=function(l){for(var h=0,_=this.elements.length,A=_-h,O=h+Math.floor(A/2),I=this.elements[O];A>1;)I<l&&(h=O),I>l&&(_=O),A=_-h,O=h+Math.floor(A/2),I=this.elements[O];return I>l?O:I<l?O+1:void 0},b.SortedSet.prototype.intersect=function(l){for(var h=new b.SortedSet,_=0,A=0,O=this.length,I=l.length,H=this.elements,ot=l.elements;!(_>O-1||A>I-1);)H[_]!==ot[A]?H[_]<ot[A]?_++:H[_]>ot[A]&&A++:(h.add(H[_]),_++,A++);return h},b.SortedSet.prototype.clone=function(){var l=new b.SortedSet;return l.elements=this.toArray(),l.length=l.elements.length,l},b.SortedSet.prototype.union=function(l){var h,_,A;this.length>=l.length?(h=this,_=l):(h=l,_=this),A=h.clone();for(var O=0,I=_.toArray();O<I.length;O++)A.add(I[O]);return A},b.SortedSet.prototype.toJSON=function(){return this.toArray()},b.Index=function(){this._fields=[],this._ref="id",this.pipeline=new b.Pipeline,this.documentStore=new b.Store,this.tokenStore=new b.TokenStore,this.corpusTokens=new b.SortedSet,this.eventEmitter=new b.EventEmitter,this.tokenizerFn=b.tokenizer,this._idfCache={},this.on("add","remove","update",(function(){this._idfCache={}}).bind(this))},b.Index.prototype.on=function(){var l=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,l)},b.Index.prototype.off=function(l,h){return this.eventEmitter.removeListener(l,h)},b.Index.load=function(l){l.version!==b.version&&b.utils.warn("version mismatch: current "+b.version+" importing "+l.version);var h=new this;return h._fields=l.fields,h._ref=l.ref,h.tokenizer(b.tokenizer.load(l.tokenizer)),h.documentStore=b.Store.load(l.documentStore),h.tokenStore=b.TokenStore.load(l.tokenStore),h.corpusTokens=b.SortedSet.load(l.corpusTokens),h.pipeline=b.Pipeline.load(l.pipeline),h},b.Index.prototype.field=function(l,h){return this._fields.push({name:l,boost:(h=h||{}).boost||1}),this},b.Index.prototype.ref=function(l){return this._ref=l,this},b.Index.prototype.tokenizer=function(l){return l.label&&l.label in b.tokenizer.registeredFunctions||b.utils.warn("Function is not a registered tokenizer. This may cause problems when serialising the index"),this.tokenizerFn=l,this},b.Index.prototype.add=function(l,h){var _={},A=new b.SortedSet,O=l[this._ref];h=h===void 0||h,this._fields.forEach(function(bt){var ft=this.pipeline.run(this.tokenizerFn(l[bt.name]));_[bt.name]=ft;for(var gt=0;gt<ft.length;gt++){var Rt=ft[gt];A.add(Rt),this.corpusTokens.add(Rt)}},this),this.documentStore.set(O,A);for(var I=0;I<A.length;I++){for(var H=A.elements[I],ot=0,Q=0;Q<this._fields.length;Q++){var pt=this._fields[Q],Et=_[pt.name],$t=Et.length;if($t){for(var It=0,yt=0;yt<$t;yt++)Et[yt]===H&&It++;ot+=It/$t*pt.boost}}this.tokenStore.add(H,{ref:O,tf:ot})}h&&this.eventEmitter.emit("add",l,this)},b.Index.prototype.remove=function(l,h){var _=l[this._ref];if(h=h===void 0||h,this.documentStore.has(_)){var A=this.documentStore.get(_);this.documentStore.remove(_),A.forEach(function(O){this.tokenStore.remove(O,_)},this),h&&this.eventEmitter.emit("remove",l,this)}},b.Index.prototype.update=function(l,h){h=h===void 0||h,this.remove(l,!1),this.add(l,!1),h&&this.eventEmitter.emit("update",l,this)},b.Index.prototype.idf=function(l){var h="@"+l;if(Object.prototype.hasOwnProperty.call(this._idfCache,h))return this._idfCache[h];var _=this.tokenStore.count(l),A=1;return _>0&&(A=1+Math.log(this.documentStore.length/_)),this._idfCache[h]=A},b.Index.prototype.search=function(l){var h=this.pipeline.run(this.tokenizerFn(l)),_=new b.Vector,A=[],O=this._fields.reduce(function(I,H){return I+H.boost},0);return h.some(function(I){return this.tokenStore.has(I)},this)?(h.forEach(function(I,H,ot){var Q=1/ot.length*this._fields.length*O,pt=this,Et=this.tokenStore.expand(I).reduce(function($t,It){var yt=pt.corpusTokens.indexOf(It),bt=pt.idf(It),ft=1,gt=new b.SortedSet;if(It!==I){var Rt=Math.max(3,It.length-I.length);ft=1/Math.log(Rt)}yt>-1&&_.insert(yt,Q*bt*ft);for(var Nt=pt.tokenStore.get(It),Xt=Object.keys(Nt),Ht=Xt.length,N=0;N<Ht;N++)gt.add(Nt[Xt[N]].ref);return $t.union(gt)},new b.SortedSet);A.push(Et)},this),A.reduce(function(I,H){return I.intersect(H)}).map(function(I){return{ref:I,score:_.similarity(this.documentVector(I))}},this).sort(function(I,H){return H.score-I.score})):[]},b.Index.prototype.documentVector=function(l){for(var h=this.documentStore.get(l),_=h.length,A=new b.Vector,O=0;O<_;O++){var I=h.elements[O],H=this.tokenStore.get(I)[l].tf,ot=this.idf(I);A.insert(this.corpusTokens.indexOf(I),H*ot)}return A},b.Index.prototype.toJSON=function(){return{version:b.version,fields:this._fields,ref:this._ref,tokenizer:this.tokenizerFn.label,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},b.Index.prototype.use=function(l){var h=Array.prototype.slice.call(arguments,1);h.unshift(this),l.apply(this,h)},b.Store=function(){this.store={},this.length=0},b.Store.load=function(l){var h=new this;return h.length=l.length,h.store=Object.keys(l.store).reduce(function(_,A){return _[A]=b.SortedSet.load(l.store[A]),_},{}),h},b.Store.prototype.set=function(l,h){this.has(l)||this.length++,this.store[l]=h},b.Store.prototype.get=function(l){return this.store[l]},b.Store.prototype.has=function(l){return l in this.store},b.Store.prototype.remove=function(l){this.has(l)&&(delete this.store[l],this.length--)},b.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},b.stemmer=(o={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},s={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},c="^("+(a="[^aeiou][^aeiouy]*")+")?"+(u=(i="[aeiouy]")+"[aeiou]*")+a+"("+u+")?$",f="^("+a+")?"+u+a+u+a,m="^("+a+")?"+i,p=new RegExp("^("+a+")?"+u+a),y=new RegExp(f),d=new RegExp(c),v=new RegExp(m),w=/^(.+?)(ss|i)es$/,j=/^(.+?)([^s])s$/,E=/^(.+?)eed$/,P=/^(.+?)(ed|ing)$/,L=/.$/,V=/(at|bl|iz)$/,x=new RegExp("([^aeiouylsz])\\1$"),S=new RegExp("^"+a+i+"[^aeiouwxy]$"),C=/^(.+?[^aeiou])y$/,T=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,M=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,F=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,et=/^(.+?)(s|t)(ion)$/,ht=/^(.+?)e$/,dt=/ll$/,ct=new RegExp("^"+a+i+"[^aeiouwxy]$"),function(l){var h,_,A,O,I,H,ot;if(l.length<3)return l;if((A=l.substr(0,1))=="y"&&(l=A.toUpperCase()+l.substr(1)),I=j,(O=w).test(l)?l=l.replace(O,"$1$2"):I.test(l)&&(l=l.replace(I,"$1$2")),I=P,(O=E).test(l)){var Q=O.exec(l);(O=p).test(Q[1])&&(l=l.replace(O=L,""))}else I.test(l)&&(Q=I.exec(l),(I=v).test(h=Q[1])&&(H=x,ot=S,(I=V).test(l=h)?l+="e":H.test(l)?l=l.replace(O=L,""):ot.test(l)&&(l+="e")));return(O=C).test(l)&&(l=(h=(Q=O.exec(l))[1])+"i"),(O=T).test(l)&&(_=(Q=O.exec(l))[2],(O=p).test(h=Q[1])&&(l=h+o[_])),(O=M).test(l)&&(_=(Q=O.exec(l))[2],(O=p).test(h=Q[1])&&(l=h+s[_])),I=et,(O=F).test(l)?(Q=O.exec(l),(O=y).test(h=Q[1])&&(l=h)):I.test(l)&&(Q=I.exec(l),(I=y).test(h=Q[1]+Q[2])&&(l=h)),(O=ht).test(l)&&(Q=O.exec(l),I=d,H=ct,((O=y).test(h=Q[1])||I.test(h)&&!H.test(h))&&(l=h)),I=y,(O=dt).test(l)&&I.test(l)&&(l=l.replace(O=L,"")),A=="y"&&(l=A.toLowerCase()+l.substr(1)),l}),b.Pipeline.registerFunction(b.stemmer,"stemmer"),b.generateStopWordFilter=function(l){var h=l.reduce(function(_,A){return _[A]=A,_},{});return function(_){if(_&&h[_]!==_)return _}},b.stopWordFilter=b.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),b.Pipeline.registerFunction(b.stopWordFilter,"stopWordFilter"),b.trimmer=function(l){return l.replace(/^\W+/,"").replace(/\W+$/,"")},b.Pipeline.registerFunction(b.trimmer,"trimmer"),b.TokenStore=function(){this.root={docs:{}},this.length=0},b.TokenStore.load=function(l){var h=new this;return h.root=l.root,h.length=l.length,h},b.TokenStore.prototype.add=function(l,h,_){_=_||this.root;var A=l.charAt(0),O=l.slice(1);return A in _||(_[A]={docs:{}}),O.length===0?(_[A].docs[h.ref]=h,void(this.length+=1)):this.add(O,h,_[A])},b.TokenStore.prototype.has=function(l){if(!l)return!1;for(var h=this.root,_=0;_<l.length;_++){if(!h[l.charAt(_)])return!1;h=h[l.charAt(_)]}return!0},b.TokenStore.prototype.getNode=function(l){if(!l)return{};for(var h=this.root,_=0;_<l.length;_++){if(!h[l.charAt(_)])return{};h=h[l.charAt(_)]}return h},b.TokenStore.prototype.get=function(l,h){return this.getNode(l,h).docs||{}},b.TokenStore.prototype.count=function(l,h){return Object.keys(this.get(l,h)).length},b.TokenStore.prototype.remove=function(l,h){if(l){for(var _=this.root,A=0;A<l.length;A++){if(!(l.charAt(A)in _))return;_=_[l.charAt(A)]}delete _.docs[h]}},b.TokenStore.prototype.expand=function(l,h){var _=this.getNode(l);return h=h||[],Object.keys(_.docs||{}).length&&h.push(l),Object.keys(_).forEach(function(A){A!=="docs"&&h.concat(this.expand(l+A,h))},this),h},b.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},r.exports=b})()}(e),e.exports})();const ah={aggregations:{notAfter:{title:"Not after",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},notBefore:{title:"Not before",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},language:{title:"Language",hide_zero_doc_count:!0,size:200,sort:"key"},languageCert:{title:"Language certainty",hide_zero_doc_count:!0,size:10,sort:"key"},provenance:{title:"Provenance",hide_zero_doc_count:!0,size:200,sort:"key"},inscriptionType:{title:"Inscription type",hide_zero_doc_count:!0,size:200,sort:"key"},objectType:{title:"Object type",hide_zero_doc_count:!0,size:200,sort:"key"},material:{title:"Material",hide_zero_doc_count:!0,size:200,sort:"key"},technique:{title:"Technique",hide_zero_doc_count:!0,size:200,sort:"key"},pigment:{title:"Pigment",hide_zero_doc_count:!0,size:200,sort:"key"},damage:{title:"Damage",hide_zero_doc_count:!0,size:100,sort:"key"},repository:{title:"Repository",hide_zero_doc_count:!0,size:200,sort:"key"},publicationAuthors:{title:"Publication author",hide_zero_doc_count:!0,size:1e3,sort:"key"},publicationTitles:{title:"Publication title",hide_zero_doc_count:!0,size:1500,sort:"key"},publicationYears:{title:"Publication year",hide_zero_doc_count:!0,size:1e3,sort:"key"},status:{title:"Status",hide_zero_doc_count:!0,sort:"key"}},searchableFields:["keywords","title","text"],sortings:{file_asc:{field:"file",order:"asc"},file_desc:{field:"file",order:"desc"},notAfter_asc:{field:"notAfter",order:"asc"},notAfter_desc:{field:"notAfter",order:"desc"},notBefore_asc:{field:"notBefore",order:"desc"},notBefore_desc:{field:"notBefore",order:"desc"},title_asc:{field:"title",order:"asc"},title_desc:{field:"title",order:"desc"}}};function ch(t){return new Worker(""+new URL("../workers/worker-CjpQawD-.js",import.meta.url).href,{name:t==null?void 0:t.name})}var lh=W("<!>Filters",1),uh=W('<h2 aria-busy="true" class="svelte-16zqrgi">Loading inscriptions...</h2>'),dh=W("<!>View cards",1),fh=W("<!>View map",1),hh=W("<!>View table",1),ph=W('<div class="transition-container svelte-16zqrgi"><!></div>'),gh=W('<div class="transition-container svelte-16zqrgi"><!></div>'),vh=W("<!> <!> <!>",1),mh=W('<!> <section class="controls svelte-16zqrgi"><div class="toggles svelte-16zqrgi"><!> <!> <!></div> <div class="sort-controls svelte-16zqrgi"><label for="sort-select">Sort by:</label> <select id="sort-select"><option>File</option><option>Not before</option><option>Not after</option><option>Title</option></select> <!></div></section> <!>',1),yh=W('<article><section><form class="svelte-16zqrgi"><label class="visually-hidden" for="q">Search query:</label> <input type="text" name="q" id="q" placeholder="Search inscriptions metadata" class="svelte-16zqrgi"> <!> <!></form> <div class="filters-toggle svelte-16zqrgi"><!></div></section> <section class="inscriptions svelte-16zqrgi"><!></section></article> <!>',1);function bh(t,e){xt(e,!0);const[r,n]=mi(),o=()=>or(m,"$searchView",r),s=()=>or(f,"$searchLimit",r),i=()=>or(c,"$searchPage",r),a=()=>or(u,"$searchQuery",r),u=ur("q",lr.string("")),c=ur("page",lr.number(1)),f=ur("limit",lr.number(Me.limit)),m=ur("view",lr.string("cards"));let p=jt("idle"),y=B(()=>["idle","load"].includes(g(p))),d=jt(void 0),v=jt(ut({})),w=B(()=>{var N;return((N=g(v))==null?void 0:N.pagination)??{}}),j=B(()=>{var N,K;return((K=(N=g(v))==null?void 0:N.data)==null?void 0:K.aggregations)??{}}),E=B(()=>{var N;return((N=g(w))==null?void 0:N.total)??0}),P=B(dt),L=B(()=>{var N,K;return((K=(N=g(v))==null?void 0:N.data)==null?void 0:K.items)??[]}),V=B(()=>{var N;return o()==="map"?(N=g(L))==null?void 0:N.map(K=>({file:K.file,title:K.title,places:K.places,geo:K.geo[0]})):[]}),x=jt(!1),S=ut({sortAggregationsBy:"key",sortResultsBy:"file",sortResultsOrder:"asc"}),C=jt(ut(et())),T=jt(ut(ht()));async function M(){g(p)!=="ready"&&(tt(p,"load"),tt(d,ut(new ch)),g(d).addEventListener("message",N=>{const{type:K,data:Pt}=N.data;K==="ready"&&tt(p,"ready"),K==="results"&&tt(v,ut(Pt))}),g(d).postMessage({type:"load",data:{sortAggregationsBy:S.sortAggregationsBy}}))}ze(()=>{F()});async function F(){if(g(p)==="ready"){const N=Object.fromEntries(Object.keys(g(T)).map(K=>[K,[...g(T)[K]]]));g(d).postMessage({type:"search",data:{limit:s(),page:i(),query:a(),sort:`${S.sortResultsBy}_${S.sortResultsOrder}`,filters:N,dateRange:[...g(C)]}})}}function et(){return[-700,1830]}function ht(){return Object.keys(ah.aggregations).filter(N=>N.indexOf("not")<0).reduce((N,K)=>(N[K]=[],N),{})}function dt(){var N;return!g(j)||!((N=g(j))!=null&&N.provenance)?0:g(j).provenance.buckets.length}async function ct(N){N.preventDefault()}async function b(N){N.preventDefault(),Kt(u,""),Kt(c,1),Kt(f,o()==="map"?Me.maxLimit:Me.limit),tt(C,ut(et())),tt(T,ut(ht()))}function l(){const N=et();return a()!==""||g(C).some((K,Pt)=>K!==N[Pt])||Object.keys(g(T)).some(K=>g(T)[K].length>0)}ze(()=>{S.sortAggregationsBy&&g(d)&&g(p)==="ready"&&(g(d).postMessage({type:"load",data:{sortAggregationsBy:S.sortAggregationsBy}}),F())});async function h(N){N==="map"?Kt(f,Me.maxLimit):o()==="map"&&(tt(v,ut({...g(v),data:{...g(v).data,items:[]}})),Kt(f,Me.limit),Kt(c,1)),Kt(m,N)}async function _(){S.sortResultsOrder=S.sortResultsOrder==="asc"?"desc":"asc"}async function A(N){Kt(c,N)}fs(()=>{M()});var O=yh();me("keydown",Ii,N=>{var K;(N.ctrlKey||N.metaKey)&&(N.key==="k"||N.key==="K")&&(N.preventDefault(),tt(x,!g(x))),N.key==="/"&&(N.preventDefault(),(K=document.getElementById("q"))==null||K.focus())});var I=q(O),H=R(I),ot=R(H),Q=$(R(ot),2);Ae(Q);var pt=$(Q,2);const Et=B(()=>!a());At(pt,()=>se,(N,K)=>{K(N,{class:"surface-4",type:"submit",get disabled(){return g(Et)},children:(Pt,ne)=>{Mt();var Lt=Bt("Search");k(Pt,Lt)},$$slots:{default:!0}})});var $t=$(pt,2);const It=B(()=>!l());At($t,()=>se,(N,K)=>{K(N,{class:"surface-1",type:"reset",get disabled(){return g(It)},children:(Pt,ne)=>{Mt();var Lt=Bt("Reset");k(Pt,Lt)},$$slots:{default:!0}})}),z(ot);var yt=$(ot,2),bt=R(yt);const ft=B(()=>g(x)?"surface-4":"surface-1");At(bt,()=>se,(N,K)=>{K(N,{get class(){return g(ft)},onclick:()=>tt(x,!g(x)),children:(Pt,ne)=>{var Lt=lh(),Se=q(Lt);Ic(Se,{}),Mt(),k(Pt,Lt)},$$slots:{default:!0}})}),z(yt),z(H);var gt=$(H,2),Rt=R(gt);{var Nt=N=>{var K=uh();k(N,K)},Xt=N=>{var K=mh(),Pt=q(K);Pd(Pt,{get total(){return g(E)},get dateRange(){return g(C)},get numberOfLocations(){return g(P)},get query(){return a()},get filters(){return g(T)}});var ne=$(Pt,2),Lt=R(ne),Se=R(Lt);const si=B(()=>`${o()==="cards"?"surface-4":"surface-1"}`);At(Se,()=>se,(_t,wt)=>{wt(_t,{get class(){return g(si)},onclick:()=>h("cards"),children:(Ft,Pe)=>{var Ct=dh(),Yt=q(Ct);Rc(Yt,{}),Mt(),k(Ft,Ct)},$$slots:{default:!0}})});var eo=$(Se,2);const ii=B(()=>`${o()==="map"?"surface-4":"surface-1"}`);At(eo,()=>se,(_t,wt)=>{wt(_t,{get class(){return g(ii)},onclick:()=>h("map"),children:(Ft,Pe)=>{var Ct=fh(),Yt=q(Ct);Nc(Yt,{}),Mt(),k(Ft,Ct)},$$slots:{default:!0}})});var ai=$(eo,2);const ci=B(()=>`${o()==="table"?"surface-4":"surface-1"}`);At(ai,()=>se,(_t,wt)=>{wt(_t,{get class(){return g(ci)},onclick:()=>h("table"),children:(Ft,Pe)=>{var Ct=hh(),Yt=q(Ct);Cc(Yt,{}),Mt(),k(Ft,Ct)},$$slots:{default:!0}})}),z(Lt);var ro=$(Lt,2),nr=$(R(ro),2),Zr=R(nr);Zr.value=(Zr.__value="file")==null?"":"file";var Qr=$(Zr);Qr.value=(Qr.__value="notBefore")==null?"":"notBefore";var tn=$(Qr);tn.value=(tn.__value="notAfter")==null?"":"notAfter";var no=$(tn);no.value=(no.__value="title")==null?"":"title",z(nr);var li=$(nr,2);At(li,()=>se,(_t,wt)=>{wt(_t,{class:"order-toggle",onclick:()=>_(),"aria-label":"Toggle sort order from ascending to descending to no order",children:(Ft,Pe)=>{var Ct=nt(),Yt=q(Ct);{var he=oe=>{Ec(oe,{"aria-label":"Ascending"})},en=oe=>{Oc(oe,{"aria-label":"Descending"})};st(Yt,oe=>{S.sortResultsOrder==="asc"?oe(he):oe(en,!1)})}k(Ft,Ct)},$$slots:{default:!0}})}),z(ro),z(ne);var ui=$(ne,2);{var di=_t=>{var wt=ph(),Ft=R(wt);zu(Ft,{get inscriptions(){return g(V)}}),z(wt),Be(1,wt,()=>sr,()=>({duration:500})),Be(2,wt,()=>sr,()=>({duration:250})),k(_t,wt)},fi=_t=>{var wt=vh(),Ft=q(wt);xo(Ft,{get page(){return i()},get count(){return g(E)},get perPage(){return s()},onPageChange:A});var Pe=$(Ft,2);Fi(Pe,o,Yt=>{var he=gh(),en=R(he);{var oe=ke=>{Fu(ke,{get inscriptions(){return g(L)}})},hi=ke=>{ju(ke,{get inscriptions(){return g(L)}})};st(en,ke=>{o()==="table"?ke(oe):ke(hi,!1)})}z(he),Be(1,he,()=>sr,()=>({duration:500})),Be(2,he,()=>sr,()=>({duration:250})),k(Yt,he)});var Ct=$(Pe,2);xo(Ct,{get page(){return i()},get count(){return g(E)},get perPage(){return s()},onPageChange:A}),k(_t,wt)};st(ui,_t=>{o()==="map"?_t(di):_t(fi,!1)})}Yi(nr,()=>S.sortResultsBy,_t=>S.sortResultsBy=_t),k(N,K)};st(Rt,N=>{g(y)?N(Nt):N(Xt,!1)})}z(gt),z(I);var Ht=$(I,2);bd(Ht,{get show(){return g(x)},get aggregations(){return g(j)},get sortAggregationsBy(){return S.sortAggregationsBy},set sortAggregationsBy(N){S.sortAggregationsBy=N},get selectedDateRange(){return g(C)},set selectedDateRange(N){tt(C,ut(N))},get selectedFilters(){return g(T)},set selectedFilters(N){tt(T,ut(N))}}),me("submit",ot,ct),me("reset",ot,b),pr(Q,a,N=>Kt(u,N)),k(t,O),St(),n()}var _h=W('<section class="hero svelte-1ou7ebr"><h1 class="svelte-1ou7ebr"> </h1></section> <!>',1);function Lh(t,e){xt(e,!1),ls();var r=_h(),n=q(r),o=R(n),s=R(o,!0);z(o),z(n);var i=$(n,2);bh(i,{}),Z(()=>rt(s,Mi)),k(t,r),St()}export{Lh as component};

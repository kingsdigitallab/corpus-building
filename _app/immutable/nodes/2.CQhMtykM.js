import{B as Cr,s as ut,e as ne,a as A,t as D,c as Ae,z as Ke,d as Re,b as te,C as Jo,y as Je}from"../chunks/disclose-version.yxoevJ6J.js";import{i as He}from"../chunks/legacy.C6KA_5n4.js";import{aY as Go,a9 as Hn,k as Jn,aG as Ko,U as Jr,a8 as yt,aS as Gn,aR as Kn,p as ye,aT as ie,aU as Xe,f as G,e as T,r as C,t as X,d as be,C as xe,v as re,g as p,aV as de,G as Xo,D as fe,s as U,n as Ee,aZ as Yo,K as Ue,a_ as Zo,u as Gr}from"../chunks/utils.dzgPpf3o.js";import{i as Qo,a as es,s as Mt,b as ts}from"../chunks/config.DdhQxDnJ.js";import{c as Xn,l as le,p as ee,i as se,b as Ye,s as Ze,a as pe}from"../chunks/props.BxeGn5nG.js";import{I as Qe,t as kt,s as rs,k as ns,f as It}from"../chunks/index.D3ZPq1WH.js";import{c as Se}from"../chunks/legacy-client.BL3R9HJC.js";import{a as he,c as et,b as tt,e as Me,i as Ve,s as Ie,h as os,r as pt}from"../chunks/attributes.DJj9jQYP.js";import{a as Yn,c as ss,o as Zn}from"../chunks/index-client.DkxbLtkQ.js";import{w as at,n as is,o as Qn,m as mt,c as eo,b as Jt,d as ot,i as Ge,k as _e,f as Kr,g as or,h as sr,j as as,l as Lt,p as ir,B as cs,s as ls,q as Xr,a as nt}from"../chunks/button.DI-cCWn6.js";import{g as us}from"../chunks/entry.Dmrn9Dt8.js";import{p as ds}from"../chunks/stores._FTYvXLu.js";import{d as zt,w as ct,a as ar}from"../chunks/paths.BWWotBjA.js";import{I as to,m as fs,t as Ft}from"../chunks/maplibre-gl.BTuv7Yai.js";function Gt(e,t,r=t){var o=Go();Cr(e,"input",()=>{var n=Qr(e)?en(e.value):e.value;r(n),o&&n!==(n=t())&&(e.value=n??"")}),Hn(()=>{var n=t();if(Jn&&e.defaultValue!==e.value){r(e.value);return}Qr(e)&&n===en(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}const cr=new Set;function Yr(e,t,r,o,n=o){var s=r.getAttribute("type")==="checkbox",i=e;let c=!1;if(t!==null)for(var f of t)i=i[f]??(i[f]=[]);i.push(r),Cr(r,"change",()=>{var d=r.__value;s&&(d=Zr(i,d,r.checked)),n(d)},()=>n(s?[]:null)),Hn(()=>{var d=o();if(Jn&&r.defaultChecked!==r.checked){c=!0;return}s?(d=d||[],r.checked=d.includes(r.__value)):r.checked=Xn(r.__value,d)}),Ko(()=>{var d=i.indexOf(r);d!==-1&&i.splice(d,1)}),cr.has(i)||(cr.add(i),Jr(()=>{i.sort((d,m)=>d.compareDocumentPosition(m)===4?-1:1),cr.delete(i)})),Jr(()=>{if(c){var d;if(s)d=Zr(i,d,r.checked);else{var m=i.find(b=>b.checked);d=m==null?void 0:m.__value}n(d)}})}function Zr(e,t,r){for(var o=new Set,n=0;n<e.length;n+=1)e[n].checked&&o.add(e[n].__value);return r||o.delete(t),Array.from(o)}function Qr(e){var t=e.type;return t==="number"||t==="range"}function en(e){return e===""?null:+e}function ro(e,t,r){if(e.multiple)return ps(e,t);for(var o of e.options){var n=$t(o);if(Xn(n,t)){o.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function hs(e,t){yt(()=>{var r=new MutationObserver(()=>{var o=e.__value;ro(e,o)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function gs(e,t,r=t){var o=!0;Cr(e,"change",()=>{var n;if(e.multiple)n=[].map.call(e.querySelectorAll(":checked"),$t);else{var s=e.querySelector(":checked");n=s&&$t(s)}r(n)}),yt(()=>{var n=t();if(ro(e,n,o),o&&n===void 0){var s=e.querySelector(":checked");s!==null&&(n=$t(s),r(n))}e.__value=n,o=!1}),hs(e)}function ps(e,t){for(var r of e.options)r.selected=~t.indexOf($t(r))}function $t(e){return"__value"in e?e.__value:e.value}const ms=e=>{try{Yn(e)}catch{return e}},no=(e,t)=>{const r=at(e),o=(s,i)=>{r.update(c=>{const f=s(c);let d=f;return t&&(d=t({curr:c,next:f})),i==null||i(d),d})};return{...r,update:o,set:s=>{o(()=>s)}}};let vs="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",_s=(e=21)=>{let t="",r=e;for(;r--;)t+=vs[Math.random()*64|0];return t};function ys(){return _s(10)}function bs(e){return e.reduce((t,r)=>(t[r]=ys(),t),{})}function tn(e,t){let r;const o=zt(e,s=>{r==null||r(),r=t(s)}).subscribe(is),n=()=>{o(),r==null||r()};return ms(n),n}function oo(e){const t={};return Object.keys(e).forEach(r=>{const o=r,n=e[o];t[o]=at(ct(n))}),t}function lr(e,t,r,o){const n=(e-(isNaN(t)?0:t))%o;let s=Math.abs(n)*2>=o?e+Math.sign(n)*(o-Math.abs(n)):e-n;isNaN(t)?!isNaN(r)&&s>r&&(s=Math.floor(r/o)*o):s<t?s=t:!isNaN(r)&&s>r&&(s=t+Math.floor((r-t)/o)*o);const i=o.toString(),c=i.indexOf("."),f=c>=0?i.length-c:0;if(f>0){const d=Math.pow(10,f);s=Math.round(s*d)/d}return s}function ws({page:e=1,totalPages:t,siblingCount:r=1}){const o=[],n=new Set([1,t]),s=3+r,i=t-2-r;if(s>i)for(let m=2;m<=t-1;m++)n.add(m);else if(e<s)for(let m=2;m<=Math.min(s,t);m++)n.add(m);else if(e>i)for(let m=t-1;m>=Math.max(i,2);m--)n.add(m);else for(let m=Math.max(e-r,2);m<=Math.min(e+r,t);m++)n.add(m);const c=m=>{o.push({type:"page",value:m,key:`page-${m}`})},f=()=>{o.push({type:"ellipsis",key:`ellipsis-${o.length}`})};let d=0;for(const m of Array.from(n).sort((b,y)=>b-y))m-d>1&&f(),c(m),d=m;return o}const xs={perPage:1,siblingCount:1,defaultPage:1},{name:Wt,selector:ur}=eo("pagination");function Ss(e){const t={...xs,...e},r=t.page??ct(t.defaultPage),o=no(r,t==null?void 0:t.onPageChange),n=oo(Qn(t,"page","onPageChange","defaultPage")),{perPage:s,siblingCount:i,count:c}=n,f=at.derived([c,s],([u,k])=>Math.ceil(u/k)),d=zt([o,s,c],([u,k,z])=>{const $=(u-1)*k,R=Math.min($+k,z);return{start:$,end:R}}),m=mt(Wt(),{returned:()=>({"data-scope":"pagination"})}),b=zt([o,f,i],([u,k,z])=>ws({page:u,totalPages:k,siblingCount:z})),y=u=>{const k=u.target;if(!Ge(k))return;const z=k.closest('[data-scope="pagination"]');if(!Ge(z))return;const $=Array.from(z.querySelectorAll(ur("page"))).filter(w=>Ge(w)),R=z.querySelector(ur("prev")),E=z.querySelector(ur("next"));Ge(R)&&$.unshift(R),Ge(E)&&$.push(E);const j=$.indexOf(k);u.key===_e.ARROW_LEFT&&j!==0?(u.preventDefault(),$[j-1].focus()):u.key===_e.ARROW_RIGHT&&j!==$.length-1?(u.preventDefault(),$[j+1].focus()):u.key===_e.HOME?(u.preventDefault(),$[0].focus()):u.key===_e.END&&(u.preventDefault(),$[$.length-1].focus())},S=mt(Wt("page"),{stores:o,returned:u=>k=>({"aria-label":`Page ${k.value}`,"data-value":k.value,"data-selected":k.value===u?"":void 0}),action:u=>({destroy:Jt(ot(u,"click",()=>{const z=u.dataset.value;!z||Number.isNaN(+z)||o.set(Number(z))}),ot(u,"keydown",y))})}),g=mt(Wt("prev"),{stores:o,returned:u=>({"aria-label":"Previous",disabled:u<=1}),action:u=>({destroy:Jt(ot(u,"click",()=>{o.update(z=>Math.max(z-1,1))}),ot(u,"keydown",y))})}),h=mt(Wt("next"),{stores:[o,f],returned:([u,k])=>({"aria-label":"Next",disabled:u>=k}),action:u=>({destroy:Jt(ot(u,"click",()=>{const z=f.get();o.update($=>Math.min($+1,z))}),ot(u,"keydown",y))})});return{elements:{root:m,pageTrigger:S,prevButton:g,nextButton:h},states:{range:ar(d),page:o,pages:ar(b),totalPages:ar(f)},options:n}}const ks={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:Ut}=eo("slider"),$s=e=>{const t={...ks,...e},r=oo(Qn(t,"value","onValueChange","defaultValue")),{min:o,max:n,step:s,orientation:i,dir:c,disabled:f}=r,d=t.value??ct(t.defaultValue),m=no(d,t==null?void 0:t.onValueChange),b=at(ct(!1)),y=at(ct(0)),S=at(ct(null)),g=bs(["root"]),h=(w,L)=>{m.update(I=>{if(!I)return[w];if(I[L]===w)return I;const N=[...I],F=N[L]>w?-1:1;function M(){N[L]=N[L+F],N[L+F]=w;const v=u();v&&(v[L+F].focus(),S.set({thumb:v[L+F],index:L+F}))}if(F===-1&&w<N[L-1])return M(),N;if(F===1&&w>N[L+1])return M(),N;const W=o.get(),q=n.get(),K=s.get();return N[L]=lr(w,W,q,K),N})},u=()=>{const w=ir(g.root);return w?Array.from(w.querySelectorAll('[data-melt-part="thumb"]')).filter(L=>Ge(L)):null},k=zt([o,n],([w,L])=>I=>(I-w)/(L-w)*100),z=at.derived([i,c],([w,L])=>w==="horizontal"?L==="rtl"?"rl":"lr":L==="rtl"?"tb":"bt"),$=mt(Ut(),{stores:[f,i,c],returned:([w,L,I])=>({dir:I,disabled:or(w),"data-disabled":or(w),"data-orientation":L,style:w?void 0:`touch-action: ${L==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":g.root})}),R=mt(Ut("range"),{stores:[m,z,k],returned:([w,L,I])=>{const N=w.length>1?I(Math.min(...w)??0):0,F=100-I(Math.max(...w)??0),M={position:"absolute"};switch(L){case"lr":{M.left=`${N}%`,M.right=`${F}%`;break}case"rl":{M.right=`${N}%`,M.left=`${F}%`;break}case"bt":{M.bottom=`${N}%`,M.top=`${F}%`;break}case"tb":{M.top=`${N}%`,M.bottom=`${F}%`;break}}return{style:sr(M)}}}),E=Kr(Ut("thumb"),{stores:[m,k,o,n,f,i,z],returned:([w,L,I,N,F,M,W])=>Array.from({length:w.length||1},(K,v)=>{y.get()<w.length&&y.update(P=>P+1);const l=w[v],_=`${L(l)}%`,x={position:"absolute"};switch(W){case"lr":{x.left=_,x.translate="-50% 0";break}case"rl":{x.right=_,x.translate="50% 0";break}case"bt":{x.bottom=_,x.translate="0 50%";break}case"tb":{x.top=_,x.translate="0 -50%";break}}return{role:"slider","aria-valuemin":I,"aria-valuemax":N,"aria-valuenow":l,"aria-disabled":or(F),"aria-orientation":M,"data-melt-part":"thumb","data-value":l,style:sr(x),tabindex:F?-1:0}}),action:w=>({destroy:ot(w,"keydown",I=>{if(f.get())return;const N=I.currentTarget;if(!Ge(N))return;const F=u();if(!(F!=null&&F.length))return;const M=F.indexOf(N);if(y.set(M),![_e.ARROW_LEFT,_e.ARROW_RIGHT,_e.ARROW_UP,_e.ARROW_DOWN,_e.HOME,_e.END].includes(I.key))return;I.preventDefault();const W=o.get(),q=n.get(),K=s.get(),v=m.get(),a=i.get(),l=z.get(),_=v[M];switch(I.key){case _e.HOME:{h(W,M);break}case _e.END:{h(q,M);break}case _e.ARROW_LEFT:{if(a!=="horizontal")break;I.metaKey?h(l==="rl"?q:W,M):l==="rl"&&_<q?h(_+K,M):l==="lr"&&_>W&&h(_-K,M);break}case _e.ARROW_RIGHT:{if(a!=="horizontal")break;I.metaKey?h(l==="rl"?W:q,M):l==="rl"&&_>W?h(_-K,M):l==="lr"&&_<q&&h(_+K,M);break}case _e.ARROW_UP:{I.metaKey?h(l==="tb"?W:q,M):l==="tb"&&_>W?h(_-K,M):l!=="tb"&&_<q&&h(_+K,M);break}case _e.ARROW_DOWN:{I.metaKey?h(l==="tb"?q:W,M):l==="tb"&&_<q?h(_+K,M):l!=="tb"&&_>W&&h(_-K,M);break}}})})}),j=Kr(Ut("tick"),{stores:[m,o,n,s,z],returned:([w,L,I,N,F])=>{const M=I-L;let W=Math.ceil(M/N);return M%N==0&&W++,Array.from({length:W},(q,K)=>{const v=`${K*(N/(I-L))*100}%`,a=K===0,l=K===W-1,_=a?0:l?-100:-50,x={position:"absolute"};switch(F){case"lr":{x.left=v,x.translate=`${_}% 0`;break}case"rl":{x.right=v,x.translate=`${-_}% 0`;break}case"bt":{x.bottom=v,x.translate=`0 ${-_}%`;break}case"tb":{x.top=v,x.translate=`0 ${_}%`;break}}const P=L+K*N;return{"data-bounded":(w.length===1?P<=w[0]:w[0]<=P&&P<=w[w.length-1])?!0:void 0,"data-value":P,style:sr(x)}})}});return tn([$,o,n,f,i,z,s],([w,L,I,N,F,M,W])=>{if(!as||N)return;const q=(x,P,O,J)=>{const V=(x-O)/(J-O)*(I-L)+L;if(V<L)h(L,P);else if(V>I)h(I,P);else{const ae=W,ue=L,me=Math.floor((V-ue)/ae),we=ue+me*ae+ae/2,$e=ue+(me+1)*ae+ae/2,B=V>=we&&V<$e?(me+1)*ae+ue:me*ae+ue;B<=I&&h(B,P)}},K=x=>{const P=u();if(!P)return;P.forEach(V=>V.blur());const O=P.map(V=>{if(F==="horizontal"){const{left:ae,right:ue}=V.getBoundingClientRect();return Math.abs(x.clientX-(ae+ue)/2)}else{const{top:ae,bottom:ue}=V.getBoundingClientRect();return Math.abs(x.clientY-(ae+ue)/2)}}),J=P[O.indexOf(Math.min(...O))],Q=P.indexOf(J);return{thumb:J,index:Q}},v=x=>{if(!b.get())return;x.preventDefault(),x.stopPropagation();const P=ir(w["data-melt-id"]),O=S.get();if(!P||!O)return;O.thumb.focus();const{left:J,right:Q,top:V,bottom:ae}=P.getBoundingClientRect();switch(M){case"lr":{q(x.clientX,O.index,J,Q);break}case"rl":{q(x.clientX,O.index,Q,J);break}case"bt":{q(x.clientY,O.index,ae,V);break}case"tb":{q(x.clientY,O.index,V,ae);break}}},a=x=>{if(x.button!==0)return;const P=ir(w["data-melt-id"]),O=K(x);if(!O||!P)return;const J=x.target;!Ge(J)||!P.contains(J)||(x.preventDefault(),S.set(O),O.thumb.focus(),b.set(!0),v(x))},l=()=>{b.set(!1)},_=Jt(Lt(document,"pointerdown",a),Lt(document,"pointerup",l),Lt(document,"pointerleave",l),Lt(document,"pointermove",v));return()=>{_()}}),tn([s,o,n,m],function([L,I,N,F]){const M=q=>lr(q,I,N,L)===q,W=q=>lr(q,I,N,L);F.some(q=>!M(q))&&m.update(q=>q.map(W))}),{elements:{root:$,thumbs:E,range:R,ticks:j},states:{value:m},options:r}};function so(e,t){const r={};return t.forEach(o=>{r[o]={[`data-${e}-${o}`]:""}}),o=>r[o]}function Xt(){const e=ss();return t=>{const{originalEvent:r}=t.detail,{cancelable:o}=t,n=r.type;e(n,{originalEvent:r,currentTarget:r.currentTarget},{cancelable:o})||t.preventDefault()}}function io(e){const t={};for(const r in e){const o=e[r];o!==void 0&&(t[r]=o)}return t}function ao(e){return function(t,r){if(r===void 0)return;const o=e[t];o&&o.set(r)}}function co(){return{NAME:"pagination",PARTS:["root","prev-button","next-button","page"]}}function Ps(e){const{NAME:t,PARTS:r}=co(),o=so(t,r),n={...Ss(io(e)),getAttrs:o};return Gn(t,n),{...n,updateOption:ao(n.options)}}function Rr(){const{NAME:e}=co();return Kn(e)}var js=D("<div><!></div>");function Os(e,t){const r=le(t,["children","$$slots","$$events","$$legacy"]),o=le(r,["count","page","onPageChange","perPage","siblingCount","asChild","el"]);ye(t,!1);const n=ut(),s=()=>Ae(u,"$root",n),i=()=>Ae(k,"$pages",n),c=()=>Ae(z,"$range",n),f=de();let d=ee(t,"count",8),m=ee(t,"page",28,()=>{}),b=ee(t,"onPageChange",24,()=>{}),y=ee(t,"perPage",24,()=>{}),S=ee(t,"siblingCount",24,()=>{}),g=ee(t,"asChild",8,!1),h=ee(t,"el",28,()=>{});const{elements:{root:u},states:{pages:k,range:z,page:$},getAttrs:R,updateOption:E}=Ps({count:d(),perPage:y(),siblingCount:S(),defaultPage:m(),onPageChange:({next:I})=>{var N;return m()!==I&&(m(I),(N=b())==null||N(I)),I}}),j=R("root");ie(()=>xe(m()),()=>{m()!==void 0&&$.set(m())}),ie(()=>s(),()=>{re(f,s())}),ie(()=>p(f),()=>{Object.assign(p(f),j)}),ie(()=>xe(d()),()=>{E("count",d())}),ie(()=>xe(y()),()=>{E("perPage",y())}),ie(()=>xe(S()),()=>{E("siblingCount",S())}),Xe(),He();var w=ne(),L=G(w);se(L,g,I=>{var N=ne(),F=G(N);he(F,t,"default",{get builder(){return p(f)},get pages(){return i()},get range(){return c()}},null),A(I,N)},I=>{var N=js();let F;var M=T(N);he(M,t,"default",{get builder(){return p(f)},get pages(){return i()},get range(){return c()}},null),C(N),Ye(N,W=>h(W),()=>h()),et(N,W=>p(f).action(W)),X(()=>F=tt(N,F,{...p(f),...o})),A(I,N)}),A(e,w),be()}var As=D("<button><!></button>");function zs(e,t){const r=le(t,["children","$$slots","$$events","$$legacy"]),o=le(r,["asChild","el"]);ye(t,!1);const n=ut(),s=()=>Ae(d,"$prevButton",n),i=de();let c=ee(t,"asChild",24,()=>{}),f=ee(t,"el",28,()=>{});const{elements:{prevButton:d},getAttrs:m}=Rr(),b=m("prev-button"),y=Xt();ie(()=>s(),()=>{re(i,s())}),ie(()=>p(i),()=>{Object.assign(p(i),b)}),Xe(),He();var S=ne(),g=G(S);se(g,c,h=>{var u=ne(),k=G(u);he(k,t,"default",{get builder(){return p(i)}},null),A(h,u)},h=>{var u=As();let k;var z=T(u);he(z,t,"default",{get builder(){return p(i)}},null),C(u),Ye(u,$=>f($),()=>f()),et(u,$=>p(i).action($)),yt(()=>Ke("m-click",u,y)),X(()=>k=tt(u,k,{...p(i),type:"button",...o})),A(h,u)}),A(e,S),be()}var Es=D("<button><!></button>");function Ns(e,t){const r=le(t,["children","$$slots","$$events","$$legacy"]),o=le(r,["asChild","el"]);ye(t,!1);const n=ut(),s=()=>Ae(d,"$nextButton",n),i=de();let c=ee(t,"asChild",24,()=>{}),f=ee(t,"el",28,()=>{});const{elements:{nextButton:d},getAttrs:m}=Rr(),b=m("next-button"),y=Xt();ie(()=>s(),()=>{re(i,s())}),ie(()=>p(i),()=>{Object.assign(p(i),b)}),Xe(),He();var S=ne(),g=G(S);se(g,c,h=>{var u=ne(),k=G(u);he(k,t,"default",{get builder(){return p(i)}},null),A(h,u)},h=>{var u=Es();let k;var z=T(u);he(z,t,"default",{get builder(){return p(i)}},null),C(u),Ye(u,$=>f($),()=>f()),et(u,$=>p(i).action($)),yt(()=>Ke("m-click",u,y)),X(()=>k=tt(u,k,{...p(i),type:"button",...o})),A(h,u)}),A(e,S),be()}var Cs=D("<button><!></button>");function Rs(e,t){const r=le(t,["children","$$slots","$$events","$$legacy"]),o=le(r,["asChild","page","el"]);ye(t,!1);const n=ut(),s=()=>Ae(m,"$pageTrigger",n),i=de();let c=ee(t,"asChild",24,()=>{}),f=ee(t,"page",8),d=ee(t,"el",28,()=>{});const{elements:{pageTrigger:m},getAttrs:b}=Rr(),y=b("page"),S=Xt();ie(()=>(s(),xe(f())),()=>{re(i,s()(f()))}),ie(()=>p(i),()=>{Object.assign(p(i),y)}),Xe(),He();var g=ne(),h=G(g);se(h,c,u=>{var k=ne(),z=G(k);he(z,t,"default",{get builder(){return p(i)}},null),A(u,k)},u=>{var k=Cs();let z;var $=T(k);he($,t,"default",{get builder(){return p(i)}},R=>{var E=Re();X(()=>te(E,f().value)),A(R,E)}),C(k),Ye(k,R=>d(R),()=>d()),et(k,R=>p(i).action(R)),yt(()=>Ke("m-click",k,S)),X(()=>z=tt(k,z,{type:"button",...p(i),...o})),A(u,k)}),A(e,g),be()}function lo(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function Ts(e){const{NAME:t,PARTS:r}=lo(),o=so(t,r),n={...$s(io(e)),getAttrs:o};return Gn(t,n),{...n,updateOption:ao(n.options)}}function uo(){const{NAME:e}=lo();return Kn(e)}var Ms=D("<span><!></span>");function Is(e,t){const r=le(t,["children","$$slots","$$events","$$legacy"]),o=le(r,["disabled","min","max","step","orientation","dir","value","onValueChange","asChild","el"]);ye(t,!1);const n=ut(),s=()=>Ae($,"$root",n),i=()=>Ae(R,"$ticks",n),c=()=>Ae(E,"$thumbs",n),f=de();let d=ee(t,"disabled",24,()=>{}),m=ee(t,"min",24,()=>{}),b=ee(t,"max",24,()=>{}),y=ee(t,"step",24,()=>{}),S=ee(t,"orientation",24,()=>{}),g=ee(t,"dir",24,()=>{}),h=ee(t,"value",28,()=>{}),u=ee(t,"onValueChange",24,()=>{}),k=ee(t,"asChild",8,!1),z=ee(t,"el",28,()=>{});const{elements:{root:$,ticks:R,thumbs:E},states:{value:j},updateOption:w,getAttrs:L}=Ts({disabled:d(),dir:g(),min:m(),max:b(),step:y(),orientation:S(),defaultValue:h(),onValueChange:({next:M})=>{var W;return h()!==M&&((W=u())==null||W(M),h(M)),M}}),I=L("root");ie(()=>xe(h()),()=>{h()!==void 0&&j.set(h())}),ie(()=>xe(d()),()=>{w("disabled",d())}),ie(()=>xe(m()),()=>{w("min",m())}),ie(()=>xe(b()),()=>{w("max",b())}),ie(()=>xe(y()),()=>{w("step",y())}),ie(()=>xe(S()),()=>{w("orientation",S())}),ie(()=>xe(g()),()=>{w("dir",g())}),ie(()=>s(),()=>{re(f,s())}),ie(()=>p(f),()=>{Object.assign(p(f),I)}),Xe(),He();var N=ne(),F=G(N);se(F,k,M=>{var W=ne(),q=G(W);he(q,t,"default",{get builder(){return p(f)},get ticks(){return i()},get thumbs(){return c()}},null),A(M,W)},M=>{var W=Ms();let q;var K=T(W);he(K,t,"default",{get builder(){return p(f)},get ticks(){return i()},get thumbs(){return c()}},null),C(W),Ye(W,v=>z(v),()=>z()),et(W,v=>p(f).action(v)),X(()=>q=tt(W,q,{...p(f),...o})),A(M,W)}),A(e,N),be()}var Ls=D("<span></span>");function Fs(e,t){const r=le(t,["children","$$slots","$$events","$$legacy"]),o=le(r,["asChild","el"]);ye(t,!1);const n=ut(),s=()=>Ae(d,"$range",n),i=de();let c=ee(t,"asChild",8,!1),f=ee(t,"el",28,()=>{});const{elements:{range:d},getAttrs:m}=uo(),b=m("range");ie(()=>s(),()=>{re(i,s())}),ie(()=>p(i),()=>{Object.assign(p(i),b)}),Xe(),He();var y=ne(),S=G(y);se(S,c,g=>{var h=ne(),u=G(h);he(u,t,"default",{get builder(){return p(i)}},null),A(g,h)},g=>{var h=Ls();let u;Ye(h,k=>f(k),()=>f()),et(h,k=>p(i).action(k)),X(()=>u=tt(h,u,{...p(i),...o})),A(g,h)}),A(e,y),be()}var Ws=D("<span></span>");function Us(e,t){const r=le(t,["children","$$slots","$$events","$$legacy"]),o=le(r,["asChild","el","thumb"]);ye(t,!1);const n=de();let s=ee(t,"asChild",8,!1),i=ee(t,"el",28,()=>{}),c=ee(t,"thumb",8);const{getAttrs:f}=uo(),d=Xt(),m=f("thumb");ie(()=>xe(c()),()=>{re(n,c())}),ie(()=>p(n),()=>{Object.assign(p(n),m)}),Xe(),He();var b=ne(),y=G(b);se(y,s,S=>{var g=ne(),h=G(g);he(h,t,"default",{get builder(){return p(n)}},null),A(S,g)},S=>{var g=Ws();let h;Ye(g,u=>i(u),()=>i()),et(g,u=>p(n).action(u)),yt(()=>Ke("m-keydown",g,d)),X(()=>h=tt(g,h,{...p(n),...o})),A(S,g)}),A(e,b),be()}function Bs(e,t){const r=le(t,["children","$$slots","$$events","$$legacy"]);Qe(e,Ze({name:"arrow-down"},()=>r,{iconNode:[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]],children:(n,s)=>{var i=ne(),c=G(i);he(c,t,"default",{},null),A(n,i)},$$slots:{default:!0}}))}function qs(e,t){const r=le(t,["children","$$slots","$$events","$$legacy"]);Qe(e,Ze({name:"arrow-up"},()=>r,{iconNode:[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]],children:(n,s)=>{var i=ne(),c=G(i);he(c,t,"default",{},null),A(n,i)},$$slots:{default:!0}}))}function Ds(e,t){const r=le(t,["children","$$slots","$$events","$$legacy"]);Qe(e,Ze({name:"chevron-left"},()=>r,{iconNode:[["path",{d:"m15 18-6-6 6-6"}]],children:(n,s)=>{var i=ne(),c=G(i);he(c,t,"default",{},null),A(n,i)},$$slots:{default:!0}}))}function Vs(e,t){const r=le(t,["children","$$slots","$$events","$$legacy"]);Qe(e,Ze({name:"chevron-right"},()=>r,{iconNode:[["path",{d:"m9 18 6-6-6-6"}]],children:(n,s)=>{var i=ne(),c=G(i);he(c,t,"default",{},null),A(n,i)},$$slots:{default:!0}}))}function Hs(e,t){const r=le(t,["children","$$slots","$$events","$$legacy"]);Qe(e,Ze({name:"filter"},()=>r,{iconNode:[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}]],children:(n,s)=>{var i=ne(),c=G(i);he(c,t,"default",{},null),A(n,i)},$$slots:{default:!0}}))}function Js(e,t){const r=le(t,["children","$$slots","$$events","$$legacy"]);Qe(e,Ze({name:"layout-grid"},()=>r,{iconNode:[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"}]],children:(n,s)=>{var i=ne(),c=G(i);he(c,t,"default",{},null),A(n,i)},$$slots:{default:!0}}))}function Gs(e,t){const r=le(t,["children","$$slots","$$events","$$legacy"]);Qe(e,Ze({name:"map"},()=>r,{iconNode:[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"}],["path",{d:"M15 5.764v15"}],["path",{d:"M9 3.236v15"}]],children:(n,s)=>{var i=ne(),c=G(i);he(c,t,"default",{},null),A(n,i)},$$slots:{default:!0}}))}function Ks(e,t){const r=le(t,["children","$$slots","$$events","$$legacy"]);Qe(e,Ze({name:"table"},()=>r,{iconNode:[["path",{d:"M12 3v18"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}]],children:(n,s)=>{var i=ne(),c=G(i);he(c,t,"default",{},null),A(n,i)},$$slots:{default:!0}}))}function Xs(e){return new Worker(""+new URL("../workers/worker-4efLmWcT.js",import.meta.url).href,{name:e==null?void 0:e.name})}let Bt=String.fromCharCode,fo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",qt={};function Ys(e,t){if(!qt[e]){qt[e]={};for(let r=0;r<e.length;r++)qt[e][e.charAt(r)]=r}return qt[e][t]}function Zs(e){return e==null?"":ei(e,6,function(t){return fo.charAt(t)})}function Qs(e){return e==null?"":e==""?null:ti((e=e.replace(/ /g,"+")).length,32,function(t){return Ys(fo,e.charAt(t))})}function ei(e,t,r){if(e==null)return"";let o,n,s={},i={},c="",f="",d="",m=2,b=3,y=2,S=[],g=0,h=0,u;for(u=0;u<e.length;u+=1)if(c=e.charAt(u),Object.prototype.hasOwnProperty.call(s,c)||(s[c]=b++,i[c]=!0),f=d+c,Object.prototype.hasOwnProperty.call(s,f))d=f;else{if(Object.prototype.hasOwnProperty.call(i,d)){if(256>d.charCodeAt(0)){for(o=0;o<y;o++)g<<=1,h==t-1?(h=0,S.push(r(g)),g=0):h++;for(o=0,n=d.charCodeAt(0);o<8;o++)g=g<<1|1&n,h==t-1?(h=0,S.push(r(g)),g=0):h++,n>>=1}else{for(o=0,n=1;o<y;o++)g=g<<1|n,h==t-1?(h=0,S.push(r(g)),g=0):h++,n=0;for(o=0,n=d.charCodeAt(0);o<16;o++)g=g<<1|1&n,h==t-1?(h=0,S.push(r(g)),g=0):h++,n>>=1}--m==0&&(m=Math.pow(2,y),y++),delete i[d]}else for(o=0,n=s[d];o<y;o++)g=g<<1|1&n,h==t-1?(h=0,S.push(r(g)),g=0):h++,n>>=1;--m==0&&(m=Math.pow(2,y),y++),s[f]=b++,d=String(c)}if(d!==""){if(Object.prototype.hasOwnProperty.call(i,d)){if(256>d.charCodeAt(0)){for(o=0;o<y;o++)g<<=1,h==t-1?(h=0,S.push(r(g)),g=0):h++;for(o=0,n=d.charCodeAt(0);o<8;o++)g=g<<1|1&n,h==t-1?(h=0,S.push(r(g)),g=0):h++,n>>=1}else{for(o=0,n=1;o<y;o++)g=g<<1|n,h==t-1?(h=0,S.push(r(g)),g=0):h++,n=0;for(o=0,n=d.charCodeAt(0);o<16;o++)g=g<<1|1&n,h==t-1?(h=0,S.push(r(g)),g=0):h++,n>>=1}--m==0&&(m=Math.pow(2,y),y++),delete i[d]}else for(o=0,n=s[d];o<y;o++)g=g<<1|1&n,h==t-1?(h=0,S.push(r(g)),g=0):h++,n>>=1;--m==0&&(m=Math.pow(2,y),y++)}for(o=0,n=2;o<y;o++)g=g<<1|1&n,h==t-1?(h=0,S.push(r(g)),g=0):h++,n>>=1;for(;;){if(g<<=1,h==t-1){S.push(r(g));break}h++}return S.join("")}function ti(e,t,r){let o=[],n=4,s=4,i=3,c="",f=[],d,m,b,y,S,g,h,u={val:r(0),position:t,index:1};for(d=0;d<3;d+=1)o[d]=d;for(b=0,S=4,g=1;g!=S;)y=u.val&u.position,u.position>>=1,u.position==0&&(u.position=t,u.val=r(u.index++)),b|=(y>0?1:0)*g,g<<=1;switch(b){case 0:for(b=0,S=256,g=1;g!=S;)y=u.val&u.position,u.position>>=1,u.position==0&&(u.position=t,u.val=r(u.index++)),b|=(y>0?1:0)*g,g<<=1;h=Bt(b);break;case 1:for(b=0,S=65536,g=1;g!=S;)y=u.val&u.position,u.position>>=1,u.position==0&&(u.position=t,u.val=r(u.index++)),b|=(y>0?1:0)*g,g<<=1;h=Bt(b);break;case 2:return""}for(o[3]=h,m=h,f.push(h);;){if(u.index>e)return"";for(b=0,S=Math.pow(2,i),g=1;g!=S;)y=u.val&u.position,u.position>>=1,u.position==0&&(u.position=t,u.val=r(u.index++)),b|=(y>0?1:0)*g,g<<=1;switch(h=b){case 0:for(b=0,S=256,g=1;g!=S;)y=u.val&u.position,u.position>>=1,u.position==0&&(u.position=t,u.val=r(u.index++)),b|=(y>0?1:0)*g,g<<=1;o[s++]=Bt(b),h=s-1,n--;break;case 1:for(b=0,S=65536,g=1;g!=S;)y=u.val&u.position,u.position>>=1,u.position==0&&(u.position=t,u.val=r(u.index++)),b|=(y>0?1:0)*g,g<<=1;o[s++]=Bt(b),h=s-1,n--;break;case 2:return f.join("")}if(n==0&&(n=Math.pow(2,i),i++),o[h])c=o[h];else{if(h!==s)return null;c=m+m.charAt(0)}f.push(c),o[s++]=m+c.charAt(0),n--,m=c,n==0&&(n=Math.pow(2,i),i++)}}let ho;ho=ds;const ri={keepFocus:!0,noScroll:!0,replaceState:!0},ni={keepFocus:!0,noScroll:!0,replaceState:!1};function dr(e,t,r=(o,n)=>JSON.stringify(o)===JSON.stringify(n)){return typeof e=="object"&&typeof t=="object"&&r(e,t)}const fr={object:e=>({encode:t=>JSON.stringify(t),decode:t=>{if(t===null)return null;try{return JSON.parse(t)}catch{return null}},defaultValue:e}),array:e=>({encode:t=>JSON.stringify(t),decode:t=>{if(t===null)return null;try{return JSON.parse(t)}catch{return null}},defaultValue:e}),number:e=>({encode:t=>t.toString(),decode:t=>t?parseFloat(t):null,defaultValue:e}),boolean:e=>({encode:t=>t+"",decode:t=>t!==null&&t!=="false",defaultValue:e}),string:e=>({encode:t=>t??"",decode:t=>t,defaultValue:e}),lz:e=>({encode:t=>Zs(JSON.stringify(t)),decode:t=>{if(!t)return null;try{return JSON.parse(Qs(t)??"")}catch{return null}},defaultValue:e})},hr=new Set;let rn;const nn=new Map,gr={encode:e=>e.toString(),decode:e=>e?e.toString():null};function pr(e,{encode:t=gr.encode,decode:r=gr.decode,defaultValue:o}=gr,{debounceHistory:n=0,pushHistory:s=!0,sort:i=!0,showDefaults:c=!0,equalityFn:f}={}){const d=ct(null);let m=!0,b;function y(g,h){m=!1;const u=window.location.hash,k=$=>{if(g==null)$.delete(e);else{const R=t(g);R==null?$.delete(e):$.set(e,R)}};hr.add(k),clearTimeout(rn);const z=new URLSearchParams(window.location.search);rn=setTimeout(async()=>{hr.forEach($=>{$(z)}),clearTimeout(nn.get(e));{d.set(g);async function $(){i&&z.sort(),await us(`?${z}${u}`,s?ni:ri),d.set(null)}h||n===0?$():nn.set(e,setTimeout($,n))}hr.clear()})}const{subscribe:S}=zt([ho,d],([g,h],u)=>{var $,R,E;if(h!=null)return dr(b,h,f)?void 0:(b=structuredClone(h),u(h));const k=(E=(R=($=g==null?void 0:g.url)==null?void 0:$.searchParams)==null?void 0:R.get)==null?void 0:E.call(R,e);if(k==null&&o!=null)return c&&y(o,m),dr(b,o,f)?void 0:(b=structuredClone(o),u(o));const z=r(k);if(!dr(b,z,f))return b=structuredClone(z),u(z)});return{set(g){y(g)},subscribe:S,update:g=>{const h=g(b);y(h)}}}function Pt(e,t){let r=ee(t,"title",3,"");const o=fe(()=>t.children);var n=fe(()=>`/inscription/${t.id}`),s=fe(()=>r()||t.id);cs(e,{get href(){return p(n)},get title(){return p(s)},children:(i,c)=>{var f=ne(),d=G(f);ls(d,()=>p(o)??Xo),A(i,f)},$$slots:{default:!0}})}var oi=D("<em> </em>"),si=D("<a> </a>"),ii=D('<span class="svelte-192ea9n"><!> <!> </span>'),ai=D('<div class="inscription-place"></div>');function go(e,t){ye(t,!0);let r=fe(()=>{var n,s;return(s=(n=t.inscription)==null?void 0:n.places)==null?void 0:s.slice(0,2)});var o=ai();Me(o,21,()=>p(r),Ve,(n,s)=>{var i=ne(),c=G(i);se(c,()=>p(s),f=>{var d=ii(),m=T(d);se(m,()=>p(s).offset,S=>{var g=oi(),h=T(g,!0);C(g),X(()=>te(h,p(s).offset)),A(S,g)});var b=U(m,2);se(b,()=>p(s).ref,S=>{var g=si(),h=T(g,!0);C(g),X(()=>{Ie(g,"href",p(s).ref),te(h,p(s)._)}),A(S,g)},S=>{var g=Re();X(()=>te(g,p(s)._)),A(S,g)});var y=U(b);C(d),X(()=>te(y,` (${p(s).type??""})`)),A(f,d)}),A(n,i)}),C(o),A(e,o),be()}var ci=D("<a> </a>"),li=D("<a> </a>"),ui=D("<tr><td><!></td><td><!></td><td><!></td><td><!></td><td> </td><td><!></td><td><!></td><td> </td><td> </td></tr>");function di(e,t){ye(t,!0);var r=ui(),o=T(r),n=T(o);Pt(n,{get id(){return t.inscription.file},children:(E,j)=>{Ee();var w=Re();X(()=>te(w,t.inscription.file)),A(E,w)},$$slots:{default:!0}}),C(o);var s=U(o),i=T(s);Pt(i,{get id(){return t.inscription.file},children:(E,j)=>{Ee();var w=Re();X(()=>te(w,t.inscription.title)),A(E,w)},$$slots:{default:!0}}),C(s);var c=U(s),f=T(c);to(f,{get inscription(){return t.inscription}}),C(c);var d=U(c),m=T(d);go(m,{get inscription(){return t.inscription}}),C(d);var b=U(d),y=T(b,!0);C(b);var S=U(b),g=T(S);se(g,()=>{var E;return(E=t.inscription.type)==null?void 0:E.ref},E=>{var j=ci(),w=T(j,!0);C(j),X(()=>{var L;Ie(j,"href",t.inscription.type.ref),te(w,(L=t.inscription.type)==null?void 0:L._)}),A(E,j)},E=>{var j=Re();X(()=>{var w;return te(j,((w=t.inscription.type)==null?void 0:w._)||"N/A")}),A(E,j)}),C(S);var h=U(S),u=T(h);se(u,()=>{var E;return(E=t.inscription.objectType)==null?void 0:E.ref},E=>{var j=li(),w=T(j,!0);C(j),X(()=>{var L;Ie(j,"href",t.inscription.objectType.ref),te(w,(L=t.inscription.objectType)==null?void 0:L._)}),A(E,j)},E=>{var j=Re();X(()=>{var w;return te(j,((w=t.inscription.objectType)==null?void 0:w._)||"N/A")}),A(E,j)}),C(h);var k=U(h),z=T(k,!0);C(k);var $=U(k),R=T($,!0);C($),C(r),X(()=>{var E;te(y,t.inscription.status),te(z,((E=t.inscription.textLang)==null?void 0:E._)||"N/A"),te(R,t.inscription.settlement||"N/A")}),A(e,r),be()}var fi=D('<table class="svelte-g7in6g"><thead><tr><th>ID</th><th>Title</th><th>Date</th><th>Place</th><th>Status</th><th>Type</th><th>Object type</th><th>Language</th><th>Settlement</th></tr></thead><!></table>');function hi(e,t){var r=fi(),o=U(T(r));Me(o,17,()=>t.inscriptions,Ve,(n,s)=>{di(n,{get inscription(){return p(s)}})}),C(r),A(e,r)}const gi={"images.ctfassets.net":"contentful","cdn.builder.io":"builder.io","images.prismic.io":"imgix","www.datocms-assets.com":"imgix","cdn.sanity.io":"imgix","images.unsplash.com":"imgix","cdn.shopify.com":"shopify","s7d1.scene7.com":"scene7","ip.keycdn.com":"keycdn","assets.caisy.io":"bunny","images.contentstack.io":"contentstack","ucarecdn.com":"uploadcare","imagedelivery.net":"cloudflare_images"},pi={"imgix.net":"imgix","files.wordpress.com":"wordpress","b-cdn.net":"bunny","storyblok.com":"storyblok","kc-usercontent.com":"kontent.ai","cloudinary.com":"cloudinary","kxcdn.com":"keycdn","imgeng.in":"imageengine","imagekit.io":"imagekit","cloudimg.io":"cloudimage","ucarecdn.com":"uploadcare","supabase.co":"supabase"},mi={"/cdn-cgi/image/":"cloudflare","/cdn-cgi/imagedelivery/":"cloudflare_images","/_next/image":"nextjs","/_next/static":"nextjs","/_vercel/image":"vercel","/is/image":"scene7","/_ipx/":"ipx","/_image":"astro","/.netlify/images":"netlify","/storage/v1/object/public/":"supabase","/storage/v1/render/image/public/":"supabase"},vt=e=>{if(!e)return e;const t=Number(e);return isNaN(t)?e:Math.round(t)},H=(e,t,r,o,n)=>{r?(n&&(r=vt(r)),e.searchParams.set(t,r.toString())):o&&e.searchParams.delete(t)},ke=(e,t,r)=>{e.searchParams.has(t)||e.searchParams.set(t,r.toString())},Et=(e,t)=>{const r=Number(e.searchParams.get(t));return isNaN(r)?void 0:r},po=e=>{const{pathname:t,search:r}=e;return`${t}${r}`},Tr=e=>e.hostname==="n"?po(e):e.toString(),oe=(e,t)=>typeof e=="string"?new URL(e,t??"http://n/"):e,on=new Map(Object.entries(gi)),vi=Object.entries(pi);function _i(e){return mo(e)||yi(e)}function mo(e){if(typeof e=="string"&&!e.startsWith("https://"))return!1;const{hostname:t}=oe(e);if(on.has(t))return on.get(t);for(const[r,o]of vi)if(t.endsWith(`.${r}`))return o;return!1}function yi(e){const{pathname:t}=oe(e);for(const[r,o]of Object.entries(mi))if(t.startsWith(r))return o;return!1}const bi=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return t&&t>4e3&&(r&&(r=Math.round(r*4e3/t)),t=4e3),r&&r>4e3&&(t&&(t=Math.round(t*4e3/r)),r=4e3),H(n,"w",t,!0,!0),H(n,"h",r,!0,!0),H(n,"fm",o),ke(n,"fit","fill"),n},wi=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return H(n,"width",t,!0,!0),H(n,"height",r,!0,!0),H(n,"format",o),t&&r&&(ke(n,"fit","cover"),ke(n,"sharp","true")),n},xi=({url:e,width:t,height:r,format:o})=>{var s;const n=oe(e);if(H(n,"w",t,!0,!0),H(n,"h",r,!0,!0),ke(n,"fit","min"),o){n.searchParams.set("fm",o);const i=n.searchParams.get("auto");i==="format"?n.searchParams.delete("auto"):i!=null&&i.includes("format")&&n.searchParams.set("auto",i.split(",").filter(c=>c!=="format").join(","))}else n.searchParams.delete("fm"),(s=n.searchParams.get("auto"))!=null&&s.includes("format")||n.searchParams.append("auto","format");return n},Si=/(.+?)(?:_(?:(pico|icon|thumb|small|compact|medium|large|grande|original|master)|(\d*)x(\d*)))?(?:_crop_([a-z]+))?(\.[a-zA-Z]+)(\.png|\.jpg|\.webp|\.avif)?$/,ki=e=>{const t=oe(e),r=t.pathname.match(Si);if(!r)throw new Error("Invalid Shopify URL");const[,o,n,s,i,c,f,d]=r;t.pathname=`${o}${f}`;const m=s||t.searchParams.get("width"),b=i||t.searchParams.get("height");return t.searchParams.delete("width"),t.searchParams.delete("height"),{base:t.toString(),width:Number(m)||void 0,height:Number(b)||void 0,format:d?d.slice(1):void 0,params:{crop:c,size:n},cdn:"shopify"}},$i=({base:e,width:t,height:r,format:o,params:n})=>{const s=oe(e);return H(s,"width",t,!0,!0),H(s,"height",r,!0,!0),H(s,"crop",n==null?void 0:n.crop),H(s,"format",o),s},Pi=({url:e,width:t,height:r})=>{const o=ki(e);if(!o)return;const n={...o,width:t,height:r};return $i(n)},ji=({url:e,width:t,height:r})=>{const o=oe(e);return H(o,"w",t,!0,!0),H(o,"h",r,!0,!0),ke(o,"crop","1"),o},Oi=({url:e,width:t,height:r})=>{const o=oe(e);return H(o,"w",t,!0,!0),H(o,"h",r,!0,!0),H(o,"q",Et(o,"q"),!0),o},Ai=/https?:\/\/(?<host>[^\/]+)\/(?<cloudName>[^\/]+)\/(?<assetType>image|video|raw)\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)\/?(?<signature>s\-\-[a-zA-Z0-9]+\-\-)?\/?(?<transformations>(?:[^_\/]+_[^,\/]+,?)*)?\/(?:(?<version>v\d+)\/)?(?<idAndFormat>[^\s]+)$/g,zi=e=>e?Object.fromEntries(e.split(",").map(t=>t.split("_"))):{},vo=({host:e,cloudName:t,assetType:r,deliveryType:o,signature:n,transformations:s={},version:i,id:c,format:f})=>{f&&(s.f=f);const d=Object.entries(s).map(([b,y])=>`${b}_${y}`).join(",");return`https://${[e,t,r,o,n,d,i,c].filter(Boolean).join("/")}`},_o=e=>{const r=[...oe(e).toString().matchAll(Ai)];if(!r.length)throw new Error("Invalid Cloudinary URL");const o=r[0].groups||{},{transformations:n="",idAndFormat:s,...i}=o;delete o.idAndFormat;const c=s.lastIndexOf("."),f=c<0?s:s.slice(0,c),d=c<0?void 0:s.slice(c+1),{w:m,h:b,f:y,...S}=zi(n),g=y&&y!=="auto"?y:d;return{base:vo({...i,id:f,transformations:S}),width:Number(m)||void 0,height:Number(b)||void 0,format:g,cdn:"cloudinary",params:{...o,id:o.deliveryType==="fetch"?s:f,format:g,transformations:S}}},Ei=({base:e,width:t,height:r,format:o,params:n})=>{var c;const s=_o(e.toString()),i={transformations:{},...s.params,...n,format:o||"auto"};return t&&(i.transformations.w=vt(t).toString()),r&&(i.transformations.h=vt(r).toString()),(c=i.transformations).c||(c.c="lfill"),vo(i)},Ni=({url:e,width:t,height:r,format:o="auto"})=>{var i,c;const n=_o(e);if(!n)throw new Error("Invalid Cloudinary URL");if(((i=n.params)==null?void 0:i.assetType)!=="image")throw new Error("Cloudinary transformer only supports images");if((c=n.params)!=null&&c.signature)throw new Error("Cloudinary transformer does not support signed URLs");const s={...n,width:t,height:r,format:o};return Ei(s)},Ci=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/image\/(?<transformations>[^\/]+)?\/(?<path>.*)$/g,Ri=e=>Object.fromEntries(e.split(",").map(t=>t.split("="))),yo=({host:e,transformations:t={},path:r})=>{const o=Object.entries(t).map(([s,i])=>`${s}=${i}`).join(",");return`https://${[e,"cdn-cgi","image",o,r].join("/")}`},bo=e=>{const t=oe(e),r=[...t.toString().matchAll(Ci)];if(!r.length)throw new Error("Invalid Cloudflare URL");const o=r[0].groups||{},{transformations:n,...s}=o,{width:i,height:c,f,...d}=Ri(n);return yo({...s,transformations:d}),{base:t.toString(),width:Number(i)||void 0,height:Number(c)||void 0,format:f,cdn:"cloudflare",params:{...o,transformations:d}}},Ti=({base:e,width:t,height:r,format:o,params:n})=>{var c;const s=bo(e.toString()),i={transformations:{},...s.params,...n};return t&&(i.transformations.width=t==null?void 0:t.toString()),r&&(i.transformations.height=r==null?void 0:r.toString()),o&&(i.transformations.f=o==="jpg"?"jpeg":o),(c=i.transformations).fit||(c.fit="cover"),new URL(yo(i))},Mi=({url:e,width:t,height:r,format:o="auto"})=>{const n=bo(e);if(!n)throw new Error("Invalid Cloudflare URL");const s={...n,width:t,height:r,format:o};return Ti(s)},Ii=({url:e,width:t,height:r})=>{const o=oe(e);return H(o,"width",t,!0,!0),t&&r&&ke(o,"aspect_ratio",`${t}:${r}`),o},Li=/(?<id>\/f\/\d+\/\d+x\d+\/\w+\/[^\/]+)\/?(?<modifiers>m\/?(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?)?$/g,Fi=/^(?<modifiers>\/(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?\/?)?(?<id>\/f\/.+)$/g,Wi=e=>e?Object.fromEntries(e.split(":").map(t=>{if(!t)return[];const[r,o]=t.split("(");return[r,o.replace(")","")]})):{},Ui=e=>{if(!e)return;const t=Object.entries(e).map(([r,o])=>`${r}(${o??""})`);if(t.length!==0)return`filters:${t.join(":")}`},Bi=e=>{const t=oe(e),r=t.hostname==="img2.storyblok.com"?Fi:Li,[o]=t.pathname.matchAll(r);if(!o||!o.groups)throw new Error("Invalid Storyblok URL");const{id:n,crop:s,width:i,height:c,filters:f,flipx:d,flipy:m}=o.groups,{format:b,...y}=Wi(f);return t.hostname==="img2.storyblok.com"&&(t.hostname="a.storyblok.com"),{base:t.origin+n,width:Number(i)||void 0,height:Number(c)||void 0,format:b,params:{crop:s,filters:y,flipx:d,flipy:m},cdn:"storyblok"}},qi=({base:e,width:t=0,height:r=0,format:o,params:n={}})=>{const{crop:s,filters:i,flipx:c="",flipy:f=""}=n,d=`${c}${t}x${f}${r}`;return new URL([e,"m",s,d,Ui(i),o].filter(Boolean).join("/"))},Di=({url:e,width:t,height:r,format:o})=>{const n=Bi(e);if(n)return o&&(n.params||(n.params={filters:{}}),n.params.filters||(n.params.filters={}),n.params.filters.format=o),qi({...n,width:t,height:r})},Vi=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return H(n,"w",t,!0,!0),H(n,"h",r,!0,!0),H(n,"fm",o,!0),t&&r&&ke(n,"fit","crop"),n},sn=e=>{const r=oe(e).searchParams.get("url");if(!r||!r.startsWith("http"))return!1;const o=mo(r);return o?{cdn:o,url:r}:!1},Hi=({base:e,width:t,params:{quality:r=75,root:o="_vercel"}={}})=>{const n=new URL("http://n");return n.pathname=`/${o}/image`,n.searchParams.set("url",e.toString()),H(n,"w",t,!1,!0),ke(n,"q",r),po(n)},wo=({url:e,width:t,cdn:r})=>{const o=oe(e),n=o.pathname.startsWith("/_next/image")||o.pathname.startsWith("/_vercel/image"),s=n?o.searchParams.get("url"):e.toString();if(s)return H(o,"w",t,!0,!0),n?Tr(o):Hi({base:s,width:t,params:{root:r==="nextjs"?"_next":"_vercel"}})},Ji=e=>wo({...e,cdn:"nextjs"}),Gi=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return H(n,"wid",t,!0,!0),H(n,"hei",r,!0,!0),H(n,"fmt",o,!0),H(n,"qlt",Et(n,"qlt"),!0),H(n,"scl",Et(n,"scl"),!0),ke(n,"fit","crop"),!t&&!r&&ke(n,"scl",1),n},Ki=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return H(n,"width",t,!0,!0),H(n,"height",r,!0,!0),H(n,"format",o,!0),H(n,"quality",Et(n,"quality"),!0),ke(n,"enlarge",0),n},Xi=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return H(n,"width",t,!0,!0),H(n,"height",r,!0,!0),H(n,"format",o),H(n,"quality",Et(n,"quality"),!0),n},Sr={width:"w",height:"h",autoWidthWithFallback:"w_auto",auto_width_fallback:"w_auto",scaleToScreenWidth:"pc",scale_to_screen_width:"pc",crop:"cr",outputFormat:"f",format:"f",fit:"m",fitMethod:"m",compression:"cmpr",sharpness:"s",rotate:"r",inline:"in",keepMeta:"meta",keep_meta:"meta",noOptimization:"pass",no_optimization:"pass",force_download:"dl",max_device_pixel_ratio:"maxdpr",maxDevicePixelRatio:"maxdpr"};function Yi(e){return Object.keys(Sr).find(o=>Sr[o]===e)||""}function Zi(e){let t=e.toString(),r=[];if(t){let o=t.split("imgeng=");o.length>1&&(r=o[1].split("/"))}return r}function Qi(e){let t=e.toString(),r="";if(t){let o=t.split("imgeng=");o.length>1?r=o[0].slice(0,-1):r=t}return r}const ea=({url:e,width:t,height:r,format:o})=>{const n=oe(e),s=Qi(n);let i={};const c=n.toString()===s?[]:Zi(n);c.length&&(i=oa(c)),t&&(i.width=t),r&&(i.height=r),o&&(i.format=o),i.hasOwnProperty("fit")||(i={...i,fit:"cropbox"});let f=ta(i),d=ra(f),m=d===""?"":s.includes("?")?"&":"?";return`${s}${m}${d}`};function ta(e){return Object.entries(e).reduce((t,[r,o])=>t+na(r,o),"")}function ra(e){return e&&e!==""?`imgeng=${e}`:""}function na(e,t){let r=Sr[e];return r&&(t||t===0)?`/${r}_${t}`:""}function oa(e){let t={};return e.forEach(r=>{let o=r.split("_");if(o.length>1){let n=o[0],s=o[1],i=Yi(n);i&&(t[i]=s)}}),t}const sa=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return H(n,"width",t,!0,!0),H(n,"height",r,!0,!0),H(n,"format",o),n.searchParams.has("format")||ke(n,"auto","webp"),t&&r&&ke(n,"fit","crop"),n},ia=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/imagedelivery\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,aa=/https?:\/\/(?<host>imagedelivery.net)\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,ca=e=>{var t;return Object.fromEntries(((t=e==null?void 0:e.split(","))==null?void 0:t.map(r=>r.split("=")))??[])},la=({host:e,accountHash:t,transformations:r={},imageId:o})=>{const n=Object.entries(r).filter(([i,c])=>!!i&&c!==void 0).map(([i,c])=>`${i}=${c}`).join(",");return`https://${[...e==="imagedelivery.net"?[e]:[e,"cdn-cgi","imagedelivery"],t,o,n].join("/")}`},xo=e=>{const t=oe(e),r=[...t.toString().matchAll(ia),...t.toString().matchAll(aa)];if(!r.length)throw new Error("Invalid Cloudflare Images URL");const o=r[0].groups||{},{transformations:n,...s}=o,{w:i,h:c,f,...d}=ca(n);return{base:t.toString(),width:Number(i)||void 0,height:Number(c)||void 0,format:f,cdn:"cloudflare_images",params:{...s,transformations:d}}},ua=({base:e,width:t,height:r,format:o,params:n})=>{var c;const s=xo(e.toString()),i={transformations:{},...s.params,...n};return t&&(i.transformations.w=t==null?void 0:t.toString()),r&&(i.transformations.h=r==null?void 0:r.toString()),o&&(i.transformations.f=o),(c=i.transformations).fit||(c.fit="cover"),new URL(la(i))},da=({url:e,width:t,height:r,format:o="auto"})=>{const n=xo(e);if(!n)throw new Error("Invalid Cloudflare Images URL");const s={...n,width:t,height:r,format:o};return ua(s)},fa=e=>{const t=oe(e),[r,...o]=t.pathname.split("/").slice(1),n=Object.fromEntries(r.split(",").map(s=>{const[i,c]=s.split("_");return[i,c]}));if(n.s){const[s,i]=n.s.split("x");n.w||(n.w=s),n.h||(n.h=i)}return{base:o.join("/"),width:Number(n.w)||void 0,height:Number(n.h)||void 0,quality:Number(n.q)||void 0,format:n.f||"auto",params:n,cdn:"ipx"}},an=({base:e,width:t,height:r,format:o,params:n})=>{const s=(n==null?void 0:n.modifiers)??{};t&&r?s.s=`${t}x${r}`:t?s.w=`${t}`:r&&(s.h=`${r}`),o&&(s.f=o);const i=n!=null&&n.base.endsWith("/")?n==null?void 0:n.base:`${n==null?void 0:n.base}/`,c=Object.entries(s).map(([m,b])=>`${m}_${b}`).join(","),f=e.toString(),d=f.startsWith("/")?f.slice(1):f;return`${i}${c}/${d}`},ha=e=>{var i,c,f,d;const t=String(e.url),r=oe(t),o=r.pathname.startsWith("/_ipx")&&r.hostname!=="n"?`${r.origin}/_ipx`:"/_ipx",n=((c=(i=e.cdnOptions)==null?void 0:i.ipx)==null?void 0:c.base)??o;if(n&&n!=="/"&&t.startsWith(n)){const m=fa(t.replace(n,""));return an({...m,...e,params:{...(f=e.cdnOptions)==null?void 0:f.ipx,base:n}})}return an({...e,base:t,params:{...(d=e.cdnOptions)==null?void 0:d.ipx,base:n}})},ga=({url:e,width:t,height:r,format:o})=>{const n=oe(e),s=Tr(new URL(n.pathname,n.origin)),i={searchParams:new URLSearchParams};return H(i,"href",s,!0,!0),H(i,"w",t,!0,!0),H(i,"h",r,!0,!0),H(i,"f",o),`/_image?${i.searchParams.toString()}`},pa=new Set(["w","h","q","fm","url","width","height","quality"]),ma=e=>{const t=oe(e),r=Number(t.searchParams.get("w")??t.searchParams.get("width"))??void 0,o=Number(t.searchParams.get("h")??t.searchParams.get("height"))??void 0,n=Number(t.searchParams.get("q")??t.searchParams.get("quality"))||void 0,s=t.searchParams.get("fm")||void 0,i=t.searchParams.get("url")||"",c={quality:n};return t.searchParams.forEach((f,d)=>{pa.has(d)||(c[d]=f)}),t.search="",{base:i,width:r,height:o,format:s,params:c,cdn:"netlify"}},cn=({base:e,width:t,height:r,format:o,params:{site:n,quality:s,...i}={}})=>{const c=oe("/.netlify/images",n);return Object.entries(i).forEach(([f,d])=>H(c,f,d)),H(c,"q",s,!0,!0),H(c,"w",t,!0,!0),H(c,"h",r,!0,!0),H(c,"fm",o),ke(c,"fit","cover"),c.searchParams.set("url",e.toString()),Tr(c)},va=e=>{var r,o;const t=oe(e.url);if(t.pathname.startsWith("/.netlify/images")){const{params:n,base:s,format:i}=ma(t);return cn({base:s,format:i,...e,params:{...n,site:t.hostname==="n"?void 0:t.origin}})}return cn({...e,base:e.url,params:{site:(o=(r=e.cdnOptions)==null?void 0:r.netlify)==null?void 0:o.site}})},_a=e=>(e.searchParams.get("tr")||"").split(",").reduce((r,o)=>{const[n,s]=o.split("-");return r[n]=s,r},{}),ya=({url:e,width:t,height:r,format:o})=>{const n=oe(e),s=_a(n);s.w=t&&Math.round(t),s.h=r&&Math.round(r),s.f||(s.f="auto"),o&&(s.f=o);const i=Object.keys(s).map(c=>{const f=s[c];if(f)return`${c}-${f}`}).filter(c=>c).join(",");return n.searchParams.set("tr",i),n},ba=/^https?:\/\/(?<host>[^\/]+)\/(?<uuid>[^\/]+)/g;function So(e){const t=new URL(e),r=t.pathname+t.search+t.hash,o=r.lastIndexOf("http"),n=r.lastIndexOf("/");let s="";return o>=0?s=r.slice(o):n>=0&&(s=r.slice(n+1)),s}function wa(e){return e.startsWith("http")}function xa(e){const t=new URL(e);return{pathname:t.origin+t.pathname||"",search:t.search||"",hash:t.hash||""}}function Sa(e){const t=new URL(e),r=So(e),o=wa(r)?xa(r).pathname:r;return t.pathname=t.pathname.replace(o,""),t.search="",t.hash="",t.toString()}const ka=e=>{if(typeof e!="string"||!e)return"";let t=e.trim();return t.startsWith("-/")?t=t.slice(2):t.startsWith("/")&&(t=t.slice(1)),t.endsWith("/")&&(t=t.slice(0,t.length-1)),t};function $a(e){const t=Sa(e),r=new URL(t),o=r.pathname.indexOf("/-/");return o===-1?[]:r.pathname.substring(o).split("/-/").filter(Boolean).map(s=>ka(s))}const Pa=e=>e.length?e.reduce((t,r)=>{const[o,n]=r.split("/");return{...t,[o]:n}},{}):{},ko=({host:e,uuid:t,operations:r={},filename:o})=>{const n=Object.entries(r).map(([i,c])=>`${i}/${c}`).join("/-/");return`https://${[e,t,n?`-/${n}`:"",o].join("/")}`},$o=e=>{const t=oe(e),r=[...t.toString().matchAll(ba)];if(!r.length)throw new Error("Invalid Uploadcare URL");const o=r[0].groups||{},{...n}=o,s=So(t.toString()),{format:i,...c}=Pa($a(t.toString())),f=i&&i!=="auto"?i:"auto";return{base:ko({...n,filename:s||void 0,operations:{...c,format:f}}),cdn:"uploadcare",params:{...o,filename:s||void 0,operations:{...c,format:f}}}},ja=({base:e,width:t,height:r,params:o})=>{const n=e.toString(),s=$o(n.endsWith("/")?n:`${n}/`),i={operations:{},...s.params,...o};return t&&r?i.operations={...i.operations,resize:`${t}x${r}`}:(t&&(i.operations={...i.operations,resize:`${t}x`}),r&&(i.operations={...i.operations,resize:`x${r}`})),ko(i)},Oa=({url:e,width:t,height:r})=>{const o=$o(e);if(!o)throw new Error("Invalid Uploadcare URL");const n={...o,width:t,height:r};return ja(n)},Aa=["origin"],Po="/storage/v1/object/public/",Mr="/storage/v1/render/image/public/",za=e=>e.pathname.startsWith(Mr),jo=e=>{const t=oe(e);if(!za(t))return{cdn:"supabase",base:t.origin+t.pathname};const o=t.pathname.replace(Mr,""),n=t.searchParams.has("quality")?Number(t.searchParams.get("quality")):void 0,s=t.searchParams.has("width")?Number(t.searchParams.get("width")):void 0,i=t.searchParams.has("height")?Number(t.searchParams.get("height")):void 0,c=t.searchParams.has("format")?t.searchParams.get("format"):void 0,f=t.searchParams.has("resize")?t.searchParams.get("resize"):void 0;return{cdn:"supabase",base:t.origin+Po+o,width:s,height:i,format:c,params:{quality:n,resize:f}}},Ea=({base:e,width:t,height:r,format:o,params:n})=>{const s=jo(e.toString());e=s.base,t=t||s.width,r=r||s.height,o=o||s.format,n={...s.params,...n};const i=new URLSearchParams;return t&&i.set("width",vt(t).toString()),r&&i.set("height",vt(r).toString()),o&&Aa.includes(o)&&i.set("format",o),n!=null&&n.quality&&i.set("quality",vt(n.quality).toString()),n!=null&&n.resize&&i.set("resize",n.resize),i.toString()===""?e:s.base.replace(Po,Mr)+"?"+i.toString()},Na=({url:e,width:t,height:r,format:o,cdnOptions:n})=>{const s=jo(e);return Ea({base:s.base,width:t||s.width,height:r||s.height,format:o||s.format,params:(n==null?void 0:n.supabase)||s.params})},ln={vercel:sn,nextjs:sn};function Ca(e,t){if(!(t in ln))return!1;const r=ln[t];return r?r(e):!1}function Ir(e,t){const r=_i(e)||t;if(!r)return!1;const o=Ca(e,r);return o||{cdn:r,url:e}}const Lr=e=>({imgix:xi,contentful:bi,"builder.io":wi,shopify:Pi,wordpress:ji,cloudimage:Oi,cloudinary:Ni,bunny:Ii,storyblok:Di,cloudflare:Mi,vercel:wo,nextjs:Ji,scene7:Gi,"kontent.ai":Vi,keycdn:Ki,directus:Xi,imageengine:ea,contentstack:sa,cloudflare_images:da,ipx:ha,astro:ga,netlify:va,imagekit:ya,uploadcare:Oa,supabase:Na})[e];var Ra=(e,t)=>{if(!(!e||!t))switch(t){case"constrained":return`(min-width: ${e}px) ${e}px, 100vw`;case"fixed":return`${e}px`;case"fullWidth":return"100vw";default:return}},wt=e=>e||e===0?`${e}px`:void 0,Ta=({width:e,height:t,aspectRatio:r,layout:o,objectFit:n="cover",background:s})=>{const i=[["object-fit",n]];return s!=null&&s.startsWith("https:")||s!=null&&s.startsWith("http:")||s!=null&&s.startsWith("data:")?(i.push(["background-image",`url(${s})`]),i.push(["background-size","cover"]),i.push(["background-repeat","no-repeat"])):i.push(["background",s]),o==="fixed"&&(i.push(["width",wt(e)]),i.push(["height",wt(t)])),o==="constrained"&&(i.push(["max-width",wt(e)]),i.push(["max-height",wt(t)]),i.push(["aspect-ratio",r?`${r}`:void 0]),i.push(["width","100%"])),o==="fullWidth"&&(i.push(["width","100%"]),i.push(["aspect-ratio",r?`${r}`:void 0]),i.push(["height",wt(t)])),Object.fromEntries(i.filter(([,c])=>c))},Ma=[6016,5120,4480,3840,3200,2560,2048,1920,1668,1280,1080,960,828,750,640],un=24,Ia=({width:e,layout:t,resolutions:r=Ma})=>{if(t==="fullWidth")return r;if(!e)return[];const o=e*2;return t==="fixed"?[e,o]:t==="constrained"?[e,o,...r.filter(n=>n<o)]:[]},La=({src:e,width:t,layout:r="constrained",height:o,aspectRatio:n,breakpoints:s,cdn:i,transformer:c,format:f})=>{const d=Ir(e,i);return d&&!c&&(c=Lr(d.cdn)),c?(s||(s=Ia({width:t,layout:r})),s.sort((m,b)=>m-b).map(m=>{let b;return o&&n&&(b=Math.round(m/n)),{url:d?d.url:e,width:m,height:b,format:f}})):[]},Fa=e=>{let{src:t,cdn:r,transformer:o}=e;const n=Ir(t,r);return n&&!o&&(o=Lr(n.cdn)),o?La({...e,transformer:o}).map(s=>{const i=o(s);return`${i==null?void 0:i.toString()} ${s.width}w`}).join(`,
`):""};function Wa({width:e,height:t,priority:r,layout:o="constrained",aspectRatio:n,...s}){return e=e&&Number(e)||void 0,t=t&&Number(t)||void 0,r?(s.loading||(s.loading="eager"),s.fetchpriority||(s.fetchpriority="high")):(s.loading||(s.loading="lazy"),s.decoding||(s.decoding="async")),s.alt===""&&(s.role||(s.role="presentation")),n?e?t||(t=Math.round(e/n)):t&&(e=Math.round(t*n)):e&&t&&(n=e/t),{width:e,height:t,aspectRatio:n,layout:o,...s}}function Ua(e){let{src:t,cdn:r,transformer:o,background:n,layout:s,objectFit:i,breakpoints:c,width:f,height:d,aspectRatio:m,unstyled:b,...y}=Wa(e);const S=t?Ir(t,r):void 0;let g=t;if(S&&(g=S.url,o||(o=Lr(S.cdn))),o&&n==="auto"){const u=m?Math.round(un/m):void 0,k=o({url:g,width:un,height:u});k&&(n=k.toString())}const h={width:f,height:d,aspectRatio:m,layout:s,objectFit:i,background:n};if(y.sizes||(y.sizes=Ra(f,s)),b||(y.style={...Ta(h),...y.style}),o){y.srcset=Fa({src:g,width:f,height:d,aspectRatio:m,layout:s,breakpoints:c,transformer:o,cdn:r});const u=o({url:g,width:f,height:d});u&&(g=u),(s==="fullWidth"||s==="constrained")&&(f=void 0,d=void 0)}return{...y,src:g==null?void 0:g.toString(),width:f,height:d}}function Ba(e,t){const r=RegExp(e,"g");return o=>{if(typeof o!="string")throw new TypeError(`expected an argument of type string, but got ${typeof o}`);return o.match(r)?o.replace(r,t):o}}const qa=Ba(/[A-Z]/,e=>`-${e.toLowerCase()}`);function Da(e,t=qa){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected an argument of type object, but got ${typeof e}`);return Object.keys(e).map(r=>`${t(r)}: ${e[r]};`).join(`
`)}var Va=D("<img>");function Ha(e,t){const r=le(t,["children","$$slots","$$events","$$legacy"]);ye(t,!1);const o=de(),n=de(),s=de(),i=de(),c=de(),f=de(),d=de(),m=de(),b=de(),y=de(),S=de(),g=de(),h=de(),u=de();ie(()=>(p(o),p(n),xe(r)),()=>{re(o,r.style),re(n,Yo(r,["style"]))}),ie(()=>(p(s),p(i),p(c),p(f),p(d),p(m),p(b),p(y),p(S),p(g),p(h),p(n)),()=>{($=>(re(s,$.alt),re(i,$.style),re(c,$.src),re(f,$.width),re(d,$.height),re(m,$.loading),re(b,$.decoding),re(y,$.srcset),re(S,$.role),re(g,$.sizes),re(h,$.fetchpriority)))(Ua(p(n)))}),ie(()=>(p(i),p(o)),()=>{re(u,[Da(p(i)||{}),p(o)].filter(Boolean).join(";"))}),Xe(),He();var k=Va();let z;X(()=>{var $,R,E,j;return z=tt(k,z,{...r,style:p(u),loading:p(m),width:p(f),height:p(d),decoding:p(b),role:p(S),fetchpriority:p(h),alt:($=p(s))==null?void 0:$.toString(),src:(R=p(c))==null?void 0:R.toString(),srcset:(E=p(y))==null?void 0:E.toString(),sizes:(j=p(g))==null?void 0:j.toString()})}),os(k),Jo(k),Ke("load",k,function($){Xr.call(this,t,$)}),Ke("error",k,function($){Xr.call(this,t,$)}),A(e,k),be()}var Ja=D("<dd><a> </a></dd>"),Ga=D("<dd> </dd>"),Ka=D("<dd><a> </a></dd>"),Xa=D("<dd> </dd>"),Ya=D('<div class="inscription-card"><!> <div class="inscription-title svelte-1i8xyhq"><!></div> <div class="inscription-date-place"><!> <!></div> <dl class="svelte-1i8xyhq"><dt class="svelte-1i8xyhq">ID</dt> <dd><small><!></small></dd> <dt class="svelte-1i8xyhq">Status</dt> <dd> </dd> <dt class="svelte-1i8xyhq">Type</dt> <!> <dt class="svelte-1i8xyhq">Object type</dt> <!> <dt class="svelte-1i8xyhq">Language</dt> <dd> </dd></dl></div>');function Za(e,t){ye(t,!0);var r=Ya(),o=T(r);se(o,()=>t.inscription.facsimile,$=>{Pt($,{get id(){return t.inscription.file},get title(){return t.inscription.title},children:(R,E)=>{Ha(R,{get src(){return`${Qo}${t.inscription.file??""}/${t.inscription.facsimile.url??""}/${es}`},get alt(){return t.inscription.facsimile.desc},width:400,height:200})},$$slots:{default:!0}})});var n=U(o,2),s=T(n);Pt(s,{get id(){return t.inscription.file},get title(){return t.inscription.title},children:($,R)=>{Ee();var E=Re();X(()=>te(E,t.inscription.title)),A($,E)},$$slots:{default:!0}}),C(n);var i=U(n,2),c=T(i);to(c,{get inscription(){return t.inscription}});var f=U(c,2);go(f,{get inscription(){return t.inscription}}),C(i);var d=U(i,2),m=U(T(d),2),b=T(m),y=T(b);Pt(y,{get id(){return t.inscription.file},children:($,R)=>{Ee();var E=Re();X(()=>te(E,t.inscription.file)),A($,E)},$$slots:{default:!0}}),C(b),C(m);var S=U(m,4),g=T(S,!0);C(S);var h=U(S,4);se(h,()=>{var $;return($=t.inscription.type)==null?void 0:$.ref},$=>{var R=Ja(),E=T(R),j=T(E,!0);C(E),C(R),X(()=>{var w;Ie(E,"href",t.inscription.type.ref),te(j,(w=t.inscription.type)==null?void 0:w._)}),A($,R)},$=>{var R=Ga(),E=T(R,!0);C(R),X(()=>{var j;return te(E,((j=t.inscription.type)==null?void 0:j._)||"N/A")}),A($,R)});var u=U(h,4);se(u,()=>{var $;return($=t.inscription.objectType)==null?void 0:$.ref},$=>{var R=Ka(),E=T(R),j=T(E,!0);C(E),C(R),X(()=>{var w;Ie(E,"href",t.inscription.objectType.ref),te(j,(w=t.inscription.objectType)==null?void 0:w._)}),A($,R)},$=>{var R=Xa(),E=T(R,!0);C(R),X(()=>{var j;return te(E,((j=t.inscription.objectType)==null?void 0:j._)||"N/A")}),A($,R)});var k=U(u,4),z=T(k,!0);C(k),C(d),C(r),X(()=>{var $;te(g,t.inscription.status),te(z,(($=t.inscription.textLang)==null?void 0:$._)||"N/A")}),A(e,r),be()}var Qa=D('<li class="svelte-p3hpfg"><!></li>'),ec=D('<ol class="inscription-list svelte-p3hpfg"></ol>');function tc(e,t){var r=ec();Me(r,21,()=>t.inscriptions,Ve,(o,n)=>{var s=Qa(),i=T(s);Za(i,{get inscription(){return p(n)}}),C(s),A(o,s)}),C(r),A(e,r)}var rc=D("<span> </span>"),nc=D('<div class="marker svelte-mhd10g" role="img"><!></div>'),oc=D('<div class="inscription-map svelte-mhd10g"><!></div>');function sc(e,t){ye(t,!0);const{Map:r,Marker:o,NavigationControl:n,Popup:s}=fs;let i=ee(t,"show",3,!0),c=Ue(void 0),f=Ue(void 0),d=fe(()=>t.inscriptions.filter(h=>h.geo).reduce((h,u)=>{if(!u.geo||u.geo.length!==2)return h;const k=u.geo.join("_");return h[k]||(h[k]=[]),h[k].push(u),h},{})),m=fe(()=>Object.entries(p(d)).map(([h,u])=>{const k=u[0].geo,z=u.length;let $="single";return z>100?$="lg":z>25?$="md":z>1&&($="sm"),{coords:[k[1],k[0]],markerSize:$,numberInscriptions:z,inscriptions:u}}));function b(h,{coords:u,inscriptions:k}){const z=y(k),$=new o({element:h}).setLngLat(u).setPopup(new s().setHTML(z)).addTo(p(c));return{destroy(){$==null||$.remove()}}}function y(h){const u=h.reduce(($,R)=>(R.places[0]&&($[R.places[0]._]||($[R.places[0]._]=[]),$[R.places[0]._].push(R)),$),{});let k='<div class="tooltip">';const z=Object.entries(u).map(([$,R])=>{let E=`<dt>${$}</dt>`,j=R.map(w=>`<dd><a href="inscription/${w.file}">${w.title}</a></dd>`).join("");return`${E}${j}`}).join("");return`${k}<dl>${z}</dl></div>`}Zn(async()=>{re(c,pe(new r({container:p(f),style:"https://api.maptiler.com/maps/positron/style.json?key=brTBbnRxuiKp6PgjwFPr",center:[14.01535,37.59999],zoom:7}))),p(c).addControl(new n({showCompass:!0,showZoom:!0}))}),Yn(async()=>{p(c)&&(p(c).remove(),re(c,void 0),re(f,void 0))});var S=ne(),g=G(S);se(g,i,h=>{var u=oc(),k=T(u);se(k,()=>p(c)&&p(m),z=>{var $=ne(),R=G($);Me(R,17,()=>p(m),Ve,(E,j)=>{var w=nc(),L=T(w);se(L,()=>p(j).numberInscriptions>1,I=>{var N=rc(),F=T(N,!0);C(N),X(()=>te(F,p(j).numberInscriptions)),A(I,N)}),C(w),et(w,(I,N)=>b(I,N),()=>({coords:p(j).coords,inscriptions:p(j).inscriptions})),X(()=>{Ie(w,"aria-label",`Map marker for ${p(j).inscriptions[0].title}`),Ft(w,"single",p(j).markerSize==="single"),Ft(w,"sm",p(j).markerSize==="sm"),Ft(w,"md",p(j).markerSize==="md"),Ft(w,"lg",p(j).markerSize==="lg")}),A(E,w)}),A(z,$)}),C(u),Ye(u,z=>re(f,z),()=>p(f)),A(h,u)}),A(e,S),be()}var ic=D("<span>...</span>"),ac=D('<div class="pagination svelte-1pdb2ke"><!> <div class="pages svelte-1pdb2ke"></div> <!></div> <p class="svelte-1pdb2ke"> </p>',1);function dn(e,t){var r=ne(),o=G(r);se(o,()=>t.count>0,n=>{var s=ne(),i=G(s);Se(i,()=>Os,(c,f)=>{f(c,{get page(){return t.page},get count(){return t.count},get perPage(){return t.perPage},get onPageChange(){return t.onPageChange},children:(m,b)=>{let y=()=>b==null?void 0:b().pages,S=()=>b==null?void 0:b().range;var g=ac(),h=G(g),u=T(h);Se(u,()=>zs,(j,w)=>{w(j,{children:(L,I)=>{Ds(L,{})},$$slots:{default:!0}})});var k=U(u,2);Me(k,21,y,j=>j.key,(j,w)=>{var L=ne(),I=G(L);se(I,()=>p(w).type==="ellipsis",N=>{var F=ic();A(N,F)},N=>{var F=ne(),M=G(F);Se(M,()=>Rs,(W,q)=>{q(W,{get page(){return p(w)},children:(K,v)=>{Ee();var a=Re();X(()=>te(a,p(w).value)),A(K,a)},$$slots:{default:!0}})}),A(N,F)}),A(j,L)}),C(k);var $=U(k,2);Se($,()=>Ns,(j,w)=>{w(j,{children:(L,I)=>{Vs(L,{})},$$slots:{default:!0}})}),C(h);var R=U(h,2),E=T(R);C(R),X(()=>te(E,`Showing ${S().start+1} - ${S().end??""}`)),A(m,g)},$$slots:{default:!0}})}),A(n,s)}),A(e,r)}var cc=D(", matching <em> </em>",1),lc=D('<span class="svelte-eb26nt"> <em> </em></span>'),uc=D(', filtered by <span class="selected-filters svelte-eb26nt"></span>',1),dc=D('<h2 class="svelte-eb26nt"><em> </em> Inscriptions between <em> </em> – <em> </em> across <em> </em> locations<!><!></h2>');function fc(e,t){ye(t,!0);let r=fe(()=>Object.values(t.filters).some(g=>g.length>0));var o=dc(),n=T(o),s=T(n,!0);X(()=>te(s,t.total.toLocaleString())),C(n);var i=U(n,2),c=T(i,!0);X(()=>te(c,t.dateRange[0]>0?`AD ${t.dateRange[0]}`:`${Math.abs(t.dateRange[0])} BC`)),C(i);var f=U(i,2),d=T(f,!0);X(()=>te(d,t.dateRange[1]>0?`AD ${t.dateRange[1]}`:`${Math.abs(t.dateRange[1])} BC`)),C(f);var m=U(f,2),b=T(m,!0);X(()=>te(b,t.numberOfLocations.toLocaleString())),C(m);var y=U(m,2);se(y,()=>t.query,g=>{var h=cc(),u=U(G(h)),k=T(u,!0);X(()=>te(k,t.query.split(" ").join(", "))),C(u),A(g,h)});var S=U(y);se(S,()=>p(r),g=>{var h=uc(),u=U(G(h));Me(u,21,()=>Object.entries(t.filters).filter(([k,z])=>z.length>0),Ve,(k,z)=>{let $=()=>p(z)[0],R=()=>p(z)[1];var E=lc(),j=T(E),w=U(j),L=T(w,!0);X(()=>te(L,R().join(", ").replaceAll("_"," ").replaceAll(":::"," "))),C(w),C(E),X(()=>te(j,`${$()??""}: `)),A(k,E)}),C(u),A(g,h)}),C(o),A(e,o),be()}var hc=D('<label class="svelte-tan1rs"><input type="radio" name="sort-aggregations"> </label>'),gc=D('<span class="slider-track"><!></span> <!>',1),pc=D('<section class="filter-group svelte-tan1rs"><h3 class="svelte-tan1rs">Date</h3> <div class="slider"><!></div> <div class="date-inputs svelte-tan1rs"><label>Not before <input type="number"></label> <span>–</span> <label><input type="number"> Not after</label></div></section>'),mc=D('<input type="text" placeholder="Filter options..." class="filter-input svelte-tan1rs">'),vc=D('<li><label><input type="checkbox"> </label></li>'),_c=D('<section class="filter-group svelte-tan1rs"><h3 class="svelte-tan1rs"> </h3> <!> <ul class="svelte-tan1rs"></ul></section>'),yc=D('<aside class="filters svelte-tan1rs"><section class="svelte-tan1rs"><h2 class="svelte-tan1rs">Filters</h2> <section class="filters-options svelte-tan1rs"><h3 class="svelte-tan1rs">Options</h3> <form><fieldset class="svelte-tan1rs"><legend>Sort filters by</legend> <!></fieldset></form></section> <section class="filters-groups svelte-tan1rs"><!> <!></section></section></aside>');function bc(e,t){ye(t,!0);const r=[],o=[];let n=ee(t,"show",3,!1),s=ee(t,"aggregations",19,()=>({})),i=ee(t,"sortAggregationsBy",15,"key"),c=ee(t,"selectedDateRange",31,()=>pe([-700,1830])),f=ee(t,"selectedFilters",31,()=>pe({}));const d=["key","count"];let m=pe({});function b(h,u){var z;const k=((z=m[u])==null?void 0:z.toLowerCase())||"";return k?h.filter($=>$.key.toLowerCase().includes(k)):h}function y(h){if(h.indexOf(":::")==-1)return h;const u=h.split(":::"),k=u.length;return i()==="count"?u.pop()||"":`${"+".repeat(k-1)} ${u.pop()}`}var S=ne(),g=G(S);se(g,n,h=>{var u=yc(),k=T(u),z=U(T(k),2),$=U(T(z),2),R=T($),E=U(T(R),2);Me(E,17,()=>d,Ve,(I,N)=>{var F=hc(),M=T(F);pt(M);var W,q=U(M);C(F),X(()=>{W!==(W=p(N))&&(M.value=(M.__value=p(N))==null?"":p(N)),te(q,` ${p(N)??""}`)}),Yr(r,[],M,()=>(p(N),i()),i),A(I,F)}),C(R),C($),C(z);var j=U(z,2),w=T(j);se(w,()=>{var I;return(I=s())==null?void 0:I.notBefore},I=>{var N=pc(),F=U(T(N),2),M=T(F);Se(M,()=>Is,(l,_)=>{_(l,{class:"slider-root",min:-700,max:1830,step:1,get value(){return c()},set value(x){c(x)},children:Zo,$$slots:{default:(x,P)=>{const O=fe(()=>P.thumbs);var J=gc(),Q=G(J),V=T(Q);Se(V,()=>Fs,(ue,me)=>{me(ue,{class:"slider-range"})}),C(Q);var ae=U(Q,2);Me(ae,17,()=>p(O),Ve,(ue,me,we)=>{var $e=ne(),B=G($e);Se(B,()=>Us,(Y,ge)=>{ge(Y,{get thumb(){return p(me)},class:"slider-thumb","aria-label":`${we===0?"Not before":"Not after"}`})}),A(ue,$e)}),A(x,J)}}})}),C(F);var W=U(F,2),q=T(W),K=U(T(q));pt(K),Ie(K,"min",-700),Ie(K,"max",1811),C(q);var v=U(q,4),a=T(v);pt(a),Ie(a,"min",-675),Ie(a,"max",1830),Ee(),C(v),C(W),C(N),Gt(K,()=>c()[0],l=>c(c()[0]=l,!0)),Gt(a,()=>c()[1],l=>c(c()[1]=l,!0)),A(I,N)});var L=U(w,2);Me(L,17,()=>Object.keys(f()),Ve,(I,N,F)=>{var M=ne(),W=G(M);se(W,()=>p(N)in s()&&s()[p(N)].title,q=>{var K=_c(),v=T(K),a=T(v);C(v);var l=U(v,2);se(l,()=>s()[p(N)].buckets.length>20,x=>{var P=mc();pt(P),Gt(P,()=>m[p(N)],O=>m[p(N)]=O),A(x,P)});var _=U(l,2);Me(_,21,()=>b(s()[p(N)].buckets,p(N)),Ve,(x,P)=>{var O=vc(),J=T(O),Q=T(J);pt(Q);var V,ae=U(Q);X(()=>te(ae,` ${y(p(P).key)??""} (${p(P).doc_count??""})`)),C(J),C(O),X(()=>{V!==(V=p(P).key)&&(Q.value=(Q.__value=p(P).key)==null?"":p(P).key)}),Yr(o,[F],Q,()=>(p(P).key,f()[p(N)]),ue=>f(f()[p(N)]=ue,!0)),A(x,O)}),C(_),C(K),X(()=>te(a,`${s()[p(N)].title??""} (${s()[p(N)].buckets.length??""})`)),A(q,K)}),A(I,M)}),C(j),C(k),C(u),kt(3,u,()=>rs,()=>({axis:"x"})),A(h,u)}),A(e,S),be()}var Oo=typeof global=="object"&&global&&global.Object===Object&&global,wc=typeof self=="object"&&self&&self.Object===Object&&self,Le=Oo||wc||Function("return this")(),Ne=Le.Symbol,Ao=Object.prototype,xc=Ao.hasOwnProperty,Sc=Ao.toString,xt=Ne?Ne.toStringTag:void 0,kc=Object.prototype.toString,$c="[object Null]",Pc="[object Undefined]",fn=Ne?Ne.toStringTag:void 0;function bt(e){return e==null?e===void 0?Pc:$c:fn&&fn in Object(e)?function(t){var r=xc.call(t,xt),o=t[xt];try{t[xt]=void 0;var n=!0}catch{}var s=Sc.call(t);return n&&(r?t[xt]=o:delete t[xt]),s}(e):function(t){return kc.call(t)}(e)}function lt(e){return e!=null&&typeof e=="object"}var jc="[object Symbol]";function Nt(e){return typeof e=="symbol"||lt(e)&&bt(e)==jc}function jt(e,t){for(var r=-1,o=e==null?0:e.length,n=Array(o);++r<o;)n[r]=t(e[r],r,e);return n}var Te=Array.isArray,Oc=1/0,hn=Ne?Ne.prototype:void 0,gn=hn?hn.toString:void 0;function zo(e){if(typeof e=="string")return e;if(Te(e))return jt(e,zo)+"";if(Nt(e))return gn?gn.call(e):"";var t=e+"";return t=="0"&&1/e==-Oc?"-0":t}function Yt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Zt(e){return e}var Ac="[object AsyncFunction]",zc="[object Function]",Ec="[object GeneratorFunction]",Nc="[object Proxy]";function Eo(e){if(!Yt(e))return!1;var t=bt(e);return t==zc||t==Ec||t==Ac||t==Nc}var pn,mr=Le["__core-js_shared__"],mn=(pn=/[^.]+$/.exec(mr&&mr.keys&&mr.keys.IE_PROTO||""))?"Symbol(src)_1."+pn:"",Cc=Function.prototype.toString;function dt(e){if(e!=null){try{return Cc.call(e)}catch{}try{return e+""}catch{}}return""}var Rc=/^\[object .+?Constructor\]$/,Tc=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ft(e,t){var r=function(o,n){return o==null?void 0:o[n]}(e,t);return function(o){return!(!Yt(o)||(n=o,mn&&mn in n))&&(Eo(o)?Tc:Rc).test(dt(o));var n}(r)?r:void 0}var vn,vr,_r,kr=ft(Le,"WeakMap"),Mc=Date.now,Ic=function(){try{var e=ft(Object,"defineProperty");return e({},"",{}),e}catch{}}(),_n=Ic,Lc=_n?function(e,t){return _n(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:Zt,Fc=(vn=Lc,vr=0,_r=0,function(){var e=Mc(),t=16-(e-_r);if(_r=e,t>0){if(++vr>=800)return arguments[0]}else vr=0;return vn.apply(void 0,arguments)});function Wc(e){return e!=e}function Uc(e,t){return!(e==null||!e.length)&&function(r,o,n){return o==o?function(s,i,c){for(var f=-1,d=s.length;++f<d;)if(s[f]===i)return f;return-1}(r,o):function(s,i,c,f){for(var d=s.length,m=-1;++m<d;)if(i(s[m],m,s))return m;return-1}(r,Wc)}(e,t)>-1}var Bc=9007199254740991,qc=/^(?:0|[1-9]\d*)$/;function Fr(e,t){var r=typeof e;return!!(t=t??Bc)&&(r=="number"||r!="symbol"&&qc.test(e))&&e>-1&&e%1==0&&e<t}function Wr(e,t){return e===t||e!=e&&t!=t}var yn=Math.max;function No(e,t){return Fc(function(r,o,n){return o=yn(o===void 0?r.length-1:o,0),function(){for(var s=arguments,i=-1,c=yn(s.length-o,0),f=Array(c);++i<c;)f[i]=s[o+i];i=-1;for(var d=Array(o+1);++i<o;)d[i]=s[i];return d[o]=n(f),function(m,b,y){switch(y.length){case 0:return m.call(b);case 1:return m.call(b,y[0]);case 2:return m.call(b,y[0],y[1]);case 3:return m.call(b,y[0],y[1],y[2])}return m.apply(b,y)}(r,this,d)}}(e,t,Zt),e+"")}var Dc=9007199254740991;function Ur(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Dc}function Rt(e){return e!=null&&Ur(e.length)&&!Eo(e)}function bn(e,t,r){if(!Yt(r))return!1;var o=typeof t;return!!(o=="number"?Rt(r)&&Fr(t,r.length):o=="string"&&t in r)&&Wr(r[t],e)}var Vc=Object.prototype;function Hc(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||Vc)}function wn(e){return lt(e)&&bt(e)=="[object Arguments]"}var Co=Object.prototype,Jc=Co.hasOwnProperty,Gc=Co.propertyIsEnumerable,Br=wn(function(){return arguments}())?wn:function(e){return lt(e)&&Jc.call(e,"callee")&&!Gc.call(e,"callee")},Ro=typeof exports=="object"&&exports&&!exports.nodeType&&exports,xn=Ro&&typeof module=="object"&&module&&!module.nodeType&&module,Sn=xn&&xn.exports===Ro?Le.Buffer:void 0,$r=(Sn?Sn.isBuffer:void 0)||function(){return!1},ce={};function To(e){return function(t){return e(t)}}ce["[object Float32Array]"]=ce["[object Float64Array]"]=ce["[object Int8Array]"]=ce["[object Int16Array]"]=ce["[object Int32Array]"]=ce["[object Uint8Array]"]=ce["[object Uint8ClampedArray]"]=ce["[object Uint16Array]"]=ce["[object Uint32Array]"]=!0,ce["[object Arguments]"]=ce["[object Array]"]=ce["[object ArrayBuffer]"]=ce["[object Boolean]"]=ce["[object DataView]"]=ce["[object Date]"]=ce["[object Error]"]=ce["[object Function]"]=ce["[object Map]"]=ce["[object Number]"]=ce["[object Object]"]=ce["[object RegExp]"]=ce["[object Set]"]=ce["[object String]"]=ce["[object WeakMap]"]=!1;var Mo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ot=Mo&&typeof module=="object"&&module&&!module.nodeType&&module,yr=Ot&&Ot.exports===Mo&&Oo.process,_t=function(){try{return Ot&&Ot.require&&Ot.require("util").types||yr&&yr.binding&&yr.binding("util")}catch{}}(),kn=_t&&_t.isTypedArray,Io=kn?To(kn):function(e){return lt(e)&&Ur(e.length)&&!!ce[bt(e)]},Kc=Object.prototype.hasOwnProperty;function Xc(e,t){var r=Te(e),o=!r&&Br(e),n=!r&&!o&&$r(e),s=!r&&!o&&!n&&Io(e),i=r||o||n||s,c=i?function(m,b){for(var y=-1,S=Array(m);++y<m;)S[y]=b(y);return S}(e.length,String):[],f=c.length;for(var d in e)!Kc.call(e,d)||i&&(d=="length"||n&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Fr(d,f))||c.push(d);return c}function Yc(e,t){return function(r){return e(t(r))}}var Zc=Yc(Object.keys,Object),Qc=Object.prototype.hasOwnProperty;function qr(e){return Rt(e)?Xc(e):function(t){if(!Hc(t))return Zc(t);var r=[];for(var o in Object(t))Qc.call(t,o)&&o!="constructor"&&r.push(o);return r}(e)}var el=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tl=/^\w*$/;function Pr(e,t){if(Te(e))return!1;var r=typeof e;return!(r!="number"&&r!="symbol"&&r!="boolean"&&e!=null&&!Nt(e))||tl.test(e)||!el.test(e)||t!=null&&e in Object(t)}var St=ft(Object,"create"),rl=Object.prototype.hasOwnProperty,nl=Object.prototype.hasOwnProperty;function it(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}function Dt(e,t){for(var r=e.length;r--;)if(Wr(e[r][0],t))return r;return-1}it.prototype.clear=function(){this.__data__=St?St(null):{},this.size=0},it.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},it.prototype.get=function(e){var t=this.__data__;if(St){var r=t[e];return r==="__lodash_hash_undefined__"?void 0:r}return rl.call(t,e)?t[e]:void 0},it.prototype.has=function(e){var t=this.__data__;return St?t[e]!==void 0:nl.call(t,e)},it.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=St&&t===void 0?"__lodash_hash_undefined__":t,this};var ol=Array.prototype.splice;function qe(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}qe.prototype.clear=function(){this.__data__=[],this.size=0},qe.prototype.delete=function(e){var t=this.__data__,r=Dt(t,e);return!(r<0||(r==t.length-1?t.pop():ol.call(t,r,1),--this.size,0))},qe.prototype.get=function(e){var t=this.__data__,r=Dt(t,e);return r<0?void 0:t[r][1]},qe.prototype.has=function(e){return Dt(this.__data__,e)>-1},qe.prototype.set=function(e,t){var r=this.__data__,o=Dt(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this};var Ct=ft(Le,"Map");function Vt(e,t){var r,o,n=e.__data__;return((o=typeof(r=t))=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null)?n[typeof t=="string"?"string":"hash"]:n.map}function Be(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}function Dr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var r=function(){var o=arguments,n=t?t.apply(this,o):o[0],s=r.cache;if(s.has(n))return s.get(n);var i=e.apply(this,o);return r.cache=s.set(n,i)||s,i};return r.cache=new(Dr.Cache||Be),r}Be.prototype.clear=function(){this.size=0,this.__data__={hash:new it,map:new(Ct||qe),string:new it}},Be.prototype.delete=function(e){var t=Vt(this,e).delete(e);return this.size-=t?1:0,t},Be.prototype.get=function(e){return Vt(this,e).get(e)},Be.prototype.has=function(e){return Vt(this,e).has(e)},Be.prototype.set=function(e,t){var r=Vt(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this},Dr.Cache=Be;var br,wr,sl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,il=/\\(\\)?/g,al=(br=Dr(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(sl,function(r,o,n,s){t.push(n?s.replace(il,"$1"):o||r)}),t},function(e){return wr.size===500&&wr.clear(),e}),wr=br.cache,br);function Lo(e,t){return Te(e)?e:Pr(e,t)?[e]:al(function(r){return r==null?"":zo(r)}(e))}var cl=1/0;function Kt(e){if(typeof e=="string"||Nt(e))return e;var t=e+"";return t=="0"&&1/e==-cl?"-0":t}function jr(e,t){for(var r=0,o=(t=Lo(t,e)).length;e!=null&&r<o;)e=e[Kt(t[r++])];return r&&r==o?e:void 0}function Fo(e,t){for(var r=-1,o=t.length,n=e.length;++r<o;)e[n+r]=t[r];return e}var $n=Ne?Ne.isConcatSpreadable:void 0;function ll(e){return Te(e)||Br(e)||!!($n&&e&&e[$n])}function ul(e,t,r,o,n){var s=-1,i=e.length;for(r||(r=ll),n||(n=[]);++s<i;){var c=e[s];r(c)?Fo(n,c):n[n.length]=c}return n}function De(e){var t=this.__data__=new qe(e);this.size=t.size}De.prototype.clear=function(){this.__data__=new qe,this.size=0},De.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},De.prototype.get=function(e){return this.__data__.get(e)},De.prototype.has=function(e){return this.__data__.has(e)},De.prototype.set=function(e,t){var r=this.__data__;if(r instanceof qe){var o=r.__data__;if(!Ct||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new Be(o)}return r.set(e,t),this.size=r.size,this};var Wo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Pn=Wo&&typeof module=="object"&&module&&!module.nodeType&&module,jn=Pn&&Pn.exports===Wo?Le.Buffer:void 0;jn&&jn.allocUnsafe;function dl(){return[]}var fl=Object.prototype.propertyIsEnumerable,On=Object.getOwnPropertySymbols,hl=On?function(e){return e==null?[]:(e=Object(e),function(t,r){for(var o=-1,n=t==null?0:t.length,s=0,i=[];++o<n;){var c=t[o];fl.call(e,c)&&(i[s++]=c)}return i}(On(e)))}:dl,gl=hl;function pl(e,t,r){var o=t(e);return Te(e)?o:Fo(o,r(e))}function An(e){return pl(e,qr,gl)}var Or=ft(Le,"DataView"),Ar=ft(Le,"Promise"),zr=ft(Le,"Set"),zn="[object Map]",En="[object Promise]",Nn="[object Set]",Cn="[object WeakMap]",Rn="[object DataView]",ml=dt(Or),vl=dt(Ct),_l=dt(Ar),yl=dt(zr),bl=dt(kr),st=bt;(Or&&st(new Or(new ArrayBuffer(1)))!=Rn||Ct&&st(new Ct)!=zn||Ar&&st(Ar.resolve())!=En||zr&&st(new zr)!=Nn||kr&&st(new kr)!=Cn)&&(st=function(e){var t=bt(e),r=t=="[object Object]"?e.constructor:void 0,o=r?dt(r):"";if(o)switch(o){case ml:return Rn;case vl:return zn;case _l:return En;case yl:return Nn;case bl:return Cn}return t});var Tn=st,Mn=Le.Uint8Array,In=Ne?Ne.prototype:void 0;In&&In.valueOf;_t&&_t.isMap;_t&&_t.isSet;function At(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Be;++t<r;)this.add(e[t])}function wl(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}function Er(e,t){return e.has(t)}At.prototype.add=At.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},At.prototype.has=function(e){return this.__data__.has(e)};var xl=1,Sl=2;function Ln(e,t,r,o,n,s){var i=r&xl,c=e.length,f=t.length;if(c!=f&&!(i&&f>c))return!1;var d=s.get(e),m=s.get(t);if(d&&m)return d==t&&m==e;var b=-1,y=!0,S=r&Sl?new At:void 0;for(s.set(e,t),s.set(t,e);++b<c;){var g=e[b],h=t[b];if(o)var u=i?o(h,g,b,t,e,s):o(g,h,b,e,t,s);if(u!==void 0){if(u)continue;y=!1;break}if(S){if(!wl(t,function(k,z){if(!Er(S,z)&&(g===k||n(g,k,r,o,s)))return S.push(z)})){y=!1;break}}else if(g!==h&&!n(g,h,r,o,s)){y=!1;break}}return s.delete(e),s.delete(t),y}function kl(e){var t=-1,r=Array(e.size);return e.forEach(function(o,n){r[++t]=[n,o]}),r}function $l(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}var Pl=1,jl=2,Ol="[object Boolean]",Al="[object Date]",zl="[object Error]",El="[object Map]",Nl="[object Number]",Cl="[object RegExp]",Rl="[object Set]",Tl="[object String]",Ml="[object Symbol]",Il="[object ArrayBuffer]",Ll="[object DataView]",Fn=Ne?Ne.prototype:void 0,xr=Fn?Fn.valueOf:void 0,Fl=1,Wl=Object.prototype.hasOwnProperty,Ul=1,Wn="[object Arguments]",Un="[object Array]",Ht="[object Object]",Bn=Object.prototype.hasOwnProperty;function Nr(e,t,r,o,n){return e===t||(e==null||t==null||!lt(e)&&!lt(t)?e!=e&&t!=t:function(s,i,c,f,d,m){var b=Te(s),y=Te(i),S=b?Un:Tn(s),g=y?Un:Tn(i),h=(S=S==Wn?Ht:S)==Ht,u=(g=g==Wn?Ht:g)==Ht,k=S==g;if(k&&$r(s)){if(!$r(i))return!1;b=!0,h=!1}if(k&&!h)return m||(m=new De),b||Io(s)?Ln(s,i,c,f,d,m):function(j,w,L,I,N,F,M){switch(L){case Ll:if(j.byteLength!=w.byteLength||j.byteOffset!=w.byteOffset)return!1;j=j.buffer,w=w.buffer;case Il:return!(j.byteLength!=w.byteLength||!F(new Mn(j),new Mn(w)));case Ol:case Al:case Nl:return Wr(+j,+w);case zl:return j.name==w.name&&j.message==w.message;case Cl:case Tl:return j==w+"";case El:var W=kl;case Rl:if(W||(W=$l),j.size!=w.size&&!(I&Pl))return!1;var q=M.get(j);if(q)return q==w;I|=jl,M.set(j,w);var K=Ln(W(j),W(w),I,N,F,M);return M.delete(j),K;case Ml:if(xr)return xr.call(j)==xr.call(w)}return!1}(s,i,S,c,f,d,m);if(!(c&Ul)){var z=h&&Bn.call(s,"__wrapped__"),$=u&&Bn.call(i,"__wrapped__");if(z||$){var R=z?s.value():s,E=$?i.value():i;return m||(m=new De),d(R,E,c,f,m)}}return!!k&&(m||(m=new De),function(j,w,L,I,N,F){var M=L&Fl,W=An(j),q=W.length;if(q!=An(w).length&&!M)return!1;for(var K=q;K--;){var v=W[K];if(!(M?v in w:Wl.call(w,v)))return!1}var a=F.get(j),l=F.get(w);if(a&&l)return a==w&&l==j;var _=!0;F.set(j,w),F.set(w,j);for(var x=M;++K<q;){var P=j[v=W[K]],O=w[v];if(I)var J=M?I(O,P,v,w,j,F):I(P,O,v,j,w,F);if(!(J===void 0?P===O||N(P,O,L,I,F):J)){_=!1;break}x||(x=v=="constructor")}if(_&&!x){var Q=j.constructor,V=w.constructor;Q==V||!("constructor"in j)||!("constructor"in w)||typeof Q=="function"&&Q instanceof Q&&typeof V=="function"&&V instanceof V||(_=!1)}return F.delete(j),F.delete(w),_}(s,i,c,f,d,m))}(e,t,r,o,Nr,n))}var Bl=1,ql=2;function qn(e){return e==e&&!Yt(e)}function Dn(e,t){return function(r){return r!=null&&r[e]===t&&(t!==void 0||e in Object(r))}}function Dl(e,t){return e!=null&&t in Object(e)}var Vl=1,Hl=2;function Jl(e){return typeof e=="function"?e:e==null?Zt:typeof e=="object"?Te(e)?function(s,i){return Pr(s)&&qn(i)?Dn(Kt(s),i):function(c){var f=function(d,m,b){var y=d==null?void 0:jr(d,m);return y===void 0?void 0:y}(c,s);return f===void 0&&f===i?function(d,m){return d!=null&&function(b,y,S){for(var g=-1,h=(y=Lo(y,b)).length,u=!1;++g<h;){var k=Kt(y[g]);if(!(u=b!=null&&S(b,k)))break;b=b[k]}return u||++g!=h?u:!!(h=b==null?0:b.length)&&Ur(h)&&Fr(k,h)&&(Te(b)||Br(b))}(d,m,Dl)}(c,s):Nr(i,f,Vl|Hl)}}(e[0],e[1]):(n=function(s){for(var i=qr(s),c=i.length;c--;){var f=i[c],d=s[f];i[c]=[f,d,qn(d)]}return i}(o=e),n.length==1&&n[0][2]?Dn(n[0][0],n[0][1]):function(s){return s===o||function(i,c,f,d){var m=f.length,b=m;if(i==null)return!b;for(i=Object(i);m--;){var y=f[m];if(y[2]?y[1]!==i[y[0]]:!(y[0]in i))return!1}for(;++m<b;){var S=(y=f[m])[0],g=i[S],h=y[1];if(y[2]){if(g===void 0&&!(S in i))return!1}else{var u=new De;if(!Nr(h,g,Bl|ql,void 0,u))return!1}}return!0}(s,0,n)}):Pr(t=e)?(r=Kt(t),function(s){return s==null?void 0:s[r]}):function(s){return function(i){return jr(i,s)}}(t);var t,r,o,n}var Gl=function(e,t,r){for(var o=-1,n=Object(e),s=r(e),i=s.length;i--;){var c=s[++o];if(t(n[c],c,n)===!1)break}return e};function Kl(e,t){return e&&Gl(e,t,qr)}var Vn,Xl=(Vn=Kl,function(e,t){if(e==null)return e;if(!Rt(e))return Vn(e,t);for(var r=e.length,o=-1,n=Object(e);++o<r&&t(n[o],o,n)!==!1;);return e});function Yl(e,t){var r=-1,o=Rt(e)?Array(e.length):[];return Xl(e,function(n,s,i){o[++r]=t(n,s,i)}),o}var Zl=Math.min;function Ql(e){return function(t){return lt(t)&&Rt(t)}(e)?e:[]}No(function(e){var t=jt(e,Ql);return t.length&&t[0]===e[0]?function(r,o,n){for(var s=Uc,i=r[0].length,c=r.length,f=c,d=Array(c),m=1/0,b=[];f--;){var y=r[f];m=Zl(y.length,m),d[f]=i>=120&&y.length>=120?new At(f&&y):void 0}y=r[0];var S=-1,g=d[0];e:for(;++S<i&&b.length<m;){var h=y[S],u=h;if(h=h!==0?h:0,!(g?Er(g,u):s(b,u,n))){for(f=c;--f;){var k=d[f];if(!(k?Er(k,u):s(r[f],u,n)))continue e}g&&g.push(u),b.push(h)}}return b}(t):[]});function eu(e,t){if(e!==t){var r=e!==void 0,o=e===null,n=e==e,s=Nt(e),i=t!==void 0,c=t===null,f=t==t,d=Nt(t);if(!c&&!d&&!s&&e>t||s&&i&&f&&!c&&!d||o&&i&&f||!r&&f||!n)return 1;if(!o&&!s&&!d&&e<t||d&&r&&n&&!o&&!s||c&&r&&n||!i&&n||!f)return-1}return 0}function tu(e,t,r){t=t.length?jt(t,function(n){return Te(n)?function(s){return jr(s,n.length===1?n[0]:n)}:n}):[Zt];var o=-1;return t=jt(t,To(Jl)),function(n,s){var i=n.length;for(n.sort(function(c,f){return function(d,m,b){for(var y=-1,S=d.criteria,g=m.criteria,h=S.length,u=b.length;++y<h;){var k=eu(S[y],g[y]);if(k)return y>=u?k:k*(b[y]=="desc"?-1:1)}return d.index-m.index}(c,f,r)});i--;)n[i]=n[i].value;return n}(Yl(e,function(n,s,i){return{criteria:jt(t,function(c){return c(n)}),index:++o,value:n}}))}No(function(e,t){if(e==null)return[];var r=t.length;return r>1&&bn(e,t[0],t[1])?t=[]:r>2&&bn(t[0],t[1],t[2])&&(t=[t[0]]),tu(e,ul(t),[])});function Z(e){if(this.words=[],e)if(Symbol&&Symbol.iterator&&e[Symbol.iterator]!==void 0){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.add(r.value),r=t.next()}else for(let t=0;t<e.length;t++)this.add(e[t])}Z.fromWords=function(e){const t=Object.create(Z.prototype);return t.words=e,t},Z.prototype.add=function(e){this.resize(e),this.words[e>>>5]|=1<<e},Z.prototype.flip=function(e){this.resize(e),this.words[e>>>5]^=1<<e},Z.prototype.clear=function(){this.words.length=0},Z.prototype.remove=function(e){this.resize(e),this.words[e>>>5]&=~(1<<e)},Z.prototype.isEmpty=function(e){const t=this.words.length;for(let r=0;r<t;r++)if(this.words[r]!==0)return!1;return!0},Z.prototype.has=function(e){return(this.words[e>>>5]&1<<e)!=0},Z.prototype.checkedAdd=function(e){this.resize(e);const t=this.words[e>>>5],r=t|1<<e;return this.words[e>>>5]=r,(r^t)>>>e},Z.prototype.trim=function(e){let t=this.words.length;for(;t>0&&this.words[t-1]===0;)t--;this.words.length=t},Z.prototype.resize=function(e){const t=e+32>>>5;for(let r=this.words.length;r<t;r++)this.words[r]=0},Z.prototype.hammingWeight=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},Z.prototype.hammingWeight4=function(e,t,r,o){return 16843009*((e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)+(t=(t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)+(r=(r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)+(o=(o=(858993459&(o-=o>>>1&1431655765))+(o>>>2&858993459))+(o>>>4)&252645135))>>>24},Z.prototype.size=function(){let e=0;const t=this.words.length,r=this.words;for(let o=0;o<t;o++)e+=this.hammingWeight(r[o]);return e},Z.prototype.array=function(){const e=new Array(this.size());let t=0;const r=this.words.length;for(let o=0;o<r;++o){let n=this.words[o];for(;n!=0;){const s=n&-n;e[t++]=(o<<5)+this.hammingWeight(s-1|0),n^=s}}return e},Z.prototype.forEach=function(e){const t=this.words.length;for(let r=0;r<t;++r){let o=this.words[r];for(;o!=0;){const n=o&-o;e((r<<5)+this.hammingWeight(n-1|0)),o^=n}}},Z.prototype[Symbol.iterator]=function(){const e=this.words.length;let t=0,r=this.words[t],o=this.hammingWeight,n=this.words;return{[Symbol.iterator](){return this},next(){for(;t<e;){if(r!==0){const s=r&-r,i=(t<<5)+o(s-1|0);return r^=s,{done:!1,value:i}}t++,t<e&&(r=n[t])}return{done:!0,value:void 0}}}},Z.prototype.clone=function(){const e=Object.create(Z.prototype);return e.words=this.words.slice(),e},Z.prototype.intersects=function(e){const t=Math.min(this.words.length,e.words.length);for(let r=0;r<t;++r)if(this.words[r]&e.words[r])return!0;return!1},Z.prototype.intersection=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)this.words[r]&=e.words[r],this.words[r+1]&=e.words[r+1],this.words[r+2]&=e.words[r+2],this.words[r+3]&=e.words[r+3],this.words[r+4]&=e.words[r+4],this.words[r+5]&=e.words[r+5],this.words[r+6]&=e.words[r+6],this.words[r+7]&=e.words[r+7];for(;r<t;++r)this.words[r]&=e.words[r];const o=this.words.length;for(r=t;r<o;++r)this.words[r]=0;return this},Z.prototype.intersection_size=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(let o=0;o<t;++o)r+=this.hammingWeight(this.words[o]&e.words[o]);return r},Z.prototype.new_intersection=function(e){const t=Object.create(Z.prototype),r=Math.min(this.words.length,e.words.length);t.words=new Array(r);let o=0;for(;o+7<r;o+=8)t.words[o]=this.words[o]&e.words[o],t.words[o+1]=this.words[o+1]&e.words[o+1],t.words[o+2]=this.words[o+2]&e.words[o+2],t.words[o+3]=this.words[o+3]&e.words[o+3],t.words[o+4]=this.words[o+4]&e.words[o+4],t.words[o+5]=this.words[o+5]&e.words[o+5],t.words[o+6]=this.words[o+6]&e.words[o+6],t.words[o+7]=this.words[o+7]&e.words[o+7];for(;o<r;++o)t.words[o]=this.words[o]&e.words[o];return t},Z.prototype.equals=function(e){const t=Math.min(this.words.length,e.words.length);for(let r=0;r<t;++r)if(this.words[r]!=e.words[r])return!1;if(this.words.length<e.words.length){const r=e.words.length;for(let o=this.words.length;o<r;++o)if(e.words[o]!=0)return!1}else if(e.words.length<this.words.length){const r=this.words.length;for(let o=e.words.length;o<r;++o)if(this.words[o]!=0)return!1}return!0},Z.prototype.difference=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)this.words[r]&=~e.words[r],this.words[r+1]&=~e.words[r+1],this.words[r+2]&=~e.words[r+2],this.words[r+3]&=~e.words[r+3],this.words[r+4]&=~e.words[r+4],this.words[r+5]&=~e.words[r+5],this.words[r+6]&=~e.words[r+6],this.words[r+7]&=~e.words[r+7];for(;r<t;++r)this.words[r]&=~e.words[r];return this},Z.prototype.new_difference=function(e){return this.clone().difference(e)},Z.prototype.difference2=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)e.words[r]=this.words[r]&~e.words[r],e.words[r+1]=this.words[r+1]&~e.words[r+1],e.words[r+2]=this.words[r+2]&~e.words[r+2],e.words[r+3]=this.words[r+3]&~e.words[r+3],e.words[r+4]=this.words[r+4]&~e.words[r+4],e.words[r+5]=this.words[r+5]&~e.words[r+5],e.words[r+6]=this.words[r+6]&~e.words[r+6],e.words[r+7]=this.words[r+7]&~e.words[r+7];for(;r<t;++r)e.words[r]=this.words[r]&~e.words[r];for(r=this.words.length-1;r>=t;--r)e.words[r]=this.words[r];return e.words.length=this.words.length,e},Z.prototype.difference_size=function(e){const t=Math.min(this.words.length,e.words.length);let r=0,o=0;for(;o<t;++o)r+=this.hammingWeight(this.words[o]&~e.words[o]);const n=this.words.length;for(;o<n;++o)r+=this.hammingWeight(this.words[o]);return r},Z.prototype.change=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)this.words[r]^=e.words[r],this.words[r+1]^=e.words[r+1],this.words[r+2]^=e.words[r+2],this.words[r+3]^=e.words[r+3],this.words[r+4]^=e.words[r+4],this.words[r+5]^=e.words[r+5],this.words[r+6]^=e.words[r+6],this.words[r+7]^=e.words[r+7];for(;r<t;++r)this.words[r]^=e.words[r];for(r=e.words.length-1;r>=t;--r)this.words[r]=e.words[r];return this},Z.prototype.new_change=function(e){const t=Object.create(Z.prototype),r=Math.max(this.words.length,e.words.length);t.words=new Array(r);const o=Math.min(this.words.length,e.words.length);let n=0;for(;n+7<o;n+=8)t.words[n]=this.words[n]^e.words[n],t.words[n+1]=this.words[n+1]^e.words[n+1],t.words[n+2]=this.words[n+2]^e.words[n+2],t.words[n+3]=this.words[n+3]^e.words[n+3],t.words[n+4]=this.words[n+4]^e.words[n+4],t.words[n+5]=this.words[n+5]^e.words[n+5],t.words[n+6]=this.words[n+6]^e.words[n+6],t.words[n+7]=this.words[n+7]^e.words[n+7];for(;n<o;++n)t.words[n]=this.words[n]^e.words[n];const s=this.words.length;for(n=o;n<s;++n)t.words[n]=this.words[n];const i=e.words.length;for(n=o;n<i;++n)t.words[n]=e.words[n];return t},Z.prototype.change_size=function(e){const t=Math.min(this.words.length,e.words.length);let r=0,o=0;for(;o<t;++o)r+=this.hammingWeight(this.words[o]^e.words[o]);const n=this.words.length>e.words.length?this:e,s=n.words.length;for(;o<s;++o)r+=this.hammingWeight(n.words[o]);return r},Z.prototype.toString=function(){return"{"+this.array().join(",")+"}"},Z.prototype.union=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)this.words[r]|=e.words[r],this.words[r+1]|=e.words[r+1],this.words[r+2]|=e.words[r+2],this.words[r+3]|=e.words[r+3],this.words[r+4]|=e.words[r+4],this.words[r+5]|=e.words[r+5],this.words[r+6]|=e.words[r+6],this.words[r+7]|=e.words[r+7];for(;r<t;++r)this.words[r]|=e.words[r];if(this.words.length<e.words.length){this.resize((e.words.length<<5)-1);const o=e.words.length;for(let n=t;n<o;++n)this.words[n]=e.words[n]}return this},Z.prototype.new_union=function(e){const t=Object.create(Z.prototype),r=Math.max(this.words.length,e.words.length);t.words=new Array(r);const o=Math.min(this.words.length,e.words.length);let n=0;for(;n+7<o;n+=8)t.words[n]=this.words[n]|e.words[n],t.words[n+1]=this.words[n+1]|e.words[n+1],t.words[n+2]=this.words[n+2]|e.words[n+2],t.words[n+3]=this.words[n+3]|e.words[n+3],t.words[n+4]=this.words[n+4]|e.words[n+4],t.words[n+5]=this.words[n+5]|e.words[n+5],t.words[n+6]=this.words[n+6]|e.words[n+6],t.words[n+7]=this.words[n+7]|e.words[n+7];for(;n<o;++n)t.words[n]=this.words[n]|e.words[n];const s=this.words.length;for(n=o;n<s;++n)t.words[n]=this.words[n];const i=e.words.length;for(n=o;n<i;++n)t.words[n]=e.words[n];return t},Z.prototype.union_size=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(let o=0;o<t;++o)r+=this.hammingWeight(this.words[o]|e.words[o]);if(this.words.length<e.words.length){const o=e.words.length;for(let n=this.words.length;n<o;++n)r+=this.hammingWeight(0|e.words[n])}else{const o=this.words.length;for(let n=e.words.length;n<o;++n)r+=this.hammingWeight(0|this.words[n])}return r};(function(e){var t={exports:{}};return function(r,o){(function(){var n,s,i,c,f,d,m,b,y,S,g,h,u,k,z,$,R,E,j,w,L,I,N,F,M,W,q,K,v=function(a){var l=new v.Index;return l.pipeline.add(v.trimmer,v.stopWordFilter,v.stemmer),a&&a.call(l,l),l};v.version="1.0.0",v.utils={},v.utils.warn=function(a){return function(l){a.console&&console.warn&&console.warn(l)}}(this),v.utils.asString=function(a){return a==null?"":a.toString()},v.EventEmitter=function(){this.events={}},v.EventEmitter.prototype.addListener=function(){var a=Array.prototype.slice.call(arguments),l=a.pop(),_=a;if(typeof l!="function")throw new TypeError("last argument must be a function");_.forEach(function(x){this.hasHandler(x)||(this.events[x]=[]),this.events[x].push(l)},this)},v.EventEmitter.prototype.removeListener=function(a,l){if(this.hasHandler(a)){var _=this.events[a].indexOf(l);this.events[a].splice(_,1),this.events[a].length||delete this.events[a]}},v.EventEmitter.prototype.emit=function(a){if(this.hasHandler(a)){var l=Array.prototype.slice.call(arguments,1);this.events[a].forEach(function(_){_.apply(void 0,l)})}},v.EventEmitter.prototype.hasHandler=function(a){return a in this.events},v.tokenizer=function(a){return arguments.length&&a!=null&&a!=null?Array.isArray(a)?a.map(function(l){return v.utils.asString(l).toLowerCase()}):a.toString().trim().toLowerCase().split(v.tokenizer.separator):[]},v.tokenizer.separator=/[\s\-]+/,v.tokenizer.load=function(a){var l=this.registeredFunctions[a];if(!l)throw new Error("Cannot load un-registered function: "+a);return l},v.tokenizer.label="default",v.tokenizer.registeredFunctions={default:v.tokenizer},v.tokenizer.registerFunction=function(a,l){l in this.registeredFunctions&&v.utils.warn("Overwriting existing tokenizer: "+l),a.label=l,this.registeredFunctions[l]=a},v.Pipeline=function(){this._stack=[]},v.Pipeline.registeredFunctions={},v.Pipeline.registerFunction=function(a,l){l in this.registeredFunctions&&v.utils.warn("Overwriting existing registered function: "+l),a.label=l,v.Pipeline.registeredFunctions[a.label]=a},v.Pipeline.warnIfFunctionNotRegistered=function(a){a.label&&a.label in this.registeredFunctions||v.utils.warn(`Function is not registered with pipeline. This may cause problems when serialising the index.
`,a)},v.Pipeline.load=function(a){var l=new v.Pipeline;return a.forEach(function(_){var x=v.Pipeline.registeredFunctions[_];if(!x)throw new Error("Cannot load un-registered function: "+_);l.add(x)}),l},v.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(a){v.Pipeline.warnIfFunctionNotRegistered(a),this._stack.push(a)},this)},v.Pipeline.prototype.after=function(a,l){v.Pipeline.warnIfFunctionNotRegistered(l);var _=this._stack.indexOf(a);if(_==-1)throw new Error("Cannot find existingFn");this._stack.splice(_+=1,0,l)},v.Pipeline.prototype.before=function(a,l){v.Pipeline.warnIfFunctionNotRegistered(l);var _=this._stack.indexOf(a);if(_==-1)throw new Error("Cannot find existingFn");this._stack.splice(_,0,l)},v.Pipeline.prototype.remove=function(a){var l=this._stack.indexOf(a);l!=-1&&this._stack.splice(l,1)},v.Pipeline.prototype.run=function(a){for(var l=[],_=a.length,x=this._stack.length,P=0;P<_;P++){for(var O=a[P],J=0;J<x&&(O=this._stack[J](O,P,a))!==void 0&&O!=="";J++);O!==void 0&&O!==""&&l.push(O)}return l},v.Pipeline.prototype.reset=function(){this._stack=[]},v.Pipeline.prototype.toJSON=function(){return this._stack.map(function(a){return v.Pipeline.warnIfFunctionNotRegistered(a),a.label})},v.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},v.Vector.Node=function(a,l,_){this.idx=a,this.val=l,this.next=_},v.Vector.prototype.insert=function(a,l){this._magnitude=void 0;var _=this.list;if(!_)return this.list=new v.Vector.Node(a,l,_),this.length++;if(a<_.idx)return this.list=new v.Vector.Node(a,l,_),this.length++;for(var x=_,P=_.next;P!=null;){if(a<P.idx)return x.next=new v.Vector.Node(a,l,P),this.length++;x=P,P=P.next}return x.next=new v.Vector.Node(a,l,P),this.length++},v.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var a,l=this.list,_=0;l;)_+=(a=l.val)*a,l=l.next;return this._magnitude=Math.sqrt(_)},v.Vector.prototype.dot=function(a){for(var l=this.list,_=a.list,x=0;l&&_;)l.idx<_.idx?l=l.next:(l.idx>_.idx||(x+=l.val*_.val,l=l.next),_=_.next);return x},v.Vector.prototype.similarity=function(a){return this.dot(a)/(this.magnitude()*a.magnitude())},v.SortedSet=function(){this.length=0,this.elements=[]},v.SortedSet.load=function(a){var l=new this;return l.elements=a,l.length=a.length,l},v.SortedSet.prototype.add=function(){var a,l;for(a=0;a<arguments.length;a++)~this.indexOf(l=arguments[a])||this.elements.splice(this.locationFor(l),0,l);this.length=this.elements.length},v.SortedSet.prototype.toArray=function(){return this.elements.slice()},v.SortedSet.prototype.map=function(a,l){return this.elements.map(a,l)},v.SortedSet.prototype.forEach=function(a,l){return this.elements.forEach(a,l)},v.SortedSet.prototype.indexOf=function(a){for(var l=0,_=this.elements.length,x=_-l,P=l+Math.floor(x/2),O=this.elements[P];x>1;){if(O===a)return P;O<a&&(l=P),O>a&&(_=P),x=_-l,P=l+Math.floor(x/2),O=this.elements[P]}return O===a?P:-1},v.SortedSet.prototype.locationFor=function(a){for(var l=0,_=this.elements.length,x=_-l,P=l+Math.floor(x/2),O=this.elements[P];x>1;)O<a&&(l=P),O>a&&(_=P),x=_-l,P=l+Math.floor(x/2),O=this.elements[P];return O>a?P:O<a?P+1:void 0},v.SortedSet.prototype.intersect=function(a){for(var l=new v.SortedSet,_=0,x=0,P=this.length,O=a.length,J=this.elements,Q=a.elements;!(_>P-1||x>O-1);)J[_]!==Q[x]?J[_]<Q[x]?_++:J[_]>Q[x]&&x++:(l.add(J[_]),_++,x++);return l},v.SortedSet.prototype.clone=function(){var a=new v.SortedSet;return a.elements=this.toArray(),a.length=a.elements.length,a},v.SortedSet.prototype.union=function(a){var l,_,x;this.length>=a.length?(l=this,_=a):(l=a,_=this),x=l.clone();for(var P=0,O=_.toArray();P<O.length;P++)x.add(O[P]);return x},v.SortedSet.prototype.toJSON=function(){return this.toArray()},v.Index=function(){this._fields=[],this._ref="id",this.pipeline=new v.Pipeline,this.documentStore=new v.Store,this.tokenStore=new v.TokenStore,this.corpusTokens=new v.SortedSet,this.eventEmitter=new v.EventEmitter,this.tokenizerFn=v.tokenizer,this._idfCache={},this.on("add","remove","update",(function(){this._idfCache={}}).bind(this))},v.Index.prototype.on=function(){var a=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,a)},v.Index.prototype.off=function(a,l){return this.eventEmitter.removeListener(a,l)},v.Index.load=function(a){a.version!==v.version&&v.utils.warn("version mismatch: current "+v.version+" importing "+a.version);var l=new this;return l._fields=a.fields,l._ref=a.ref,l.tokenizer(v.tokenizer.load(a.tokenizer)),l.documentStore=v.Store.load(a.documentStore),l.tokenStore=v.TokenStore.load(a.tokenStore),l.corpusTokens=v.SortedSet.load(a.corpusTokens),l.pipeline=v.Pipeline.load(a.pipeline),l},v.Index.prototype.field=function(a,l){return this._fields.push({name:a,boost:(l=l||{}).boost||1}),this},v.Index.prototype.ref=function(a){return this._ref=a,this},v.Index.prototype.tokenizer=function(a){return a.label&&a.label in v.tokenizer.registeredFunctions||v.utils.warn("Function is not a registered tokenizer. This may cause problems when serialising the index"),this.tokenizerFn=a,this},v.Index.prototype.add=function(a,l){var _={},x=new v.SortedSet,P=a[this._ref];l=l===void 0||l,this._fields.forEach(function(B){var Y=this.pipeline.run(this.tokenizerFn(a[B.name]));_[B.name]=Y;for(var ge=0;ge<Y.length;ge++){var Ce=Y[ge];x.add(Ce),this.corpusTokens.add(Ce)}},this),this.documentStore.set(P,x);for(var O=0;O<x.length;O++){for(var J=x.elements[O],Q=0,V=0;V<this._fields.length;V++){var ae=this._fields[V],ue=_[ae.name],me=ue.length;if(me){for(var we=0,$e=0;$e<me;$e++)ue[$e]===J&&we++;Q+=we/me*ae.boost}}this.tokenStore.add(J,{ref:P,tf:Q})}l&&this.eventEmitter.emit("add",a,this)},v.Index.prototype.remove=function(a,l){var _=a[this._ref];if(l=l===void 0||l,this.documentStore.has(_)){var x=this.documentStore.get(_);this.documentStore.remove(_),x.forEach(function(P){this.tokenStore.remove(P,_)},this),l&&this.eventEmitter.emit("remove",a,this)}},v.Index.prototype.update=function(a,l){l=l===void 0||l,this.remove(a,!1),this.add(a,!1),l&&this.eventEmitter.emit("update",a,this)},v.Index.prototype.idf=function(a){var l="@"+a;if(Object.prototype.hasOwnProperty.call(this._idfCache,l))return this._idfCache[l];var _=this.tokenStore.count(a),x=1;return _>0&&(x=1+Math.log(this.documentStore.length/_)),this._idfCache[l]=x},v.Index.prototype.search=function(a){var l=this.pipeline.run(this.tokenizerFn(a)),_=new v.Vector,x=[],P=this._fields.reduce(function(O,J){return O+J.boost},0);return l.some(function(O){return this.tokenStore.has(O)},this)?(l.forEach(function(O,J,Q){var V=1/Q.length*this._fields.length*P,ae=this,ue=this.tokenStore.expand(O).reduce(function(me,we){var $e=ae.corpusTokens.indexOf(we),B=ae.idf(we),Y=1,ge=new v.SortedSet;if(we!==O){var Ce=Math.max(3,we.length-O.length);Y=1/Math.log(Ce)}$e>-1&&_.insert($e,V*B*Y);for(var Pe=ae.tokenStore.get(we),rt=Object.keys(Pe),Qt=rt.length,ht=0;ht<Qt;ht++)ge.add(Pe[rt[ht]].ref);return me.union(ge)},new v.SortedSet);x.push(ue)},this),x.reduce(function(O,J){return O.intersect(J)}).map(function(O){return{ref:O,score:_.similarity(this.documentVector(O))}},this).sort(function(O,J){return J.score-O.score})):[]},v.Index.prototype.documentVector=function(a){for(var l=this.documentStore.get(a),_=l.length,x=new v.Vector,P=0;P<_;P++){var O=l.elements[P],J=this.tokenStore.get(O)[a].tf,Q=this.idf(O);x.insert(this.corpusTokens.indexOf(O),J*Q)}return x},v.Index.prototype.toJSON=function(){return{version:v.version,fields:this._fields,ref:this._ref,tokenizer:this.tokenizerFn.label,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},v.Index.prototype.use=function(a){var l=Array.prototype.slice.call(arguments,1);l.unshift(this),a.apply(this,l)},v.Store=function(){this.store={},this.length=0},v.Store.load=function(a){var l=new this;return l.length=a.length,l.store=Object.keys(a.store).reduce(function(_,x){return _[x]=v.SortedSet.load(a.store[x]),_},{}),l},v.Store.prototype.set=function(a,l){this.has(a)||this.length++,this.store[a]=l},v.Store.prototype.get=function(a){return this.store[a]},v.Store.prototype.has=function(a){return a in this.store},v.Store.prototype.remove=function(a){this.has(a)&&(delete this.store[a],this.length--)},v.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},v.stemmer=(n={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},s={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},d="^("+(c="[^aeiou][^aeiouy]*")+")?"+(f=(i="[aeiouy]")+"[aeiou]*")+c+"("+f+")?$",m="^("+c+")?"+f+c+f+c,b="^("+c+")?"+i,y=new RegExp("^("+c+")?"+f+c),S=new RegExp(m),g=new RegExp(d),h=new RegExp(b),u=/^(.+?)(ss|i)es$/,k=/^(.+?)([^s])s$/,z=/^(.+?)eed$/,$=/^(.+?)(ed|ing)$/,R=/.$/,E=/(at|bl|iz)$/,j=new RegExp("([^aeiouylsz])\\1$"),w=new RegExp("^"+c+i+"[^aeiouwxy]$"),L=/^(.+?[^aeiou])y$/,I=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,N=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,F=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,M=/^(.+?)(s|t)(ion)$/,W=/^(.+?)e$/,q=/ll$/,K=new RegExp("^"+c+i+"[^aeiouwxy]$"),function(a){var l,_,x,P,O,J,Q;if(a.length<3)return a;if((x=a.substr(0,1))=="y"&&(a=x.toUpperCase()+a.substr(1)),O=k,(P=u).test(a)?a=a.replace(P,"$1$2"):O.test(a)&&(a=a.replace(O,"$1$2")),O=$,(P=z).test(a)){var V=P.exec(a);(P=y).test(V[1])&&(a=a.replace(P=R,""))}else O.test(a)&&(V=O.exec(a),(O=h).test(l=V[1])&&(J=j,Q=w,(O=E).test(a=l)?a+="e":J.test(a)?a=a.replace(P=R,""):Q.test(a)&&(a+="e")));return(P=L).test(a)&&(a=(l=(V=P.exec(a))[1])+"i"),(P=I).test(a)&&(_=(V=P.exec(a))[2],(P=y).test(l=V[1])&&(a=l+n[_])),(P=N).test(a)&&(_=(V=P.exec(a))[2],(P=y).test(l=V[1])&&(a=l+s[_])),O=M,(P=F).test(a)?(V=P.exec(a),(P=S).test(l=V[1])&&(a=l)):O.test(a)&&(V=O.exec(a),(O=S).test(l=V[1]+V[2])&&(a=l)),(P=W).test(a)&&(V=P.exec(a),O=g,J=K,((P=S).test(l=V[1])||O.test(l)&&!J.test(l))&&(a=l)),O=S,(P=q).test(a)&&O.test(a)&&(a=a.replace(P=R,"")),x=="y"&&(a=x.toLowerCase()+a.substr(1)),a}),v.Pipeline.registerFunction(v.stemmer,"stemmer"),v.generateStopWordFilter=function(a){var l=a.reduce(function(_,x){return _[x]=x,_},{});return function(_){if(_&&l[_]!==_)return _}},v.stopWordFilter=v.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),v.Pipeline.registerFunction(v.stopWordFilter,"stopWordFilter"),v.trimmer=function(a){return a.replace(/^\W+/,"").replace(/\W+$/,"")},v.Pipeline.registerFunction(v.trimmer,"trimmer"),v.TokenStore=function(){this.root={docs:{}},this.length=0},v.TokenStore.load=function(a){var l=new this;return l.root=a.root,l.length=a.length,l},v.TokenStore.prototype.add=function(a,l,_){_=_||this.root;var x=a.charAt(0),P=a.slice(1);return x in _||(_[x]={docs:{}}),P.length===0?(_[x].docs[l.ref]=l,void(this.length+=1)):this.add(P,l,_[x])},v.TokenStore.prototype.has=function(a){if(!a)return!1;for(var l=this.root,_=0;_<a.length;_++){if(!l[a.charAt(_)])return!1;l=l[a.charAt(_)]}return!0},v.TokenStore.prototype.getNode=function(a){if(!a)return{};for(var l=this.root,_=0;_<a.length;_++){if(!l[a.charAt(_)])return{};l=l[a.charAt(_)]}return l},v.TokenStore.prototype.get=function(a,l){return this.getNode(a,l).docs||{}},v.TokenStore.prototype.count=function(a,l){return Object.keys(this.get(a,l)).length},v.TokenStore.prototype.remove=function(a,l){if(a){for(var _=this.root,x=0;x<a.length;x++){if(!(a.charAt(x)in _))return;_=_[a.charAt(x)]}delete _.docs[l]}},v.TokenStore.prototype.expand=function(a,l){var _=this.getNode(a);return l=l||[],Object.keys(_.docs||{}).length&&l.push(a),Object.keys(_).forEach(function(x){x!=="docs"&&l.concat(this.expand(a+x,l))},this),l},v.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},r.exports=v})()}(t),t.exports})();const ru={aggregations:{notAfter:{title:"Not after",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},notBefore:{title:"Not before",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},language:{title:"Language",hide_zero_doc_count:!0,size:200,sort:"key"},placeName:{title:"Place",hide_zero_doc_count:!0,size:200,sort:"key"},inscriptionType:{title:"Inscription type",hide_zero_doc_count:!0,size:200,sort:"key"},objectType:{title:"Object type",hide_zero_doc_count:!0,size:200,sort:"key"},material:{title:"Material",hide_zero_doc_count:!0,size:200,sort:"key"},technique:{title:"Technique",hide_zero_doc_count:!0,size:200,sort:"key"},pigment:{title:"Pigment",hide_zero_doc_count:!0,size:200,sort:"key"},status:{title:"Status",hide_zero_doc_count:!0,sort:"key"}},searchableFields:["keywords","title","text"],sortings:{file_asc:{field:"file",order:"asc"},file_desc:{field:"file",order:"desc"},notAfter_asc:{field:"notAfter",order:"asc"},notAfter_desc:{field:"notAfter",order:"desc"},notBefore_asc:{field:"notBefore",order:"desc"},notBefore_desc:{field:"notBefore",order:"desc"},title_asc:{field:"title",order:"asc"},title_desc:{field:"title",order:"desc"}}};var nu=D("<!>Filters",1),ou=D('<h2 aria-busy="true" class="svelte-16zqrgi">Loading inscriptions...</h2>'),su=D("<!>View cards",1),iu=D("<!>View map",1),au=D("<!>View table",1),cu=D('<div class="transition-container svelte-16zqrgi"><!></div>'),lu=D('<div class="transition-container svelte-16zqrgi"><!></div>'),uu=D("<!> <!> <!>",1),du=D('<!> <section class="controls svelte-16zqrgi"><div class="toggles svelte-16zqrgi"><!> <!> <!></div> <div class="sort-controls svelte-16zqrgi"><label for="sort-select">Sort by:</label> <select id="sort-select"><option>File</option><option>Not before</option><option>Not after</option><option>Title</option></select> <!></div></section> <!>',1),fu=D('<article><section><form class="svelte-16zqrgi"><label class="visually-hidden" for="q">Search query:</label> <input type="text" name="q" id="q" placeholder="Search inscriptions metadata" class="svelte-16zqrgi"> <!> <!></form> <div class="filters-toggle svelte-16zqrgi"><!></div></section> <section class="inscriptions svelte-16zqrgi"><!></section></article> <!>',1);function hu(e,t){ye(t,!0);const r=ut(),o=()=>Ae(f,"$searchLimit",r),n=()=>Ae(c,"$searchPage",r),s=()=>Ae(i,"$searchQuery",r),i=pr("q",fr.string("")),c=pr("page",fr.number(1)),f=pr("limit",fr.number(Mt.limit));let d=Ue("cards"),m=Ue("idle"),b=fe(()=>["idle","load"].includes(p(m))),y=Ue(void 0),S=Ue(pe({})),g=fe(()=>{var B;return((B=p(S))==null?void 0:B.pagination)??{}}),h=fe(()=>{var B,Y;return((Y=(B=p(S))==null?void 0:B.data)==null?void 0:Y.aggregations)??{}}),u=fe(()=>{var B;return((B=p(g))==null?void 0:B.total)??0}),k=fe(I),z=fe(()=>{var B,Y;return((Y=(B=p(S))==null?void 0:B.data)==null?void 0:Y.items)??[]}),$=fe(()=>{var B;return(B=p(z))==null?void 0:B.map(Y=>({file:Y.file,title:Y.title,places:Y.places,geo:Y.geo[0]}))}),R=Ue(!1),E=pe({sortAggregationsBy:"key",sortResultsBy:"file",sortResultsOrder:"asc"}),j=Ue(pe([-700,1830])),w=Ue(pe(Object.keys(ru.aggregations).filter(B=>B.indexOf("not")<0).reduce((B,Y)=>(B[Y]=[],B),{})));async function L(){p(m)!=="ready"&&(re(m,"load"),re(y,pe(new Xs)),p(y).addEventListener("message",B=>{const{type:Y,data:ge}=B.data;Y==="ready"&&re(m,"ready"),Y==="results"&&re(S,pe(ge))}),p(y).postMessage({type:"load",data:{sortAggregationsBy:E.sortAggregationsBy}}))}function I(){var B;return!p(h)||!((B=p(h))!=null&&B.placeName)?0:p(h).placeName.buckets.length}Gr(()=>{N()});async function N(){if(p(m)==="ready"){const B=Object.fromEntries(Object.keys(p(w)).map(Y=>[Y,[...p(w)[Y]]]));p(y).postMessage({type:"search",data:{limit:o(),page:n(),query:s(),sort:`${E.sortResultsBy}_${E.sortResultsOrder}`,filters:B,dateRange:[...p(j)]}})}}async function F(B){B.preventDefault()}async function M(B){B.preventDefault(),Je(i,""),Je(c,1),Je(f,pe(Mt.limit))}Gr(()=>{E.sortAggregationsBy&&p(y)&&p(m)==="ready"&&(p(y).postMessage({type:"load",data:{sortAggregationsBy:E.sortAggregationsBy}}),N())});async function W(B){B==="map"?Je(f,pe(Mt.maxLimit)):p(d)==="map"&&(re(S,pe({...p(S),data:{...p(S).data,items:[]}})),Je(f,pe(Mt.limit)),Je(c,1)),re(d,pe(B))}async function q(){E.sortResultsOrder=E.sortResultsOrder==="asc"?"desc":"asc"}async function K(B){Je(c,pe(B))}Zn(()=>{L()});var v=fu(),a=G(v),l=T(a),_=T(l),x=U(T(_),2);pt(x);var P=U(x,2),O=fe(()=>!s());Se(P,()=>nt,(B,Y)=>{Y(B,{class:"surface-4",type:"submit",get disabled(){return p(O)},children:(ge,Ce)=>{Ee();var Pe=Re("Search");A(ge,Pe)},$$slots:{default:!0}})});var J=U(P,2),Q=fe(()=>!s());Se(J,()=>nt,(B,Y)=>{Y(B,{class:"surface-1",type:"reset",get disabled(){return p(Q)},children:(ge,Ce)=>{Ee();var Pe=Re("Reset");A(ge,Pe)},$$slots:{default:!0}})}),C(_);var V=U(_,2),ae=T(V),ue=fe(()=>p(R)?"surface-4":"surface-1");Se(ae,()=>nt,(B,Y)=>{Y(B,{get class(){return p(ue)},onclick:()=>re(R,!p(R)),children:(ge,Ce)=>{var Pe=nu(),rt=G(Pe);Hs(rt,{}),Ee(),A(ge,Pe)},$$slots:{default:!0}})}),C(V),C(l);var me=U(l,2),we=T(me);se(we,()=>p(b),B=>{var Y=ou();A(B,Y)},B=>{var Y=du(),ge=G(Y);fc(ge,{get total(){return p(u)},get dateRange(){return p(j)},get numberOfLocations(){return p(k)},get query(){return s()},get filters(){return p(w)}});var Ce=U(ge,2),Pe=T(Ce),rt=T(Pe),Qt=fe(()=>`${p(d)==="cards"?"surface-4":"surface-1"}`);Se(rt,()=>nt,(je,ve)=>{ve(je,{get class(){return p(Qt)},onclick:()=>W("cards"),children:(ze,gt)=>{var Oe=su(),Fe=G(Oe);Js(Fe,{}),Ee(),A(ze,Oe)},$$slots:{default:!0}})});var ht=U(rt,2),Uo=fe(()=>`${p(d)==="map"?"surface-4":"surface-1"}`);Se(ht,()=>nt,(je,ve)=>{ve(je,{get class(){return p(Uo)},onclick:()=>W("map"),children:(ze,gt)=>{var Oe=iu(),Fe=G(Oe);Gs(Fe,{}),Ee(),A(ze,Oe)},$$slots:{default:!0}})});var Bo=U(ht,2),qo=fe(()=>`${p(d)==="table"?"surface-4":"surface-1"}`);Se(Bo,()=>nt,(je,ve)=>{ve(je,{get class(){return p(qo)},onclick:()=>W("table"),children:(ze,gt)=>{var Oe=au(),Fe=G(Oe);Ks(Fe,{}),Ee(),A(ze,Oe)},$$slots:{default:!0}})}),C(Pe);var Vr=U(Pe,2),Tt=U(T(Vr),2),er=T(Tt);er.value=(er.__value="file")==null?"":"file";var tr=U(er);tr.value=(tr.__value="notBefore")==null?"":"notBefore";var rr=U(tr);rr.value=(rr.__value="notAfter")==null?"":"notAfter";var Hr=U(rr);Hr.value=(Hr.__value="title")==null?"":"title",C(Tt);var Do=U(Tt,2);Se(Do,()=>nt,(je,ve)=>{ve(je,{class:"order-toggle",onclick:()=>q(),"aria-label":"Toggle sort order from ascending to descending to no order",children:(ze,gt)=>{var Oe=ne(),Fe=G(Oe);se(Fe,()=>E.sortResultsOrder==="asc",We=>{qs(We,{"aria-label":"Ascending"})},We=>{Bs(We,{"aria-label":"Descending"})}),A(ze,Oe)},$$slots:{default:!0}})}),C(Vr),C(Ce);var Vo=U(Ce,2);se(Vo,()=>p(d)==="map",je=>{var ve=cu(),ze=T(ve);sc(ze,{get inscriptions(){return p($)}}),C(ve),kt(1,ve,()=>It,()=>({duration:500})),kt(2,ve,()=>It,()=>({duration:250})),A(je,ve)},je=>{var ve=uu(),ze=G(ve);dn(ze,{get page(){return n()},get count(){return p(u)},get perPage(){return o()},onPageChange:K});var gt=U(ze,2);ns(gt,()=>p(d),Fe=>{var We=lu(),Ho=T(We);se(Ho,()=>p(d)==="table",nr=>{hi(nr,{get inscriptions(){return p(z)}})},nr=>{tc(nr,{get inscriptions(){return p(z)}})}),C(We),kt(1,We,()=>It,()=>({duration:500})),kt(2,We,()=>It,()=>({duration:250})),A(Fe,We)});var Oe=U(gt,2);dn(Oe,{get page(){return n()},get count(){return p(u)},get perPage(){return o()},onPageChange:K}),A(je,ve)}),gs(Tt,()=>E.sortResultsBy,je=>E.sortResultsBy=je),A(B,Y)}),C(me),C(a);var $e=U(a,2);bc($e,{get show(){return p(R)},get aggregations(){return p(h)},get sortAggregationsBy(){return E.sortAggregationsBy},set sortAggregationsBy(B){E.sortAggregationsBy=B},get selectedDateRange(){return p(j)},set selectedDateRange(B){re(j,pe(B))},get selectedFilters(){return p(w)},set selectedFilters(B){re(w,pe(B))}}),Ke("submit",_,F),Ke("reset",_,M),Gt(x,s,B=>Je(i,B)),A(e,v),be()}var gu=D('<section class="hero svelte-1ou7ebr"><h1 class="svelte-1ou7ebr"> </h1></section> <!>',1);function Au(e,t){ye(t,!1),He();var r=gu(),o=G(r),n=T(o),s=T(n,!0);C(n),C(o);var i=U(o,2);hu(i,{}),X(()=>te(s,ts)),A(e,r),be()}export{Au as component};

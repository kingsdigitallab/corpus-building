import{s as ve,r as ge,c as Ee,o as be}from"../chunks/scheduler.CR4wpqUo.js";import{S as Ce,i as ke,e as i,t as R,s as H,c as u,a as y,b as A,d as v,f as O,k as Z,x,g as le,h as e,y as ce,z as ne,j as V,l as te,m as ye,n as oe,o as Le,p as De,q as Ie,r as Se,u as we,v as Ne}from"../chunks/index.BS9a4Nde.js";import{e as de}from"../chunks/each.D6YF6ztN.js";import{p as Te}from"../chunks/stores.BiZO_EUP.js";import{B as qe}from"../chunks/BaseLink.wV7OrkhC.js";import{d as Pe}from"../chunks/config.BcrlzuFT.js";function he(o,t,l){const a=o.slice();return a[10]=t[l],a}function pe(o){let t,l,a,r=o[1].length+"",f,b,g,E=o[3].split(" ").join(", ")+"",L;return{c(){t=i("h3"),l=R("Displaying "),a=i("em"),f=R(r),b=R(` inscriptions matching
					`),g=i("em"),L=R(E)},l(C){t=u(C,"H3",{});var d=y(t);l=A(d,"Displaying "),a=u(d,"EM",{});var S=y(a);f=A(S,r),S.forEach(v),b=A(d,` inscriptions matching
					`),g=u(d,"EM",{});var n=y(g);L=A(n,E),n.forEach(v),d.forEach(v)},m(C,d){le(C,t,d),e(t,l),e(t,a),e(a,f),e(t,b),e(t,g),e(g,L)},p(C,d){d&2&&r!==(r=C[1].length+"")&&V(f,r),d&8&&E!==(E=C[3].split(" ").join(", ")+"")&&V(L,E)},d(C){C&&v(t)}}}function Re(o){let t=o[10].metadata.title+"",l;return{c(){l=R(t)},l(a){l=A(a,t)},m(a,r){le(a,l,r)},p(a,r){r&2&&t!==(t=a[10].metadata.title+"")&&V(l,t)},d(a){a&&v(l)}}}function _e(o){var K,W;let t,l,a,r,f,b,g="Settlement",E,L=o[10].metadata.settlement+"",C,d,S="Repository",n,k=(((K=o[10].metadata.repository)==null?void 0:K._)||"N/A")+"",U,P,w="Language",B,N=(((W=o[10].metadata.textLang)==null?void 0:W._)||"N/A")+"",M,F,I;return a=new qe({props:{href:"inscription/"+o[10].file,$$slots:{default:[Re]},$$scope:{ctx:o}}}),{c(){t=i("li"),l=i("h4"),De(a.$$.fragment),r=H(),f=i("dl"),b=i("dt"),b.textContent=g,E=i("dd"),C=R(L),d=i("dt"),d.textContent=S,n=i("dd"),U=R(k),P=i("dt"),P.textContent=w,B=i("dd"),M=R(N),F=H(),this.h()},l(_){t=u(_,"LI",{});var m=y(t);l=u(m,"H4",{});var T=y(l);Ie(a.$$.fragment,T),T.forEach(v),r=O(m),f=u(m,"DL",{});var q=y(f);b=u(q,"DT",{class:!0,"data-svelte-h":!0}),Z(b)!=="svelte-upur71"&&(b.textContent=g),E=u(q,"DD",{});var j=y(E);C=A(j,L),j.forEach(v),d=u(q,"DT",{class:!0,"data-svelte-h":!0}),Z(d)!=="svelte-1uef0e6"&&(d.textContent=S),n=u(q,"DD",{});var X=y(n);U=A(X,k),X.forEach(v),P=u(q,"DT",{class:!0,"data-svelte-h":!0}),Z(P)!=="svelte-1aab11o"&&(P.textContent=w),B=u(q,"DD",{});var G=y(B);M=A(G,N),G.forEach(v),q.forEach(v),F=O(m),m.forEach(v),this.h()},h(){x(b,"class","svelte-1qsvq6o"),x(d,"class","svelte-1qsvq6o"),x(P,"class","svelte-1qsvq6o")},m(_,m){le(_,t,m),e(t,l),Se(a,l,null),e(t,r),e(t,f),e(f,b),e(f,E),e(E,C),e(f,d),e(f,n),e(n,U),e(f,P),e(f,B),e(B,M),e(t,F),I=!0},p(_,m){var q,j;const T={};m&2&&(T.href="inscription/"+_[10].file),m&8194&&(T.$$scope={dirty:m,ctx:_}),a.$set(T),(!I||m&2)&&L!==(L=_[10].metadata.settlement+"")&&V(C,L),(!I||m&2)&&k!==(k=(((q=_[10].metadata.repository)==null?void 0:q._)||"N/A")+"")&&V(U,k),(!I||m&2)&&N!==(N=(((j=_[10].metadata.textLang)==null?void 0:j._)||"N/A")+"")&&V(M,N)},i(_){I||(te(a.$$.fragment,_),I=!0)},o(_){oe(a.$$.fragment,_),I=!1},d(_){_&&v(t),we(a)}}}function Ae(o){let t,l,a,r=o[0].corpus.length.toLocaleString()+"",f,b,g,E,L=Pe+"",C,d,S,n,k,U="Keywords",P,w,B,N,M,F,I,K,W,_,m,T,q="Inscriptions",j,X,G,J,ae,re,D=o[2]&&pe(o),Q=de(o[1]),h=[];for(let s=0;s<Q.length;s+=1)h[s]=_e(he(o,Q,s));const me=s=>oe(h[s],1,1,()=>{h[s]=null});return{c(){t=i("article"),l=i("hgroup"),a=i("h1"),f=R(r),b=R(" Inscriptions over x years across x locations"),g=H(),E=i("p"),C=R(L),d=H(),S=i("section"),n=i("form"),k=i("label"),k.textContent=U,P=H(),w=i("input"),B=H(),N=i("input"),F=H(),I=i("input"),W=H(),_=i("section"),m=i("hgroup"),T=i("h2"),T.textContent=q,j=H(),D&&D.c(),X=H(),G=i("ol");for(let s=0;s<h.length;s+=1)h[s].c();this.h()},l(s){t=u(s,"ARTICLE",{});var p=y(t);l=u(p,"HGROUP",{});var c=y(l);a=u(c,"H1",{});var Y=y(a);f=A(Y,r),b=A(Y," Inscriptions over x years across x locations"),Y.forEach(v),g=O(c),E=u(c,"P",{});var ie=y(E);C=A(ie,L),ie.forEach(v),c.forEach(v),d=O(p),S=u(p,"SECTION",{});var ue=y(S);n=u(ue,"FORM",{});var z=y(n);k=u(z,"LABEL",{for:!0,"data-svelte-h":!0}),Z(k)!=="svelte-10ryt36"&&(k.textContent=U),P=O(z),w=u(z,"INPUT",{type:!0,name:!0,id:!0}),B=O(z),N=u(z,"INPUT",{type:!0}),F=O(z),I=u(z,"INPUT",{type:!0}),z.forEach(v),ue.forEach(v),W=O(p),_=u(p,"SECTION",{});var $=y(_);m=u($,"HGROUP",{});var ee=y(m);T=u(ee,"H2",{"data-svelte-h":!0}),Z(T)!=="svelte-n49mf5"&&(T.textContent=q),j=O(ee),D&&D.l(ee),ee.forEach(v),X=O($),G=u($,"OL",{});var fe=y(G);for(let se=0;se<h.length;se+=1)h[se].l(fe);fe.forEach(v),$.forEach(v),p.forEach(v),this.h()},h(){x(k,"for","keywords"),x(w,"type","text"),x(w,"name","keywords"),x(w,"id","keywords"),x(N,"type","submit"),N.value="Search",N.disabled=M=!o[3],x(I,"type","reset"),I.value="Reset",I.disabled=K=!o[3]},m(s,p){le(s,t,p),e(t,l),e(l,a),e(a,f),e(a,b),e(l,g),e(l,E),e(E,C),e(t,d),e(t,S),e(S,n),e(n,k),e(n,P),e(n,w),ce(w,o[3]),e(n,B),e(n,N),e(n,F),e(n,I),e(t,W),e(t,_),e(_,m),e(m,T),e(m,j),D&&D.m(m,null),e(_,X),e(_,G);for(let c=0;c<h.length;c+=1)h[c]&&h[c].m(G,null);J=!0,ae||(re=[ne(w,"input",o[6]),ne(n,"submit",o[7]),ne(n,"reset",o[8])],ae=!0)},p(s,[p]){if((!J||p&1)&&r!==(r=s[0].corpus.length.toLocaleString()+"")&&V(f,r),p&8&&w.value!==s[3]&&ce(w,s[3]),(!J||p&8&&M!==(M=!s[3]))&&(N.disabled=M),(!J||p&8&&K!==(K=!s[3]))&&(I.disabled=K),s[2]?D?D.p(s,p):(D=pe(s),D.c(),D.m(m,null)):D&&(D.d(1),D=null),p&2){Q=de(s[1]);let c;for(c=0;c<Q.length;c+=1){const Y=he(s,Q,c);h[c]?(h[c].p(Y,p),te(h[c],1)):(h[c]=_e(Y),h[c].c(),te(h[c],1),h[c].m(G,null))}for(Ne(),c=Q.length;c<h.length;c+=1)me(c);ye()}},i(s){if(!J){for(let p=0;p<Q.length;p+=1)te(h[p]);J=!0}},o(s){h=h.filter(Boolean);for(let p=0;p<h.length;p+=1)oe(h[p]);J=!1},d(s){s&&v(t),D&&D.d(),Le(h,s),ae=!1,ge(re)}}}function He(o,t,l){let a;Ee(o,Te,n=>l(9,a=n));let{data:r}=t,f=r.corpus,b=!1,g="";function E(){l(1,f=r.corpus),l(2,b=!1),l(3,g="")}function L(){if(l(2,b=!0),!g){l(1,f=r.corpus);return}l(1,f=r.corpus.filter(n=>!g||g.split(" ").map(k=>k.toLowerCase()).every(k=>n.metadata.keywords.some(U=>U.includes(k))||n.metadata.title.toLowerCase().includes(k))))}be(()=>{l(3,g=a.url.searchParams.get("keywords")||"")});function C(){g=this.value,l(3,g)}const d=()=>L(),S=()=>E();return o.$$set=n=>{"data"in n&&l(0,r=n.data)},[r,f,b,g,E,L,C,d,S]}class xe extends Ce{constructor(t){super(),ke(this,t,He,Ae,ve,{data:0})}}export{xe as component};

import{s as Pe,r as qe,c as Ye,o as He,n as Fe,a as Se}from"../chunks/scheduler.CouYSk3Y.js";import{S as Ge,i as Je,e as v,l as T,s as j,c as g,a as C,m as z,d as f,b as P,n as L,f as J,h as o,x as Ce,y as fe,o as K,t as Z,k as Ne,j as ae,q as Ke,r as De,u as Oe,g as me,v as Ue,p as ye,w as Re}from"../chunks/index.xzp9WnH_.js";import{e as Ae}from"../chunks/each.D6YF6ztN.js";import{g as Le}from"../chunks/entry.BAJOO0--.js";import{p as Qe}from"../chunks/stores.DKt-_eKm.js";import{B as $e}from"../chunks/BaseLink.DwVKTbJm.js";import{i as Me,d as Ve}from"../chunks/config.Bl6GI46O.js";function Be(t,e,l){const s=t.slice();return s[15]=e[l],s}function we(t){let e,l,s=t[2].split(" ").join(", ")+"",n;return{c(){e=T(`, matching
				`),l=v("em"),n=T(s)},l(a){e=z(a,`, matching
				`),l=g(a,"EM",{});var _=C(l);n=z(_,s),_.forEach(f)},m(a,_){J(a,e,_),J(a,l,_),o(l,n)},p(a,_){_&4&&s!==(s=a[2].split(" ").join(", ")+"")&&K(n,s)},d(a){a&&(f(e),f(l))}}}function Ie(t){let e,l;return e=new $e({props:{href:"inscription/"+t[15].file,$$slots:{default:[We]},$$scope:{ctx:t}}}),{c(){De(e.$$.fragment)},l(s){Oe(e.$$.fragment,s)},m(s,n){Ue(e,s,n),l=!0},p(s,n){const a={};n&64&&(a.href="inscription/"+s[15].file),n&262208&&(a.$$scope={dirty:n,ctx:s}),e.$set(a)},i(s){l||(Z(e.$$.fragment,s),l=!0)},o(s){ae(e.$$.fragment,s),l=!1},d(s){Re(e,s)}}}function We(t){let e,l,s;return{c(){e=v("img"),this.h()},l(n){e=g(n,"IMG",{src:!0,alt:!0,loading:!0}),this.h()},h(){Se(e.src,l=Me+t[15].file+"/"+t[15].facsimile.url+"/full/400,/0/default.jpg")||L(e,"src",l),L(e,"alt",s=t[15].facsimile.desc),L(e,"loading","lazy")},m(n,a){J(n,e,a)},p(n,a){a&64&&!Se(e.src,l=Me+n[15].file+"/"+n[15].facsimile.url+"/full/400,/0/default.jpg")&&L(e,"src",l),a&64&&s!==(s=n[15].facsimile.desc)&&L(e,"alt",s)},d(n){n&&f(e)}}}function Xe(t){let e,l=t[15].title+"",s,n,a,_=t[15].file+"",B,h,u,w=t[15].status+"",c;return{c(){e=v("span"),s=T(l),n=j(),a=v("small"),B=T(_),h=j(),u=v("small"),c=T(w)},l(i){e=g(i,"SPAN",{});var p=C(e);s=z(p,l),p.forEach(f),n=P(i),a=g(i,"SMALL",{});var D=C(a);B=z(D,_),D.forEach(f),h=P(i),u=g(i,"SMALL",{});var N=C(u);c=z(N,w),N.forEach(f)},m(i,p){J(i,e,p),o(e,s),J(i,n,p),J(i,a,p),o(a,B),J(i,h,p),J(i,u,p),o(u,c)},p(i,p){p&64&&l!==(l=i[15].title+"")&&K(s,l),p&64&&_!==(_=i[15].file+"")&&K(B,_),p&64&&w!==(w=i[15].status+"")&&K(c,w)},d(i){i&&(f(e),f(n),f(a),f(h),f(u))}}}function Te(t){var ee,se;let e,l,s,n,a,_,B=t[15].notBefore!=null?t[15].notBefore<0?`${Math.abs(t[15].notBefore)} BC`:`AD ${t[15].notBefore}`:"Unknown",h,u,w=t[15].notAfter!=null?t[15].notAfter<0?`${Math.abs(t[15].notAfter)} BC`:`AD ${t[15].notAfter}`:"Unknown",c,i,p,D,N="Settlement",q,R=(((ee=t[15].repository)==null?void 0:ee._)||"N/A")+"",I,M,E="Language",Y,H=(((se=t[15].textLang)==null?void 0:se._)||"N/A")+"",V,x,y,k=t[15].facsimile&&Ie(t);return n=new $e({props:{href:"inscription/"+t[15].file,$$slots:{default:[Xe]},$$scope:{ctx:t}}}),{c(){e=v("li"),k&&k.c(),l=j(),s=v("p"),De(n.$$.fragment),a=j(),_=v("p"),h=T(B),u=T(" – "),c=T(w),i=j(),p=v("dl"),D=v("dt"),D.textContent=N,q=v("dd"),I=T(R),M=v("dt"),M.textContent=E,Y=v("dd"),V=T(H),x=j(),this.h()},l(m){e=g(m,"LI",{});var b=C(e);k&&k.l(b),l=P(b),s=g(b,"P",{class:!0});var F=C(s);Oe(n.$$.fragment,F),F.forEach(f),a=P(b),_=g(b,"P",{});var G=C(_);h=z(G,B),u=z(G," – "),c=z(G,w),G.forEach(f),i=P(b),p=g(b,"DL",{});var $=C(p);D=g($,"DT",{class:!0,"data-svelte-h":!0}),me(D)!=="svelte-upur71"&&(D.textContent=N),q=g($,"DD",{});var Q=C(q);I=z(Q,R),Q.forEach(f),M=g($,"DT",{class:!0,"data-svelte-h":!0}),me(M)!=="svelte-1aab11o"&&(M.textContent=E),Y=g($,"DD",{});var oe=C(Y);V=z(oe,H),oe.forEach(f),$.forEach(f),x=P(b),b.forEach(f),this.h()},h(){L(s,"class","title svelte-1fu2z0"),L(D,"class","svelte-1fu2z0"),L(M,"class","svelte-1fu2z0")},m(m,b){J(m,e,b),k&&k.m(e,null),o(e,l),o(e,s),Ue(n,s,null),o(e,a),o(e,_),o(_,h),o(_,u),o(_,c),o(e,i),o(e,p),o(p,D),o(p,q),o(q,I),o(p,M),o(p,Y),o(Y,V),o(e,x),y=!0},p(m,b){var G,$;m[15].facsimile?k?(k.p(m,b),b&64&&Z(k,1)):(k=Ie(m),k.c(),Z(k,1),k.m(e,l)):k&&(ye(),ae(k,1,1,()=>{k=null}),Ne());const F={};b&64&&(F.href="inscription/"+m[15].file),b&262208&&(F.$$scope={dirty:b,ctx:m}),n.$set(F),(!y||b&64)&&B!==(B=m[15].notBefore!=null?m[15].notBefore<0?`${Math.abs(m[15].notBefore)} BC`:`AD ${m[15].notBefore}`:"Unknown")&&K(h,B),(!y||b&64)&&w!==(w=m[15].notAfter!=null?m[15].notAfter<0?`${Math.abs(m[15].notAfter)} BC`:`AD ${m[15].notAfter}`:"Unknown")&&K(c,w),(!y||b&64)&&R!==(R=(((G=m[15].repository)==null?void 0:G._)||"N/A")+"")&&K(I,R),(!y||b&64)&&H!==(H=((($=m[15].textLang)==null?void 0:$._)||"N/A")+"")&&K(V,H)},i(m){y||(Z(k),Z(n.$$.fragment,m),y=!0)},o(m){ae(k),ae(n.$$.fragment,m),y=!1},d(m){m&&f(e),k&&k.d(),Re(n)}}}function ze(t){let e,l="Load More Inscriptions",s,n;return{c(){e=v("button"),e.textContent=l},l(a){e=g(a,"BUTTON",{"data-svelte-h":!0}),me(e)!=="svelte-1j8c85t"&&(e.textContent=l)},m(a,_){J(a,e,_),s||(n=fe(e,"click",t[9]),s=!0)},p:Fe,d(a){a&&f(e),s=!1,n()}}}function Ze(t){let e,l,s,n=Ve+"",a,_,B,h,u,w,c,i,p,D,N,q,R,I,M,E,Y,H=t[0].length.toLocaleString()+"",V,x,y,k=t[4].toLocaleString()+"",ee,se,m,b=t[3].toLocaleString()+"",F,G,$,Q,oe,te,W,ue,_e,O=t[2]&&t[1]&&we(t),le=Ae(t[6]),S=[];for(let r=0;r<le.length;r+=1)S[r]=Te(Be(t,le,r));const je=r=>ae(S[r],1,1,()=>{S[r]=null});let U=t[5]&&ze(t);return{c(){e=v("article"),l=v("section"),s=v("h1"),a=T(n),_=j(),B=v("section"),h=v("form"),u=v("input"),w=j(),c=v("button"),i=T("Search"),D=j(),N=v("button"),q=T("Reset"),I=j(),M=v("section"),E=v("h2"),Y=v("em"),V=T(H),x=T(` Inscriptions over
			`),y=v("em"),ee=T(k),se=T(`
			years across
			`),m=v("em"),F=T(b),G=T(`
			locations`),O&&O.c(),$=j(),Q=v("ol");for(let r=0;r<S.length;r+=1)S[r].c();oe=j(),te=v("section"),U&&U.c(),this.h()},l(r){e=g(r,"ARTICLE",{});var d=C(e);l=g(d,"SECTION",{class:!0});var A=C(l);s=g(A,"H1",{class:!0});var re=C(s);a=z(re,n),re.forEach(f),A.forEach(f),_=P(d),B=g(d,"SECTION",{class:!0});var pe=C(B);h=g(pe,"FORM",{class:!0});var ne=C(h);u=g(ne,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),w=P(ne),c=g(ne,"BUTTON",{type:!0});var he=C(c);i=z(he,"Search"),he.forEach(f),D=P(ne),N=g(ne,"BUTTON",{type:!0});var de=C(N);q=z(de,"Reset"),de.forEach(f),ne.forEach(f),pe.forEach(f),I=P(d),M=g(d,"SECTION",{class:!0});var ie=C(M);E=g(ie,"H2",{class:!0});var X=C(E);Y=g(X,"EM",{});var ve=C(Y);V=z(ve,H),ve.forEach(f),x=z(X,` Inscriptions over
			`),y=g(X,"EM",{});var ge=C(y);ee=z(ge,k),ge.forEach(f),se=z(X,`
			years across
			`),m=g(X,"EM",{});var be=C(m);F=z(be,b),be.forEach(f),G=z(X,`
			locations`),O&&O.l(X),X.forEach(f),$=P(ie),Q=g(ie,"OL",{class:!0});var Ee=C(Q);for(let ce=0;ce<S.length;ce+=1)S[ce].l(Ee);Ee.forEach(f),ie.forEach(f),oe=P(d),te=g(d,"SECTION",{class:!0});var ke=C(te);U&&U.l(ke),ke.forEach(f),d.forEach(f),this.h()},h(){L(s,"class","svelte-1fu2z0"),L(l,"class","hero svelte-1fu2z0"),L(u,"type","text"),L(u,"name","keywords"),L(u,"id","keywords"),L(u,"placeholder","Search inscriptions metadata"),L(c,"type","submit"),c.value="Search",c.disabled=p=!t[2],L(N,"type","reset"),N.value="Reset",N.disabled=R=!t[2],L(h,"class","svelte-1fu2z0"),L(B,"class","svelte-1fu2z0"),L(E,"class","svelte-1fu2z0"),L(Q,"class","svelte-1fu2z0"),L(M,"class","inscriptions svelte-1fu2z0"),L(te,"class","svelte-1fu2z0")},m(r,d){J(r,e,d),o(e,l),o(l,s),o(s,a),o(e,_),o(e,B),o(B,h),o(h,u),Ce(u,t[2]),o(h,w),o(h,c),o(c,i),o(h,D),o(h,N),o(N,q),o(e,I),o(e,M),o(M,E),o(E,Y),o(Y,V),o(E,x),o(E,y),o(y,ee),o(E,se),o(E,m),o(m,F),o(E,G),O&&O.m(E,null),o(M,$),o(M,Q);for(let A=0;A<S.length;A+=1)S[A]&&S[A].m(Q,null);o(e,oe),o(e,te),U&&U.m(te,null),W=!0,ue||(_e=[fe(u,"input",t[12]),fe(h,"submit",t[8]),fe(h,"reset",t[7])],ue=!0)},p(r,[d]){if(d&4&&u.value!==r[2]&&Ce(u,r[2]),(!W||d&4&&p!==(p=!r[2]))&&(c.disabled=p),(!W||d&4&&R!==(R=!r[2]))&&(N.disabled=R),(!W||d&1)&&H!==(H=r[0].length.toLocaleString()+"")&&K(V,H),(!W||d&16)&&k!==(k=r[4].toLocaleString()+"")&&K(ee,k),(!W||d&8)&&b!==(b=r[3].toLocaleString()+"")&&K(F,b),r[2]&&r[1]?O?O.p(r,d):(O=we(r),O.c(),O.m(E,null)):O&&(O.d(1),O=null),d&64){le=Ae(r[6]);let A;for(A=0;A<le.length;A+=1){const re=Be(r,le,A);S[A]?(S[A].p(re,d),Z(S[A],1)):(S[A]=Te(re),S[A].c(),Z(S[A],1),S[A].m(Q,null))}for(ye(),A=le.length;A<S.length;A+=1)je(A);Ne()}r[5]?U?U.p(r,d):(U=ze(r),U.c(),U.m(te,null)):U&&(U.d(1),U=null)},i(r){if(!W){for(let d=0;d<le.length;d+=1)Z(S[d]);W=!0}},o(r){S=S.filter(Boolean);for(let d=0;d<S.length;d+=1)ae(S[d]);W=!1},d(r){r&&f(e),O&&O.d(),Ke(S,r),U&&U.d(),ue=!1,qe(_e)}}}function xe(t,e,l){let s,n,a,_,B;Ye(t,Qe,I=>l(14,B=I));let{data:h}=e,u=h.corpus,w=!1,c="",i=50,p=i;function D(){l(0,u=h.corpus),l(1,w=!1),l(2,c=""),Le(`?keywords=${encodeURIComponent(c)}`,{replaceState:!0}),l(11,i=50),p=i}function N(){if(Le(`?keywords=${encodeURIComponent(c)}`,{replaceState:!0}),l(1,w=!0),l(11,i=50),p=i,!c){l(0,u=h.corpus);return}l(0,u=h.corpus.filter(I=>!c||c.split(" ").map(M=>M.toLowerCase()).every(M=>I.keywords.some(E=>E.includes(M)))))}function q(){l(11,i=Math.min(u.length,i+p))}He(()=>{l(2,c=B.url.searchParams.get("keywords")||""),c&&N()});function R(){c=this.value,l(2,c)}return t.$$set=I=>{"data"in I&&l(10,h=I.data)},t.$$.update=()=>{t.$$.dirty&2049&&l(6,s=u.slice(0,i)),t.$$.dirty&2049&&l(5,n=u.length>i),t.$$.dirty&1&&l(4,a=(()=>{const I=Math.min(...u.filter(E=>E.notBefore).map(E=>E.notBefore));return Math.max(...u.filter(E=>E.notAfter).map(E=>E.notAfter))-I})()),t.$$.dirty&1&&l(3,_=new Set(u.map(I=>I.settlement)).size)},[u,w,c,_,a,n,s,D,N,q,h,i,R]}class rt extends Ge{constructor(e){super(),Je(this,e,xe,Ze,Pe,{data:10})}}export{rt as component};

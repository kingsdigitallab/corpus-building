import{B as Cr,s as ue,e as nt,a as A,t as D,c as At,z as Kt,d as Rt,b as et,C as Jo,y as Jt}from"../chunks/disclose-version.yxoevJ6J.js";import{i as Ht}from"../chunks/legacy.C6KA_5n4.js";import{aY as Go,a9 as Hn,k as Jn,aG as Ko,U as Jr,a8 as _e,aS as Gn,aR as Kn,p as _t,aT as it,aU as Xt,f as G,e as T,r as C,t as X,d as bt,C as xt,v as rt,g as p,aV as dt,G as Xo,D as ft,s as U,n as Et,aZ as Yo,K as Ut,a_ as Zo,u as Gr}from"../chunks/utils.dzgPpf3o.js";import{i as Qo,a as ts,s as Me,b as es}from"../chunks/config.DdhQxDnJ.js";import{c as Xn,l as lt,p as tt,i as st,b as Yt,s as Zt,a as pt}from"../chunks/props.BxeGn5nG.js";import{I as Qt,t as ke,s as rs,k as ns,f as Ie}from"../chunks/index.D0MFBySu.js";import{c as St}from"../chunks/legacy-client.BL3R9HJC.js";import{a as ht,c as te,b as ee,e as Mt,i as Vt,s as It,h as os,r as pe}from"../chunks/attributes.DJj9jQYP.js";import{a as Yn,c as ss,o as Zn}from"../chunks/index-client.DkxbLtkQ.js";import{w as ae,n as is,o as Qn,m as ve,c as to,b as Je,d as oe,i as Gt,k as yt,f as Kr,g as or,h as sr,j as as,l as Le,p as ir,B as cs,s as ls,q as Xr,a as ne}from"../chunks/button.D4Xt3Qgt.js";import{g as us}from"../chunks/entry.x9HgiHBc.js";import{p as ds}from"../chunks/stores.mW4ZULbn.js";import{d as ze,w as ce,a as ar}from"../chunks/paths.f8e5AJFU.js";import{I as eo,m as fs,t as Fe}from"../chunks/maplibre-gl.BTuv7Yai.js";function Ge(t,e,r=e){var o=Go();Cr(t,"input",()=>{var n=Qr(t)?tn(t.value):t.value;r(n),o&&n!==(n=e())&&(t.value=n??"")}),Hn(()=>{var n=e();if(Jn&&t.defaultValue!==t.value){r(t.value);return}Qr(t)&&n===tn(t.value)||t.type==="date"&&!n&&!t.value||n!==t.value&&(t.value=n??"")})}const cr=new Set;function Yr(t,e,r,o,n=o){var s=r.getAttribute("type")==="checkbox",i=t;let c=!1;if(e!==null)for(var f of e)i=i[f]??(i[f]=[]);i.push(r),Cr(r,"change",()=>{var d=r.__value;s&&(d=Zr(i,d,r.checked)),n(d)},()=>n(s?[]:null)),Hn(()=>{var d=o();if(Jn&&r.defaultChecked!==r.checked){c=!0;return}s?(d=d||[],r.checked=d.includes(r.__value)):r.checked=Xn(r.__value,d)}),Ko(()=>{var d=i.indexOf(r);d!==-1&&i.splice(d,1)}),cr.has(i)||(cr.add(i),Jr(()=>{i.sort((d,v)=>d.compareDocumentPosition(v)===4?-1:1),cr.delete(i)})),Jr(()=>{if(c){var d;if(s)d=Zr(i,d,r.checked);else{var v=i.find(b=>b.checked);d=v==null?void 0:v.__value}n(d)}})}function Zr(t,e,r){for(var o=new Set,n=0;n<t.length;n+=1)t[n].checked&&o.add(t[n].__value);return r||o.delete(e),Array.from(o)}function Qr(t){var e=t.type;return e==="number"||e==="range"}function tn(t){return t===""?null:+t}function ro(t,e,r){if(t.multiple)return ps(t,e);for(var o of t.options){var n=$e(o);if(Xn(n,e)){o.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function hs(t,e){_e(()=>{var r=new MutationObserver(()=>{var o=t.__value;ro(t,o)});return r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function gs(t,e,r=e){var o=!0;Cr(t,"change",()=>{var n;if(t.multiple)n=[].map.call(t.querySelectorAll(":checked"),$e);else{var s=t.querySelector(":checked");n=s&&$e(s)}r(n)}),_e(()=>{var n=e();if(ro(t,n,o),o&&n===void 0){var s=t.querySelector(":checked");s!==null&&(n=$e(s),r(n))}t.__value=n,o=!1}),hs(t)}function ps(t,e){for(var r of t.options)r.selected=~e.indexOf($e(r))}function $e(t){return"__value"in t?t.__value:t.value}const vs=t=>{try{Yn(t)}catch{return t}},no=(t,e)=>{const r=ae(t),o=(s,i)=>{r.update(c=>{const f=s(c);let d=f;return e&&(d=e({curr:c,next:f})),i==null||i(d),d})};return{...r,update:o,set:s=>{o(()=>s)}}};let ms="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",ys=(t=21)=>{let e="",r=t;for(;r--;)e+=ms[Math.random()*64|0];return e};function _s(){return ys(10)}function bs(t){return t.reduce((e,r)=>(e[r]=_s(),e),{})}function en(t,e){let r;const o=ze(t,s=>{r==null||r(),r=e(s)}).subscribe(is),n=()=>{o(),r==null||r()};return vs(n),n}function oo(t){const e={};return Object.keys(t).forEach(r=>{const o=r,n=t[o];e[o]=ae(ce(n))}),e}function lr(t,e,r,o){const n=(t-(isNaN(e)?0:e))%o;let s=Math.abs(n)*2>=o?t+Math.sign(n)*(o-Math.abs(n)):t-n;isNaN(e)?!isNaN(r)&&s>r&&(s=Math.floor(r/o)*o):s<e?s=e:!isNaN(r)&&s>r&&(s=e+Math.floor((r-e)/o)*o);const i=o.toString(),c=i.indexOf("."),f=c>=0?i.length-c:0;if(f>0){const d=Math.pow(10,f);s=Math.round(s*d)/d}return s}function ws({page:t=1,totalPages:e,siblingCount:r=1}){const o=[],n=new Set([1,e]),s=3+r,i=e-2-r;if(s>i)for(let v=2;v<=e-1;v++)n.add(v);else if(t<s)for(let v=2;v<=Math.min(s,e);v++)n.add(v);else if(t>i)for(let v=e-1;v>=Math.max(i,2);v--)n.add(v);else for(let v=Math.max(t-r,2);v<=Math.min(t+r,e);v++)n.add(v);const c=v=>{o.push({type:"page",value:v,key:`page-${v}`})},f=()=>{o.push({type:"ellipsis",key:`ellipsis-${o.length}`})};let d=0;for(const v of Array.from(n).sort((b,_)=>b-_))v-d>1&&f(),c(v),d=v;return o}const xs={perPage:1,siblingCount:1,defaultPage:1},{name:We,selector:ur}=to("pagination");function Ss(t){const e={...xs,...t},r=e.page??ce(e.defaultPage),o=no(r,e==null?void 0:e.onPageChange),n=oo(Qn(e,"page","onPageChange","defaultPage")),{perPage:s,siblingCount:i,count:c}=n,f=ae.derived([c,s],([u,k])=>Math.ceil(u/k)),d=ze([o,s,c],([u,k,z])=>{const $=(u-1)*k,R=Math.min($+k,z);return{start:$,end:R}}),v=ve(We(),{returned:()=>({"data-scope":"pagination"})}),b=ze([o,f,i],([u,k,z])=>ws({page:u,totalPages:k,siblingCount:z})),_=u=>{const k=u.target;if(!Gt(k))return;const z=k.closest('[data-scope="pagination"]');if(!Gt(z))return;const $=Array.from(z.querySelectorAll(ur("page"))).filter(w=>Gt(w)),R=z.querySelector(ur("prev")),E=z.querySelector(ur("next"));Gt(R)&&$.unshift(R),Gt(E)&&$.push(E);const j=$.indexOf(k);u.key===yt.ARROW_LEFT&&j!==0?(u.preventDefault(),$[j-1].focus()):u.key===yt.ARROW_RIGHT&&j!==$.length-1?(u.preventDefault(),$[j+1].focus()):u.key===yt.HOME?(u.preventDefault(),$[0].focus()):u.key===yt.END&&(u.preventDefault(),$[$.length-1].focus())},S=ve(We("page"),{stores:o,returned:u=>k=>({"aria-label":`Page ${k.value}`,"data-value":k.value,"data-selected":k.value===u?"":void 0}),action:u=>({destroy:Je(oe(u,"click",()=>{const z=u.dataset.value;!z||Number.isNaN(+z)||o.set(Number(z))}),oe(u,"keydown",_))})}),g=ve(We("prev"),{stores:o,returned:u=>({"aria-label":"Previous",disabled:u<=1}),action:u=>({destroy:Je(oe(u,"click",()=>{o.update(z=>Math.max(z-1,1))}),oe(u,"keydown",_))})}),h=ve(We("next"),{stores:[o,f],returned:([u,k])=>({"aria-label":"Next",disabled:u>=k}),action:u=>({destroy:Je(oe(u,"click",()=>{const z=f.get();o.update($=>Math.min($+1,z))}),oe(u,"keydown",_))})});return{elements:{root:v,pageTrigger:S,prevButton:g,nextButton:h},states:{range:ar(d),page:o,pages:ar(b),totalPages:ar(f)},options:n}}const ks={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:Ue}=to("slider"),$s=t=>{const e={...ks,...t},r=oo(Qn(e,"value","onValueChange","defaultValue")),{min:o,max:n,step:s,orientation:i,dir:c,disabled:f}=r,d=e.value??ce(e.defaultValue),v=no(d,e==null?void 0:e.onValueChange),b=ae(ce(!1)),_=ae(ce(0)),S=ae(ce(null)),g=bs(["root"]),h=(w,L)=>{v.update(I=>{if(!I)return[w];if(I[L]===w)return I;const N=[...I],F=N[L]>w?-1:1;function M(){N[L]=N[L+F],N[L+F]=w;const m=u();m&&(m[L+F].focus(),S.set({thumb:m[L+F],index:L+F}))}if(F===-1&&w<N[L-1])return M(),N;if(F===1&&w>N[L+1])return M(),N;const W=o.get(),q=n.get(),K=s.get();return N[L]=lr(w,W,q,K),N})},u=()=>{const w=ir(g.root);return w?Array.from(w.querySelectorAll('[data-melt-part="thumb"]')).filter(L=>Gt(L)):null},k=ze([o,n],([w,L])=>I=>(I-w)/(L-w)*100),z=ae.derived([i,c],([w,L])=>w==="horizontal"?L==="rtl"?"rl":"lr":L==="rtl"?"tb":"bt"),$=ve(Ue(),{stores:[f,i,c],returned:([w,L,I])=>({dir:I,disabled:or(w),"data-disabled":or(w),"data-orientation":L,style:w?void 0:`touch-action: ${L==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":g.root})}),R=ve(Ue("range"),{stores:[v,z,k],returned:([w,L,I])=>{const N=w.length>1?I(Math.min(...w)??0):0,F=100-I(Math.max(...w)??0),M={position:"absolute"};switch(L){case"lr":{M.left=`${N}%`,M.right=`${F}%`;break}case"rl":{M.right=`${N}%`,M.left=`${F}%`;break}case"bt":{M.bottom=`${N}%`,M.top=`${F}%`;break}case"tb":{M.top=`${N}%`,M.bottom=`${F}%`;break}}return{style:sr(M)}}}),E=Kr(Ue("thumb"),{stores:[v,k,o,n,f,i,z],returned:([w,L,I,N,F,M,W])=>Array.from({length:w.length||1},(K,m)=>{_.get()<w.length&&_.update(P=>P+1);const l=w[m],y=`${L(l)}%`,x={position:"absolute"};switch(W){case"lr":{x.left=y,x.translate="-50% 0";break}case"rl":{x.right=y,x.translate="50% 0";break}case"bt":{x.bottom=y,x.translate="0 50%";break}case"tb":{x.top=y,x.translate="0 -50%";break}}return{role:"slider","aria-valuemin":I,"aria-valuemax":N,"aria-valuenow":l,"aria-disabled":or(F),"aria-orientation":M,"data-melt-part":"thumb","data-value":l,style:sr(x),tabindex:F?-1:0}}),action:w=>({destroy:oe(w,"keydown",I=>{if(f.get())return;const N=I.currentTarget;if(!Gt(N))return;const F=u();if(!(F!=null&&F.length))return;const M=F.indexOf(N);if(_.set(M),![yt.ARROW_LEFT,yt.ARROW_RIGHT,yt.ARROW_UP,yt.ARROW_DOWN,yt.HOME,yt.END].includes(I.key))return;I.preventDefault();const W=o.get(),q=n.get(),K=s.get(),m=v.get(),a=i.get(),l=z.get(),y=m[M];switch(I.key){case yt.HOME:{h(W,M);break}case yt.END:{h(q,M);break}case yt.ARROW_LEFT:{if(a!=="horizontal")break;I.metaKey?h(l==="rl"?q:W,M):l==="rl"&&y<q?h(y+K,M):l==="lr"&&y>W&&h(y-K,M);break}case yt.ARROW_RIGHT:{if(a!=="horizontal")break;I.metaKey?h(l==="rl"?W:q,M):l==="rl"&&y>W?h(y-K,M):l==="lr"&&y<q&&h(y+K,M);break}case yt.ARROW_UP:{I.metaKey?h(l==="tb"?W:q,M):l==="tb"&&y>W?h(y-K,M):l!=="tb"&&y<q&&h(y+K,M);break}case yt.ARROW_DOWN:{I.metaKey?h(l==="tb"?q:W,M):l==="tb"&&y<q?h(y+K,M):l!=="tb"&&y>W&&h(y-K,M);break}}})})}),j=Kr(Ue("tick"),{stores:[v,o,n,s,z],returned:([w,L,I,N,F])=>{const M=I-L;let W=Math.ceil(M/N);return M%N==0&&W++,Array.from({length:W},(q,K)=>{const m=`${K*(N/(I-L))*100}%`,a=K===0,l=K===W-1,y=a?0:l?-100:-50,x={position:"absolute"};switch(F){case"lr":{x.left=m,x.translate=`${y}% 0`;break}case"rl":{x.right=m,x.translate=`${-y}% 0`;break}case"bt":{x.bottom=m,x.translate=`0 ${-y}%`;break}case"tb":{x.top=m,x.translate=`0 ${y}%`;break}}const P=L+K*N;return{"data-bounded":(w.length===1?P<=w[0]:w[0]<=P&&P<=w[w.length-1])?!0:void 0,"data-value":P,style:sr(x)}})}});return en([$,o,n,f,i,z,s],([w,L,I,N,F,M,W])=>{if(!as||N)return;const q=(x,P,O,J)=>{const V=(x-O)/(J-O)*(I-L)+L;if(V<L)h(L,P);else if(V>I)h(I,P);else{const at=W,ut=L,vt=Math.floor((V-ut)/at),wt=ut+vt*at+at/2,$t=ut+(vt+1)*at+at/2,B=V>=wt&&V<$t?(vt+1)*at+ut:vt*at+ut;B<=I&&h(B,P)}},K=x=>{const P=u();if(!P)return;P.forEach(V=>V.blur());const O=P.map(V=>{if(F==="horizontal"){const{left:at,right:ut}=V.getBoundingClientRect();return Math.abs(x.clientX-(at+ut)/2)}else{const{top:at,bottom:ut}=V.getBoundingClientRect();return Math.abs(x.clientY-(at+ut)/2)}}),J=P[O.indexOf(Math.min(...O))],Q=P.indexOf(J);return{thumb:J,index:Q}},m=x=>{if(!b.get())return;x.preventDefault(),x.stopPropagation();const P=ir(w["data-melt-id"]),O=S.get();if(!P||!O)return;O.thumb.focus();const{left:J,right:Q,top:V,bottom:at}=P.getBoundingClientRect();switch(M){case"lr":{q(x.clientX,O.index,J,Q);break}case"rl":{q(x.clientX,O.index,Q,J);break}case"bt":{q(x.clientY,O.index,at,V);break}case"tb":{q(x.clientY,O.index,V,at);break}}},a=x=>{if(x.button!==0)return;const P=ir(w["data-melt-id"]),O=K(x);if(!O||!P)return;const J=x.target;!Gt(J)||!P.contains(J)||(x.preventDefault(),S.set(O),O.thumb.focus(),b.set(!0),m(x))},l=()=>{b.set(!1)},y=Je(Le(document,"pointerdown",a),Le(document,"pointerup",l),Le(document,"pointerleave",l),Le(document,"pointermove",m));return()=>{y()}}),en([s,o,n,v],function([L,I,N,F]){const M=q=>lr(q,I,N,L)===q,W=q=>lr(q,I,N,L);F.some(q=>!M(q))&&v.update(q=>q.map(W))}),{elements:{root:$,thumbs:E,range:R,ticks:j},states:{value:v},options:r}};function so(t,e){const r={};return e.forEach(o=>{r[o]={[`data-${t}-${o}`]:""}}),o=>r[o]}function Xe(){const t=ss();return e=>{const{originalEvent:r}=e.detail,{cancelable:o}=e,n=r.type;t(n,{originalEvent:r,currentTarget:r.currentTarget},{cancelable:o})||e.preventDefault()}}function io(t){const e={};for(const r in t){const o=t[r];o!==void 0&&(e[r]=o)}return e}function ao(t){return function(e,r){if(r===void 0)return;const o=t[e];o&&o.set(r)}}function co(){return{NAME:"pagination",PARTS:["root","prev-button","next-button","page"]}}function Ps(t){const{NAME:e,PARTS:r}=co(),o=so(e,r),n={...Ss(io(t)),getAttrs:o};return Gn(e,n),{...n,updateOption:ao(n.options)}}function Rr(){const{NAME:t}=co();return Kn(t)}var js=D("<div><!></div>");function Os(t,e){const r=lt(e,["children","$$slots","$$events","$$legacy"]),o=lt(r,["count","page","onPageChange","perPage","siblingCount","asChild","el"]);_t(e,!1);const n=ue(),s=()=>At(u,"$root",n),i=()=>At(k,"$pages",n),c=()=>At(z,"$range",n),f=dt();let d=tt(e,"count",8),v=tt(e,"page",28,()=>{}),b=tt(e,"onPageChange",24,()=>{}),_=tt(e,"perPage",24,()=>{}),S=tt(e,"siblingCount",24,()=>{}),g=tt(e,"asChild",8,!1),h=tt(e,"el",28,()=>{});const{elements:{root:u},states:{pages:k,range:z,page:$},getAttrs:R,updateOption:E}=Ps({count:d(),perPage:_(),siblingCount:S(),defaultPage:v(),onPageChange:({next:I})=>{var N;return v()!==I&&(v(I),(N=b())==null||N(I)),I}}),j=R("root");it(()=>xt(v()),()=>{v()!==void 0&&$.set(v())}),it(()=>s(),()=>{rt(f,s())}),it(()=>p(f),()=>{Object.assign(p(f),j)}),it(()=>xt(d()),()=>{E("count",d())}),it(()=>xt(_()),()=>{E("perPage",_())}),it(()=>xt(S()),()=>{E("siblingCount",S())}),Xt(),Ht();var w=nt(),L=G(w);st(L,g,I=>{var N=nt(),F=G(N);ht(F,e,"default",{get builder(){return p(f)},get pages(){return i()},get range(){return c()}},null),A(I,N)},I=>{var N=js();let F;var M=T(N);ht(M,e,"default",{get builder(){return p(f)},get pages(){return i()},get range(){return c()}},null),C(N),Yt(N,W=>h(W),()=>h()),te(N,W=>p(f).action(W)),X(()=>F=ee(N,F,{...p(f),...o})),A(I,N)}),A(t,w),bt()}var As=D("<button><!></button>");function zs(t,e){const r=lt(e,["children","$$slots","$$events","$$legacy"]),o=lt(r,["asChild","el"]);_t(e,!1);const n=ue(),s=()=>At(d,"$prevButton",n),i=dt();let c=tt(e,"asChild",24,()=>{}),f=tt(e,"el",28,()=>{});const{elements:{prevButton:d},getAttrs:v}=Rr(),b=v("prev-button"),_=Xe();it(()=>s(),()=>{rt(i,s())}),it(()=>p(i),()=>{Object.assign(p(i),b)}),Xt(),Ht();var S=nt(),g=G(S);st(g,c,h=>{var u=nt(),k=G(u);ht(k,e,"default",{get builder(){return p(i)}},null),A(h,u)},h=>{var u=As();let k;var z=T(u);ht(z,e,"default",{get builder(){return p(i)}},null),C(u),Yt(u,$=>f($),()=>f()),te(u,$=>p(i).action($)),_e(()=>Kt("m-click",u,_)),X(()=>k=ee(u,k,{...p(i),type:"button",...o})),A(h,u)}),A(t,S),bt()}var Es=D("<button><!></button>");function Ns(t,e){const r=lt(e,["children","$$slots","$$events","$$legacy"]),o=lt(r,["asChild","el"]);_t(e,!1);const n=ue(),s=()=>At(d,"$nextButton",n),i=dt();let c=tt(e,"asChild",24,()=>{}),f=tt(e,"el",28,()=>{});const{elements:{nextButton:d},getAttrs:v}=Rr(),b=v("next-button"),_=Xe();it(()=>s(),()=>{rt(i,s())}),it(()=>p(i),()=>{Object.assign(p(i),b)}),Xt(),Ht();var S=nt(),g=G(S);st(g,c,h=>{var u=nt(),k=G(u);ht(k,e,"default",{get builder(){return p(i)}},null),A(h,u)},h=>{var u=Es();let k;var z=T(u);ht(z,e,"default",{get builder(){return p(i)}},null),C(u),Yt(u,$=>f($),()=>f()),te(u,$=>p(i).action($)),_e(()=>Kt("m-click",u,_)),X(()=>k=ee(u,k,{...p(i),type:"button",...o})),A(h,u)}),A(t,S),bt()}var Cs=D("<button><!></button>");function Rs(t,e){const r=lt(e,["children","$$slots","$$events","$$legacy"]),o=lt(r,["asChild","page","el"]);_t(e,!1);const n=ue(),s=()=>At(v,"$pageTrigger",n),i=dt();let c=tt(e,"asChild",24,()=>{}),f=tt(e,"page",8),d=tt(e,"el",28,()=>{});const{elements:{pageTrigger:v},getAttrs:b}=Rr(),_=b("page"),S=Xe();it(()=>(s(),xt(f())),()=>{rt(i,s()(f()))}),it(()=>p(i),()=>{Object.assign(p(i),_)}),Xt(),Ht();var g=nt(),h=G(g);st(h,c,u=>{var k=nt(),z=G(k);ht(z,e,"default",{get builder(){return p(i)}},null),A(u,k)},u=>{var k=Cs();let z;var $=T(k);ht($,e,"default",{get builder(){return p(i)}},R=>{var E=Rt();X(()=>et(E,f().value)),A(R,E)}),C(k),Yt(k,R=>d(R),()=>d()),te(k,R=>p(i).action(R)),_e(()=>Kt("m-click",k,S)),X(()=>z=ee(k,z,{type:"button",...p(i),...o})),A(u,k)}),A(t,g),bt()}function lo(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function Ts(t){const{NAME:e,PARTS:r}=lo(),o=so(e,r),n={...$s(io(t)),getAttrs:o};return Gn(e,n),{...n,updateOption:ao(n.options)}}function uo(){const{NAME:t}=lo();return Kn(t)}var Ms=D("<span><!></span>");function Is(t,e){const r=lt(e,["children","$$slots","$$events","$$legacy"]),o=lt(r,["disabled","min","max","step","orientation","dir","value","onValueChange","asChild","el"]);_t(e,!1);const n=ue(),s=()=>At($,"$root",n),i=()=>At(R,"$ticks",n),c=()=>At(E,"$thumbs",n),f=dt();let d=tt(e,"disabled",24,()=>{}),v=tt(e,"min",24,()=>{}),b=tt(e,"max",24,()=>{}),_=tt(e,"step",24,()=>{}),S=tt(e,"orientation",24,()=>{}),g=tt(e,"dir",24,()=>{}),h=tt(e,"value",28,()=>{}),u=tt(e,"onValueChange",24,()=>{}),k=tt(e,"asChild",8,!1),z=tt(e,"el",28,()=>{});const{elements:{root:$,ticks:R,thumbs:E},states:{value:j},updateOption:w,getAttrs:L}=Ts({disabled:d(),dir:g(),min:v(),max:b(),step:_(),orientation:S(),defaultValue:h(),onValueChange:({next:M})=>{var W;return h()!==M&&((W=u())==null||W(M),h(M)),M}}),I=L("root");it(()=>xt(h()),()=>{h()!==void 0&&j.set(h())}),it(()=>xt(d()),()=>{w("disabled",d())}),it(()=>xt(v()),()=>{w("min",v())}),it(()=>xt(b()),()=>{w("max",b())}),it(()=>xt(_()),()=>{w("step",_())}),it(()=>xt(S()),()=>{w("orientation",S())}),it(()=>xt(g()),()=>{w("dir",g())}),it(()=>s(),()=>{rt(f,s())}),it(()=>p(f),()=>{Object.assign(p(f),I)}),Xt(),Ht();var N=nt(),F=G(N);st(F,k,M=>{var W=nt(),q=G(W);ht(q,e,"default",{get builder(){return p(f)},get ticks(){return i()},get thumbs(){return c()}},null),A(M,W)},M=>{var W=Ms();let q;var K=T(W);ht(K,e,"default",{get builder(){return p(f)},get ticks(){return i()},get thumbs(){return c()}},null),C(W),Yt(W,m=>z(m),()=>z()),te(W,m=>p(f).action(m)),X(()=>q=ee(W,q,{...p(f),...o})),A(M,W)}),A(t,N),bt()}var Ls=D("<span></span>");function Fs(t,e){const r=lt(e,["children","$$slots","$$events","$$legacy"]),o=lt(r,["asChild","el"]);_t(e,!1);const n=ue(),s=()=>At(d,"$range",n),i=dt();let c=tt(e,"asChild",8,!1),f=tt(e,"el",28,()=>{});const{elements:{range:d},getAttrs:v}=uo(),b=v("range");it(()=>s(),()=>{rt(i,s())}),it(()=>p(i),()=>{Object.assign(p(i),b)}),Xt(),Ht();var _=nt(),S=G(_);st(S,c,g=>{var h=nt(),u=G(h);ht(u,e,"default",{get builder(){return p(i)}},null),A(g,h)},g=>{var h=Ls();let u;Yt(h,k=>f(k),()=>f()),te(h,k=>p(i).action(k)),X(()=>u=ee(h,u,{...p(i),...o})),A(g,h)}),A(t,_),bt()}var Ws=D("<span></span>");function Us(t,e){const r=lt(e,["children","$$slots","$$events","$$legacy"]),o=lt(r,["asChild","el","thumb"]);_t(e,!1);const n=dt();let s=tt(e,"asChild",8,!1),i=tt(e,"el",28,()=>{}),c=tt(e,"thumb",8);const{getAttrs:f}=uo(),d=Xe(),v=f("thumb");it(()=>xt(c()),()=>{rt(n,c())}),it(()=>p(n),()=>{Object.assign(p(n),v)}),Xt(),Ht();var b=nt(),_=G(b);st(_,s,S=>{var g=nt(),h=G(g);ht(h,e,"default",{get builder(){return p(n)}},null),A(S,g)},S=>{var g=Ws();let h;Yt(g,u=>i(u),()=>i()),te(g,u=>p(n).action(u)),_e(()=>Kt("m-keydown",g,d)),X(()=>h=ee(g,h,{...p(n),...o})),A(S,g)}),A(t,b),bt()}function Bs(t,e){const r=lt(e,["children","$$slots","$$events","$$legacy"]);Qt(t,Zt({name:"arrow-down"},()=>r,{iconNode:[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]],children:(n,s)=>{var i=nt(),c=G(i);ht(c,e,"default",{},null),A(n,i)},$$slots:{default:!0}}))}function qs(t,e){const r=lt(e,["children","$$slots","$$events","$$legacy"]);Qt(t,Zt({name:"arrow-up"},()=>r,{iconNode:[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]],children:(n,s)=>{var i=nt(),c=G(i);ht(c,e,"default",{},null),A(n,i)},$$slots:{default:!0}}))}function Ds(t,e){const r=lt(e,["children","$$slots","$$events","$$legacy"]);Qt(t,Zt({name:"chevron-left"},()=>r,{iconNode:[["path",{d:"m15 18-6-6 6-6"}]],children:(n,s)=>{var i=nt(),c=G(i);ht(c,e,"default",{},null),A(n,i)},$$slots:{default:!0}}))}function Vs(t,e){const r=lt(e,["children","$$slots","$$events","$$legacy"]);Qt(t,Zt({name:"chevron-right"},()=>r,{iconNode:[["path",{d:"m9 18 6-6-6-6"}]],children:(n,s)=>{var i=nt(),c=G(i);ht(c,e,"default",{},null),A(n,i)},$$slots:{default:!0}}))}function Hs(t,e){const r=lt(e,["children","$$slots","$$events","$$legacy"]);Qt(t,Zt({name:"filter"},()=>r,{iconNode:[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}]],children:(n,s)=>{var i=nt(),c=G(i);ht(c,e,"default",{},null),A(n,i)},$$slots:{default:!0}}))}function Js(t,e){const r=lt(e,["children","$$slots","$$events","$$legacy"]);Qt(t,Zt({name:"layout-grid"},()=>r,{iconNode:[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"}]],children:(n,s)=>{var i=nt(),c=G(i);ht(c,e,"default",{},null),A(n,i)},$$slots:{default:!0}}))}function Gs(t,e){const r=lt(e,["children","$$slots","$$events","$$legacy"]);Qt(t,Zt({name:"map"},()=>r,{iconNode:[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"}],["path",{d:"M15 5.764v15"}],["path",{d:"M9 3.236v15"}]],children:(n,s)=>{var i=nt(),c=G(i);ht(c,e,"default",{},null),A(n,i)},$$slots:{default:!0}}))}function Ks(t,e){const r=lt(e,["children","$$slots","$$events","$$legacy"]);Qt(t,Zt({name:"table"},()=>r,{iconNode:[["path",{d:"M12 3v18"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}]],children:(n,s)=>{var i=nt(),c=G(i);ht(c,e,"default",{},null),A(n,i)},$$slots:{default:!0}}))}function Xs(t){return new Worker(""+new URL("../workers/worker-se7326th.js",import.meta.url).href,{name:t==null?void 0:t.name})}let Be=String.fromCharCode,fo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",qe={};function Ys(t,e){if(!qe[t]){qe[t]={};for(let r=0;r<t.length;r++)qe[t][t.charAt(r)]=r}return qe[t][e]}function Zs(t){return t==null?"":ti(t,6,function(e){return fo.charAt(e)})}function Qs(t){return t==null?"":t==""?null:ei((t=t.replace(/ /g,"+")).length,32,function(e){return Ys(fo,t.charAt(e))})}function ti(t,e,r){if(t==null)return"";let o,n,s={},i={},c="",f="",d="",v=2,b=3,_=2,S=[],g=0,h=0,u;for(u=0;u<t.length;u+=1)if(c=t.charAt(u),Object.prototype.hasOwnProperty.call(s,c)||(s[c]=b++,i[c]=!0),f=d+c,Object.prototype.hasOwnProperty.call(s,f))d=f;else{if(Object.prototype.hasOwnProperty.call(i,d)){if(256>d.charCodeAt(0)){for(o=0;o<_;o++)g<<=1,h==e-1?(h=0,S.push(r(g)),g=0):h++;for(o=0,n=d.charCodeAt(0);o<8;o++)g=g<<1|1&n,h==e-1?(h=0,S.push(r(g)),g=0):h++,n>>=1}else{for(o=0,n=1;o<_;o++)g=g<<1|n,h==e-1?(h=0,S.push(r(g)),g=0):h++,n=0;for(o=0,n=d.charCodeAt(0);o<16;o++)g=g<<1|1&n,h==e-1?(h=0,S.push(r(g)),g=0):h++,n>>=1}--v==0&&(v=Math.pow(2,_),_++),delete i[d]}else for(o=0,n=s[d];o<_;o++)g=g<<1|1&n,h==e-1?(h=0,S.push(r(g)),g=0):h++,n>>=1;--v==0&&(v=Math.pow(2,_),_++),s[f]=b++,d=String(c)}if(d!==""){if(Object.prototype.hasOwnProperty.call(i,d)){if(256>d.charCodeAt(0)){for(o=0;o<_;o++)g<<=1,h==e-1?(h=0,S.push(r(g)),g=0):h++;for(o=0,n=d.charCodeAt(0);o<8;o++)g=g<<1|1&n,h==e-1?(h=0,S.push(r(g)),g=0):h++,n>>=1}else{for(o=0,n=1;o<_;o++)g=g<<1|n,h==e-1?(h=0,S.push(r(g)),g=0):h++,n=0;for(o=0,n=d.charCodeAt(0);o<16;o++)g=g<<1|1&n,h==e-1?(h=0,S.push(r(g)),g=0):h++,n>>=1}--v==0&&(v=Math.pow(2,_),_++),delete i[d]}else for(o=0,n=s[d];o<_;o++)g=g<<1|1&n,h==e-1?(h=0,S.push(r(g)),g=0):h++,n>>=1;--v==0&&(v=Math.pow(2,_),_++)}for(o=0,n=2;o<_;o++)g=g<<1|1&n,h==e-1?(h=0,S.push(r(g)),g=0):h++,n>>=1;for(;;){if(g<<=1,h==e-1){S.push(r(g));break}h++}return S.join("")}function ei(t,e,r){let o=[],n=4,s=4,i=3,c="",f=[],d,v,b,_,S,g,h,u={val:r(0),position:e,index:1};for(d=0;d<3;d+=1)o[d]=d;for(b=0,S=4,g=1;g!=S;)_=u.val&u.position,u.position>>=1,u.position==0&&(u.position=e,u.val=r(u.index++)),b|=(_>0?1:0)*g,g<<=1;switch(b){case 0:for(b=0,S=256,g=1;g!=S;)_=u.val&u.position,u.position>>=1,u.position==0&&(u.position=e,u.val=r(u.index++)),b|=(_>0?1:0)*g,g<<=1;h=Be(b);break;case 1:for(b=0,S=65536,g=1;g!=S;)_=u.val&u.position,u.position>>=1,u.position==0&&(u.position=e,u.val=r(u.index++)),b|=(_>0?1:0)*g,g<<=1;h=Be(b);break;case 2:return""}for(o[3]=h,v=h,f.push(h);;){if(u.index>t)return"";for(b=0,S=Math.pow(2,i),g=1;g!=S;)_=u.val&u.position,u.position>>=1,u.position==0&&(u.position=e,u.val=r(u.index++)),b|=(_>0?1:0)*g,g<<=1;switch(h=b){case 0:for(b=0,S=256,g=1;g!=S;)_=u.val&u.position,u.position>>=1,u.position==0&&(u.position=e,u.val=r(u.index++)),b|=(_>0?1:0)*g,g<<=1;o[s++]=Be(b),h=s-1,n--;break;case 1:for(b=0,S=65536,g=1;g!=S;)_=u.val&u.position,u.position>>=1,u.position==0&&(u.position=e,u.val=r(u.index++)),b|=(_>0?1:0)*g,g<<=1;o[s++]=Be(b),h=s-1,n--;break;case 2:return f.join("")}if(n==0&&(n=Math.pow(2,i),i++),o[h])c=o[h];else{if(h!==s)return null;c=v+v.charAt(0)}f.push(c),o[s++]=v+c.charAt(0),n--,v=c,n==0&&(n=Math.pow(2,i),i++)}}let ho;ho=ds;const ri={keepFocus:!0,noScroll:!0,replaceState:!0},ni={keepFocus:!0,noScroll:!0,replaceState:!1};function dr(t,e,r=(o,n)=>JSON.stringify(o)===JSON.stringify(n)){return typeof t=="object"&&typeof e=="object"&&r(t,e)}const fr={object:t=>({encode:e=>JSON.stringify(e),decode:e=>{if(e===null)return null;try{return JSON.parse(e)}catch{return null}},defaultValue:t}),array:t=>({encode:e=>JSON.stringify(e),decode:e=>{if(e===null)return null;try{return JSON.parse(e)}catch{return null}},defaultValue:t}),number:t=>({encode:e=>e.toString(),decode:e=>e?parseFloat(e):null,defaultValue:t}),boolean:t=>({encode:e=>e+"",decode:e=>e!==null&&e!=="false",defaultValue:t}),string:t=>({encode:e=>e??"",decode:e=>e,defaultValue:t}),lz:t=>({encode:e=>Zs(JSON.stringify(e)),decode:e=>{if(!e)return null;try{return JSON.parse(Qs(e)??"")}catch{return null}},defaultValue:t})},hr=new Set;let rn;const nn=new Map,gr={encode:t=>t.toString(),decode:t=>t?t.toString():null};function pr(t,{encode:e=gr.encode,decode:r=gr.decode,defaultValue:o}=gr,{debounceHistory:n=0,pushHistory:s=!0,sort:i=!0,showDefaults:c=!0,equalityFn:f}={}){const d=ce(null);let v=!0,b;function _(g,h){v=!1;const u=window.location.hash,k=$=>{if(g==null)$.delete(t);else{const R=e(g);R==null?$.delete(t):$.set(t,R)}};hr.add(k),clearTimeout(rn);const z=new URLSearchParams(window.location.search);rn=setTimeout(async()=>{hr.forEach($=>{$(z)}),clearTimeout(nn.get(t));{d.set(g);async function $(){i&&z.sort(),await us(`?${z}${u}`,s?ni:ri),d.set(null)}h||n===0?$():nn.set(t,setTimeout($,n))}hr.clear()})}const{subscribe:S}=ze([ho,d],([g,h],u)=>{var $,R,E;if(h!=null)return dr(b,h,f)?void 0:(b=structuredClone(h),u(h));const k=(E=(R=($=g==null?void 0:g.url)==null?void 0:$.searchParams)==null?void 0:R.get)==null?void 0:E.call(R,t);if(k==null&&o!=null)return c&&_(o,v),dr(b,o,f)?void 0:(b=structuredClone(o),u(o));const z=r(k);if(!dr(b,z,f))return b=structuredClone(z),u(z)});return{set(g){_(g)},subscribe:S,update:g=>{const h=g(b);_(h)}}}function Pe(t,e){let r=tt(e,"title",3,"");const o=ft(()=>e.children);var n=ft(()=>`/inscription/${e.id}`),s=ft(()=>r()||e.id);cs(t,{get href(){return p(n)},get title(){return p(s)},children:(i,c)=>{var f=nt(),d=G(f);ls(d,()=>p(o)??Xo),A(i,f)},$$slots:{default:!0}})}var oi=D("<em> </em>"),si=D("<a> </a>"),ii=D('<span class="svelte-192ea9n"><!> <!> </span>'),ai=D('<div class="inscription-place"></div>');function go(t,e){_t(e,!0);let r=ft(()=>{var n,s;return(s=(n=e.inscription)==null?void 0:n.places)==null?void 0:s.slice(0,2)});var o=ai();Mt(o,21,()=>p(r),Vt,(n,s)=>{var i=nt(),c=G(i);st(c,()=>p(s),f=>{var d=ii(),v=T(d);st(v,()=>p(s).offset,S=>{var g=oi(),h=T(g,!0);C(g),X(()=>et(h,p(s).offset)),A(S,g)});var b=U(v,2);st(b,()=>p(s).ref,S=>{var g=si(),h=T(g,!0);C(g),X(()=>{It(g,"href",p(s).ref),et(h,p(s)._)}),A(S,g)},S=>{var g=Rt();X(()=>et(g,p(s)._)),A(S,g)});var _=U(b);C(d),X(()=>et(_,` (${p(s).type??""})`)),A(f,d)}),A(n,i)}),C(o),A(t,o),bt()}var ci=D("<a> </a>"),li=D("<a> </a>"),ui=D("<tr><td><!></td><td><!></td><td><!></td><td><!></td><td> </td><td><!></td><td><!></td><td> </td><td> </td></tr>");function di(t,e){_t(e,!0);var r=ui(),o=T(r),n=T(o);Pe(n,{get id(){return e.inscription.file},children:(E,j)=>{Et();var w=Rt();X(()=>et(w,e.inscription.file)),A(E,w)},$$slots:{default:!0}}),C(o);var s=U(o),i=T(s);Pe(i,{get id(){return e.inscription.file},children:(E,j)=>{Et();var w=Rt();X(()=>et(w,e.inscription.title)),A(E,w)},$$slots:{default:!0}}),C(s);var c=U(s),f=T(c);eo(f,{get inscription(){return e.inscription}}),C(c);var d=U(c),v=T(d);go(v,{get inscription(){return e.inscription}}),C(d);var b=U(d),_=T(b,!0);C(b);var S=U(b),g=T(S);st(g,()=>{var E;return(E=e.inscription.type)==null?void 0:E.ref},E=>{var j=ci(),w=T(j,!0);C(j),X(()=>{var L;It(j,"href",e.inscription.type.ref),et(w,(L=e.inscription.type)==null?void 0:L._)}),A(E,j)},E=>{var j=Rt();X(()=>{var w;return et(j,((w=e.inscription.type)==null?void 0:w._)||"N/A")}),A(E,j)}),C(S);var h=U(S),u=T(h);st(u,()=>{var E;return(E=e.inscription.objectType)==null?void 0:E.ref},E=>{var j=li(),w=T(j,!0);C(j),X(()=>{var L;It(j,"href",e.inscription.objectType.ref),et(w,(L=e.inscription.objectType)==null?void 0:L._)}),A(E,j)},E=>{var j=Rt();X(()=>{var w;return et(j,((w=e.inscription.objectType)==null?void 0:w._)||"N/A")}),A(E,j)}),C(h);var k=U(h),z=T(k,!0);C(k);var $=U(k),R=T($,!0);C($),C(r),X(()=>{var E;et(_,e.inscription.status),et(z,((E=e.inscription.textLang)==null?void 0:E._)||"N/A"),et(R,e.inscription.settlement||"N/A")}),A(t,r),bt()}var fi=D('<table class="svelte-g7in6g"><thead><tr><th>ID</th><th>Title</th><th>Date</th><th>Place</th><th>Status</th><th>Type</th><th>Object type</th><th>Language</th><th>Settlement</th></tr></thead><!></table>');function hi(t,e){var r=fi(),o=U(T(r));Mt(o,17,()=>e.inscriptions,Vt,(n,s)=>{di(n,{get inscription(){return p(s)}})}),C(r),A(t,r)}const gi={"images.ctfassets.net":"contentful","cdn.builder.io":"builder.io","images.prismic.io":"imgix","www.datocms-assets.com":"imgix","cdn.sanity.io":"imgix","images.unsplash.com":"imgix","cdn.shopify.com":"shopify","s7d1.scene7.com":"scene7","ip.keycdn.com":"keycdn","assets.caisy.io":"bunny","images.contentstack.io":"contentstack","ucarecdn.com":"uploadcare","imagedelivery.net":"cloudflare_images"},pi={"imgix.net":"imgix","files.wordpress.com":"wordpress","b-cdn.net":"bunny","storyblok.com":"storyblok","kc-usercontent.com":"kontent.ai","cloudinary.com":"cloudinary","kxcdn.com":"keycdn","imgeng.in":"imageengine","imagekit.io":"imagekit","cloudimg.io":"cloudimage","ucarecdn.com":"uploadcare","supabase.co":"supabase"},vi={"/cdn-cgi/image/":"cloudflare","/cdn-cgi/imagedelivery/":"cloudflare_images","/_next/image":"nextjs","/_next/static":"nextjs","/_vercel/image":"vercel","/is/image":"scene7","/_ipx/":"ipx","/_image":"astro","/.netlify/images":"netlify","/storage/v1/object/public/":"supabase","/storage/v1/render/image/public/":"supabase"},me=t=>{if(!t)return t;const e=Number(t);return isNaN(e)?t:Math.round(e)},H=(t,e,r,o,n)=>{r?(n&&(r=me(r)),t.searchParams.set(e,r.toString())):o&&t.searchParams.delete(e)},kt=(t,e,r)=>{t.searchParams.has(e)||t.searchParams.set(e,r.toString())},Ee=(t,e)=>{const r=Number(t.searchParams.get(e));return isNaN(r)?void 0:r},po=t=>{const{pathname:e,search:r}=t;return`${e}${r}`},Tr=t=>t.hostname==="n"?po(t):t.toString(),ot=(t,e)=>typeof t=="string"?new URL(t,e??"http://n/"):t,on=new Map(Object.entries(gi)),mi=Object.entries(pi);function yi(t){return vo(t)||_i(t)}function vo(t){if(typeof t=="string"&&!t.startsWith("https://"))return!1;const{hostname:e}=ot(t);if(on.has(e))return on.get(e);for(const[r,o]of mi)if(e.endsWith(`.${r}`))return o;return!1}function _i(t){const{pathname:e}=ot(t);for(const[r,o]of Object.entries(vi))if(e.startsWith(r))return o;return!1}const bi=({url:t,width:e,height:r,format:o})=>{const n=ot(t);return e&&e>4e3&&(r&&(r=Math.round(r*4e3/e)),e=4e3),r&&r>4e3&&(e&&(e=Math.round(e*4e3/r)),r=4e3),H(n,"w",e,!0,!0),H(n,"h",r,!0,!0),H(n,"fm",o),kt(n,"fit","fill"),n},wi=({url:t,width:e,height:r,format:o})=>{const n=ot(t);return H(n,"width",e,!0,!0),H(n,"height",r,!0,!0),H(n,"format",o),e&&r&&(kt(n,"fit","cover"),kt(n,"sharp","true")),n},xi=({url:t,width:e,height:r,format:o})=>{var s;const n=ot(t);if(H(n,"w",e,!0,!0),H(n,"h",r,!0,!0),kt(n,"fit","min"),o){n.searchParams.set("fm",o);const i=n.searchParams.get("auto");i==="format"?n.searchParams.delete("auto"):i!=null&&i.includes("format")&&n.searchParams.set("auto",i.split(",").filter(c=>c!=="format").join(","))}else n.searchParams.delete("fm"),(s=n.searchParams.get("auto"))!=null&&s.includes("format")||n.searchParams.append("auto","format");return n},Si=/(.+?)(?:_(?:(pico|icon|thumb|small|compact|medium|large|grande|original|master)|(\d*)x(\d*)))?(?:_crop_([a-z]+))?(\.[a-zA-Z]+)(\.png|\.jpg|\.webp|\.avif)?$/,ki=t=>{const e=ot(t),r=e.pathname.match(Si);if(!r)throw new Error("Invalid Shopify URL");const[,o,n,s,i,c,f,d]=r;e.pathname=`${o}${f}`;const v=s||e.searchParams.get("width"),b=i||e.searchParams.get("height");return e.searchParams.delete("width"),e.searchParams.delete("height"),{base:e.toString(),width:Number(v)||void 0,height:Number(b)||void 0,format:d?d.slice(1):void 0,params:{crop:c,size:n},cdn:"shopify"}},$i=({base:t,width:e,height:r,format:o,params:n})=>{const s=ot(t);return H(s,"width",e,!0,!0),H(s,"height",r,!0,!0),H(s,"crop",n==null?void 0:n.crop),H(s,"format",o),s},Pi=({url:t,width:e,height:r})=>{const o=ki(t);if(!o)return;const n={...o,width:e,height:r};return $i(n)},ji=({url:t,width:e,height:r})=>{const o=ot(t);return H(o,"w",e,!0,!0),H(o,"h",r,!0,!0),kt(o,"crop","1"),o},Oi=({url:t,width:e,height:r})=>{const o=ot(t);return H(o,"w",e,!0,!0),H(o,"h",r,!0,!0),H(o,"q",Ee(o,"q"),!0),o},Ai=/https?:\/\/(?<host>[^\/]+)\/(?<cloudName>[^\/]+)\/(?<assetType>image|video|raw)\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)\/?(?<signature>s\-\-[a-zA-Z0-9]+\-\-)?\/?(?<transformations>(?:[^_\/]+_[^,\/]+,?)*)?\/(?:(?<version>v\d+)\/)?(?<idAndFormat>[^\s]+)$/g,zi=t=>t?Object.fromEntries(t.split(",").map(e=>e.split("_"))):{},mo=({host:t,cloudName:e,assetType:r,deliveryType:o,signature:n,transformations:s={},version:i,id:c,format:f})=>{f&&(s.f=f);const d=Object.entries(s).map(([b,_])=>`${b}_${_}`).join(",");return`https://${[t,e,r,o,n,d,i,c].filter(Boolean).join("/")}`},yo=t=>{const r=[...ot(t).toString().matchAll(Ai)];if(!r.length)throw new Error("Invalid Cloudinary URL");const o=r[0].groups||{},{transformations:n="",idAndFormat:s,...i}=o;delete o.idAndFormat;const c=s.lastIndexOf("."),f=c<0?s:s.slice(0,c),d=c<0?void 0:s.slice(c+1),{w:v,h:b,f:_,...S}=zi(n),g=_&&_!=="auto"?_:d;return{base:mo({...i,id:f,transformations:S}),width:Number(v)||void 0,height:Number(b)||void 0,format:g,cdn:"cloudinary",params:{...o,id:o.deliveryType==="fetch"?s:f,format:g,transformations:S}}},Ei=({base:t,width:e,height:r,format:o,params:n})=>{var c;const s=yo(t.toString()),i={transformations:{},...s.params,...n,format:o||"auto"};return e&&(i.transformations.w=me(e).toString()),r&&(i.transformations.h=me(r).toString()),(c=i.transformations).c||(c.c="lfill"),mo(i)},Ni=({url:t,width:e,height:r,format:o="auto"})=>{var i,c;const n=yo(t);if(!n)throw new Error("Invalid Cloudinary URL");if(((i=n.params)==null?void 0:i.assetType)!=="image")throw new Error("Cloudinary transformer only supports images");if((c=n.params)!=null&&c.signature)throw new Error("Cloudinary transformer does not support signed URLs");const s={...n,width:e,height:r,format:o};return Ei(s)},Ci=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/image\/(?<transformations>[^\/]+)?\/(?<path>.*)$/g,Ri=t=>Object.fromEntries(t.split(",").map(e=>e.split("="))),_o=({host:t,transformations:e={},path:r})=>{const o=Object.entries(e).map(([s,i])=>`${s}=${i}`).join(",");return`https://${[t,"cdn-cgi","image",o,r].join("/")}`},bo=t=>{const e=ot(t),r=[...e.toString().matchAll(Ci)];if(!r.length)throw new Error("Invalid Cloudflare URL");const o=r[0].groups||{},{transformations:n,...s}=o,{width:i,height:c,f,...d}=Ri(n);return _o({...s,transformations:d}),{base:e.toString(),width:Number(i)||void 0,height:Number(c)||void 0,format:f,cdn:"cloudflare",params:{...o,transformations:d}}},Ti=({base:t,width:e,height:r,format:o,params:n})=>{var c;const s=bo(t.toString()),i={transformations:{},...s.params,...n};return e&&(i.transformations.width=e==null?void 0:e.toString()),r&&(i.transformations.height=r==null?void 0:r.toString()),o&&(i.transformations.f=o==="jpg"?"jpeg":o),(c=i.transformations).fit||(c.fit="cover"),new URL(_o(i))},Mi=({url:t,width:e,height:r,format:o="auto"})=>{const n=bo(t);if(!n)throw new Error("Invalid Cloudflare URL");const s={...n,width:e,height:r,format:o};return Ti(s)},Ii=({url:t,width:e,height:r})=>{const o=ot(t);return H(o,"width",e,!0,!0),e&&r&&kt(o,"aspect_ratio",`${e}:${r}`),o},Li=/(?<id>\/f\/\d+\/\d+x\d+\/\w+\/[^\/]+)\/?(?<modifiers>m\/?(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?)?$/g,Fi=/^(?<modifiers>\/(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?\/?)?(?<id>\/f\/.+)$/g,Wi=t=>t?Object.fromEntries(t.split(":").map(e=>{if(!e)return[];const[r,o]=e.split("(");return[r,o.replace(")","")]})):{},Ui=t=>{if(!t)return;const e=Object.entries(t).map(([r,o])=>`${r}(${o??""})`);if(e.length!==0)return`filters:${e.join(":")}`},Bi=t=>{const e=ot(t),r=e.hostname==="img2.storyblok.com"?Fi:Li,[o]=e.pathname.matchAll(r);if(!o||!o.groups)throw new Error("Invalid Storyblok URL");const{id:n,crop:s,width:i,height:c,filters:f,flipx:d,flipy:v}=o.groups,{format:b,..._}=Wi(f);return e.hostname==="img2.storyblok.com"&&(e.hostname="a.storyblok.com"),{base:e.origin+n,width:Number(i)||void 0,height:Number(c)||void 0,format:b,params:{crop:s,filters:_,flipx:d,flipy:v},cdn:"storyblok"}},qi=({base:t,width:e=0,height:r=0,format:o,params:n={}})=>{const{crop:s,filters:i,flipx:c="",flipy:f=""}=n,d=`${c}${e}x${f}${r}`;return new URL([t,"m",s,d,Ui(i),o].filter(Boolean).join("/"))},Di=({url:t,width:e,height:r,format:o})=>{const n=Bi(t);if(n)return o&&(n.params||(n.params={filters:{}}),n.params.filters||(n.params.filters={}),n.params.filters.format=o),qi({...n,width:e,height:r})},Vi=({url:t,width:e,height:r,format:o})=>{const n=ot(t);return H(n,"w",e,!0,!0),H(n,"h",r,!0,!0),H(n,"fm",o,!0),e&&r&&kt(n,"fit","crop"),n},sn=t=>{const r=ot(t).searchParams.get("url");if(!r||!r.startsWith("http"))return!1;const o=vo(r);return o?{cdn:o,url:r}:!1},Hi=({base:t,width:e,params:{quality:r=75,root:o="_vercel"}={}})=>{const n=new URL("http://n");return n.pathname=`/${o}/image`,n.searchParams.set("url",t.toString()),H(n,"w",e,!1,!0),kt(n,"q",r),po(n)},wo=({url:t,width:e,cdn:r})=>{const o=ot(t),n=o.pathname.startsWith("/_next/image")||o.pathname.startsWith("/_vercel/image"),s=n?o.searchParams.get("url"):t.toString();if(s)return H(o,"w",e,!0,!0),n?Tr(o):Hi({base:s,width:e,params:{root:r==="nextjs"?"_next":"_vercel"}})},Ji=t=>wo({...t,cdn:"nextjs"}),Gi=({url:t,width:e,height:r,format:o})=>{const n=ot(t);return H(n,"wid",e,!0,!0),H(n,"hei",r,!0,!0),H(n,"fmt",o,!0),H(n,"qlt",Ee(n,"qlt"),!0),H(n,"scl",Ee(n,"scl"),!0),kt(n,"fit","crop"),!e&&!r&&kt(n,"scl",1),n},Ki=({url:t,width:e,height:r,format:o})=>{const n=ot(t);return H(n,"width",e,!0,!0),H(n,"height",r,!0,!0),H(n,"format",o,!0),H(n,"quality",Ee(n,"quality"),!0),kt(n,"enlarge",0),n},Xi=({url:t,width:e,height:r,format:o})=>{const n=ot(t);return H(n,"width",e,!0,!0),H(n,"height",r,!0,!0),H(n,"format",o),H(n,"quality",Ee(n,"quality"),!0),n},Sr={width:"w",height:"h",autoWidthWithFallback:"w_auto",auto_width_fallback:"w_auto",scaleToScreenWidth:"pc",scale_to_screen_width:"pc",crop:"cr",outputFormat:"f",format:"f",fit:"m",fitMethod:"m",compression:"cmpr",sharpness:"s",rotate:"r",inline:"in",keepMeta:"meta",keep_meta:"meta",noOptimization:"pass",no_optimization:"pass",force_download:"dl",max_device_pixel_ratio:"maxdpr",maxDevicePixelRatio:"maxdpr"};function Yi(t){return Object.keys(Sr).find(o=>Sr[o]===t)||""}function Zi(t){let e=t.toString(),r=[];if(e){let o=e.split("imgeng=");o.length>1&&(r=o[1].split("/"))}return r}function Qi(t){let e=t.toString(),r="";if(e){let o=e.split("imgeng=");o.length>1?r=o[0].slice(0,-1):r=e}return r}const ta=({url:t,width:e,height:r,format:o})=>{const n=ot(t),s=Qi(n);let i={};const c=n.toString()===s?[]:Zi(n);c.length&&(i=oa(c)),e&&(i.width=e),r&&(i.height=r),o&&(i.format=o),i.hasOwnProperty("fit")||(i={...i,fit:"cropbox"});let f=ea(i),d=ra(f),v=d===""?"":s.includes("?")?"&":"?";return`${s}${v}${d}`};function ea(t){return Object.entries(t).reduce((e,[r,o])=>e+na(r,o),"")}function ra(t){return t&&t!==""?`imgeng=${t}`:""}function na(t,e){let r=Sr[t];return r&&(e||e===0)?`/${r}_${e}`:""}function oa(t){let e={};return t.forEach(r=>{let o=r.split("_");if(o.length>1){let n=o[0],s=o[1],i=Yi(n);i&&(e[i]=s)}}),e}const sa=({url:t,width:e,height:r,format:o})=>{const n=ot(t);return H(n,"width",e,!0,!0),H(n,"height",r,!0,!0),H(n,"format",o),n.searchParams.has("format")||kt(n,"auto","webp"),e&&r&&kt(n,"fit","crop"),n},ia=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/imagedelivery\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,aa=/https?:\/\/(?<host>imagedelivery.net)\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,ca=t=>{var e;return Object.fromEntries(((e=t==null?void 0:t.split(","))==null?void 0:e.map(r=>r.split("=")))??[])},la=({host:t,accountHash:e,transformations:r={},imageId:o})=>{const n=Object.entries(r).filter(([i,c])=>!!i&&c!==void 0).map(([i,c])=>`${i}=${c}`).join(",");return`https://${[...t==="imagedelivery.net"?[t]:[t,"cdn-cgi","imagedelivery"],e,o,n].join("/")}`},xo=t=>{const e=ot(t),r=[...e.toString().matchAll(ia),...e.toString().matchAll(aa)];if(!r.length)throw new Error("Invalid Cloudflare Images URL");const o=r[0].groups||{},{transformations:n,...s}=o,{w:i,h:c,f,...d}=ca(n);return{base:e.toString(),width:Number(i)||void 0,height:Number(c)||void 0,format:f,cdn:"cloudflare_images",params:{...s,transformations:d}}},ua=({base:t,width:e,height:r,format:o,params:n})=>{var c;const s=xo(t.toString()),i={transformations:{},...s.params,...n};return e&&(i.transformations.w=e==null?void 0:e.toString()),r&&(i.transformations.h=r==null?void 0:r.toString()),o&&(i.transformations.f=o),(c=i.transformations).fit||(c.fit="cover"),new URL(la(i))},da=({url:t,width:e,height:r,format:o="auto"})=>{const n=xo(t);if(!n)throw new Error("Invalid Cloudflare Images URL");const s={...n,width:e,height:r,format:o};return ua(s)},fa=t=>{const e=ot(t),[r,...o]=e.pathname.split("/").slice(1),n=Object.fromEntries(r.split(",").map(s=>{const[i,c]=s.split("_");return[i,c]}));if(n.s){const[s,i]=n.s.split("x");n.w||(n.w=s),n.h||(n.h=i)}return{base:o.join("/"),width:Number(n.w)||void 0,height:Number(n.h)||void 0,quality:Number(n.q)||void 0,format:n.f||"auto",params:n,cdn:"ipx"}},an=({base:t,width:e,height:r,format:o,params:n})=>{const s=(n==null?void 0:n.modifiers)??{};e&&r?s.s=`${e}x${r}`:e?s.w=`${e}`:r&&(s.h=`${r}`),o&&(s.f=o);const i=n!=null&&n.base.endsWith("/")?n==null?void 0:n.base:`${n==null?void 0:n.base}/`,c=Object.entries(s).map(([v,b])=>`${v}_${b}`).join(","),f=t.toString(),d=f.startsWith("/")?f.slice(1):f;return`${i}${c}/${d}`},ha=t=>{var i,c,f,d;const e=String(t.url),r=ot(e),o=r.pathname.startsWith("/_ipx")&&r.hostname!=="n"?`${r.origin}/_ipx`:"/_ipx",n=((c=(i=t.cdnOptions)==null?void 0:i.ipx)==null?void 0:c.base)??o;if(n&&n!=="/"&&e.startsWith(n)){const v=fa(e.replace(n,""));return an({...v,...t,params:{...(f=t.cdnOptions)==null?void 0:f.ipx,base:n}})}return an({...t,base:e,params:{...(d=t.cdnOptions)==null?void 0:d.ipx,base:n}})},ga=({url:t,width:e,height:r,format:o})=>{const n=ot(t),s=Tr(new URL(n.pathname,n.origin)),i={searchParams:new URLSearchParams};return H(i,"href",s,!0,!0),H(i,"w",e,!0,!0),H(i,"h",r,!0,!0),H(i,"f",o),`/_image?${i.searchParams.toString()}`},pa=new Set(["w","h","q","fm","url","width","height","quality"]),va=t=>{const e=ot(t),r=Number(e.searchParams.get("w")??e.searchParams.get("width"))??void 0,o=Number(e.searchParams.get("h")??e.searchParams.get("height"))??void 0,n=Number(e.searchParams.get("q")??e.searchParams.get("quality"))||void 0,s=e.searchParams.get("fm")||void 0,i=e.searchParams.get("url")||"",c={quality:n};return e.searchParams.forEach((f,d)=>{pa.has(d)||(c[d]=f)}),e.search="",{base:i,width:r,height:o,format:s,params:c,cdn:"netlify"}},cn=({base:t,width:e,height:r,format:o,params:{site:n,quality:s,...i}={}})=>{const c=ot("/.netlify/images",n);return Object.entries(i).forEach(([f,d])=>H(c,f,d)),H(c,"q",s,!0,!0),H(c,"w",e,!0,!0),H(c,"h",r,!0,!0),H(c,"fm",o),kt(c,"fit","cover"),c.searchParams.set("url",t.toString()),Tr(c)},ma=t=>{var r,o;const e=ot(t.url);if(e.pathname.startsWith("/.netlify/images")){const{params:n,base:s,format:i}=va(e);return cn({base:s,format:i,...t,params:{...n,site:e.hostname==="n"?void 0:e.origin}})}return cn({...t,base:t.url,params:{site:(o=(r=t.cdnOptions)==null?void 0:r.netlify)==null?void 0:o.site}})},ya=t=>(t.searchParams.get("tr")||"").split(",").reduce((r,o)=>{const[n,s]=o.split("-");return r[n]=s,r},{}),_a=({url:t,width:e,height:r,format:o})=>{const n=ot(t),s=ya(n);s.w=e&&Math.round(e),s.h=r&&Math.round(r),s.f||(s.f="auto"),o&&(s.f=o);const i=Object.keys(s).map(c=>{const f=s[c];if(f)return`${c}-${f}`}).filter(c=>c).join(",");return n.searchParams.set("tr",i),n},ba=/^https?:\/\/(?<host>[^\/]+)\/(?<uuid>[^\/]+)/g;function So(t){const e=new URL(t),r=e.pathname+e.search+e.hash,o=r.lastIndexOf("http"),n=r.lastIndexOf("/");let s="";return o>=0?s=r.slice(o):n>=0&&(s=r.slice(n+1)),s}function wa(t){return t.startsWith("http")}function xa(t){const e=new URL(t);return{pathname:e.origin+e.pathname||"",search:e.search||"",hash:e.hash||""}}function Sa(t){const e=new URL(t),r=So(t),o=wa(r)?xa(r).pathname:r;return e.pathname=e.pathname.replace(o,""),e.search="",e.hash="",e.toString()}const ka=t=>{if(typeof t!="string"||!t)return"";let e=t.trim();return e.startsWith("-/")?e=e.slice(2):e.startsWith("/")&&(e=e.slice(1)),e.endsWith("/")&&(e=e.slice(0,e.length-1)),e};function $a(t){const e=Sa(t),r=new URL(e),o=r.pathname.indexOf("/-/");return o===-1?[]:r.pathname.substring(o).split("/-/").filter(Boolean).map(s=>ka(s))}const Pa=t=>t.length?t.reduce((e,r)=>{const[o,n]=r.split("/");return{...e,[o]:n}},{}):{},ko=({host:t,uuid:e,operations:r={},filename:o})=>{const n=Object.entries(r).map(([i,c])=>`${i}/${c}`).join("/-/");return`https://${[t,e,n?`-/${n}`:"",o].join("/")}`},$o=t=>{const e=ot(t),r=[...e.toString().matchAll(ba)];if(!r.length)throw new Error("Invalid Uploadcare URL");const o=r[0].groups||{},{...n}=o,s=So(e.toString()),{format:i,...c}=Pa($a(e.toString())),f=i&&i!=="auto"?i:"auto";return{base:ko({...n,filename:s||void 0,operations:{...c,format:f}}),cdn:"uploadcare",params:{...o,filename:s||void 0,operations:{...c,format:f}}}},ja=({base:t,width:e,height:r,params:o})=>{const n=t.toString(),s=$o(n.endsWith("/")?n:`${n}/`),i={operations:{},...s.params,...o};return e&&r?i.operations={...i.operations,resize:`${e}x${r}`}:(e&&(i.operations={...i.operations,resize:`${e}x`}),r&&(i.operations={...i.operations,resize:`x${r}`})),ko(i)},Oa=({url:t,width:e,height:r})=>{const o=$o(t);if(!o)throw new Error("Invalid Uploadcare URL");const n={...o,width:e,height:r};return ja(n)},Aa=["origin"],Po="/storage/v1/object/public/",Mr="/storage/v1/render/image/public/",za=t=>t.pathname.startsWith(Mr),jo=t=>{const e=ot(t);if(!za(e))return{cdn:"supabase",base:e.origin+e.pathname};const o=e.pathname.replace(Mr,""),n=e.searchParams.has("quality")?Number(e.searchParams.get("quality")):void 0,s=e.searchParams.has("width")?Number(e.searchParams.get("width")):void 0,i=e.searchParams.has("height")?Number(e.searchParams.get("height")):void 0,c=e.searchParams.has("format")?e.searchParams.get("format"):void 0,f=e.searchParams.has("resize")?e.searchParams.get("resize"):void 0;return{cdn:"supabase",base:e.origin+Po+o,width:s,height:i,format:c,params:{quality:n,resize:f}}},Ea=({base:t,width:e,height:r,format:o,params:n})=>{const s=jo(t.toString());t=s.base,e=e||s.width,r=r||s.height,o=o||s.format,n={...s.params,...n};const i=new URLSearchParams;return e&&i.set("width",me(e).toString()),r&&i.set("height",me(r).toString()),o&&Aa.includes(o)&&i.set("format",o),n!=null&&n.quality&&i.set("quality",me(n.quality).toString()),n!=null&&n.resize&&i.set("resize",n.resize),i.toString()===""?t:s.base.replace(Po,Mr)+"?"+i.toString()},Na=({url:t,width:e,height:r,format:o,cdnOptions:n})=>{const s=jo(t);return Ea({base:s.base,width:e||s.width,height:r||s.height,format:o||s.format,params:(n==null?void 0:n.supabase)||s.params})},ln={vercel:sn,nextjs:sn};function Ca(t,e){if(!(e in ln))return!1;const r=ln[e];return r?r(t):!1}function Ir(t,e){const r=yi(t)||e;if(!r)return!1;const o=Ca(t,r);return o||{cdn:r,url:t}}const Lr=t=>({imgix:xi,contentful:bi,"builder.io":wi,shopify:Pi,wordpress:ji,cloudimage:Oi,cloudinary:Ni,bunny:Ii,storyblok:Di,cloudflare:Mi,vercel:wo,nextjs:Ji,scene7:Gi,"kontent.ai":Vi,keycdn:Ki,directus:Xi,imageengine:ta,contentstack:sa,cloudflare_images:da,ipx:ha,astro:ga,netlify:ma,imagekit:_a,uploadcare:Oa,supabase:Na})[t];var Ra=(t,e)=>{if(!(!t||!e))switch(e){case"constrained":return`(min-width: ${t}px) ${t}px, 100vw`;case"fixed":return`${t}px`;case"fullWidth":return"100vw";default:return}},we=t=>t||t===0?`${t}px`:void 0,Ta=({width:t,height:e,aspectRatio:r,layout:o,objectFit:n="cover",background:s})=>{const i=[["object-fit",n]];return s!=null&&s.startsWith("https:")||s!=null&&s.startsWith("http:")||s!=null&&s.startsWith("data:")?(i.push(["background-image",`url(${s})`]),i.push(["background-size","cover"]),i.push(["background-repeat","no-repeat"])):i.push(["background",s]),o==="fixed"&&(i.push(["width",we(t)]),i.push(["height",we(e)])),o==="constrained"&&(i.push(["max-width",we(t)]),i.push(["max-height",we(e)]),i.push(["aspect-ratio",r?`${r}`:void 0]),i.push(["width","100%"])),o==="fullWidth"&&(i.push(["width","100%"]),i.push(["aspect-ratio",r?`${r}`:void 0]),i.push(["height",we(e)])),Object.fromEntries(i.filter(([,c])=>c))},Ma=[6016,5120,4480,3840,3200,2560,2048,1920,1668,1280,1080,960,828,750,640],un=24,Ia=({width:t,layout:e,resolutions:r=Ma})=>{if(e==="fullWidth")return r;if(!t)return[];const o=t*2;return e==="fixed"?[t,o]:e==="constrained"?[t,o,...r.filter(n=>n<o)]:[]},La=({src:t,width:e,layout:r="constrained",height:o,aspectRatio:n,breakpoints:s,cdn:i,transformer:c,format:f})=>{const d=Ir(t,i);return d&&!c&&(c=Lr(d.cdn)),c?(s||(s=Ia({width:e,layout:r})),s.sort((v,b)=>v-b).map(v=>{let b;return o&&n&&(b=Math.round(v/n)),{url:d?d.url:t,width:v,height:b,format:f}})):[]},Fa=t=>{let{src:e,cdn:r,transformer:o}=t;const n=Ir(e,r);return n&&!o&&(o=Lr(n.cdn)),o?La({...t,transformer:o}).map(s=>{const i=o(s);return`${i==null?void 0:i.toString()} ${s.width}w`}).join(`,
`):""};function Wa({width:t,height:e,priority:r,layout:o="constrained",aspectRatio:n,...s}){return t=t&&Number(t)||void 0,e=e&&Number(e)||void 0,r?(s.loading||(s.loading="eager"),s.fetchpriority||(s.fetchpriority="high")):(s.loading||(s.loading="lazy"),s.decoding||(s.decoding="async")),s.alt===""&&(s.role||(s.role="presentation")),n?t?e||(e=Math.round(t/n)):e&&(t=Math.round(e*n)):t&&e&&(n=t/e),{width:t,height:e,aspectRatio:n,layout:o,...s}}function Ua(t){let{src:e,cdn:r,transformer:o,background:n,layout:s,objectFit:i,breakpoints:c,width:f,height:d,aspectRatio:v,unstyled:b,..._}=Wa(t);const S=e?Ir(e,r):void 0;let g=e;if(S&&(g=S.url,o||(o=Lr(S.cdn))),o&&n==="auto"){const u=v?Math.round(un/v):void 0,k=o({url:g,width:un,height:u});k&&(n=k.toString())}const h={width:f,height:d,aspectRatio:v,layout:s,objectFit:i,background:n};if(_.sizes||(_.sizes=Ra(f,s)),b||(_.style={...Ta(h),..._.style}),o){_.srcset=Fa({src:g,width:f,height:d,aspectRatio:v,layout:s,breakpoints:c,transformer:o,cdn:r});const u=o({url:g,width:f,height:d});u&&(g=u),(s==="fullWidth"||s==="constrained")&&(f=void 0,d=void 0)}return{..._,src:g==null?void 0:g.toString(),width:f,height:d}}function Ba(t,e){const r=RegExp(t,"g");return o=>{if(typeof o!="string")throw new TypeError(`expected an argument of type string, but got ${typeof o}`);return o.match(r)?o.replace(r,e):o}}const qa=Ba(/[A-Z]/,t=>`-${t.toLowerCase()}`);function Da(t,e=qa){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected an argument of type object, but got ${typeof t}`);return Object.keys(t).map(r=>`${e(r)}: ${t[r]};`).join(`
`)}var Va=D("<img>");function Ha(t,e){const r=lt(e,["children","$$slots","$$events","$$legacy"]);_t(e,!1);const o=dt(),n=dt(),s=dt(),i=dt(),c=dt(),f=dt(),d=dt(),v=dt(),b=dt(),_=dt(),S=dt(),g=dt(),h=dt(),u=dt();it(()=>(p(o),p(n),xt(r)),()=>{rt(o,r.style),rt(n,Yo(r,["style"]))}),it(()=>(p(s),p(i),p(c),p(f),p(d),p(v),p(b),p(_),p(S),p(g),p(h),p(n)),()=>{($=>(rt(s,$.alt),rt(i,$.style),rt(c,$.src),rt(f,$.width),rt(d,$.height),rt(v,$.loading),rt(b,$.decoding),rt(_,$.srcset),rt(S,$.role),rt(g,$.sizes),rt(h,$.fetchpriority)))(Ua(p(n)))}),it(()=>(p(i),p(o)),()=>{rt(u,[Da(p(i)||{}),p(o)].filter(Boolean).join(";"))}),Xt(),Ht();var k=Va();let z;X(()=>{var $,R,E,j;return z=ee(k,z,{...r,style:p(u),loading:p(v),width:p(f),height:p(d),decoding:p(b),role:p(S),fetchpriority:p(h),alt:($=p(s))==null?void 0:$.toString(),src:(R=p(c))==null?void 0:R.toString(),srcset:(E=p(_))==null?void 0:E.toString(),sizes:(j=p(g))==null?void 0:j.toString()})}),os(k),Jo(k),Kt("load",k,function($){Xr.call(this,e,$)}),Kt("error",k,function($){Xr.call(this,e,$)}),A(t,k),bt()}var Ja=D("<dd><a> </a></dd>"),Ga=D("<dd> </dd>"),Ka=D("<dd><a> </a></dd>"),Xa=D("<dd> </dd>"),Ya=D('<div class="inscription-card"><!> <div class="inscription-title svelte-1i8xyhq"><!></div> <div class="inscription-date-place"><!> <!></div> <dl class="svelte-1i8xyhq"><dt class="svelte-1i8xyhq">ID</dt> <dd><small><!></small></dd> <dt class="svelte-1i8xyhq">Status</dt> <dd> </dd> <dt class="svelte-1i8xyhq">Type</dt> <!> <dt class="svelte-1i8xyhq">Object type</dt> <!> <dt class="svelte-1i8xyhq">Language</dt> <dd> </dd></dl></div>');function Za(t,e){_t(e,!0);var r=Ya(),o=T(r);st(o,()=>e.inscription.facsimile,$=>{Pe($,{get id(){return e.inscription.file},get title(){return e.inscription.title},children:(R,E)=>{Ha(R,{get src(){return`${Qo}${e.inscription.file??""}/${e.inscription.facsimile.url??""}/${ts}`},get alt(){return e.inscription.facsimile.desc},width:400,height:200})},$$slots:{default:!0}})});var n=U(o,2),s=T(n);Pe(s,{get id(){return e.inscription.file},get title(){return e.inscription.title},children:($,R)=>{Et();var E=Rt();X(()=>et(E,e.inscription.title)),A($,E)},$$slots:{default:!0}}),C(n);var i=U(n,2),c=T(i);eo(c,{get inscription(){return e.inscription}});var f=U(c,2);go(f,{get inscription(){return e.inscription}}),C(i);var d=U(i,2),v=U(T(d),2),b=T(v),_=T(b);Pe(_,{get id(){return e.inscription.file},children:($,R)=>{Et();var E=Rt();X(()=>et(E,e.inscription.file)),A($,E)},$$slots:{default:!0}}),C(b),C(v);var S=U(v,4),g=T(S,!0);C(S);var h=U(S,4);st(h,()=>{var $;return($=e.inscription.type)==null?void 0:$.ref},$=>{var R=Ja(),E=T(R),j=T(E,!0);C(E),C(R),X(()=>{var w;It(E,"href",e.inscription.type.ref),et(j,(w=e.inscription.type)==null?void 0:w._)}),A($,R)},$=>{var R=Ga(),E=T(R,!0);C(R),X(()=>{var j;return et(E,((j=e.inscription.type)==null?void 0:j._)||"N/A")}),A($,R)});var u=U(h,4);st(u,()=>{var $;return($=e.inscription.objectType)==null?void 0:$.ref},$=>{var R=Ka(),E=T(R),j=T(E,!0);C(E),C(R),X(()=>{var w;It(E,"href",e.inscription.objectType.ref),et(j,(w=e.inscription.objectType)==null?void 0:w._)}),A($,R)},$=>{var R=Xa(),E=T(R,!0);C(R),X(()=>{var j;return et(E,((j=e.inscription.objectType)==null?void 0:j._)||"N/A")}),A($,R)});var k=U(u,4),z=T(k,!0);C(k),C(d),C(r),X(()=>{var $;et(g,e.inscription.status),et(z,(($=e.inscription.textLang)==null?void 0:$._)||"N/A")}),A(t,r),bt()}var Qa=D('<li class="svelte-p3hpfg"><!></li>'),tc=D('<ol class="inscription-list svelte-p3hpfg"></ol>');function ec(t,e){var r=tc();Mt(r,21,()=>e.inscriptions,Vt,(o,n)=>{var s=Qa(),i=T(s);Za(i,{get inscription(){return p(n)}}),C(s),A(o,s)}),C(r),A(t,r)}var rc=D("<span> </span>"),nc=D('<div class="marker svelte-mhd10g" role="img"><!></div>'),oc=D('<div class="inscription-map svelte-mhd10g"><!></div>');function sc(t,e){_t(e,!0);const{Map:r,Marker:o,NavigationControl:n,Popup:s}=fs;let i=tt(e,"show",3,!0),c=Ut(void 0),f=Ut(void 0),d=ft(()=>e.inscriptions.filter(h=>h.geo).reduce((h,u)=>{if(!u.geo||u.geo.length!==2)return h;const k=u.geo.join("_");return h[k]||(h[k]=[]),h[k].push(u),h},{})),v=ft(()=>Object.entries(p(d)).map(([h,u])=>{const k=u[0].geo,z=u.length;let $="single";return z>100?$="lg":z>25?$="md":z>1&&($="sm"),{coords:[k[1],k[0]],markerSize:$,numberInscriptions:z,inscriptions:u}}));function b(h,{coords:u,inscriptions:k}){const z=_(k),$=new o({element:h}).setLngLat(u).setPopup(new s().setHTML(z)).addTo(p(c));return{destroy(){$==null||$.remove()}}}function _(h){const u=h.reduce(($,R)=>(R.places[0]&&($[R.places[0]._]||($[R.places[0]._]=[]),$[R.places[0]._].push(R)),$),{});let k='<div class="tooltip">';const z=Object.entries(u).map(([$,R])=>{let E=`<dt>${$}</dt>`,j=R.map(w=>`<dd><a href="inscription/${w.file}">${w.title}</a></dd>`).join("");return`${E}${j}`}).join("");return`${k}<dl>${z}</dl></div>`}Zn(async()=>{rt(c,pt(new r({container:p(f),style:"https://api.maptiler.com/maps/positron/style.json?key=brTBbnRxuiKp6PgjwFPr",center:[14.01535,37.59999],zoom:7}))),p(c).addControl(new n({showCompass:!0,showZoom:!0}))}),Yn(async()=>{p(c)&&(p(c).remove(),rt(c,void 0),rt(f,void 0))});var S=nt(),g=G(S);st(g,i,h=>{var u=oc(),k=T(u);st(k,()=>p(c)&&p(v),z=>{var $=nt(),R=G($);Mt(R,17,()=>p(v),Vt,(E,j)=>{var w=nc(),L=T(w);st(L,()=>p(j).numberInscriptions>1,I=>{var N=rc(),F=T(N,!0);C(N),X(()=>et(F,p(j).numberInscriptions)),A(I,N)}),C(w),te(w,(I,N)=>b(I,N),()=>({coords:p(j).coords,inscriptions:p(j).inscriptions})),X(()=>{It(w,"aria-label",`Map marker for ${p(j).inscriptions[0].title}`),Fe(w,"single",p(j).markerSize==="single"),Fe(w,"sm",p(j).markerSize==="sm"),Fe(w,"md",p(j).markerSize==="md"),Fe(w,"lg",p(j).markerSize==="lg")}),A(E,w)}),A(z,$)}),C(u),Yt(u,z=>rt(f,z),()=>p(f)),A(h,u)}),A(t,S),bt()}var ic=D("<span>...</span>"),ac=D('<div class="pagination svelte-1pdb2ke"><!> <div class="pages svelte-1pdb2ke"></div> <!></div> <p class="svelte-1pdb2ke"> </p>',1);function dn(t,e){var r=nt(),o=G(r);st(o,()=>e.count>0,n=>{var s=nt(),i=G(s);St(i,()=>Os,(c,f)=>{f(c,{get page(){return e.page},get count(){return e.count},get perPage(){return e.perPage},get onPageChange(){return e.onPageChange},children:(v,b)=>{let _=()=>b==null?void 0:b().pages,S=()=>b==null?void 0:b().range;var g=ac(),h=G(g),u=T(h);St(u,()=>zs,(j,w)=>{w(j,{children:(L,I)=>{Ds(L,{})},$$slots:{default:!0}})});var k=U(u,2);Mt(k,21,_,j=>j.key,(j,w)=>{var L=nt(),I=G(L);st(I,()=>p(w).type==="ellipsis",N=>{var F=ic();A(N,F)},N=>{var F=nt(),M=G(F);St(M,()=>Rs,(W,q)=>{q(W,{get page(){return p(w)},children:(K,m)=>{Et();var a=Rt();X(()=>et(a,p(w).value)),A(K,a)},$$slots:{default:!0}})}),A(N,F)}),A(j,L)}),C(k);var $=U(k,2);St($,()=>Ns,(j,w)=>{w(j,{children:(L,I)=>{Vs(L,{})},$$slots:{default:!0}})}),C(h);var R=U(h,2),E=T(R);C(R),X(()=>et(E,`Showing ${S().start+1} - ${S().end??""}`)),A(v,g)},$$slots:{default:!0}})}),A(n,s)}),A(t,r)}var cc=D(", matching <em> </em>",1),lc=D('<span class="svelte-eb26nt"> <em> </em></span>'),uc=D(', filtered by <span class="selected-filters svelte-eb26nt"></span>',1),dc=D('<h2 class="svelte-eb26nt"><em> </em> Inscriptions between <em> </em> – <em> </em> across <em> </em> locations<!><!></h2>');function fc(t,e){_t(e,!0);let r=ft(()=>Object.values(e.filters).some(g=>g.length>0));var o=dc(),n=T(o),s=T(n,!0);X(()=>et(s,e.total.toLocaleString())),C(n);var i=U(n,2),c=T(i,!0);X(()=>et(c,e.dateRange[0]>0?`AD ${e.dateRange[0]}`:`${Math.abs(e.dateRange[0])} BC`)),C(i);var f=U(i,2),d=T(f,!0);X(()=>et(d,e.dateRange[1]>0?`AD ${e.dateRange[1]}`:`${Math.abs(e.dateRange[1])} BC`)),C(f);var v=U(f,2),b=T(v,!0);X(()=>et(b,e.numberOfLocations.toLocaleString())),C(v);var _=U(v,2);st(_,()=>e.query,g=>{var h=cc(),u=U(G(h)),k=T(u,!0);X(()=>et(k,e.query.split(" ").join(", "))),C(u),A(g,h)});var S=U(_);st(S,()=>p(r),g=>{var h=uc(),u=U(G(h));Mt(u,21,()=>Object.entries(e.filters).filter(([k,z])=>z.length>0),Vt,(k,z)=>{let $=()=>p(z)[0],R=()=>p(z)[1];var E=lc(),j=T(E),w=U(j),L=T(w,!0);X(()=>et(L,R().join(", "))),C(w),C(E),X(()=>et(j,`${$()??""}: `)),A(k,E)}),C(u),A(g,h)}),C(o),A(t,o),bt()}var hc=D('<label class="svelte-tan1rs"><input type="radio" name="sort-aggregations"> </label>'),gc=D('<span class="slider-track"><!></span> <!>',1),pc=D('<section class="filter-group svelte-tan1rs"><h3 class="svelte-tan1rs">Date</h3> <div class="slider"><!></div> <div class="date-inputs svelte-tan1rs"><label>Not before <input type="number"></label> <span>–</span> <label><input type="number"> Not after</label></div></section>'),vc=D('<input type="text" placeholder="Filter options..." class="filter-input svelte-tan1rs">'),mc=D('<li><label><input type="checkbox"> </label></li>'),yc=D('<section class="filter-group svelte-tan1rs"><h3 class="svelte-tan1rs"> </h3> <!> <ul class="svelte-tan1rs"></ul></section>'),_c=D('<aside class="filters svelte-tan1rs"><section class="svelte-tan1rs"><h2 class="svelte-tan1rs">Filters</h2> <section class="filters-options svelte-tan1rs"><h3 class="svelte-tan1rs">Options</h3> <form><fieldset class="svelte-tan1rs"><legend>Sort filters by</legend> <!></fieldset></form></section> <section class="filters-groups svelte-tan1rs"><!> <!></section></section></aside>');function bc(t,e){_t(e,!0);const r=[],o=[];let n=tt(e,"show",3,!1),s=tt(e,"aggregations",19,()=>({})),i=tt(e,"sortAggregationsBy",15,"key"),c=tt(e,"selectedDateRange",31,()=>pt([-700,1830])),f=tt(e,"selectedFilters",31,()=>pt({}));const d=["key","count"];let v=pt({});function b(h,u){var z;const k=((z=v[u])==null?void 0:z.toLowerCase())||"";return k?h.filter($=>$.key.toLowerCase().includes(k)):h}function _(h){if(h.indexOf(":::")==-1)return h;const u=h.split(":::"),k=u.length;return i()==="count"?u.pop()||"":`${"+".repeat(k-1)} ${u.pop()}`}var S=nt(),g=G(S);st(g,n,h=>{var u=_c(),k=T(u),z=U(T(k),2),$=U(T(z),2),R=T($),E=U(T(R),2);Mt(E,17,()=>d,Vt,(I,N)=>{var F=hc(),M=T(F);pe(M);var W,q=U(M);C(F),X(()=>{W!==(W=p(N))&&(M.value=(M.__value=p(N))==null?"":p(N)),et(q,` ${p(N)??""}`)}),Yr(r,[],M,()=>(p(N),i()),i),A(I,F)}),C(R),C($),C(z);var j=U(z,2),w=T(j);st(w,()=>{var I;return(I=s())==null?void 0:I.notBefore},I=>{var N=pc(),F=U(T(N),2),M=T(F);St(M,()=>Is,(l,y)=>{y(l,{class:"slider-root",min:-700,max:1830,step:1,get value(){return c()},set value(x){c(x)},children:Zo,$$slots:{default:(x,P)=>{const O=ft(()=>P.thumbs);var J=gc(),Q=G(J),V=T(Q);St(V,()=>Fs,(ut,vt)=>{vt(ut,{class:"slider-range"})}),C(Q);var at=U(Q,2);Mt(at,17,()=>p(O),Vt,(ut,vt,wt)=>{var $t=nt(),B=G($t);St(B,()=>Us,(Y,gt)=>{gt(Y,{get thumb(){return p(vt)},class:"slider-thumb","aria-label":`${wt===0?"Not before":"Not after"}`})}),A(ut,$t)}),A(x,J)}}})}),C(F);var W=U(F,2),q=T(W),K=U(T(q));pe(K),It(K,"min",-700),It(K,"max",1811),C(q);var m=U(q,4),a=T(m);pe(a),It(a,"min",-675),It(a,"max",1830),Et(),C(m),C(W),C(N),Ge(K,()=>c()[0],l=>c(c()[0]=l,!0)),Ge(a,()=>c()[1],l=>c(c()[1]=l,!0)),A(I,N)});var L=U(w,2);Mt(L,17,()=>Object.keys(f()),Vt,(I,N,F)=>{var M=nt(),W=G(M);st(W,()=>p(N)in s()&&s()[p(N)].title,q=>{var K=yc(),m=T(K),a=T(m,!0);C(m);var l=U(m,2);st(l,()=>s()[p(N)].buckets.length>20,x=>{var P=vc();pe(P),Ge(P,()=>v[p(N)],O=>v[p(N)]=O),A(x,P)});var y=U(l,2);Mt(y,21,()=>b(s()[p(N)].buckets,p(N)),Vt,(x,P)=>{var O=mc(),J=T(O),Q=T(J);pe(Q);var V,at=U(Q);X(()=>et(at,` ${_(p(P).key)??""} (${p(P).doc_count??""})`)),C(J),C(O),X(()=>{V!==(V=p(P).key)&&(Q.value=(Q.__value=p(P).key)==null?"":p(P).key)}),Yr(o,[F],Q,()=>(p(P).key,f()[p(N)]),ut=>f(f()[p(N)]=ut,!0)),A(x,O)}),C(y),C(K),X(()=>et(a,s()[p(N)].title)),A(q,K)}),A(I,M)}),C(j),C(k),C(u),ke(3,u,()=>rs,()=>({axis:"x"})),A(h,u)}),A(t,S),bt()}var Oo=typeof global=="object"&&global&&global.Object===Object&&global,wc=typeof self=="object"&&self&&self.Object===Object&&self,Lt=Oo||wc||Function("return this")(),Nt=Lt.Symbol,Ao=Object.prototype,xc=Ao.hasOwnProperty,Sc=Ao.toString,xe=Nt?Nt.toStringTag:void 0,kc=Object.prototype.toString,$c="[object Null]",Pc="[object Undefined]",fn=Nt?Nt.toStringTag:void 0;function be(t){return t==null?t===void 0?Pc:$c:fn&&fn in Object(t)?function(e){var r=xc.call(e,xe),o=e[xe];try{e[xe]=void 0;var n=!0}catch{}var s=Sc.call(e);return n&&(r?e[xe]=o:delete e[xe]),s}(t):function(e){return kc.call(e)}(t)}function le(t){return t!=null&&typeof t=="object"}var jc="[object Symbol]";function Ne(t){return typeof t=="symbol"||le(t)&&be(t)==jc}function je(t,e){for(var r=-1,o=t==null?0:t.length,n=Array(o);++r<o;)n[r]=e(t[r],r,t);return n}var Tt=Array.isArray,Oc=1/0,hn=Nt?Nt.prototype:void 0,gn=hn?hn.toString:void 0;function zo(t){if(typeof t=="string")return t;if(Tt(t))return je(t,zo)+"";if(Ne(t))return gn?gn.call(t):"";var e=t+"";return e=="0"&&1/t==-Oc?"-0":e}function Ye(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Ze(t){return t}var Ac="[object AsyncFunction]",zc="[object Function]",Ec="[object GeneratorFunction]",Nc="[object Proxy]";function Eo(t){if(!Ye(t))return!1;var e=be(t);return e==zc||e==Ec||e==Ac||e==Nc}var pn,vr=Lt["__core-js_shared__"],vn=(pn=/[^.]+$/.exec(vr&&vr.keys&&vr.keys.IE_PROTO||""))?"Symbol(src)_1."+pn:"",Cc=Function.prototype.toString;function de(t){if(t!=null){try{return Cc.call(t)}catch{}try{return t+""}catch{}}return""}var Rc=/^\[object .+?Constructor\]$/,Tc=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fe(t,e){var r=function(o,n){return o==null?void 0:o[n]}(t,e);return function(o){return!(!Ye(o)||(n=o,vn&&vn in n))&&(Eo(o)?Tc:Rc).test(de(o));var n}(r)?r:void 0}var mn,mr,yr,kr=fe(Lt,"WeakMap"),Mc=Date.now,Ic=function(){try{var t=fe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),yn=Ic,Lc=yn?function(t,e){return yn(t,"toString",{configurable:!0,enumerable:!1,value:(r=e,function(){return r}),writable:!0});var r}:Ze,Fc=(mn=Lc,mr=0,yr=0,function(){var t=Mc(),e=16-(t-yr);if(yr=t,e>0){if(++mr>=800)return arguments[0]}else mr=0;return mn.apply(void 0,arguments)});function Wc(t){return t!=t}function Uc(t,e){return!(t==null||!t.length)&&function(r,o,n){return o==o?function(s,i,c){for(var f=-1,d=s.length;++f<d;)if(s[f]===i)return f;return-1}(r,o):function(s,i,c,f){for(var d=s.length,v=-1;++v<d;)if(i(s[v],v,s))return v;return-1}(r,Wc)}(t,e)>-1}var Bc=9007199254740991,qc=/^(?:0|[1-9]\d*)$/;function Fr(t,e){var r=typeof t;return!!(e=e??Bc)&&(r=="number"||r!="symbol"&&qc.test(t))&&t>-1&&t%1==0&&t<e}function Wr(t,e){return t===e||t!=t&&e!=e}var _n=Math.max;function No(t,e){return Fc(function(r,o,n){return o=_n(o===void 0?r.length-1:o,0),function(){for(var s=arguments,i=-1,c=_n(s.length-o,0),f=Array(c);++i<c;)f[i]=s[o+i];i=-1;for(var d=Array(o+1);++i<o;)d[i]=s[i];return d[o]=n(f),function(v,b,_){switch(_.length){case 0:return v.call(b);case 1:return v.call(b,_[0]);case 2:return v.call(b,_[0],_[1]);case 3:return v.call(b,_[0],_[1],_[2])}return v.apply(b,_)}(r,this,d)}}(t,e,Ze),t+"")}var Dc=9007199254740991;function Ur(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Dc}function Re(t){return t!=null&&Ur(t.length)&&!Eo(t)}function bn(t,e,r){if(!Ye(r))return!1;var o=typeof e;return!!(o=="number"?Re(r)&&Fr(e,r.length):o=="string"&&e in r)&&Wr(r[e],t)}var Vc=Object.prototype;function Hc(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||Vc)}function wn(t){return le(t)&&be(t)=="[object Arguments]"}var Co=Object.prototype,Jc=Co.hasOwnProperty,Gc=Co.propertyIsEnumerable,Br=wn(function(){return arguments}())?wn:function(t){return le(t)&&Jc.call(t,"callee")&&!Gc.call(t,"callee")},Ro=typeof exports=="object"&&exports&&!exports.nodeType&&exports,xn=Ro&&typeof module=="object"&&module&&!module.nodeType&&module,Sn=xn&&xn.exports===Ro?Lt.Buffer:void 0,$r=(Sn?Sn.isBuffer:void 0)||function(){return!1},ct={};function To(t){return function(e){return t(e)}}ct["[object Float32Array]"]=ct["[object Float64Array]"]=ct["[object Int8Array]"]=ct["[object Int16Array]"]=ct["[object Int32Array]"]=ct["[object Uint8Array]"]=ct["[object Uint8ClampedArray]"]=ct["[object Uint16Array]"]=ct["[object Uint32Array]"]=!0,ct["[object Arguments]"]=ct["[object Array]"]=ct["[object ArrayBuffer]"]=ct["[object Boolean]"]=ct["[object DataView]"]=ct["[object Date]"]=ct["[object Error]"]=ct["[object Function]"]=ct["[object Map]"]=ct["[object Number]"]=ct["[object Object]"]=ct["[object RegExp]"]=ct["[object Set]"]=ct["[object String]"]=ct["[object WeakMap]"]=!1;var Mo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Oe=Mo&&typeof module=="object"&&module&&!module.nodeType&&module,_r=Oe&&Oe.exports===Mo&&Oo.process,ye=function(){try{return Oe&&Oe.require&&Oe.require("util").types||_r&&_r.binding&&_r.binding("util")}catch{}}(),kn=ye&&ye.isTypedArray,Io=kn?To(kn):function(t){return le(t)&&Ur(t.length)&&!!ct[be(t)]},Kc=Object.prototype.hasOwnProperty;function Xc(t,e){var r=Tt(t),o=!r&&Br(t),n=!r&&!o&&$r(t),s=!r&&!o&&!n&&Io(t),i=r||o||n||s,c=i?function(v,b){for(var _=-1,S=Array(v);++_<v;)S[_]=b(_);return S}(t.length,String):[],f=c.length;for(var d in t)!Kc.call(t,d)||i&&(d=="length"||n&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Fr(d,f))||c.push(d);return c}function Yc(t,e){return function(r){return t(e(r))}}var Zc=Yc(Object.keys,Object),Qc=Object.prototype.hasOwnProperty;function qr(t){return Re(t)?Xc(t):function(e){if(!Hc(e))return Zc(e);var r=[];for(var o in Object(e))Qc.call(e,o)&&o!="constructor"&&r.push(o);return r}(t)}var tl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,el=/^\w*$/;function Pr(t,e){if(Tt(t))return!1;var r=typeof t;return!(r!="number"&&r!="symbol"&&r!="boolean"&&t!=null&&!Ne(t))||el.test(t)||!tl.test(t)||e!=null&&t in Object(e)}var Se=fe(Object,"create"),rl=Object.prototype.hasOwnProperty,nl=Object.prototype.hasOwnProperty;function ie(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}function De(t,e){for(var r=t.length;r--;)if(Wr(t[r][0],e))return r;return-1}ie.prototype.clear=function(){this.__data__=Se?Se(null):{},this.size=0},ie.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},ie.prototype.get=function(t){var e=this.__data__;if(Se){var r=e[t];return r==="__lodash_hash_undefined__"?void 0:r}return rl.call(e,t)?e[t]:void 0},ie.prototype.has=function(t){var e=this.__data__;return Se?e[t]!==void 0:nl.call(e,t)},ie.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Se&&e===void 0?"__lodash_hash_undefined__":e,this};var ol=Array.prototype.splice;function qt(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}qt.prototype.clear=function(){this.__data__=[],this.size=0},qt.prototype.delete=function(t){var e=this.__data__,r=De(e,t);return!(r<0||(r==e.length-1?e.pop():ol.call(e,r,1),--this.size,0))},qt.prototype.get=function(t){var e=this.__data__,r=De(e,t);return r<0?void 0:e[r][1]},qt.prototype.has=function(t){return De(this.__data__,t)>-1},qt.prototype.set=function(t,e){var r=this.__data__,o=De(r,t);return o<0?(++this.size,r.push([t,e])):r[o][1]=e,this};var Ce=fe(Lt,"Map");function Ve(t,e){var r,o,n=t.__data__;return((o=typeof(r=e))=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null)?n[typeof e=="string"?"string":"hash"]:n.map}function Bt(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var o=t[e];this.set(o[0],o[1])}}function Dr(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var r=function(){var o=arguments,n=e?e.apply(this,o):o[0],s=r.cache;if(s.has(n))return s.get(n);var i=t.apply(this,o);return r.cache=s.set(n,i)||s,i};return r.cache=new(Dr.Cache||Bt),r}Bt.prototype.clear=function(){this.size=0,this.__data__={hash:new ie,map:new(Ce||qt),string:new ie}},Bt.prototype.delete=function(t){var e=Ve(this,t).delete(t);return this.size-=e?1:0,e},Bt.prototype.get=function(t){return Ve(this,t).get(t)},Bt.prototype.has=function(t){return Ve(this,t).has(t)},Bt.prototype.set=function(t,e){var r=Ve(this,t),o=r.size;return r.set(t,e),this.size+=r.size==o?0:1,this},Dr.Cache=Bt;var br,wr,sl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,il=/\\(\\)?/g,al=(br=Dr(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(sl,function(r,o,n,s){e.push(n?s.replace(il,"$1"):o||r)}),e},function(t){return wr.size===500&&wr.clear(),t}),wr=br.cache,br);function Lo(t,e){return Tt(t)?t:Pr(t,e)?[t]:al(function(r){return r==null?"":zo(r)}(t))}var cl=1/0;function Ke(t){if(typeof t=="string"||Ne(t))return t;var e=t+"";return e=="0"&&1/t==-cl?"-0":e}function jr(t,e){for(var r=0,o=(e=Lo(e,t)).length;t!=null&&r<o;)t=t[Ke(e[r++])];return r&&r==o?t:void 0}function Fo(t,e){for(var r=-1,o=e.length,n=t.length;++r<o;)t[n+r]=e[r];return t}var $n=Nt?Nt.isConcatSpreadable:void 0;function ll(t){return Tt(t)||Br(t)||!!($n&&t&&t[$n])}function ul(t,e,r,o,n){var s=-1,i=t.length;for(r||(r=ll),n||(n=[]);++s<i;){var c=t[s];r(c)?Fo(n,c):n[n.length]=c}return n}function Dt(t){var e=this.__data__=new qt(t);this.size=e.size}Dt.prototype.clear=function(){this.__data__=new qt,this.size=0},Dt.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Dt.prototype.get=function(t){return this.__data__.get(t)},Dt.prototype.has=function(t){return this.__data__.has(t)},Dt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof qt){var o=r.__data__;if(!Ce||o.length<199)return o.push([t,e]),this.size=++r.size,this;r=this.__data__=new Bt(o)}return r.set(t,e),this.size=r.size,this};var Wo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Pn=Wo&&typeof module=="object"&&module&&!module.nodeType&&module,jn=Pn&&Pn.exports===Wo?Lt.Buffer:void 0;jn&&jn.allocUnsafe;function dl(){return[]}var fl=Object.prototype.propertyIsEnumerable,On=Object.getOwnPropertySymbols,hl=On?function(t){return t==null?[]:(t=Object(t),function(e,r){for(var o=-1,n=e==null?0:e.length,s=0,i=[];++o<n;){var c=e[o];fl.call(t,c)&&(i[s++]=c)}return i}(On(t)))}:dl,gl=hl;function pl(t,e,r){var o=e(t);return Tt(t)?o:Fo(o,r(t))}function An(t){return pl(t,qr,gl)}var Or=fe(Lt,"DataView"),Ar=fe(Lt,"Promise"),zr=fe(Lt,"Set"),zn="[object Map]",En="[object Promise]",Nn="[object Set]",Cn="[object WeakMap]",Rn="[object DataView]",vl=de(Or),ml=de(Ce),yl=de(Ar),_l=de(zr),bl=de(kr),se=be;(Or&&se(new Or(new ArrayBuffer(1)))!=Rn||Ce&&se(new Ce)!=zn||Ar&&se(Ar.resolve())!=En||zr&&se(new zr)!=Nn||kr&&se(new kr)!=Cn)&&(se=function(t){var e=be(t),r=e=="[object Object]"?t.constructor:void 0,o=r?de(r):"";if(o)switch(o){case vl:return Rn;case ml:return zn;case yl:return En;case _l:return Nn;case bl:return Cn}return e});var Tn=se,Mn=Lt.Uint8Array,In=Nt?Nt.prototype:void 0;In&&In.valueOf;ye&&ye.isMap;ye&&ye.isSet;function Ae(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Bt;++e<r;)this.add(t[e])}function wl(t,e){for(var r=-1,o=t==null?0:t.length;++r<o;)if(e(t[r],r,t))return!0;return!1}function Er(t,e){return t.has(e)}Ae.prototype.add=Ae.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Ae.prototype.has=function(t){return this.__data__.has(t)};var xl=1,Sl=2;function Ln(t,e,r,o,n,s){var i=r&xl,c=t.length,f=e.length;if(c!=f&&!(i&&f>c))return!1;var d=s.get(t),v=s.get(e);if(d&&v)return d==e&&v==t;var b=-1,_=!0,S=r&Sl?new Ae:void 0;for(s.set(t,e),s.set(e,t);++b<c;){var g=t[b],h=e[b];if(o)var u=i?o(h,g,b,e,t,s):o(g,h,b,t,e,s);if(u!==void 0){if(u)continue;_=!1;break}if(S){if(!wl(e,function(k,z){if(!Er(S,z)&&(g===k||n(g,k,r,o,s)))return S.push(z)})){_=!1;break}}else if(g!==h&&!n(g,h,r,o,s)){_=!1;break}}return s.delete(t),s.delete(e),_}function kl(t){var e=-1,r=Array(t.size);return t.forEach(function(o,n){r[++e]=[n,o]}),r}function $l(t){var e=-1,r=Array(t.size);return t.forEach(function(o){r[++e]=o}),r}var Pl=1,jl=2,Ol="[object Boolean]",Al="[object Date]",zl="[object Error]",El="[object Map]",Nl="[object Number]",Cl="[object RegExp]",Rl="[object Set]",Tl="[object String]",Ml="[object Symbol]",Il="[object ArrayBuffer]",Ll="[object DataView]",Fn=Nt?Nt.prototype:void 0,xr=Fn?Fn.valueOf:void 0,Fl=1,Wl=Object.prototype.hasOwnProperty,Ul=1,Wn="[object Arguments]",Un="[object Array]",He="[object Object]",Bn=Object.prototype.hasOwnProperty;function Nr(t,e,r,o,n){return t===e||(t==null||e==null||!le(t)&&!le(e)?t!=t&&e!=e:function(s,i,c,f,d,v){var b=Tt(s),_=Tt(i),S=b?Un:Tn(s),g=_?Un:Tn(i),h=(S=S==Wn?He:S)==He,u=(g=g==Wn?He:g)==He,k=S==g;if(k&&$r(s)){if(!$r(i))return!1;b=!0,h=!1}if(k&&!h)return v||(v=new Dt),b||Io(s)?Ln(s,i,c,f,d,v):function(j,w,L,I,N,F,M){switch(L){case Ll:if(j.byteLength!=w.byteLength||j.byteOffset!=w.byteOffset)return!1;j=j.buffer,w=w.buffer;case Il:return!(j.byteLength!=w.byteLength||!F(new Mn(j),new Mn(w)));case Ol:case Al:case Nl:return Wr(+j,+w);case zl:return j.name==w.name&&j.message==w.message;case Cl:case Tl:return j==w+"";case El:var W=kl;case Rl:if(W||(W=$l),j.size!=w.size&&!(I&Pl))return!1;var q=M.get(j);if(q)return q==w;I|=jl,M.set(j,w);var K=Ln(W(j),W(w),I,N,F,M);return M.delete(j),K;case Ml:if(xr)return xr.call(j)==xr.call(w)}return!1}(s,i,S,c,f,d,v);if(!(c&Ul)){var z=h&&Bn.call(s,"__wrapped__"),$=u&&Bn.call(i,"__wrapped__");if(z||$){var R=z?s.value():s,E=$?i.value():i;return v||(v=new Dt),d(R,E,c,f,v)}}return!!k&&(v||(v=new Dt),function(j,w,L,I,N,F){var M=L&Fl,W=An(j),q=W.length;if(q!=An(w).length&&!M)return!1;for(var K=q;K--;){var m=W[K];if(!(M?m in w:Wl.call(w,m)))return!1}var a=F.get(j),l=F.get(w);if(a&&l)return a==w&&l==j;var y=!0;F.set(j,w),F.set(w,j);for(var x=M;++K<q;){var P=j[m=W[K]],O=w[m];if(I)var J=M?I(O,P,m,w,j,F):I(P,O,m,j,w,F);if(!(J===void 0?P===O||N(P,O,L,I,F):J)){y=!1;break}x||(x=m=="constructor")}if(y&&!x){var Q=j.constructor,V=w.constructor;Q==V||!("constructor"in j)||!("constructor"in w)||typeof Q=="function"&&Q instanceof Q&&typeof V=="function"&&V instanceof V||(y=!1)}return F.delete(j),F.delete(w),y}(s,i,c,f,d,v))}(t,e,r,o,Nr,n))}var Bl=1,ql=2;function qn(t){return t==t&&!Ye(t)}function Dn(t,e){return function(r){return r!=null&&r[t]===e&&(e!==void 0||t in Object(r))}}function Dl(t,e){return t!=null&&e in Object(t)}var Vl=1,Hl=2;function Jl(t){return typeof t=="function"?t:t==null?Ze:typeof t=="object"?Tt(t)?function(s,i){return Pr(s)&&qn(i)?Dn(Ke(s),i):function(c){var f=function(d,v,b){var _=d==null?void 0:jr(d,v);return _===void 0?void 0:_}(c,s);return f===void 0&&f===i?function(d,v){return d!=null&&function(b,_,S){for(var g=-1,h=(_=Lo(_,b)).length,u=!1;++g<h;){var k=Ke(_[g]);if(!(u=b!=null&&S(b,k)))break;b=b[k]}return u||++g!=h?u:!!(h=b==null?0:b.length)&&Ur(h)&&Fr(k,h)&&(Tt(b)||Br(b))}(d,v,Dl)}(c,s):Nr(i,f,Vl|Hl)}}(t[0],t[1]):(n=function(s){for(var i=qr(s),c=i.length;c--;){var f=i[c],d=s[f];i[c]=[f,d,qn(d)]}return i}(o=t),n.length==1&&n[0][2]?Dn(n[0][0],n[0][1]):function(s){return s===o||function(i,c,f,d){var v=f.length,b=v;if(i==null)return!b;for(i=Object(i);v--;){var _=f[v];if(_[2]?_[1]!==i[_[0]]:!(_[0]in i))return!1}for(;++v<b;){var S=(_=f[v])[0],g=i[S],h=_[1];if(_[2]){if(g===void 0&&!(S in i))return!1}else{var u=new Dt;if(!Nr(h,g,Bl|ql,void 0,u))return!1}}return!0}(s,0,n)}):Pr(e=t)?(r=Ke(e),function(s){return s==null?void 0:s[r]}):function(s){return function(i){return jr(i,s)}}(e);var e,r,o,n}var Gl=function(t,e,r){for(var o=-1,n=Object(t),s=r(t),i=s.length;i--;){var c=s[++o];if(e(n[c],c,n)===!1)break}return t};function Kl(t,e){return t&&Gl(t,e,qr)}var Vn,Xl=(Vn=Kl,function(t,e){if(t==null)return t;if(!Re(t))return Vn(t,e);for(var r=t.length,o=-1,n=Object(t);++o<r&&e(n[o],o,n)!==!1;);return t});function Yl(t,e){var r=-1,o=Re(t)?Array(t.length):[];return Xl(t,function(n,s,i){o[++r]=e(n,s,i)}),o}var Zl=Math.min;function Ql(t){return function(e){return le(e)&&Re(e)}(t)?t:[]}No(function(t){var e=je(t,Ql);return e.length&&e[0]===t[0]?function(r,o,n){for(var s=Uc,i=r[0].length,c=r.length,f=c,d=Array(c),v=1/0,b=[];f--;){var _=r[f];v=Zl(_.length,v),d[f]=i>=120&&_.length>=120?new Ae(f&&_):void 0}_=r[0];var S=-1,g=d[0];t:for(;++S<i&&b.length<v;){var h=_[S],u=h;if(h=h!==0?h:0,!(g?Er(g,u):s(b,u,n))){for(f=c;--f;){var k=d[f];if(!(k?Er(k,u):s(r[f],u,n)))continue t}g&&g.push(u),b.push(h)}}return b}(e):[]});function tu(t,e){if(t!==e){var r=t!==void 0,o=t===null,n=t==t,s=Ne(t),i=e!==void 0,c=e===null,f=e==e,d=Ne(e);if(!c&&!d&&!s&&t>e||s&&i&&f&&!c&&!d||o&&i&&f||!r&&f||!n)return 1;if(!o&&!s&&!d&&t<e||d&&r&&n&&!o&&!s||c&&r&&n||!i&&n||!f)return-1}return 0}function eu(t,e,r){e=e.length?je(e,function(n){return Tt(n)?function(s){return jr(s,n.length===1?n[0]:n)}:n}):[Ze];var o=-1;return e=je(e,To(Jl)),function(n,s){var i=n.length;for(n.sort(function(c,f){return function(d,v,b){for(var _=-1,S=d.criteria,g=v.criteria,h=S.length,u=b.length;++_<h;){var k=tu(S[_],g[_]);if(k)return _>=u?k:k*(b[_]=="desc"?-1:1)}return d.index-v.index}(c,f,r)});i--;)n[i]=n[i].value;return n}(Yl(t,function(n,s,i){return{criteria:je(e,function(c){return c(n)}),index:++o,value:n}}))}No(function(t,e){if(t==null)return[];var r=e.length;return r>1&&bn(t,e[0],e[1])?e=[]:r>2&&bn(e[0],e[1],e[2])&&(e=[e[0]]),eu(t,ul(e),[])});function Z(t){if(this.words=[],t)if(Symbol&&Symbol.iterator&&t[Symbol.iterator]!==void 0){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.add(r.value),r=e.next()}else for(let e=0;e<t.length;e++)this.add(t[e])}Z.fromWords=function(t){const e=Object.create(Z.prototype);return e.words=t,e},Z.prototype.add=function(t){this.resize(t),this.words[t>>>5]|=1<<t},Z.prototype.flip=function(t){this.resize(t),this.words[t>>>5]^=1<<t},Z.prototype.clear=function(){this.words.length=0},Z.prototype.remove=function(t){this.resize(t),this.words[t>>>5]&=~(1<<t)},Z.prototype.isEmpty=function(t){const e=this.words.length;for(let r=0;r<e;r++)if(this.words[r]!==0)return!1;return!0},Z.prototype.has=function(t){return(this.words[t>>>5]&1<<t)!=0},Z.prototype.checkedAdd=function(t){this.resize(t);const e=this.words[t>>>5],r=e|1<<t;return this.words[t>>>5]=r,(r^e)>>>t},Z.prototype.trim=function(t){let e=this.words.length;for(;e>0&&this.words[e-1]===0;)e--;this.words.length=e},Z.prototype.resize=function(t){const e=t+32>>>5;for(let r=this.words.length;r<e;r++)this.words[r]=0},Z.prototype.hammingWeight=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},Z.prototype.hammingWeight4=function(t,e,r,o){return 16843009*((t=(t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)+(e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)+(r=(r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)+(o=(o=(858993459&(o-=o>>>1&1431655765))+(o>>>2&858993459))+(o>>>4)&252645135))>>>24},Z.prototype.size=function(){let t=0;const e=this.words.length,r=this.words;for(let o=0;o<e;o++)t+=this.hammingWeight(r[o]);return t},Z.prototype.array=function(){const t=new Array(this.size());let e=0;const r=this.words.length;for(let o=0;o<r;++o){let n=this.words[o];for(;n!=0;){const s=n&-n;t[e++]=(o<<5)+this.hammingWeight(s-1|0),n^=s}}return t},Z.prototype.forEach=function(t){const e=this.words.length;for(let r=0;r<e;++r){let o=this.words[r];for(;o!=0;){const n=o&-o;t((r<<5)+this.hammingWeight(n-1|0)),o^=n}}},Z.prototype[Symbol.iterator]=function(){const t=this.words.length;let e=0,r=this.words[e],o=this.hammingWeight,n=this.words;return{[Symbol.iterator](){return this},next(){for(;e<t;){if(r!==0){const s=r&-r,i=(e<<5)+o(s-1|0);return r^=s,{done:!1,value:i}}e++,e<t&&(r=n[e])}return{done:!0,value:void 0}}}},Z.prototype.clone=function(){const t=Object.create(Z.prototype);return t.words=this.words.slice(),t},Z.prototype.intersects=function(t){const e=Math.min(this.words.length,t.words.length);for(let r=0;r<e;++r)if(this.words[r]&t.words[r])return!0;return!1},Z.prototype.intersection=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)this.words[r]&=t.words[r],this.words[r+1]&=t.words[r+1],this.words[r+2]&=t.words[r+2],this.words[r+3]&=t.words[r+3],this.words[r+4]&=t.words[r+4],this.words[r+5]&=t.words[r+5],this.words[r+6]&=t.words[r+6],this.words[r+7]&=t.words[r+7];for(;r<e;++r)this.words[r]&=t.words[r];const o=this.words.length;for(r=e;r<o;++r)this.words[r]=0;return this},Z.prototype.intersection_size=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(let o=0;o<e;++o)r+=this.hammingWeight(this.words[o]&t.words[o]);return r},Z.prototype.new_intersection=function(t){const e=Object.create(Z.prototype),r=Math.min(this.words.length,t.words.length);e.words=new Array(r);let o=0;for(;o+7<r;o+=8)e.words[o]=this.words[o]&t.words[o],e.words[o+1]=this.words[o+1]&t.words[o+1],e.words[o+2]=this.words[o+2]&t.words[o+2],e.words[o+3]=this.words[o+3]&t.words[o+3],e.words[o+4]=this.words[o+4]&t.words[o+4],e.words[o+5]=this.words[o+5]&t.words[o+5],e.words[o+6]=this.words[o+6]&t.words[o+6],e.words[o+7]=this.words[o+7]&t.words[o+7];for(;o<r;++o)e.words[o]=this.words[o]&t.words[o];return e},Z.prototype.equals=function(t){const e=Math.min(this.words.length,t.words.length);for(let r=0;r<e;++r)if(this.words[r]!=t.words[r])return!1;if(this.words.length<t.words.length){const r=t.words.length;for(let o=this.words.length;o<r;++o)if(t.words[o]!=0)return!1}else if(t.words.length<this.words.length){const r=this.words.length;for(let o=t.words.length;o<r;++o)if(this.words[o]!=0)return!1}return!0},Z.prototype.difference=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)this.words[r]&=~t.words[r],this.words[r+1]&=~t.words[r+1],this.words[r+2]&=~t.words[r+2],this.words[r+3]&=~t.words[r+3],this.words[r+4]&=~t.words[r+4],this.words[r+5]&=~t.words[r+5],this.words[r+6]&=~t.words[r+6],this.words[r+7]&=~t.words[r+7];for(;r<e;++r)this.words[r]&=~t.words[r];return this},Z.prototype.new_difference=function(t){return this.clone().difference(t)},Z.prototype.difference2=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)t.words[r]=this.words[r]&~t.words[r],t.words[r+1]=this.words[r+1]&~t.words[r+1],t.words[r+2]=this.words[r+2]&~t.words[r+2],t.words[r+3]=this.words[r+3]&~t.words[r+3],t.words[r+4]=this.words[r+4]&~t.words[r+4],t.words[r+5]=this.words[r+5]&~t.words[r+5],t.words[r+6]=this.words[r+6]&~t.words[r+6],t.words[r+7]=this.words[r+7]&~t.words[r+7];for(;r<e;++r)t.words[r]=this.words[r]&~t.words[r];for(r=this.words.length-1;r>=e;--r)t.words[r]=this.words[r];return t.words.length=this.words.length,t},Z.prototype.difference_size=function(t){const e=Math.min(this.words.length,t.words.length);let r=0,o=0;for(;o<e;++o)r+=this.hammingWeight(this.words[o]&~t.words[o]);const n=this.words.length;for(;o<n;++o)r+=this.hammingWeight(this.words[o]);return r},Z.prototype.change=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)this.words[r]^=t.words[r],this.words[r+1]^=t.words[r+1],this.words[r+2]^=t.words[r+2],this.words[r+3]^=t.words[r+3],this.words[r+4]^=t.words[r+4],this.words[r+5]^=t.words[r+5],this.words[r+6]^=t.words[r+6],this.words[r+7]^=t.words[r+7];for(;r<e;++r)this.words[r]^=t.words[r];for(r=t.words.length-1;r>=e;--r)this.words[r]=t.words[r];return this},Z.prototype.new_change=function(t){const e=Object.create(Z.prototype),r=Math.max(this.words.length,t.words.length);e.words=new Array(r);const o=Math.min(this.words.length,t.words.length);let n=0;for(;n+7<o;n+=8)e.words[n]=this.words[n]^t.words[n],e.words[n+1]=this.words[n+1]^t.words[n+1],e.words[n+2]=this.words[n+2]^t.words[n+2],e.words[n+3]=this.words[n+3]^t.words[n+3],e.words[n+4]=this.words[n+4]^t.words[n+4],e.words[n+5]=this.words[n+5]^t.words[n+5],e.words[n+6]=this.words[n+6]^t.words[n+6],e.words[n+7]=this.words[n+7]^t.words[n+7];for(;n<o;++n)e.words[n]=this.words[n]^t.words[n];const s=this.words.length;for(n=o;n<s;++n)e.words[n]=this.words[n];const i=t.words.length;for(n=o;n<i;++n)e.words[n]=t.words[n];return e},Z.prototype.change_size=function(t){const e=Math.min(this.words.length,t.words.length);let r=0,o=0;for(;o<e;++o)r+=this.hammingWeight(this.words[o]^t.words[o]);const n=this.words.length>t.words.length?this:t,s=n.words.length;for(;o<s;++o)r+=this.hammingWeight(n.words[o]);return r},Z.prototype.toString=function(){return"{"+this.array().join(",")+"}"},Z.prototype.union=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)this.words[r]|=t.words[r],this.words[r+1]|=t.words[r+1],this.words[r+2]|=t.words[r+2],this.words[r+3]|=t.words[r+3],this.words[r+4]|=t.words[r+4],this.words[r+5]|=t.words[r+5],this.words[r+6]|=t.words[r+6],this.words[r+7]|=t.words[r+7];for(;r<e;++r)this.words[r]|=t.words[r];if(this.words.length<t.words.length){this.resize((t.words.length<<5)-1);const o=t.words.length;for(let n=e;n<o;++n)this.words[n]=t.words[n]}return this},Z.prototype.new_union=function(t){const e=Object.create(Z.prototype),r=Math.max(this.words.length,t.words.length);e.words=new Array(r);const o=Math.min(this.words.length,t.words.length);let n=0;for(;n+7<o;n+=8)e.words[n]=this.words[n]|t.words[n],e.words[n+1]=this.words[n+1]|t.words[n+1],e.words[n+2]=this.words[n+2]|t.words[n+2],e.words[n+3]=this.words[n+3]|t.words[n+3],e.words[n+4]=this.words[n+4]|t.words[n+4],e.words[n+5]=this.words[n+5]|t.words[n+5],e.words[n+6]=this.words[n+6]|t.words[n+6],e.words[n+7]=this.words[n+7]|t.words[n+7];for(;n<o;++n)e.words[n]=this.words[n]|t.words[n];const s=this.words.length;for(n=o;n<s;++n)e.words[n]=this.words[n];const i=t.words.length;for(n=o;n<i;++n)e.words[n]=t.words[n];return e},Z.prototype.union_size=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(let o=0;o<e;++o)r+=this.hammingWeight(this.words[o]|t.words[o]);if(this.words.length<t.words.length){const o=t.words.length;for(let n=this.words.length;n<o;++n)r+=this.hammingWeight(0|t.words[n])}else{const o=this.words.length;for(let n=t.words.length;n<o;++n)r+=this.hammingWeight(0|this.words[n])}return r};(function(t){var e={exports:{}};return function(r,o){(function(){var n,s,i,c,f,d,v,b,_,S,g,h,u,k,z,$,R,E,j,w,L,I,N,F,M,W,q,K,m=function(a){var l=new m.Index;return l.pipeline.add(m.trimmer,m.stopWordFilter,m.stemmer),a&&a.call(l,l),l};m.version="1.0.0",m.utils={},m.utils.warn=function(a){return function(l){a.console&&console.warn&&console.warn(l)}}(this),m.utils.asString=function(a){return a==null?"":a.toString()},m.EventEmitter=function(){this.events={}},m.EventEmitter.prototype.addListener=function(){var a=Array.prototype.slice.call(arguments),l=a.pop(),y=a;if(typeof l!="function")throw new TypeError("last argument must be a function");y.forEach(function(x){this.hasHandler(x)||(this.events[x]=[]),this.events[x].push(l)},this)},m.EventEmitter.prototype.removeListener=function(a,l){if(this.hasHandler(a)){var y=this.events[a].indexOf(l);this.events[a].splice(y,1),this.events[a].length||delete this.events[a]}},m.EventEmitter.prototype.emit=function(a){if(this.hasHandler(a)){var l=Array.prototype.slice.call(arguments,1);this.events[a].forEach(function(y){y.apply(void 0,l)})}},m.EventEmitter.prototype.hasHandler=function(a){return a in this.events},m.tokenizer=function(a){return arguments.length&&a!=null&&a!=null?Array.isArray(a)?a.map(function(l){return m.utils.asString(l).toLowerCase()}):a.toString().trim().toLowerCase().split(m.tokenizer.separator):[]},m.tokenizer.separator=/[\s\-]+/,m.tokenizer.load=function(a){var l=this.registeredFunctions[a];if(!l)throw new Error("Cannot load un-registered function: "+a);return l},m.tokenizer.label="default",m.tokenizer.registeredFunctions={default:m.tokenizer},m.tokenizer.registerFunction=function(a,l){l in this.registeredFunctions&&m.utils.warn("Overwriting existing tokenizer: "+l),a.label=l,this.registeredFunctions[l]=a},m.Pipeline=function(){this._stack=[]},m.Pipeline.registeredFunctions={},m.Pipeline.registerFunction=function(a,l){l in this.registeredFunctions&&m.utils.warn("Overwriting existing registered function: "+l),a.label=l,m.Pipeline.registeredFunctions[a.label]=a},m.Pipeline.warnIfFunctionNotRegistered=function(a){a.label&&a.label in this.registeredFunctions||m.utils.warn(`Function is not registered with pipeline. This may cause problems when serialising the index.
`,a)},m.Pipeline.load=function(a){var l=new m.Pipeline;return a.forEach(function(y){var x=m.Pipeline.registeredFunctions[y];if(!x)throw new Error("Cannot load un-registered function: "+y);l.add(x)}),l},m.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(a){m.Pipeline.warnIfFunctionNotRegistered(a),this._stack.push(a)},this)},m.Pipeline.prototype.after=function(a,l){m.Pipeline.warnIfFunctionNotRegistered(l);var y=this._stack.indexOf(a);if(y==-1)throw new Error("Cannot find existingFn");this._stack.splice(y+=1,0,l)},m.Pipeline.prototype.before=function(a,l){m.Pipeline.warnIfFunctionNotRegistered(l);var y=this._stack.indexOf(a);if(y==-1)throw new Error("Cannot find existingFn");this._stack.splice(y,0,l)},m.Pipeline.prototype.remove=function(a){var l=this._stack.indexOf(a);l!=-1&&this._stack.splice(l,1)},m.Pipeline.prototype.run=function(a){for(var l=[],y=a.length,x=this._stack.length,P=0;P<y;P++){for(var O=a[P],J=0;J<x&&(O=this._stack[J](O,P,a))!==void 0&&O!=="";J++);O!==void 0&&O!==""&&l.push(O)}return l},m.Pipeline.prototype.reset=function(){this._stack=[]},m.Pipeline.prototype.toJSON=function(){return this._stack.map(function(a){return m.Pipeline.warnIfFunctionNotRegistered(a),a.label})},m.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},m.Vector.Node=function(a,l,y){this.idx=a,this.val=l,this.next=y},m.Vector.prototype.insert=function(a,l){this._magnitude=void 0;var y=this.list;if(!y)return this.list=new m.Vector.Node(a,l,y),this.length++;if(a<y.idx)return this.list=new m.Vector.Node(a,l,y),this.length++;for(var x=y,P=y.next;P!=null;){if(a<P.idx)return x.next=new m.Vector.Node(a,l,P),this.length++;x=P,P=P.next}return x.next=new m.Vector.Node(a,l,P),this.length++},m.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var a,l=this.list,y=0;l;)y+=(a=l.val)*a,l=l.next;return this._magnitude=Math.sqrt(y)},m.Vector.prototype.dot=function(a){for(var l=this.list,y=a.list,x=0;l&&y;)l.idx<y.idx?l=l.next:(l.idx>y.idx||(x+=l.val*y.val,l=l.next),y=y.next);return x},m.Vector.prototype.similarity=function(a){return this.dot(a)/(this.magnitude()*a.magnitude())},m.SortedSet=function(){this.length=0,this.elements=[]},m.SortedSet.load=function(a){var l=new this;return l.elements=a,l.length=a.length,l},m.SortedSet.prototype.add=function(){var a,l;for(a=0;a<arguments.length;a++)~this.indexOf(l=arguments[a])||this.elements.splice(this.locationFor(l),0,l);this.length=this.elements.length},m.SortedSet.prototype.toArray=function(){return this.elements.slice()},m.SortedSet.prototype.map=function(a,l){return this.elements.map(a,l)},m.SortedSet.prototype.forEach=function(a,l){return this.elements.forEach(a,l)},m.SortedSet.prototype.indexOf=function(a){for(var l=0,y=this.elements.length,x=y-l,P=l+Math.floor(x/2),O=this.elements[P];x>1;){if(O===a)return P;O<a&&(l=P),O>a&&(y=P),x=y-l,P=l+Math.floor(x/2),O=this.elements[P]}return O===a?P:-1},m.SortedSet.prototype.locationFor=function(a){for(var l=0,y=this.elements.length,x=y-l,P=l+Math.floor(x/2),O=this.elements[P];x>1;)O<a&&(l=P),O>a&&(y=P),x=y-l,P=l+Math.floor(x/2),O=this.elements[P];return O>a?P:O<a?P+1:void 0},m.SortedSet.prototype.intersect=function(a){for(var l=new m.SortedSet,y=0,x=0,P=this.length,O=a.length,J=this.elements,Q=a.elements;!(y>P-1||x>O-1);)J[y]!==Q[x]?J[y]<Q[x]?y++:J[y]>Q[x]&&x++:(l.add(J[y]),y++,x++);return l},m.SortedSet.prototype.clone=function(){var a=new m.SortedSet;return a.elements=this.toArray(),a.length=a.elements.length,a},m.SortedSet.prototype.union=function(a){var l,y,x;this.length>=a.length?(l=this,y=a):(l=a,y=this),x=l.clone();for(var P=0,O=y.toArray();P<O.length;P++)x.add(O[P]);return x},m.SortedSet.prototype.toJSON=function(){return this.toArray()},m.Index=function(){this._fields=[],this._ref="id",this.pipeline=new m.Pipeline,this.documentStore=new m.Store,this.tokenStore=new m.TokenStore,this.corpusTokens=new m.SortedSet,this.eventEmitter=new m.EventEmitter,this.tokenizerFn=m.tokenizer,this._idfCache={},this.on("add","remove","update",(function(){this._idfCache={}}).bind(this))},m.Index.prototype.on=function(){var a=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,a)},m.Index.prototype.off=function(a,l){return this.eventEmitter.removeListener(a,l)},m.Index.load=function(a){a.version!==m.version&&m.utils.warn("version mismatch: current "+m.version+" importing "+a.version);var l=new this;return l._fields=a.fields,l._ref=a.ref,l.tokenizer(m.tokenizer.load(a.tokenizer)),l.documentStore=m.Store.load(a.documentStore),l.tokenStore=m.TokenStore.load(a.tokenStore),l.corpusTokens=m.SortedSet.load(a.corpusTokens),l.pipeline=m.Pipeline.load(a.pipeline),l},m.Index.prototype.field=function(a,l){return this._fields.push({name:a,boost:(l=l||{}).boost||1}),this},m.Index.prototype.ref=function(a){return this._ref=a,this},m.Index.prototype.tokenizer=function(a){return a.label&&a.label in m.tokenizer.registeredFunctions||m.utils.warn("Function is not a registered tokenizer. This may cause problems when serialising the index"),this.tokenizerFn=a,this},m.Index.prototype.add=function(a,l){var y={},x=new m.SortedSet,P=a[this._ref];l=l===void 0||l,this._fields.forEach(function(B){var Y=this.pipeline.run(this.tokenizerFn(a[B.name]));y[B.name]=Y;for(var gt=0;gt<Y.length;gt++){var Ct=Y[gt];x.add(Ct),this.corpusTokens.add(Ct)}},this),this.documentStore.set(P,x);for(var O=0;O<x.length;O++){for(var J=x.elements[O],Q=0,V=0;V<this._fields.length;V++){var at=this._fields[V],ut=y[at.name],vt=ut.length;if(vt){for(var wt=0,$t=0;$t<vt;$t++)ut[$t]===J&&wt++;Q+=wt/vt*at.boost}}this.tokenStore.add(J,{ref:P,tf:Q})}l&&this.eventEmitter.emit("add",a,this)},m.Index.prototype.remove=function(a,l){var y=a[this._ref];if(l=l===void 0||l,this.documentStore.has(y)){var x=this.documentStore.get(y);this.documentStore.remove(y),x.forEach(function(P){this.tokenStore.remove(P,y)},this),l&&this.eventEmitter.emit("remove",a,this)}},m.Index.prototype.update=function(a,l){l=l===void 0||l,this.remove(a,!1),this.add(a,!1),l&&this.eventEmitter.emit("update",a,this)},m.Index.prototype.idf=function(a){var l="@"+a;if(Object.prototype.hasOwnProperty.call(this._idfCache,l))return this._idfCache[l];var y=this.tokenStore.count(a),x=1;return y>0&&(x=1+Math.log(this.documentStore.length/y)),this._idfCache[l]=x},m.Index.prototype.search=function(a){var l=this.pipeline.run(this.tokenizerFn(a)),y=new m.Vector,x=[],P=this._fields.reduce(function(O,J){return O+J.boost},0);return l.some(function(O){return this.tokenStore.has(O)},this)?(l.forEach(function(O,J,Q){var V=1/Q.length*this._fields.length*P,at=this,ut=this.tokenStore.expand(O).reduce(function(vt,wt){var $t=at.corpusTokens.indexOf(wt),B=at.idf(wt),Y=1,gt=new m.SortedSet;if(wt!==O){var Ct=Math.max(3,wt.length-O.length);Y=1/Math.log(Ct)}$t>-1&&y.insert($t,V*B*Y);for(var Pt=at.tokenStore.get(wt),re=Object.keys(Pt),Qe=re.length,he=0;he<Qe;he++)gt.add(Pt[re[he]].ref);return vt.union(gt)},new m.SortedSet);x.push(ut)},this),x.reduce(function(O,J){return O.intersect(J)}).map(function(O){return{ref:O,score:y.similarity(this.documentVector(O))}},this).sort(function(O,J){return J.score-O.score})):[]},m.Index.prototype.documentVector=function(a){for(var l=this.documentStore.get(a),y=l.length,x=new m.Vector,P=0;P<y;P++){var O=l.elements[P],J=this.tokenStore.get(O)[a].tf,Q=this.idf(O);x.insert(this.corpusTokens.indexOf(O),J*Q)}return x},m.Index.prototype.toJSON=function(){return{version:m.version,fields:this._fields,ref:this._ref,tokenizer:this.tokenizerFn.label,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},m.Index.prototype.use=function(a){var l=Array.prototype.slice.call(arguments,1);l.unshift(this),a.apply(this,l)},m.Store=function(){this.store={},this.length=0},m.Store.load=function(a){var l=new this;return l.length=a.length,l.store=Object.keys(a.store).reduce(function(y,x){return y[x]=m.SortedSet.load(a.store[x]),y},{}),l},m.Store.prototype.set=function(a,l){this.has(a)||this.length++,this.store[a]=l},m.Store.prototype.get=function(a){return this.store[a]},m.Store.prototype.has=function(a){return a in this.store},m.Store.prototype.remove=function(a){this.has(a)&&(delete this.store[a],this.length--)},m.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},m.stemmer=(n={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},s={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},d="^("+(c="[^aeiou][^aeiouy]*")+")?"+(f=(i="[aeiouy]")+"[aeiou]*")+c+"("+f+")?$",v="^("+c+")?"+f+c+f+c,b="^("+c+")?"+i,_=new RegExp("^("+c+")?"+f+c),S=new RegExp(v),g=new RegExp(d),h=new RegExp(b),u=/^(.+?)(ss|i)es$/,k=/^(.+?)([^s])s$/,z=/^(.+?)eed$/,$=/^(.+?)(ed|ing)$/,R=/.$/,E=/(at|bl|iz)$/,j=new RegExp("([^aeiouylsz])\\1$"),w=new RegExp("^"+c+i+"[^aeiouwxy]$"),L=/^(.+?[^aeiou])y$/,I=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,N=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,F=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,M=/^(.+?)(s|t)(ion)$/,W=/^(.+?)e$/,q=/ll$/,K=new RegExp("^"+c+i+"[^aeiouwxy]$"),function(a){var l,y,x,P,O,J,Q;if(a.length<3)return a;if((x=a.substr(0,1))=="y"&&(a=x.toUpperCase()+a.substr(1)),O=k,(P=u).test(a)?a=a.replace(P,"$1$2"):O.test(a)&&(a=a.replace(O,"$1$2")),O=$,(P=z).test(a)){var V=P.exec(a);(P=_).test(V[1])&&(a=a.replace(P=R,""))}else O.test(a)&&(V=O.exec(a),(O=h).test(l=V[1])&&(J=j,Q=w,(O=E).test(a=l)?a+="e":J.test(a)?a=a.replace(P=R,""):Q.test(a)&&(a+="e")));return(P=L).test(a)&&(a=(l=(V=P.exec(a))[1])+"i"),(P=I).test(a)&&(y=(V=P.exec(a))[2],(P=_).test(l=V[1])&&(a=l+n[y])),(P=N).test(a)&&(y=(V=P.exec(a))[2],(P=_).test(l=V[1])&&(a=l+s[y])),O=M,(P=F).test(a)?(V=P.exec(a),(P=S).test(l=V[1])&&(a=l)):O.test(a)&&(V=O.exec(a),(O=S).test(l=V[1]+V[2])&&(a=l)),(P=W).test(a)&&(V=P.exec(a),O=g,J=K,((P=S).test(l=V[1])||O.test(l)&&!J.test(l))&&(a=l)),O=S,(P=q).test(a)&&O.test(a)&&(a=a.replace(P=R,"")),x=="y"&&(a=x.toLowerCase()+a.substr(1)),a}),m.Pipeline.registerFunction(m.stemmer,"stemmer"),m.generateStopWordFilter=function(a){var l=a.reduce(function(y,x){return y[x]=x,y},{});return function(y){if(y&&l[y]!==y)return y}},m.stopWordFilter=m.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),m.Pipeline.registerFunction(m.stopWordFilter,"stopWordFilter"),m.trimmer=function(a){return a.replace(/^\W+/,"").replace(/\W+$/,"")},m.Pipeline.registerFunction(m.trimmer,"trimmer"),m.TokenStore=function(){this.root={docs:{}},this.length=0},m.TokenStore.load=function(a){var l=new this;return l.root=a.root,l.length=a.length,l},m.TokenStore.prototype.add=function(a,l,y){y=y||this.root;var x=a.charAt(0),P=a.slice(1);return x in y||(y[x]={docs:{}}),P.length===0?(y[x].docs[l.ref]=l,void(this.length+=1)):this.add(P,l,y[x])},m.TokenStore.prototype.has=function(a){if(!a)return!1;for(var l=this.root,y=0;y<a.length;y++){if(!l[a.charAt(y)])return!1;l=l[a.charAt(y)]}return!0},m.TokenStore.prototype.getNode=function(a){if(!a)return{};for(var l=this.root,y=0;y<a.length;y++){if(!l[a.charAt(y)])return{};l=l[a.charAt(y)]}return l},m.TokenStore.prototype.get=function(a,l){return this.getNode(a,l).docs||{}},m.TokenStore.prototype.count=function(a,l){return Object.keys(this.get(a,l)).length},m.TokenStore.prototype.remove=function(a,l){if(a){for(var y=this.root,x=0;x<a.length;x++){if(!(a.charAt(x)in y))return;y=y[a.charAt(x)]}delete y.docs[l]}},m.TokenStore.prototype.expand=function(a,l){var y=this.getNode(a);return l=l||[],Object.keys(y.docs||{}).length&&l.push(a),Object.keys(y).forEach(function(x){x!=="docs"&&l.concat(this.expand(a+x,l))},this),l},m.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},r.exports=m})()}(e),e.exports})();const ru={aggregations:{notAfter:{title:"Not after",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},notBefore:{title:"Not before",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},language:{title:"Language",hide_zero_doc_count:!0,size:200,sort:"key"},placeName:{title:"Place",hide_zero_doc_count:!0,size:200,sort:"key"},inscriptionType:{title:"Inscription type",hide_zero_doc_count:!0,size:200,sort:"key"},objectType:{title:"Object type",hide_zero_doc_count:!0,size:200,sort:"key"},material:{title:"Material",hide_zero_doc_count:!0,size:200,sort:"key"},status:{title:"Status",hide_zero_doc_count:!0,sort:"key"}},searchableFields:["keywords","title","text"],sortings:{file_asc:{field:"file",order:"asc"},file_desc:{field:"file",order:"desc"},notAfter_asc:{field:"notAfter",order:"asc"},notAfter_desc:{field:"notAfter",order:"desc"},notBefore_asc:{field:"notBefore",order:"desc"},notBefore_desc:{field:"notBefore",order:"desc"},title_asc:{field:"title",order:"asc"},title_desc:{field:"title",order:"desc"}}};var nu=D("<!>Filters",1),ou=D('<h2 aria-busy="true" class="svelte-16zqrgi">Loading inscriptions...</h2>'),su=D("<!>View cards",1),iu=D("<!>View map",1),au=D("<!>View table",1),cu=D('<div class="transition-container svelte-16zqrgi"><!></div>'),lu=D('<div class="transition-container svelte-16zqrgi"><!></div>'),uu=D("<!> <!> <!>",1),du=D('<!> <section class="controls svelte-16zqrgi"><div class="toggles svelte-16zqrgi"><!> <!> <!></div> <div class="sort-controls svelte-16zqrgi"><label for="sort-select">Sort by:</label> <select id="sort-select"><option>File</option><option>Not before</option><option>Not after</option><option>Title</option></select> <!></div></section> <!>',1),fu=D('<article><section><form class="svelte-16zqrgi"><label class="visually-hidden" for="q">Search query:</label> <input type="text" name="q" id="q" placeholder="Search inscriptions metadata" class="svelte-16zqrgi"> <!> <!></form> <div class="filters-toggle svelte-16zqrgi"><!></div></section> <section class="inscriptions svelte-16zqrgi"><!></section></article> <!>',1);function hu(t,e){_t(e,!0);const r=ue(),o=()=>At(f,"$searchLimit",r),n=()=>At(c,"$searchPage",r),s=()=>At(i,"$searchQuery",r),i=pr("q",fr.string("")),c=pr("page",fr.number(1)),f=pr("limit",fr.number(Me.limit));let d=Ut("cards"),v=Ut("idle"),b=ft(()=>["idle","load"].includes(p(v))),_=Ut(void 0),S=Ut(pt({})),g=ft(()=>{var B;return((B=p(S))==null?void 0:B.pagination)??{}}),h=ft(()=>{var B,Y;return((Y=(B=p(S))==null?void 0:B.data)==null?void 0:Y.aggregations)??{}}),u=ft(()=>{var B;return((B=p(g))==null?void 0:B.total)??0}),k=ft(I),z=ft(()=>{var B,Y;return((Y=(B=p(S))==null?void 0:B.data)==null?void 0:Y.items)??[]}),$=ft(()=>{var B;return(B=p(z))==null?void 0:B.map(Y=>({file:Y.file,title:Y.title,places:Y.places,geo:Y.geo[0]}))}),R=Ut(!1),E=pt({sortAggregationsBy:"key",sortResultsBy:"file",sortResultsOrder:"asc"}),j=Ut(pt([-700,1830])),w=Ut(pt(Object.keys(ru.aggregations).filter(B=>B.indexOf("not")<0).reduce((B,Y)=>(B[Y]=[],B),{})));async function L(){p(v)!=="ready"&&(rt(v,"load"),rt(_,pt(new Xs)),p(_).addEventListener("message",B=>{const{type:Y,data:gt}=B.data;Y==="ready"&&rt(v,"ready"),Y==="results"&&rt(S,pt(gt))}),p(_).postMessage({type:"load",data:{sortAggregationsBy:E.sortAggregationsBy}}))}function I(){var B;return!p(h)||!((B=p(h))!=null&&B.placeName)?0:p(h).placeName.buckets.length}Gr(()=>{N()});async function N(){if(p(v)==="ready"){const B=Object.fromEntries(Object.keys(p(w)).map(Y=>[Y,[...p(w)[Y]]]));p(_).postMessage({type:"search",data:{limit:o(),page:n(),query:s(),sort:`${E.sortResultsBy}_${E.sortResultsOrder}`,filters:B,dateRange:[...p(j)]}})}}async function F(B){B.preventDefault()}async function M(B){B.preventDefault(),Jt(i,""),Jt(c,1),Jt(f,pt(Me.limit))}Gr(()=>{E.sortAggregationsBy&&p(_)&&p(v)==="ready"&&(p(_).postMessage({type:"load",data:{sortAggregationsBy:E.sortAggregationsBy}}),N())});async function W(B){B==="map"?Jt(f,pt(Me.maxLimit)):p(d)==="map"&&(rt(S,pt({...p(S),data:{...p(S).data,items:[]}})),Jt(f,pt(Me.limit)),Jt(c,1)),rt(d,pt(B))}async function q(){E.sortResultsOrder=E.sortResultsOrder==="asc"?"desc":"asc"}async function K(B){Jt(c,pt(B))}Zn(()=>{L()});var m=fu(),a=G(m),l=T(a),y=T(l),x=U(T(y),2);pe(x);var P=U(x,2),O=ft(()=>!s());St(P,()=>ne,(B,Y)=>{Y(B,{class:"surface-4",type:"submit",get disabled(){return p(O)},children:(gt,Ct)=>{Et();var Pt=Rt("Search");A(gt,Pt)},$$slots:{default:!0}})});var J=U(P,2),Q=ft(()=>!s());St(J,()=>ne,(B,Y)=>{Y(B,{class:"surface-1",type:"reset",get disabled(){return p(Q)},children:(gt,Ct)=>{Et();var Pt=Rt("Reset");A(gt,Pt)},$$slots:{default:!0}})}),C(y);var V=U(y,2),at=T(V),ut=ft(()=>p(R)?"surface-4":"surface-1");St(at,()=>ne,(B,Y)=>{Y(B,{get class(){return p(ut)},onclick:()=>rt(R,!p(R)),children:(gt,Ct)=>{var Pt=nu(),re=G(Pt);Hs(re,{}),Et(),A(gt,Pt)},$$slots:{default:!0}})}),C(V),C(l);var vt=U(l,2),wt=T(vt);st(wt,()=>p(b),B=>{var Y=ou();A(B,Y)},B=>{var Y=du(),gt=G(Y);fc(gt,{get total(){return p(u)},get dateRange(){return p(j)},get numberOfLocations(){return p(k)},get query(){return s()},get filters(){return p(w)}});var Ct=U(gt,2),Pt=T(Ct),re=T(Pt),Qe=ft(()=>`${p(d)==="cards"?"surface-4":"surface-1"}`);St(re,()=>ne,(jt,mt)=>{mt(jt,{get class(){return p(Qe)},onclick:()=>W("cards"),children:(zt,ge)=>{var Ot=su(),Ft=G(Ot);Js(Ft,{}),Et(),A(zt,Ot)},$$slots:{default:!0}})});var he=U(re,2),Uo=ft(()=>`${p(d)==="map"?"surface-4":"surface-1"}`);St(he,()=>ne,(jt,mt)=>{mt(jt,{get class(){return p(Uo)},onclick:()=>W("map"),children:(zt,ge)=>{var Ot=iu(),Ft=G(Ot);Gs(Ft,{}),Et(),A(zt,Ot)},$$slots:{default:!0}})});var Bo=U(he,2),qo=ft(()=>`${p(d)==="table"?"surface-4":"surface-1"}`);St(Bo,()=>ne,(jt,mt)=>{mt(jt,{get class(){return p(qo)},onclick:()=>W("table"),children:(zt,ge)=>{var Ot=au(),Ft=G(Ot);Ks(Ft,{}),Et(),A(zt,Ot)},$$slots:{default:!0}})}),C(Pt);var Vr=U(Pt,2),Te=U(T(Vr),2),tr=T(Te);tr.value=(tr.__value="file")==null?"":"file";var er=U(tr);er.value=(er.__value="notBefore")==null?"":"notBefore";var rr=U(er);rr.value=(rr.__value="notAfter")==null?"":"notAfter";var Hr=U(rr);Hr.value=(Hr.__value="title")==null?"":"title",C(Te);var Do=U(Te,2);St(Do,()=>ne,(jt,mt)=>{mt(jt,{class:"order-toggle",onclick:()=>q(),"aria-label":"Toggle sort order from ascending to descending to no order",children:(zt,ge)=>{var Ot=nt(),Ft=G(Ot);st(Ft,()=>E.sortResultsOrder==="asc",Wt=>{qs(Wt,{"aria-label":"Ascending"})},Wt=>{Bs(Wt,{"aria-label":"Descending"})}),A(zt,Ot)},$$slots:{default:!0}})}),C(Vr),C(Ct);var Vo=U(Ct,2);st(Vo,()=>p(d)==="map",jt=>{var mt=cu(),zt=T(mt);sc(zt,{get inscriptions(){return p($)}}),C(mt),ke(1,mt,()=>Ie,()=>({duration:500})),ke(2,mt,()=>Ie,()=>({duration:250})),A(jt,mt)},jt=>{var mt=uu(),zt=G(mt);dn(zt,{get page(){return n()},get count(){return p(u)},get perPage(){return o()},onPageChange:K});var ge=U(zt,2);ns(ge,()=>p(d),Ft=>{var Wt=lu(),Ho=T(Wt);st(Ho,()=>p(d)==="table",nr=>{hi(nr,{get inscriptions(){return p(z)}})},nr=>{ec(nr,{get inscriptions(){return p(z)}})}),C(Wt),ke(1,Wt,()=>Ie,()=>({duration:500})),ke(2,Wt,()=>Ie,()=>({duration:250})),A(Ft,Wt)});var Ot=U(ge,2);dn(Ot,{get page(){return n()},get count(){return p(u)},get perPage(){return o()},onPageChange:K}),A(jt,mt)}),gs(Te,()=>E.sortResultsBy,jt=>E.sortResultsBy=jt),A(B,Y)}),C(vt),C(a);var $t=U(a,2);bc($t,{get show(){return p(R)},get aggregations(){return p(h)},get sortAggregationsBy(){return E.sortAggregationsBy},set sortAggregationsBy(B){E.sortAggregationsBy=B},get selectedDateRange(){return p(j)},set selectedDateRange(B){rt(j,pt(B))},get selectedFilters(){return p(w)},set selectedFilters(B){rt(w,pt(B))}}),Kt("submit",y,F),Kt("reset",y,M),Ge(x,s,B=>Jt(i,B)),A(t,m),bt()}var gu=D('<section class="hero svelte-1ou7ebr"><h1 class="svelte-1ou7ebr"> </h1></section> <!>',1);function Au(t,e){_t(e,!1),Ht();var r=gu(),o=G(r),n=T(o),s=T(n,!0);C(n),C(o);var i=U(o,2);hu(i,{}),X(()=>et(s,es)),A(t,r),bt()}export{Au as component};

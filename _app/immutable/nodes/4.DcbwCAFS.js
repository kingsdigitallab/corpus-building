import{_ as J}from"../chunks/preload-helper.D6kgxu3v.js";import{s as K,n as $,o as Q,i as N}from"../chunks/scheduler.WWv42c0A.js";import{S as X,i as Y,e as v,l as R,s as I,c as g,a as E,m as V,b as O,d,n as m,A as Z,f as F,h as c,o as B,q as ee,H as te,B as ae}from"../chunks/index.B4JnXc8-.js";import{e as G}from"../chunks/each.D6YF6ztN.js";import{p as W,i as se}from"../chunks/config.BixxLhad.js";function j(h,e,l){const s=h.slice();return s[3]=e[l],s}function x(h){let e,l,s=h[3].html+"",_,u,i;return{c(){e=v("section"),l=new te(!1),_=I(),this.h()},l(r){e=g(r,"SECTION",{id:!0,class:!0});var n=E(e);l=ae(n,!1),_=O(n),n.forEach(d),this.h()},h(){l.a=_,m(e,"id",u=h[3].id),m(e,"class",i=N(h[3].cls)+" svelte-zx9d9k")},m(r,n){F(r,e,n),l.m(s,e),c(e,_)},p(r,n){n&1&&s!==(s=r[3].html+"")&&l.p(s),n&1&&u!==(u=r[3].id)&&m(e,"id",u),n&1&&i!==(i=N(r[3].cls)+" svelte-zx9d9k")&&m(e,"class",i)},d(r){r&&d(e)}}}function ie(h){let e,l,s,_=h[0].inscription.title+"",u,i,r,n=h[0].metadata.status+"",P,q,H,w,y,T,z,p,S,C,A=G(h[0].inscription.divs),o=[];for(let a=0;a<A.length;a+=1)o[a]=x(j(h,A,a));return{c(){e=v("article"),l=v("hgroup"),s=v("h1"),u=R(_),i=I(),r=v("small"),P=R(n),q=I(),H=v("p"),w=v("a"),y=R("View in current site"),z=I(),p=v("div"),S=v("section"),C=I();for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){e=g(a,"ARTICLE",{});var f=E(e);l=g(f,"HGROUP",{});var t=E(l);s=g(t,"H1",{});var k=E(s);u=V(k,_),i=O(k),r=g(k,"SMALL",{});var D=E(r);P=V(D,n),D.forEach(d),k.forEach(d),q=O(t),H=g(t,"P",{});var M=E(H);w=g(M,"A",{href:!0,target:!0});var U=E(w);y=V(U,"View in current site"),U.forEach(d),M.forEach(d),t.forEach(d),z=O(f),p=g(f,"DIV",{class:!0});var b=E(p);S=g(b,"SECTION",{id:!0,style:!0,class:!0}),E(S).forEach(d),C=O(b);for(let L=0;L<o.length;L+=1)o[L].l(b);b.forEach(d),f.forEach(d),this.h()},h(){m(w,"href",T=W+"/inscription/"+h[0].slug),m(w,"target","inscription"),m(S,"id","facsimile-images"),Z(S,"height","50vh"),m(S,"class","svelte-zx9d9k"),m(p,"class","sections svelte-zx9d9k")},m(a,f){F(a,e,f),c(e,l),c(l,s),c(s,u),c(s,i),c(s,r),c(r,P),c(l,q),c(l,H),c(H,w),c(w,y),c(e,z),c(e,p),c(p,S),c(p,C);for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(p,null)},p(a,[f]){if(f&1&&_!==(_=a[0].inscription.title+"")&&B(u,_),f&1&&n!==(n=a[0].metadata.status+"")&&B(P,n),f&1&&T!==(T=W+"/inscription/"+a[0].slug)&&m(w,"href",T),f&1){A=G(a[0].inscription.divs);let t;for(t=0;t<A.length;t+=1){const k=j(a,A,t);o[t]?o[t].p(k,f):(o[t]=x(k),o[t].c(),o[t].m(p,null))}for(;t<o.length;t+=1)o[t].d(1);o.length=A.length}},i:$,o:$,d(a){a&&d(e),ee(o,a)}}}function le(h,e,l){let{data:s}=e,_=s.inscription.images.filter(i=>i.image.endsWith(".tif")).map(i=>`${se}${s.slug}/${i.image}`),u;return Q(async()=>{u=(await J(async()=>{const{default:r}=await import("../chunks/openseadragon.DeoDF6SA.js").then(n=>n.o);return{default:r}},[],import.meta.url)).default;const i=u({id:"facsimile-images",insecureRequestsAllowed:!0,prefixUrl:"/openseadragon/images/",tileSources:_,sequenceMode:!0});i.addHandler("open",()=>{i.viewport.fit(!0)})}),h.$$set=i=>{"data"in i&&l(0,s=i.data)},[s]}class _e extends X{constructor(e){super(),Y(this,e,le,ie,K,{data:0})}}export{_e as component};

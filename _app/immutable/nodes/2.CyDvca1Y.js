import{s as we,r as Se,c as De,o as Ie,n as Me}from"../chunks/scheduler.CR4wpqUo.js";import{S as Ne,i as Oe,e as f,l as O,s as U,c,a as C,m as R,d,b as H,g as te,n as G,f as X,h as t,y as be,z as ae,o as Q,t as se,k as Re,j as ce,q as Ae,r as Be,u as Pe,v as Ue,w as He,p as je}from"../chunks/index.C9G_mPGS.js";import{e as Ee}from"../chunks/each.D6YF6ztN.js";import{p as qe}from"../chunks/stores._tI7CDYA.js";import{B as Ge}from"../chunks/BaseLink.Cr9wAAN2.js";import{d as ze}from"../chunks/config.BcrlzuFT.js";function Ce(o,e,l){const n=o.slice();return n[13]=e[l],n}function ke(o){let e,l,n,h=o[1].length+"",a,u,r,i=o[3].split(" ").join(", ")+"",E;return{c(){e=f("h3"),l=O("Displaying "),n=f("em"),a=O(h),u=O(` inscriptions matching
					`),r=f("em"),E=O(i)},l(p){e=c(p,"H3",{});var m=C(e);l=R(m,"Displaying "),n=c(m,"EM",{});var A=C(n);a=R(A,h),A.forEach(d),u=R(m,` inscriptions matching
					`),r=c(m,"EM",{});var g=C(r);E=R(g,i),g.forEach(d),m.forEach(d)},m(p,m){X(p,e,m),t(e,l),t(e,n),t(n,a),t(e,u),t(e,r),t(r,E)},p(p,m){m&2&&h!==(h=p[1].length+"")&&Q(a,h),m&8&&i!==(i=p[3].split(" ").join(", ")+"")&&Q(E,i)},d(p){p&&d(e)}}}function Fe(o){let e=o[13].metadata.title+"",l,n,h,a=o[13].file+"",u;return{c(){l=O(e),n=U(),h=f("small"),u=O(a)},l(r){l=R(r,e),n=H(r),h=c(r,"SMALL",{});var i=C(h);u=R(i,a),i.forEach(d)},m(r,i){X(r,l,i),X(r,n,i),X(r,h,i),t(h,u)},p(r,i){i&32&&e!==(e=r[13].metadata.title+"")&&Q(l,e),i&32&&a!==(a=r[13].file+"")&&Q(u,a)},d(r){r&&(d(l),d(n),d(h))}}}function ye(o){var B,Y;let e,l,n,h,a,u,r="Settlement",i,E=o[13].metadata.settlement+"",p,m,A="Repository",g,I=(((B=o[13].metadata.repository)==null?void 0:B._)||"N/A")+"",z,L,w="Language",j,M=(((Y=o[13].metadata.textLang)==null?void 0:Y._)||"N/A")+"",F,K,q;return n=new Ge({props:{href:"inscription/"+o[13].file,$$slots:{default:[Fe]},$$scope:{ctx:o}}}),{c(){e=f("li"),l=f("p"),Be(n.$$.fragment),h=U(),a=f("dl"),u=f("dt"),u.textContent=r,i=f("dd"),p=O(E),m=f("dt"),m.textContent=A,g=f("dd"),z=O(I),L=f("dt"),L.textContent=w,j=f("dd"),F=O(M),K=U(),this.h()},l(k){e=c(k,"LI",{});var T=C(e);l=c(T,"P",{class:!0});var N=C(l);Pe(n.$$.fragment,N),N.forEach(d),h=H(T),a=c(T,"DL",{});var y=C(a);u=c(y,"DT",{class:!0,"data-svelte-h":!0}),te(u)!=="svelte-upur71"&&(u.textContent=r),i=c(y,"DD",{});var P=C(i);p=R(P,E),P.forEach(d),m=c(y,"DT",{class:!0,"data-svelte-h":!0}),te(m)!=="svelte-1uef0e6"&&(m.textContent=A),g=c(y,"DD",{});var le=C(g);z=R(le,I),le.forEach(d),L=c(y,"DT",{class:!0,"data-svelte-h":!0}),te(L)!=="svelte-1aab11o"&&(L.textContent=w),j=c(y,"DD",{});var Z=C(j);F=R(Z,M),Z.forEach(d),y.forEach(d),K=H(T),T.forEach(d),this.h()},h(){G(l,"class","title svelte-5ui4wv"),G(u,"class","svelte-5ui4wv"),G(m,"class","svelte-5ui4wv"),G(L,"class","svelte-5ui4wv")},m(k,T){X(k,e,T),t(e,l),Ue(n,l,null),t(e,h),t(e,a),t(a,u),t(a,i),t(i,p),t(a,m),t(a,g),t(g,z),t(a,L),t(a,j),t(j,F),t(e,K),q=!0},p(k,T){var y,P;const N={};T&32&&(N.href="inscription/"+k[13].file),T&65568&&(N.$$scope={dirty:T,ctx:k}),n.$set(N),(!q||T&32)&&E!==(E=k[13].metadata.settlement+"")&&Q(p,E),(!q||T&32)&&I!==(I=(((y=k[13].metadata.repository)==null?void 0:y._)||"N/A")+"")&&Q(z,I),(!q||T&32)&&M!==(M=(((P=k[13].metadata.textLang)==null?void 0:P._)||"N/A")+"")&&Q(F,M)},i(k){q||(se(n.$$.fragment,k),q=!0)},o(k){ce(n.$$.fragment,k),q=!1},d(k){k&&d(e),He(n)}}}function Le(o){let e,l="Load More Inscriptions",n,h;return{c(){e=f("button"),e.textContent=l},l(a){e=c(a,"BUTTON",{"data-svelte-h":!0}),te(e)!=="svelte-1j8c85t"&&(e.textContent=l)},m(a,u){X(a,e,u),n||(h=ae(e,"click",o[8]),n=!0)},p:Me,d(a){a&&d(e),n=!1,h()}}}function Ke(o){let e,l,n,h=o[0].corpus.length.toLocaleString()+"",a,u,r,i,E=ze+"",p,m,A,g,I,z="Keywords",L,w,j,M,F,K,q,B,Y,k,T,N,y,P,le="Inscriptions",Z,re,x,ie,$,V,ue,de,S=o[2]&&ke(o),W=Ee(o[5]),b=[];for(let s=0;s<W.length;s+=1)b[s]=ye(Ce(o,W,s));const Te=s=>ce(b[s],1,1,()=>{b[s]=null});let D=o[4]&&Le(o);return{c(){e=f("article"),l=f("hgroup"),n=f("h1"),a=O(h),u=O(" Inscriptions over x years across x locations"),r=U(),i=f("p"),p=O(E),m=U(),A=f("section"),g=f("form"),I=f("label"),I.textContent=z,L=U(),w=f("input"),j=U(),M=f("button"),F=O("Search"),q=U(),B=f("button"),Y=O("Reset"),T=U(),N=f("section"),y=f("hgroup"),P=f("h2"),P.textContent=le,Z=U(),S&&S.c(),re=U(),x=f("ol");for(let s=0;s<b.length;s+=1)b[s].c();ie=U(),$=f("section"),D&&D.c(),this.h()},l(s){e=c(s,"ARTICLE",{});var _=C(e);l=c(_,"HGROUP",{});var v=C(l);n=c(v,"H1",{});var ee=C(n);a=R(ee,h),u=R(ee," Inscriptions over x years across x locations"),ee.forEach(d),r=H(v),i=c(v,"P",{});var he=C(i);p=R(he,E),he.forEach(d),v.forEach(d),m=H(_),A=c(_,"SECTION",{});var pe=C(A);g=c(pe,"FORM",{});var J=C(g);I=c(J,"LABEL",{for:!0,"data-svelte-h":!0}),te(I)!=="svelte-10ryt36"&&(I.textContent=z),L=H(J),w=c(J,"INPUT",{type:!0,name:!0,id:!0}),j=H(J),M=c(J,"BUTTON",{type:!0});var _e=C(M);F=R(_e,"Search"),_e.forEach(d),q=H(J),B=c(J,"BUTTON",{type:!0});var me=C(B);Y=R(me,"Reset"),me.forEach(d),J.forEach(d),pe.forEach(d),T=H(_),N=c(_,"SECTION",{});var oe=C(N);y=c(oe,"HGROUP",{});var ne=C(y);P=c(ne,"H2",{"data-svelte-h":!0}),te(P)!=="svelte-n49mf5"&&(P.textContent=le),Z=H(ne),S&&S.l(ne),ne.forEach(d),re=H(oe),x=c(oe,"OL",{});var ve=C(x);for(let fe=0;fe<b.length;fe+=1)b[fe].l(ve);ve.forEach(d),oe.forEach(d),ie=H(_),$=c(_,"SECTION",{});var ge=C($);D&&D.l(ge),ge.forEach(d),_.forEach(d),this.h()},h(){G(I,"for","keywords"),G(w,"type","text"),G(w,"name","keywords"),G(w,"id","keywords"),G(M,"type","submit"),M.value="Search",M.disabled=K=!o[3],G(B,"type","reset"),B.value="Reset",B.disabled=k=!o[3]},m(s,_){X(s,e,_),t(e,l),t(l,n),t(n,a),t(n,u),t(l,r),t(l,i),t(i,p),t(e,m),t(e,A),t(A,g),t(g,I),t(g,L),t(g,w),be(w,o[3]),t(g,j),t(g,M),t(M,F),t(g,q),t(g,B),t(B,Y),t(e,T),t(e,N),t(N,y),t(y,P),t(y,Z),S&&S.m(y,null),t(N,re),t(N,x);for(let v=0;v<b.length;v+=1)b[v]&&b[v].m(x,null);t(e,ie),t(e,$),D&&D.m($,null),V=!0,ue||(de=[ae(w,"input",o[10]),ae(g,"submit",o[7]),ae(g,"reset",o[6])],ue=!0)},p(s,[_]){if((!V||_&1)&&h!==(h=s[0].corpus.length.toLocaleString()+"")&&Q(a,h),_&8&&w.value!==s[3]&&be(w,s[3]),(!V||_&8&&K!==(K=!s[3]))&&(M.disabled=K),(!V||_&8&&k!==(k=!s[3]))&&(B.disabled=k),s[2]?S?S.p(s,_):(S=ke(s),S.c(),S.m(y,null)):S&&(S.d(1),S=null),_&32){W=Ee(s[5]);let v;for(v=0;v<W.length;v+=1){const ee=Ce(s,W,v);b[v]?(b[v].p(ee,_),se(b[v],1)):(b[v]=ye(ee),b[v].c(),se(b[v],1),b[v].m(x,null))}for(je(),v=W.length;v<b.length;v+=1)Te(v);Re()}s[4]?D?D.p(s,_):(D=Le(s),D.c(),D.m($,null)):D&&(D.d(1),D=null)},i(s){if(!V){for(let _=0;_<W.length;_+=1)se(b[_]);V=!0}},o(s){b=b.filter(Boolean);for(let _=0;_<b.length;_+=1)ce(b[_]);V=!1},d(s){s&&d(e),S&&S.d(),Ae(b,s),D&&D.d(),ue=!1,Se(de)}}}function Je(o,e,l){let n,h,a;De(o,qe,L=>l(12,a=L));let{data:u}=e,r=u.corpus,i=!1,E="",p=50,m=p;function A(){l(1,r=u.corpus),l(2,i=!1),l(3,E=""),l(9,p=50),m=p}function g(){if(l(2,i=!0),l(9,p=50),m=p,!E){l(1,r=u.corpus);return}l(1,r=u.corpus.filter(L=>!E||E.split(" ").map(w=>w.toLowerCase()).every(w=>L.metadata.keywords.some(j=>j.includes(w)))))}function I(){l(9,p=Math.min(r.length,p+m))}Ie(()=>{l(3,E=a.url.searchParams.get("keywords")||"")});function z(){E=this.value,l(3,E)}return o.$$set=L=>{"data"in L&&l(0,u=L.data)},o.$$.update=()=>{o.$$.dirty&514&&l(5,n=r.slice(0,p)),o.$$.dirty&514&&l(4,h=r.length>p)},[u,r,i,E,h,n,A,g,I,p,z]}class xe extends Ne{constructor(e){super(),Oe(this,e,Je,Ke,we,{data:0})}}export{xe as component};

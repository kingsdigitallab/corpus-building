import{c as ne,a as E,t as V,b as Ie}from"../chunks/disclose-version.CYVpJj12.js";import"../chunks/legacy.tKC0cpMT.js";import{aX as rs,ae as eo,F as to,ar as ns,Y as en,V as xt,aR as ro,aQ as no,q as xe,aS as ae,aT as tt,z as G,w as M,g as h,x as N,t as K,v as Se,aU as ge,j as je,s as Y,aY as os,y as B,k as pe,o as ss,n as Ee,I as Fe,u as Or,aZ as is,aV as as}from"../chunks/runtime.PBc5Cn6G.js";import{r as Fr,s as ht,b as Oe,p as We,a as te,t as cs,q as Je}from"../chunks/store.CVhbVGPO.js";import{i as Qe}from"../chunks/lifecycle.Bec4AQwf.js";import{I as rt,i as ls,a as us,m as ds,s as kt,b as fs}from"../chunks/Icon.BvlO9Bbw.js";import{d as oo,l as fe,p as ee,i as se,b as nt,s as ot,a as ue,c as ke}from"../chunks/props.Dt0oCm4W.js";import{t as Pt,s as hs,k as gs,f as Wt}from"../chunks/index.DEKdwAaf.js";import{w as ut,n as ps,o as so,m as bt,g as io,h as Zt,j as at,k as et,l as we,p as tn,q as lr,r as ur,t as ms,u as Bt,v as dr,b as me,d as st,a as it,x as vs,y as rn,e as Ue,i as Ye,s as De,B as Ze,z as yt}from"../chunks/button.BAvAxHXA.js";import{I as ao,m as ys,t as Ut,g as bs,c as Dt}from"../chunks/maplibre-gl.DVXWl6kb.js";import{B as _s,s as ws}from"../chunks/BaseLink.LYYCnQoi.js";import{a as co,c as xs,o as lo}from"../chunks/index-client.BoelaZEZ.js";import{d as Nt,w as dt,a as fr}from"../chunks/paths.BcjdkeDD.js";import{g as Ss}from"../chunks/entry.BJk6aZFK.js";import{p as ks}from"../chunks/stores.C056ib1O.js";function er(e,t,r=t){var o=rs();Fr(e,"input",()=>{var n=sn(e)?an(e.value):e.value;r(n),o&&n!==(n=t())&&(e.value=n??"")}),eo(()=>{var n=t();if(to&&e.defaultValue!==e.value){r(e.value);return}sn(e)&&n===an(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}const hr=new Set;function nn(e,t,r,o,n=o){var s=r.getAttribute("type")==="checkbox",i=e;let c=!1;if(t!==null)for(var d of t)i=i[d]??(i[d]=[]);i.push(r),Fr(r,"change",()=>{var u=r.__value;s&&(u=on(i,u,r.checked)),n(u)},()=>n(s?[]:null)),eo(()=>{var u=o();if(to&&r.defaultChecked!==r.checked){c=!0;return}s?(u=u||[],r.checked=u.includes(r.__value)):r.checked=oo(r.__value,u)}),ns(()=>{var u=i.indexOf(r);u!==-1&&i.splice(u,1)}),hr.has(i)||(hr.add(i),en(()=>{i.sort((u,g)=>u.compareDocumentPosition(g)===4?-1:1),hr.delete(i)})),en(()=>{if(c){var u;if(s)u=on(i,u,r.checked);else{var g=i.find(_=>_.checked);u=g==null?void 0:g.__value}n(u)}})}function on(e,t,r){for(var o=new Set,n=0;n<e.length;n+=1)e[n].checked&&o.add(e[n].__value);return r||o.delete(t),Array.from(o)}function sn(e){var t=e.type;return t==="number"||t==="range"}function an(e){return e===""?null:+e}function uo(e,t,r){if(e.multiple)return Os(e,t);for(var o of e.options){var n=At(o);if(oo(n,t)){o.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function $s(e,t){xt(()=>{var r=new MutationObserver(()=>{var o=e.__value;uo(e,o)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function js(e,t,r=t){var o=!0;Fr(e,"change",()=>{var n;if(e.multiple)n=[].map.call(e.querySelectorAll(":checked"),At);else{var s=e.querySelector(":checked");n=s&&At(s)}r(n)}),xt(()=>{var n=t();if(uo(e,n,o),o&&n===void 0){var s=e.querySelector(":checked");s!==null&&(n=At(s),r(n))}e.__value=n,o=!1}),$s(e)}function Os(e,t){for(var r of e.options)r.selected=~t.indexOf(At(r))}function At(e){return"__value"in e?e.__value:e.value}const Ps=e=>{try{co(e)}catch{return e}},fo=(e,t)=>{const r=ut(e),o=(s,i)=>{r.update(c=>{const d=s(c);let u=d;return t&&(u=t({curr:c,next:d})),i==null||i(u),u})};return{...r,update:o,set:s=>{o(()=>s)}}};let As="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",zs=(e=21)=>{let t="",r=e;for(;r--;)t+=As[Math.random()*64|0];return t};function Es(){return zs(10)}function Ts(e){return e.reduce((t,r)=>(t[r]=Es(),t),{})}function cn(e,t){let r;const o=Nt(e,s=>{r==null||r(),r=t(s)}).subscribe(ps),n=()=>{o(),r==null||r()};return Ps(n),n}function ho(e){const t={};return Object.keys(e).forEach(r=>{const o=r,n=e[o];t[o]=ut(dt(n))}),t}function gr(e,t,r,o){const n=(e-(isNaN(t)?0:t))%o;let s=Math.abs(n)*2>=o?e+Math.sign(n)*(o-Math.abs(n)):e-n;isNaN(t)?!isNaN(r)&&s>r&&(s=Math.floor(r/o)*o):s<t?s=t:!isNaN(r)&&s>r&&(s=t+Math.floor((r-t)/o)*o);const i=o.toString(),c=i.indexOf("."),d=c>=0?i.length-c:0;if(d>0){const u=Math.pow(10,d);s=Math.round(s*u)/u}return s}function Cs({page:e=1,totalPages:t,siblingCount:r=1}){const o=[],n=new Set([1,t]),s=3+r,i=t-2-r;if(s>i)for(let g=2;g<=t-1;g++)n.add(g);else if(e<s)for(let g=2;g<=Math.min(s,t);g++)n.add(g);else if(e>i)for(let g=t-1;g>=Math.max(i,2);g--)n.add(g);else for(let g=Math.max(e-r,2);g<=Math.min(e+r,t);g++)n.add(g);const c=g=>{o.push({type:"page",value:g,key:`page-${g}`})},d=()=>{o.push({type:"ellipsis",key:`ellipsis-${o.length}`})};let u=0;for(const g of Array.from(n).sort((_,b)=>_-b))g-u>1&&d(),c(g),u=g;return o}const Ns={perPage:1,siblingCount:1,defaultPage:1},{name:qt,selector:pr}=io("pagination");function Rs(e){const t={...Ns,...e},r=t.page??dt(t.defaultPage),o=fo(r,t==null?void 0:t.onPageChange),n=ho(so(t,"page","onPageChange","defaultPage")),{perPage:s,siblingCount:i,count:c}=n,d=ut.derived([c,s],([p,$])=>Math.ceil(p/$)),u=Nt([o,s,c],([p,$,T])=>{const j=(p-1)*$,R=Math.min(j+$,T);return{start:j,end:R}}),g=bt(qt(),{returned:()=>({"data-scope":"pagination"})}),_=Nt([o,d,i],([p,$,T])=>Cs({page:p,totalPages:$,siblingCount:T})),b=p=>{const $=p.target;if(!et($))return;const T=$.closest('[data-scope="pagination"]');if(!et(T))return;const j=Array.from(T.querySelectorAll(pr("page"))).filter(w=>et(w)),R=T.querySelector(pr("prev")),O=T.querySelector(pr("next"));et(R)&&j.unshift(R),et(O)&&j.push(O);const x=j.indexOf($);p.key===we.ARROW_LEFT&&x!==0?(p.preventDefault(),j[x-1].focus()):p.key===we.ARROW_RIGHT&&x!==j.length-1?(p.preventDefault(),j[x+1].focus()):p.key===we.HOME?(p.preventDefault(),j[0].focus()):p.key===we.END&&(p.preventDefault(),j[j.length-1].focus())},k=bt(qt("page"),{stores:o,returned:p=>$=>({"aria-label":`Page ${$.value}`,"data-value":$.value,"data-selected":$.value===p?"":void 0}),action:p=>({destroy:Zt(at(p,"click",()=>{const T=p.dataset.value;!T||Number.isNaN(+T)||o.set(Number(T))}),at(p,"keydown",b))})}),f=bt(qt("prev"),{stores:o,returned:p=>({"aria-label":"Previous",disabled:p<=1}),action:p=>({destroy:Zt(at(p,"click",()=>{o.update(T=>Math.max(T-1,1))}),at(p,"keydown",b))})}),v=bt(qt("next"),{stores:[o,d],returned:([p,$])=>({"aria-label":"Next",disabled:p>=$}),action:p=>({destroy:Zt(at(p,"click",()=>{const T=d.get();o.update(j=>Math.min(j+1,T))}),at(p,"keydown",b))})});return{elements:{root:g,pageTrigger:k,prevButton:f,nextButton:v},states:{range:fr(u),page:o,pages:fr(_),totalPages:fr(d)},options:n}}const Ms={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:Vt}=io("slider"),Is=e=>{const t={...Ms,...e},r=ho(so(t,"value","onValueChange","defaultValue")),{min:o,max:n,step:s,orientation:i,dir:c,disabled:d}=r,u=t.value??dt(t.defaultValue),g=fo(u,t==null?void 0:t.onValueChange),_=ut(dt(!1)),b=ut(dt(0)),k=ut(dt(null)),f=Ts(["root"]),v=(w,A)=>{g.update(C=>{if(!C)return[w];if(C[A]===w)return C;const F=[...C],W=F[A]>w?-1:1;function I(){F[A]=F[A+W],F[A+W]=w;const m=p();m&&(m[A+W].focus(),k.set({thumb:m[A+W],index:A+W}))}if(W===-1&&w<F[A-1])return I(),F;if(W===1&&w>F[A+1])return I(),F;const U=o.get(),H=n.get(),Z=s.get();return F[A]=gr(w,U,H,Z),F})},p=()=>{const w=dr(f.root);return w?Array.from(w.querySelectorAll('[data-melt-part="thumb"]')).filter(A=>et(A)):null},$=Nt([o,n],([w,A])=>C=>(C-w)/(A-w)*100),T=ut.derived([i,c],([w,A])=>w==="horizontal"?A==="rtl"?"rl":"lr":A==="rtl"?"tb":"bt"),j=bt(Vt(),{stores:[d,i,c],returned:([w,A,C])=>({dir:C,disabled:lr(w),"data-disabled":lr(w),"data-orientation":A,style:w?void 0:`touch-action: ${A==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":f.root})}),R=bt(Vt("range"),{stores:[g,T,$],returned:([w,A,C])=>{const F=w.length>1?C(Math.min(...w)??0):0,W=100-C(Math.max(...w)??0),I={position:"absolute"};switch(A){case"lr":{I.left=`${F}%`,I.right=`${W}%`;break}case"rl":{I.right=`${F}%`,I.left=`${W}%`;break}case"bt":{I.bottom=`${F}%`,I.top=`${W}%`;break}case"tb":{I.top=`${F}%`,I.bottom=`${W}%`;break}}return{style:ur(I)}}}),O=tn(Vt("thumb"),{stores:[g,$,o,n,d,i,T],returned:([w,A,C,F,W,I,U])=>Array.from({length:w.length||1},(Z,m)=>{b.get()<w.length&&b.update(P=>P+1);const l=w[m],y=`${A(l)}%`,S={position:"absolute"};switch(U){case"lr":{S.left=y,S.translate="-50% 0";break}case"rl":{S.right=y,S.translate="50% 0";break}case"bt":{S.bottom=y,S.translate="0 50%";break}case"tb":{S.top=y,S.translate="0 -50%";break}}return{role:"slider","aria-valuemin":C,"aria-valuemax":F,"aria-valuenow":l,"aria-disabled":lr(W),"aria-orientation":I,"data-melt-part":"thumb","data-value":l,style:ur(S),tabindex:W?-1:0}}),action:w=>({destroy:at(w,"keydown",C=>{if(d.get())return;const F=C.currentTarget;if(!et(F))return;const W=p();if(!(W!=null&&W.length))return;const I=W.indexOf(F);if(b.set(I),![we.ARROW_LEFT,we.ARROW_RIGHT,we.ARROW_UP,we.ARROW_DOWN,we.HOME,we.END].includes(C.key))return;C.preventDefault();const U=o.get(),H=n.get(),Z=s.get(),m=g.get(),a=i.get(),l=T.get(),y=m[I];switch(C.key){case we.HOME:{v(U,I);break}case we.END:{v(H,I);break}case we.ARROW_LEFT:{if(a!=="horizontal")break;C.metaKey?v(l==="rl"?H:U,I):l==="rl"&&y<H?v(y+Z,I):l==="lr"&&y>U&&v(y-Z,I);break}case we.ARROW_RIGHT:{if(a!=="horizontal")break;C.metaKey?v(l==="rl"?U:H,I):l==="rl"&&y>U?v(y-Z,I):l==="lr"&&y<H&&v(y+Z,I);break}case we.ARROW_UP:{C.metaKey?v(l==="tb"?U:H,I):l==="tb"&&y>U?v(y-Z,I):l!=="tb"&&y<H&&v(y+Z,I);break}case we.ARROW_DOWN:{C.metaKey?v(l==="tb"?H:U,I):l==="tb"&&y<H?v(y+Z,I):l!=="tb"&&y>U&&v(y-Z,I);break}}})})}),x=tn(Vt("tick"),{stores:[g,o,n,s,T],returned:([w,A,C,F,W])=>{const I=C-A;let U=Math.ceil(I/F);return I%F==0&&U++,Array.from({length:U},(H,Z)=>{const m=`${Z*(F/(C-A))*100}%`,a=Z===0,l=Z===U-1,y=a?0:l?-100:-50,S={position:"absolute"};switch(W){case"lr":{S.left=m,S.translate=`${y}% 0`;break}case"rl":{S.right=m,S.translate=`${-y}% 0`;break}case"bt":{S.bottom=m,S.translate=`0 ${-y}%`;break}case"tb":{S.top=m,S.translate=`0 ${y}%`;break}}const P=A+Z*F;return{"data-bounded":(w.length===1?P<=w[0]:w[0]<=P&&P<=w[w.length-1])?!0:void 0,"data-value":P,style:ur(S)}})}});return cn([j,o,n,d,i,T,s],([w,A,C,F,W,I,U])=>{if(!ms||F)return;const H=(S,P,z,D)=>{const q=(S-z)/(D-z)*(C-A)+A;if(q<A)v(A,P);else if(q>C)v(C,P);else{const ie=U,de=A,ce=Math.floor((q-de)/ie),he=de+ce*ie+ie/2,be=de+(ce+1)*ie+ie/2,ve=q>=he&&q<be?(ce+1)*ie+de:ce*ie+de;ve<=C&&v(ve,P)}},Z=S=>{const P=p();if(!P)return;P.forEach(q=>q.blur());const z=P.map(q=>{if(W==="horizontal"){const{left:ie,right:de}=q.getBoundingClientRect();return Math.abs(S.clientX-(ie+de)/2)}else{const{top:ie,bottom:de}=q.getBoundingClientRect();return Math.abs(S.clientY-(ie+de)/2)}}),D=P[z.indexOf(Math.min(...z))],re=P.indexOf(D);return{thumb:D,index:re}},m=S=>{if(!_.get())return;S.preventDefault(),S.stopPropagation();const P=dr(w["data-melt-id"]),z=k.get();if(!P||!z)return;z.thumb.focus();const{left:D,right:re,top:q,bottom:ie}=P.getBoundingClientRect();switch(I){case"lr":{H(S.clientX,z.index,D,re);break}case"rl":{H(S.clientX,z.index,re,D);break}case"bt":{H(S.clientY,z.index,ie,q);break}case"tb":{H(S.clientY,z.index,q,ie);break}}},a=S=>{if(S.button!==0)return;const P=dr(w["data-melt-id"]),z=Z(S);if(!z||!P)return;const D=S.target;!et(D)||!P.contains(D)||(S.preventDefault(),k.set(z),z.thumb.focus(),_.set(!0),m(S))},l=()=>{_.set(!1)},y=Zt(Bt(document,"pointerdown",a),Bt(document,"pointerup",l),Bt(document,"pointerleave",l),Bt(document,"pointermove",m));return()=>{y()}}),cn([s,o,n,g],function([A,C,F,W]){const I=H=>gr(H,C,F,A)===H,U=H=>gr(H,C,F,A);W.some(H=>!I(H))&&g.update(H=>H.map(U))}),{elements:{root:j,thumbs:O,range:R,ticks:x},states:{value:g},options:r}};function go(e,t){const r={};return t.forEach(o=>{r[o]={[`data-${e}-${o}`]:""}}),o=>r[o]}function rr(){const e=xs();return t=>{const{originalEvent:r}=t.detail,{cancelable:o}=t,n=r.type;e(n,{originalEvent:r,currentTarget:r.currentTarget},{cancelable:o})||t.preventDefault()}}function po(e){const t={};for(const r in e){const o=e[r];o!==void 0&&(t[r]=o)}return t}function mo(e){return function(t,r){if(r===void 0)return;const o=e[t];o&&o.set(r)}}function vo(){return{NAME:"pagination",PARTS:["root","prev-button","next-button","page"]}}function Ls(e){const{NAME:t,PARTS:r}=vo(),o=go(t,r),n={...Rs(po(e)),getAttrs:o};return ro(t,n),{...n,updateOption:mo(n.options)}}function Wr(){const{NAME:e}=vo();return no(e)}var Fs=V("<div><!></div>");function Ws(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]),o=fe(r,["count","page","onPageChange","perPage","siblingCount","asChild","el"]);xe(t,!1);const n=ht(),s=()=>Oe(p,"$root",n),i=()=>Oe($,"$pages",n),c=()=>Oe(T,"$range",n),d=ge();let u=ee(t,"count",8),g=ee(t,"page",28,()=>{}),_=ee(t,"onPageChange",24,()=>{}),b=ee(t,"perPage",24,()=>{}),k=ee(t,"siblingCount",24,()=>{}),f=ee(t,"asChild",8,!1),v=ee(t,"el",28,()=>{});const{elements:{root:p},states:{pages:$,range:T,page:j},getAttrs:R,updateOption:O}=Ls({count:u(),perPage:b(),siblingCount:k(),defaultPage:g(),onPageChange:({next:C})=>{var F;return g()!==C&&(g(C),(F=_())==null||F(C)),C}}),x=R("root");ae(()=>je(g()),()=>{g()!==void 0&&j.set(g())}),ae(()=>s(),()=>{Y(d,s())}),ae(()=>h(d),()=>{Object.assign(h(d),x)}),ae(()=>je(u()),()=>{O("count",u())}),ae(()=>je(b()),()=>{O("perPage",b())}),ae(()=>je(k()),()=>{O("siblingCount",k())}),tt(),Qe();var w=ne(),A=G(w);se(A,f,C=>{var F=ne(),W=G(F);me(W,t,"default",{get builder(){return h(d)},get pages(){return i()},get range(){return c()}},null),E(C,F)},C=>{var F=Fs();let W;var I=M(F);me(I,t,"default",{get builder(){return h(d)},get pages(){return i()},get range(){return c()}},null),N(F),nt(F,U=>v(U),()=>v()),st(F,U=>h(d).action(U)),K(()=>W=it(F,W,{...h(d),...o})),E(C,F)}),E(e,w),Se()}var Bs=V("<button><!></button>");function Us(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]),o=fe(r,["asChild","el"]);xe(t,!1);const n=ht(),s=()=>Oe(u,"$prevButton",n),i=ge();let c=ee(t,"asChild",24,()=>{}),d=ee(t,"el",28,()=>{});const{elements:{prevButton:u},getAttrs:g}=Wr(),_=g("prev-button"),b=rr();ae(()=>s(),()=>{Y(i,s())}),ae(()=>h(i),()=>{Object.assign(h(i),_)}),tt(),Qe();var k=ne(),f=G(k);se(f,c,v=>{var p=ne(),$=G(p);me($,t,"default",{get builder(){return h(i)}},null),E(v,p)},v=>{var p=Bs();let $;var T=M(p);me(T,t,"default",{get builder(){return h(i)}},null),N(p),nt(p,j=>d(j),()=>d()),st(p,j=>h(i).action(j)),xt(()=>We("m-click",p,b)),K(()=>$=it(p,$,{...h(i),type:"button",...o})),E(v,p)}),E(e,k),Se()}var Ds=V("<button><!></button>");function qs(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]),o=fe(r,["asChild","el"]);xe(t,!1);const n=ht(),s=()=>Oe(u,"$nextButton",n),i=ge();let c=ee(t,"asChild",24,()=>{}),d=ee(t,"el",28,()=>{});const{elements:{nextButton:u},getAttrs:g}=Wr(),_=g("next-button"),b=rr();ae(()=>s(),()=>{Y(i,s())}),ae(()=>h(i),()=>{Object.assign(h(i),_)}),tt(),Qe();var k=ne(),f=G(k);se(f,c,v=>{var p=ne(),$=G(p);me($,t,"default",{get builder(){return h(i)}},null),E(v,p)},v=>{var p=Ds();let $;var T=M(p);me(T,t,"default",{get builder(){return h(i)}},null),N(p),nt(p,j=>d(j),()=>d()),st(p,j=>h(i).action(j)),xt(()=>We("m-click",p,b)),K(()=>$=it(p,$,{...h(i),type:"button",...o})),E(v,p)}),E(e,k),Se()}var Vs=V("<button><!></button>");function Hs(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]),o=fe(r,["asChild","page","el"]);xe(t,!1);const n=ht(),s=()=>Oe(g,"$pageTrigger",n),i=ge();let c=ee(t,"asChild",24,()=>{}),d=ee(t,"page",8),u=ee(t,"el",28,()=>{});const{elements:{pageTrigger:g},getAttrs:_}=Wr(),b=_("page"),k=rr();ae(()=>(s(),je(d())),()=>{Y(i,s()(d()))}),ae(()=>h(i),()=>{Object.assign(h(i),b)}),tt(),Qe();var f=ne(),v=G(f);se(v,c,p=>{var $=ne(),T=G($);me(T,t,"default",{get builder(){return h(i)}},null),E(p,$)},p=>{var $=Vs();let T;var j=M($);me(j,t,"default",{get builder(){return h(i)}},R=>{var O=Ie();K(()=>te(O,d().value)),E(R,O)}),N($),nt($,R=>u(R),()=>u()),st($,R=>h(i).action(R)),xt(()=>We("m-click",$,k)),K(()=>T=it($,T,{type:"button",...h(i),...o})),E(p,$)}),E(e,f),Se()}function yo(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function Js(e){const{NAME:t,PARTS:r}=yo(),o=go(t,r),n={...Is(po(e)),getAttrs:o};return ro(t,n),{...n,updateOption:mo(n.options)}}function bo(){const{NAME:e}=yo();return no(e)}var Gs=V("<span><!></span>");function Ks(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]),o=fe(r,["disabled","min","max","step","orientation","dir","value","onValueChange","asChild","el"]);xe(t,!1);const n=ht(),s=()=>Oe(j,"$root",n),i=()=>Oe(R,"$ticks",n),c=()=>Oe(O,"$thumbs",n),d=ge();let u=ee(t,"disabled",24,()=>{}),g=ee(t,"min",24,()=>{}),_=ee(t,"max",24,()=>{}),b=ee(t,"step",24,()=>{}),k=ee(t,"orientation",24,()=>{}),f=ee(t,"dir",24,()=>{}),v=ee(t,"value",28,()=>{}),p=ee(t,"onValueChange",24,()=>{}),$=ee(t,"asChild",8,!1),T=ee(t,"el",28,()=>{});const{elements:{root:j,ticks:R,thumbs:O},states:{value:x},updateOption:w,getAttrs:A}=Js({disabled:u(),dir:f(),min:g(),max:_(),step:b(),orientation:k(),defaultValue:v(),onValueChange:({next:I})=>{var U;return v()!==I&&((U=p())==null||U(I),v(I)),I}}),C=A("root");ae(()=>je(v()),()=>{v()!==void 0&&x.set(v())}),ae(()=>je(u()),()=>{w("disabled",u())}),ae(()=>je(g()),()=>{w("min",g())}),ae(()=>je(_()),()=>{w("max",_())}),ae(()=>je(b()),()=>{w("step",b())}),ae(()=>je(k()),()=>{w("orientation",k())}),ae(()=>je(f()),()=>{w("dir",f())}),ae(()=>s(),()=>{Y(d,s())}),ae(()=>h(d),()=>{Object.assign(h(d),C)}),tt(),Qe();var F=ne(),W=G(F);se(W,$,I=>{var U=ne(),H=G(U);me(H,t,"default",{get builder(){return h(d)},get ticks(){return i()},get thumbs(){return c()}},null),E(I,U)},I=>{var U=Gs();let H;var Z=M(U);me(Z,t,"default",{get builder(){return h(d)},get ticks(){return i()},get thumbs(){return c()}},null),N(U),nt(U,m=>T(m),()=>T()),st(U,m=>h(d).action(m)),K(()=>H=it(U,H,{...h(d),...o})),E(I,U)}),E(e,F),Se()}var Xs=V("<span></span>");function Ys(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]),o=fe(r,["asChild","el"]);xe(t,!1);const n=ht(),s=()=>Oe(u,"$range",n),i=ge();let c=ee(t,"asChild",8,!1),d=ee(t,"el",28,()=>{});const{elements:{range:u},getAttrs:g}=bo(),_=g("range");ae(()=>s(),()=>{Y(i,s())}),ae(()=>h(i),()=>{Object.assign(h(i),_)}),tt(),Qe();var b=ne(),k=G(b);se(k,c,f=>{var v=ne(),p=G(v);me(p,t,"default",{get builder(){return h(i)}},null),E(f,v)},f=>{var v=Xs();let p;nt(v,$=>d($),()=>d()),st(v,$=>h(i).action($)),K(()=>p=it(v,p,{...h(i),...o})),E(f,v)}),E(e,b),Se()}var Qs=V("<span></span>");function Zs(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]),o=fe(r,["asChild","el","thumb"]);xe(t,!1);const n=ge();let s=ee(t,"asChild",8,!1),i=ee(t,"el",28,()=>{}),c=ee(t,"thumb",8);const{getAttrs:d}=bo(),u=rr(),g=d("thumb");ae(()=>je(c()),()=>{Y(n,c())}),ae(()=>h(n),()=>{Object.assign(h(n),g)}),tt(),Qe();var _=ne(),b=G(_);se(b,s,k=>{var f=ne(),v=G(f);me(v,t,"default",{get builder(){return h(n)}},null),E(k,f)},k=>{var f=Qs();let v;nt(f,p=>i(p),()=>i()),st(f,p=>h(n).action(p)),xt(()=>We("m-keydown",f,u)),K(()=>v=it(f,v,{...h(n),...o})),E(k,f)}),E(e,_),Se()}function ei(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);rt(e,ot({name:"arrow-down"},()=>r,{iconNode:[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]],children:(n,s)=>{var i=ne(),c=G(i);me(c,t,"default",{},null),E(n,i)},$$slots:{default:!0}}))}function ti(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);rt(e,ot({name:"arrow-up"},()=>r,{iconNode:[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]],children:(n,s)=>{var i=ne(),c=G(i);me(c,t,"default",{},null),E(n,i)},$$slots:{default:!0}}))}function ri(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);rt(e,ot({name:"chevron-left"},()=>r,{iconNode:[["path",{d:"m15 18-6-6 6-6"}]],children:(n,s)=>{var i=ne(),c=G(i);me(c,t,"default",{},null),E(n,i)},$$slots:{default:!0}}))}function ni(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);rt(e,ot({name:"chevron-right"},()=>r,{iconNode:[["path",{d:"m9 18 6-6-6-6"}]],children:(n,s)=>{var i=ne(),c=G(i);me(c,t,"default",{},null),E(n,i)},$$slots:{default:!0}}))}function oi(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);rt(e,ot({name:"filter"},()=>r,{iconNode:[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}]],children:(n,s)=>{var i=ne(),c=G(i);me(c,t,"default",{},null),E(n,i)},$$slots:{default:!0}}))}function si(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);rt(e,ot({name:"layout-grid"},()=>r,{iconNode:[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"}]],children:(n,s)=>{var i=ne(),c=G(i);me(c,t,"default",{},null),E(n,i)},$$slots:{default:!0}}))}function ii(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);rt(e,ot({name:"map"},()=>r,{iconNode:[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"}],["path",{d:"M15 5.764v15"}],["path",{d:"M9 3.236v15"}]],children:(n,s)=>{var i=ne(),c=G(i);me(c,t,"default",{},null),E(n,i)},$$slots:{default:!0}}))}function ai(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);rt(e,ot({name:"table"},()=>r,{iconNode:[["path",{d:"M12 3v18"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}]],children:(n,s)=>{var i=ne(),c=G(i);me(c,t,"default",{},null),E(n,i)},$$slots:{default:!0}}))}const ci={"images.ctfassets.net":"contentful","cdn.builder.io":"builder.io","images.prismic.io":"imgix","www.datocms-assets.com":"imgix","cdn.sanity.io":"imgix","images.unsplash.com":"imgix","cdn.shopify.com":"shopify","s7d1.scene7.com":"scene7","ip.keycdn.com":"keycdn","assets.caisy.io":"bunny","images.contentstack.io":"contentstack","ucarecdn.com":"uploadcare","imagedelivery.net":"cloudflare_images"},li={"imgix.net":"imgix","files.wordpress.com":"wordpress","b-cdn.net":"bunny","storyblok.com":"storyblok","kc-usercontent.com":"kontent.ai","cloudinary.com":"cloudinary","kxcdn.com":"keycdn","imgeng.in":"imageengine","imagekit.io":"imagekit","cloudimg.io":"cloudimage","ucarecdn.com":"uploadcare","supabase.co":"supabase"},ui={"/cdn-cgi/image/":"cloudflare","/cdn-cgi/imagedelivery/":"cloudflare_images","/_next/image":"nextjs","/_next/static":"nextjs","/_vercel/image":"vercel","/is/image":"scene7","/_ipx/":"ipx","/_image":"astro","/.netlify/images":"netlify","/storage/v1/object/public/":"supabase","/storage/v1/render/image/public/":"supabase"},_t=e=>{if(!e)return e;const t=Number(e);return isNaN(t)?e:Math.round(t)},J=(e,t,r,o,n)=>{r?(n&&(r=_t(r)),e.searchParams.set(t,r.toString())):o&&e.searchParams.delete(t)},Pe=(e,t,r)=>{e.searchParams.has(t)||e.searchParams.set(t,r.toString())},Rt=(e,t)=>{const r=Number(e.searchParams.get(t));return isNaN(r)?void 0:r},_o=e=>{const{pathname:t,search:r}=e;return`${t}${r}`},Br=e=>e.hostname==="n"?_o(e):e.toString(),oe=(e,t)=>typeof e=="string"?new URL(e,t??"http://n/"):e,ln=new Map(Object.entries(ci)),di=Object.entries(li);function fi(e){return wo(e)||hi(e)}function wo(e){if(typeof e=="string"&&!e.startsWith("https://"))return!1;const{hostname:t}=oe(e);if(ln.has(t))return ln.get(t);for(const[r,o]of di)if(t.endsWith(`.${r}`))return o;return!1}function hi(e){const{pathname:t}=oe(e);for(const[r,o]of Object.entries(ui))if(t.startsWith(r))return o;return!1}const gi=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return t&&t>4e3&&(r&&(r=Math.round(r*4e3/t)),t=4e3),r&&r>4e3&&(t&&(t=Math.round(t*4e3/r)),r=4e3),J(n,"w",t,!0,!0),J(n,"h",r,!0,!0),J(n,"fm",o),Pe(n,"fit","fill"),n},pi=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return J(n,"width",t,!0,!0),J(n,"height",r,!0,!0),J(n,"format",o),t&&r&&(Pe(n,"fit","cover"),Pe(n,"sharp","true")),n},mi=({url:e,width:t,height:r,format:o})=>{var s;const n=oe(e);if(J(n,"w",t,!0,!0),J(n,"h",r,!0,!0),Pe(n,"fit","min"),o){n.searchParams.set("fm",o);const i=n.searchParams.get("auto");i==="format"?n.searchParams.delete("auto"):i!=null&&i.includes("format")&&n.searchParams.set("auto",i.split(",").filter(c=>c!=="format").join(","))}else n.searchParams.delete("fm"),(s=n.searchParams.get("auto"))!=null&&s.includes("format")||n.searchParams.append("auto","format");return n},vi=/(.+?)(?:_(?:(pico|icon|thumb|small|compact|medium|large|grande|original|master)|(\d*)x(\d*)))?(?:_crop_([a-z]+))?(\.[a-zA-Z]+)(\.png|\.jpg|\.webp|\.avif)?$/,yi=e=>{const t=oe(e),r=t.pathname.match(vi);if(!r)throw new Error("Invalid Shopify URL");const[,o,n,s,i,c,d,u]=r;t.pathname=`${o}${d}`;const g=s||t.searchParams.get("width"),_=i||t.searchParams.get("height");return t.searchParams.delete("width"),t.searchParams.delete("height"),{base:t.toString(),width:Number(g)||void 0,height:Number(_)||void 0,format:u?u.slice(1):void 0,params:{crop:c,size:n},cdn:"shopify"}},bi=({base:e,width:t,height:r,format:o,params:n})=>{const s=oe(e);return J(s,"width",t,!0,!0),J(s,"height",r,!0,!0),J(s,"crop",n==null?void 0:n.crop),J(s,"format",o),s},_i=({url:e,width:t,height:r})=>{const o=yi(e);if(!o)return;const n={...o,width:t,height:r};return bi(n)},wi=({url:e,width:t,height:r})=>{const o=oe(e);return J(o,"w",t,!0,!0),J(o,"h",r,!0,!0),Pe(o,"crop","1"),o},xi=({url:e,width:t,height:r})=>{const o=oe(e);return J(o,"w",t,!0,!0),J(o,"h",r,!0,!0),J(o,"q",Rt(o,"q"),!0),o},Si=/https?:\/\/(?<host>[^\/]+)\/(?<cloudName>[^\/]+)\/(?<assetType>image|video|raw)\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)\/?(?<signature>s\-\-[a-zA-Z0-9]+\-\-)?\/?(?<transformations>(?:[^_\/]+_[^,\/]+,?)*)?\/(?:(?<version>v\d+)\/)?(?<idAndFormat>[^\s]+)$/g,ki=e=>e?Object.fromEntries(e.split(",").map(t=>t.split("_"))):{},xo=({host:e,cloudName:t,assetType:r,deliveryType:o,signature:n,transformations:s={},version:i,id:c,format:d})=>{d&&(s.f=d);const u=Object.entries(s).map(([_,b])=>`${_}_${b}`).join(",");return`https://${[e,t,r,o,n,u,i,c].filter(Boolean).join("/")}`},So=e=>{const r=[...oe(e).toString().matchAll(Si)];if(!r.length)throw new Error("Invalid Cloudinary URL");const o=r[0].groups||{},{transformations:n="",idAndFormat:s,...i}=o;delete o.idAndFormat;const c=s.lastIndexOf("."),d=c<0?s:s.slice(0,c),u=c<0?void 0:s.slice(c+1),{w:g,h:_,f:b,...k}=ki(n),f=b&&b!=="auto"?b:u;return{base:xo({...i,id:d,transformations:k}),width:Number(g)||void 0,height:Number(_)||void 0,format:f,cdn:"cloudinary",params:{...o,id:o.deliveryType==="fetch"?s:d,format:f,transformations:k}}},$i=({base:e,width:t,height:r,format:o,params:n})=>{var c;const s=So(e.toString()),i={transformations:{},...s.params,...n,format:o||"auto"};return t&&(i.transformations.w=_t(t).toString()),r&&(i.transformations.h=_t(r).toString()),(c=i.transformations).c||(c.c="lfill"),xo(i)},ji=({url:e,width:t,height:r,format:o="auto"})=>{var i,c;const n=So(e);if(!n)throw new Error("Invalid Cloudinary URL");if(((i=n.params)==null?void 0:i.assetType)!=="image")throw new Error("Cloudinary transformer only supports images");if((c=n.params)!=null&&c.signature)throw new Error("Cloudinary transformer does not support signed URLs");const s={...n,width:t,height:r,format:o};return $i(s)},Oi=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/image\/(?<transformations>[^\/]+)?\/(?<path>.*)$/g,Pi=e=>Object.fromEntries(e.split(",").map(t=>t.split("="))),ko=({host:e,transformations:t={},path:r})=>{const o=Object.entries(t).map(([s,i])=>`${s}=${i}`).join(",");return`https://${[e,"cdn-cgi","image",o,r].join("/")}`},$o=e=>{const t=oe(e),r=[...t.toString().matchAll(Oi)];if(!r.length)throw new Error("Invalid Cloudflare URL");const o=r[0].groups||{},{transformations:n,...s}=o,{width:i,height:c,f:d,...u}=Pi(n);return ko({...s,transformations:u}),{base:t.toString(),width:Number(i)||void 0,height:Number(c)||void 0,format:d,cdn:"cloudflare",params:{...o,transformations:u}}},Ai=({base:e,width:t,height:r,format:o,params:n})=>{var c;const s=$o(e.toString()),i={transformations:{},...s.params,...n};return t&&(i.transformations.width=t==null?void 0:t.toString()),r&&(i.transformations.height=r==null?void 0:r.toString()),o&&(i.transformations.f=o==="jpg"?"jpeg":o),(c=i.transformations).fit||(c.fit="cover"),new URL(ko(i))},zi=({url:e,width:t,height:r,format:o="auto"})=>{const n=$o(e);if(!n)throw new Error("Invalid Cloudflare URL");const s={...n,width:t,height:r,format:o};return Ai(s)},Ei=({url:e,width:t,height:r})=>{const o=oe(e);return J(o,"width",t,!0,!0),t&&r&&Pe(o,"aspect_ratio",`${t}:${r}`),o},Ti=/(?<id>\/f\/\d+\/\d+x\d+\/\w+\/[^\/]+)\/?(?<modifiers>m\/?(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?)?$/g,Ci=/^(?<modifiers>\/(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?\/?)?(?<id>\/f\/.+)$/g,Ni=e=>e?Object.fromEntries(e.split(":").map(t=>{if(!t)return[];const[r,o]=t.split("(");return[r,o.replace(")","")]})):{},Ri=e=>{if(!e)return;const t=Object.entries(e).map(([r,o])=>`${r}(${o??""})`);if(t.length!==0)return`filters:${t.join(":")}`},Mi=e=>{const t=oe(e),r=t.hostname==="img2.storyblok.com"?Ci:Ti,[o]=t.pathname.matchAll(r);if(!o||!o.groups)throw new Error("Invalid Storyblok URL");const{id:n,crop:s,width:i,height:c,filters:d,flipx:u,flipy:g}=o.groups,{format:_,...b}=Ni(d);return t.hostname==="img2.storyblok.com"&&(t.hostname="a.storyblok.com"),{base:t.origin+n,width:Number(i)||void 0,height:Number(c)||void 0,format:_,params:{crop:s,filters:b,flipx:u,flipy:g},cdn:"storyblok"}},Ii=({base:e,width:t=0,height:r=0,format:o,params:n={}})=>{const{crop:s,filters:i,flipx:c="",flipy:d=""}=n,u=`${c}${t}x${d}${r}`;return new URL([e,"m",s,u,Ri(i),o].filter(Boolean).join("/"))},Li=({url:e,width:t,height:r,format:o})=>{const n=Mi(e);if(n)return o&&(n.params||(n.params={filters:{}}),n.params.filters||(n.params.filters={}),n.params.filters.format=o),Ii({...n,width:t,height:r})},Fi=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return J(n,"w",t,!0,!0),J(n,"h",r,!0,!0),J(n,"fm",o,!0),t&&r&&Pe(n,"fit","crop"),n},un=e=>{const r=oe(e).searchParams.get("url");if(!r||!r.startsWith("http"))return!1;const o=wo(r);return o?{cdn:o,url:r}:!1},Wi=({base:e,width:t,params:{quality:r=75,root:o="_vercel"}={}})=>{const n=new URL("http://n");return n.pathname=`/${o}/image`,n.searchParams.set("url",e.toString()),J(n,"w",t,!1,!0),Pe(n,"q",r),_o(n)},jo=({url:e,width:t,cdn:r})=>{const o=oe(e),n=o.pathname.startsWith("/_next/image")||o.pathname.startsWith("/_vercel/image"),s=n?o.searchParams.get("url"):e.toString();if(s)return J(o,"w",t,!0,!0),n?Br(o):Wi({base:s,width:t,params:{root:r==="nextjs"?"_next":"_vercel"}})},Bi=e=>jo({...e,cdn:"nextjs"}),Ui=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return J(n,"wid",t,!0,!0),J(n,"hei",r,!0,!0),J(n,"fmt",o,!0),J(n,"qlt",Rt(n,"qlt"),!0),J(n,"scl",Rt(n,"scl"),!0),Pe(n,"fit","crop"),!t&&!r&&Pe(n,"scl",1),n},Di=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return J(n,"width",t,!0,!0),J(n,"height",r,!0,!0),J(n,"format",o,!0),J(n,"quality",Rt(n,"quality"),!0),Pe(n,"enlarge",0),n},qi=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return J(n,"width",t,!0,!0),J(n,"height",r,!0,!0),J(n,"format",o),J(n,"quality",Rt(n,"quality"),!0),n},Pr={width:"w",height:"h",autoWidthWithFallback:"w_auto",auto_width_fallback:"w_auto",scaleToScreenWidth:"pc",scale_to_screen_width:"pc",crop:"cr",outputFormat:"f",format:"f",fit:"m",fitMethod:"m",compression:"cmpr",sharpness:"s",rotate:"r",inline:"in",keepMeta:"meta",keep_meta:"meta",noOptimization:"pass",no_optimization:"pass",force_download:"dl",max_device_pixel_ratio:"maxdpr",maxDevicePixelRatio:"maxdpr"};function Vi(e){return Object.keys(Pr).find(o=>Pr[o]===e)||""}function Hi(e){let t=e.toString(),r=[];if(t){let o=t.split("imgeng=");o.length>1&&(r=o[1].split("/"))}return r}function Ji(e){let t=e.toString(),r="";if(t){let o=t.split("imgeng=");o.length>1?r=o[0].slice(0,-1):r=t}return r}const Gi=({url:e,width:t,height:r,format:o})=>{const n=oe(e),s=Ji(n);let i={};const c=n.toString()===s?[]:Hi(n);c.length&&(i=Qi(c)),t&&(i.width=t),r&&(i.height=r),o&&(i.format=o),i.hasOwnProperty("fit")||(i={...i,fit:"cropbox"});let d=Ki(i),u=Xi(d),g=u===""?"":s.includes("?")?"&":"?";return`${s}${g}${u}`};function Ki(e){return Object.entries(e).reduce((t,[r,o])=>t+Yi(r,o),"")}function Xi(e){return e&&e!==""?`imgeng=${e}`:""}function Yi(e,t){let r=Pr[e];return r&&(t||t===0)?`/${r}_${t}`:""}function Qi(e){let t={};return e.forEach(r=>{let o=r.split("_");if(o.length>1){let n=o[0],s=o[1],i=Vi(n);i&&(t[i]=s)}}),t}const Zi=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return J(n,"width",t,!0,!0),J(n,"height",r,!0,!0),J(n,"format",o),n.searchParams.has("format")||Pe(n,"auto","webp"),t&&r&&Pe(n,"fit","crop"),n},ea=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/imagedelivery\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,ta=/https?:\/\/(?<host>imagedelivery.net)\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,ra=e=>{var t;return Object.fromEntries(((t=e==null?void 0:e.split(","))==null?void 0:t.map(r=>r.split("=")))??[])},na=({host:e,accountHash:t,transformations:r={},imageId:o})=>{const n=Object.entries(r).filter(([i,c])=>!!i&&c!==void 0).map(([i,c])=>`${i}=${c}`).join(",");return`https://${[...e==="imagedelivery.net"?[e]:[e,"cdn-cgi","imagedelivery"],t,o,n].join("/")}`},Oo=e=>{const t=oe(e),r=[...t.toString().matchAll(ea),...t.toString().matchAll(ta)];if(!r.length)throw new Error("Invalid Cloudflare Images URL");const o=r[0].groups||{},{transformations:n,...s}=o,{w:i,h:c,f:d,...u}=ra(n);return{base:t.toString(),width:Number(i)||void 0,height:Number(c)||void 0,format:d,cdn:"cloudflare_images",params:{...s,transformations:u}}},oa=({base:e,width:t,height:r,format:o,params:n})=>{var c;const s=Oo(e.toString()),i={transformations:{},...s.params,...n};return t&&(i.transformations.w=t==null?void 0:t.toString()),r&&(i.transformations.h=r==null?void 0:r.toString()),o&&(i.transformations.f=o),(c=i.transformations).fit||(c.fit="cover"),new URL(na(i))},sa=({url:e,width:t,height:r,format:o="auto"})=>{const n=Oo(e);if(!n)throw new Error("Invalid Cloudflare Images URL");const s={...n,width:t,height:r,format:o};return oa(s)},ia=e=>{const t=oe(e),[r,...o]=t.pathname.split("/").slice(1),n=Object.fromEntries(r.split(",").map(s=>{const[i,c]=s.split("_");return[i,c]}));if(n.s){const[s,i]=n.s.split("x");n.w||(n.w=s),n.h||(n.h=i)}return{base:o.join("/"),width:Number(n.w)||void 0,height:Number(n.h)||void 0,quality:Number(n.q)||void 0,format:n.f||"auto",params:n,cdn:"ipx"}},dn=({base:e,width:t,height:r,format:o,params:n})=>{const s=(n==null?void 0:n.modifiers)??{};t&&r?s.s=`${t}x${r}`:t?s.w=`${t}`:r&&(s.h=`${r}`),o&&(s.f=o);const i=n!=null&&n.base.endsWith("/")?n==null?void 0:n.base:`${n==null?void 0:n.base}/`,c=Object.entries(s).map(([g,_])=>`${g}_${_}`).join(","),d=e.toString(),u=d.startsWith("/")?d.slice(1):d;return`${i}${c}/${u}`},aa=e=>{var i,c,d,u;const t=String(e.url),r=oe(t),o=r.pathname.startsWith("/_ipx")&&r.hostname!=="n"?`${r.origin}/_ipx`:"/_ipx",n=((c=(i=e.cdnOptions)==null?void 0:i.ipx)==null?void 0:c.base)??o;if(n&&n!=="/"&&t.startsWith(n)){const g=ia(t.replace(n,""));return dn({...g,...e,params:{...(d=e.cdnOptions)==null?void 0:d.ipx,base:n}})}return dn({...e,base:t,params:{...(u=e.cdnOptions)==null?void 0:u.ipx,base:n}})},ca=({url:e,width:t,height:r,format:o})=>{const n=oe(e),s=Br(new URL(n.pathname,n.origin)),i={searchParams:new URLSearchParams};return J(i,"href",s,!0,!0),J(i,"w",t,!0,!0),J(i,"h",r,!0,!0),J(i,"f",o),`/_image?${i.searchParams.toString()}`},la=new Set(["w","h","q","fm","url","width","height","quality"]),ua=e=>{const t=oe(e),r=Number(t.searchParams.get("w")??t.searchParams.get("width"))??void 0,o=Number(t.searchParams.get("h")??t.searchParams.get("height"))??void 0,n=Number(t.searchParams.get("q")??t.searchParams.get("quality"))||void 0,s=t.searchParams.get("fm")||void 0,i=t.searchParams.get("url")||"",c={quality:n};return t.searchParams.forEach((d,u)=>{la.has(u)||(c[u]=d)}),t.search="",{base:i,width:r,height:o,format:s,params:c,cdn:"netlify"}},fn=({base:e,width:t,height:r,format:o,params:{site:n,quality:s,...i}={}})=>{const c=oe("/.netlify/images",n);return Object.entries(i).forEach(([d,u])=>J(c,d,u)),J(c,"q",s,!0,!0),J(c,"w",t,!0,!0),J(c,"h",r,!0,!0),J(c,"fm",o),Pe(c,"fit","cover"),c.searchParams.set("url",e.toString()),Br(c)},da=e=>{var r,o;const t=oe(e.url);if(t.pathname.startsWith("/.netlify/images")){const{params:n,base:s,format:i}=ua(t);return fn({base:s,format:i,...e,params:{...n,site:t.hostname==="n"?void 0:t.origin}})}return fn({...e,base:e.url,params:{site:(o=(r=e.cdnOptions)==null?void 0:r.netlify)==null?void 0:o.site}})},fa=e=>(e.searchParams.get("tr")||"").split(",").reduce((r,o)=>{const[n,s]=o.split("-");return r[n]=s,r},{}),ha=({url:e,width:t,height:r,format:o})=>{const n=oe(e),s=fa(n);s.w=t&&Math.round(t),s.h=r&&Math.round(r),s.f||(s.f="auto"),o&&(s.f=o);const i=Object.keys(s).map(c=>{const d=s[c];if(d)return`${c}-${d}`}).filter(c=>c).join(",");return n.searchParams.set("tr",i),n},ga=/^https?:\/\/(?<host>[^\/]+)\/(?<uuid>[^\/]+)/g;function Po(e){const t=new URL(e),r=t.pathname+t.search+t.hash,o=r.lastIndexOf("http"),n=r.lastIndexOf("/");let s="";return o>=0?s=r.slice(o):n>=0&&(s=r.slice(n+1)),s}function pa(e){return e.startsWith("http")}function ma(e){const t=new URL(e);return{pathname:t.origin+t.pathname||"",search:t.search||"",hash:t.hash||""}}function va(e){const t=new URL(e),r=Po(e),o=pa(r)?ma(r).pathname:r;return t.pathname=t.pathname.replace(o,""),t.search="",t.hash="",t.toString()}const ya=e=>{if(typeof e!="string"||!e)return"";let t=e.trim();return t.startsWith("-/")?t=t.slice(2):t.startsWith("/")&&(t=t.slice(1)),t.endsWith("/")&&(t=t.slice(0,t.length-1)),t};function ba(e){const t=va(e),r=new URL(t),o=r.pathname.indexOf("/-/");return o===-1?[]:r.pathname.substring(o).split("/-/").filter(Boolean).map(s=>ya(s))}const _a=e=>e.length?e.reduce((t,r)=>{const[o,n]=r.split("/");return{...t,[o]:n}},{}):{},Ao=({host:e,uuid:t,operations:r={},filename:o})=>{const n=Object.entries(r).map(([i,c])=>`${i}/${c}`).join("/-/");return`https://${[e,t,n?`-/${n}`:"",o].join("/")}`},zo=e=>{const t=oe(e),r=[...t.toString().matchAll(ga)];if(!r.length)throw new Error("Invalid Uploadcare URL");const o=r[0].groups||{},{...n}=o,s=Po(t.toString()),{format:i,...c}=_a(ba(t.toString())),d=i&&i!=="auto"?i:"auto";return{base:Ao({...n,filename:s||void 0,operations:{...c,format:d}}),cdn:"uploadcare",params:{...o,filename:s||void 0,operations:{...c,format:d}}}},wa=({base:e,width:t,height:r,params:o})=>{const n=e.toString(),s=zo(n.endsWith("/")?n:`${n}/`),i={operations:{},...s.params,...o};return t&&r?i.operations={...i.operations,resize:`${t}x${r}`}:(t&&(i.operations={...i.operations,resize:`${t}x`}),r&&(i.operations={...i.operations,resize:`x${r}`})),Ao(i)},xa=({url:e,width:t,height:r})=>{const o=zo(e);if(!o)throw new Error("Invalid Uploadcare URL");const n={...o,width:t,height:r};return wa(n)},Sa=["origin"],Eo="/storage/v1/object/public/",Ur="/storage/v1/render/image/public/",ka=e=>e.pathname.startsWith(Ur),To=e=>{const t=oe(e);if(!ka(t))return{cdn:"supabase",base:t.origin+t.pathname};const o=t.pathname.replace(Ur,""),n=t.searchParams.has("quality")?Number(t.searchParams.get("quality")):void 0,s=t.searchParams.has("width")?Number(t.searchParams.get("width")):void 0,i=t.searchParams.has("height")?Number(t.searchParams.get("height")):void 0,c=t.searchParams.has("format")?t.searchParams.get("format"):void 0,d=t.searchParams.has("resize")?t.searchParams.get("resize"):void 0;return{cdn:"supabase",base:t.origin+Eo+o,width:s,height:i,format:c,params:{quality:n,resize:d}}},$a=({base:e,width:t,height:r,format:o,params:n})=>{const s=To(e.toString());e=s.base,t=t||s.width,r=r||s.height,o=o||s.format,n={...s.params,...n};const i=new URLSearchParams;return t&&i.set("width",_t(t).toString()),r&&i.set("height",_t(r).toString()),o&&Sa.includes(o)&&i.set("format",o),n!=null&&n.quality&&i.set("quality",_t(n.quality).toString()),n!=null&&n.resize&&i.set("resize",n.resize),i.toString()===""?e:s.base.replace(Eo,Ur)+"?"+i.toString()},ja=({url:e,width:t,height:r,format:o,cdnOptions:n})=>{const s=To(e);return $a({base:s.base,width:t||s.width,height:r||s.height,format:o||s.format,params:(n==null?void 0:n.supabase)||s.params})},hn={vercel:un,nextjs:un};function Oa(e,t){if(!(t in hn))return!1;const r=hn[t];return r?r(e):!1}function Dr(e,t){const r=fi(e)||t;if(!r)return!1;const o=Oa(e,r);return o||{cdn:r,url:e}}const qr=e=>({imgix:mi,contentful:gi,"builder.io":pi,shopify:_i,wordpress:wi,cloudimage:xi,cloudinary:ji,bunny:Ei,storyblok:Li,cloudflare:zi,vercel:jo,nextjs:Bi,scene7:Ui,"kontent.ai":Fi,keycdn:Di,directus:qi,imageengine:Gi,contentstack:Zi,cloudflare_images:sa,ipx:aa,astro:ca,netlify:da,imagekit:ha,uploadcare:xa,supabase:ja})[e];var Pa=(e,t)=>{if(!(!e||!t))switch(t){case"constrained":return`(min-width: ${e}px) ${e}px, 100vw`;case"fixed":return`${e}px`;case"fullWidth":return"100vw";default:return}},$t=e=>e||e===0?`${e}px`:void 0,Aa=({width:e,height:t,aspectRatio:r,layout:o,objectFit:n="cover",background:s})=>{const i=[["object-fit",n]];return s!=null&&s.startsWith("https:")||s!=null&&s.startsWith("http:")||s!=null&&s.startsWith("data:")?(i.push(["background-image",`url(${s})`]),i.push(["background-size","cover"]),i.push(["background-repeat","no-repeat"])):i.push(["background",s]),o==="fixed"&&(i.push(["width",$t(e)]),i.push(["height",$t(t)])),o==="constrained"&&(i.push(["max-width",$t(e)]),i.push(["max-height",$t(t)]),i.push(["aspect-ratio",r?`${r}`:void 0]),i.push(["width","100%"])),o==="fullWidth"&&(i.push(["width","100%"]),i.push(["aspect-ratio",r?`${r}`:void 0]),i.push(["height",$t(t)])),Object.fromEntries(i.filter(([,c])=>c))},za=[6016,5120,4480,3840,3200,2560,2048,1920,1668,1280,1080,960,828,750,640],gn=24,Ea=({width:e,layout:t,resolutions:r=za})=>{if(t==="fullWidth")return r;if(!e)return[];const o=e*2;return t==="fixed"?[e,o]:t==="constrained"?[e,o,...r.filter(n=>n<o)]:[]},Ta=({src:e,width:t,layout:r="constrained",height:o,aspectRatio:n,breakpoints:s,cdn:i,transformer:c,format:d})=>{const u=Dr(e,i);return u&&!c&&(c=qr(u.cdn)),c?(s||(s=Ea({width:t,layout:r})),s.sort((g,_)=>g-_).map(g=>{let _;return o&&n&&(_=Math.round(g/n)),{url:u?u.url:e,width:g,height:_,format:d}})):[]},Ca=e=>{let{src:t,cdn:r,transformer:o}=e;const n=Dr(t,r);return n&&!o&&(o=qr(n.cdn)),o?Ta({...e,transformer:o}).map(s=>{const i=o(s);return`${i==null?void 0:i.toString()} ${s.width}w`}).join(`,
`):""};function Na({width:e,height:t,priority:r,layout:o="constrained",aspectRatio:n,...s}){return e=e&&Number(e)||void 0,t=t&&Number(t)||void 0,r?(s.loading||(s.loading="eager"),s.fetchpriority||(s.fetchpriority="high")):(s.loading||(s.loading="lazy"),s.decoding||(s.decoding="async")),s.alt===""&&(s.role||(s.role="presentation")),n?e?t||(t=Math.round(e/n)):t&&(e=Math.round(t*n)):e&&t&&(n=e/t),{width:e,height:t,aspectRatio:n,layout:o,...s}}function Ra(e){let{src:t,cdn:r,transformer:o,background:n,layout:s,objectFit:i,breakpoints:c,width:d,height:u,aspectRatio:g,unstyled:_,...b}=Na(e);const k=t?Dr(t,r):void 0;let f=t;if(k&&(f=k.url,o||(o=qr(k.cdn))),o&&n==="auto"){const p=g?Math.round(gn/g):void 0,$=o({url:f,width:gn,height:p});$&&(n=$.toString())}const v={width:d,height:u,aspectRatio:g,layout:s,objectFit:i,background:n};if(b.sizes||(b.sizes=Pa(d,s)),_||(b.style={...Aa(v),...b.style}),o){b.srcset=Ca({src:f,width:d,height:u,aspectRatio:g,layout:s,breakpoints:c,transformer:o,cdn:r});const p=o({url:f,width:d,height:u});p&&(f=p),(s==="fullWidth"||s==="constrained")&&(d=void 0,u=void 0)}return{...b,src:f==null?void 0:f.toString(),width:d,height:u}}function Ma(e,t){const r=RegExp(e,"g");return o=>{if(typeof o!="string")throw new TypeError(`expected an argument of type string, but got ${typeof o}`);return o.match(r)?o.replace(r,t):o}}const Ia=Ma(/[A-Z]/,e=>`-${e.toLowerCase()}`);function La(e,t=Ia){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected an argument of type object, but got ${typeof e}`);return Object.keys(e).map(r=>`${t(r)}: ${e[r]};`).join(`
`)}var Fa=V("<img>");function Wa(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);xe(t,!1);const o=ge(),n=ge(),s=ge(),i=ge(),c=ge(),d=ge(),u=ge(),g=ge(),_=ge(),b=ge(),k=ge(),f=ge(),v=ge(),p=ge();ae(()=>(h(o),h(n),je(r)),()=>{Y(o,r.style),Y(n,os(r,["style"]))}),ae(()=>(h(s),h(i),h(c),h(d),h(u),h(g),h(_),h(b),h(k),h(f),h(v),h(n)),()=>{(j=>(Y(s,j.alt),Y(i,j.style),Y(c,j.src),Y(d,j.width),Y(u,j.height),Y(g,j.loading),Y(_,j.decoding),Y(b,j.srcset),Y(k,j.role),Y(f,j.sizes),Y(v,j.fetchpriority)))(Ra(h(n)))}),ae(()=>(h(i),h(o)),()=>{Y(p,[La(h(i)||{}),h(o)].filter(Boolean).join(";"))}),tt(),Qe();var $=Fa();let T;K(()=>{var j,R,O,x;return T=it($,T,{...r,style:h(p),loading:h(g),width:h(d),height:h(u),decoding:h(_),role:h(k),fetchpriority:h(v),alt:(j=h(s))==null?void 0:j.toString(),src:(R=h(c))==null?void 0:R.toString(),srcset:(O=h(b))==null?void 0:O.toString(),sizes:(x=h(f))==null?void 0:x.toString()})}),vs($),cs($),We("load",$,function(j){rn.call(this,t,j)}),We("error",$,function(j){rn.call(this,t,j)}),E(e,$),Se()}var Ba=V("<em> </em>"),Ua=V("<a> </a>"),Da=V('<span class="svelte-192ea9n"><!> <!> </span>'),qa=V('<div class="inscription-place"></div>');function Co(e,t){xe(t,!0);let r=pe(()=>{var n,s;return(s=(n=t.inscription)==null?void 0:n.places)==null?void 0:s.slice(0,2)});var o=qa();Ue(o,21,()=>h(r),Ye,(n,s)=>{var i=ne(),c=G(i);se(c,()=>h(s),d=>{var u=Da(),g=M(u);se(g,()=>h(s).offset,k=>{var f=Ba(),v=M(f,!0);N(f),K(()=>te(v,h(s).offset)),E(k,f)});var _=B(g,2);se(_,()=>h(s).ref,k=>{var f=Ua(),v=M(f,!0);N(f),K(()=>{De(f,"href",h(s).ref),te(v,h(s)._)}),E(k,f)},k=>{var f=Ie();K(()=>te(f,h(s)._)),E(k,f)});var b=B(_);N(u),K(()=>te(b,` (${h(s).type??""})`)),E(d,u)}),E(n,i)}),N(o),E(e,o),Se()}function zt(e,t){let r=ee(t,"title",3,"");const o=pe(()=>t.children);var n=pe(()=>`/inscription/${t.id}`),s=pe(()=>r()||t.id);_s(e,{get href(){return h(n)},get title(){return h(s)},children:(i,c)=>{var d=ne(),u=G(d);ws(u,()=>h(o)??ss),E(i,d)},$$slots:{default:!0}})}var Va=V("<dd><a> </a></dd>"),Ha=V("<dd> </dd>"),Ja=V("<dd><a> </a></dd>"),Ga=V("<dd> </dd>"),Ka=V('<div class="inscription-card"><!> <div class="inscription-title svelte-1i8xyhq"><!></div> <div class="inscription-date-place"><!> <!></div> <dl class="svelte-1i8xyhq"><dt class="svelte-1i8xyhq">ID</dt> <dd><small><!></small></dd> <dt class="svelte-1i8xyhq">Status</dt> <dd> </dd> <dt class="svelte-1i8xyhq">Type</dt> <!> <dt class="svelte-1i8xyhq">Object type</dt> <!> <dt class="svelte-1i8xyhq">Language</dt> <dd> </dd></dl></div>');function Xa(e,t){xe(t,!0);var r=Ka(),o=M(r);se(o,()=>t.inscription.facsimile,j=>{zt(j,{get id(){return t.inscription.file},get title(){return t.inscription.title},children:(R,O)=>{Wa(R,{get src(){return`${ls}${t.inscription.file??""}/${t.inscription.facsimile.url??""}/${us}`},get alt(){return t.inscription.facsimile.desc},width:400,height:200})},$$slots:{default:!0}})});var n=B(o,2),s=M(n);zt(s,{get id(){return t.inscription.file},get title(){return t.inscription.title},children:(j,R)=>{Ee();var O=Ie();K(()=>te(O,t.inscription.title)),E(j,O)},$$slots:{default:!0}}),N(n);var i=B(n,2),c=M(i);ao(c,{get date(){return t.inscription.date}});var d=B(c,2);Co(d,{get inscription(){return t.inscription}}),N(i);var u=B(i,2),g=B(M(u),2),_=M(g),b=M(_);zt(b,{get id(){return t.inscription.file},children:(j,R)=>{Ee();var O=Ie();K(()=>te(O,t.inscription.file)),E(j,O)},$$slots:{default:!0}}),N(_),N(g);var k=B(g,4),f=M(k,!0);N(k);var v=B(k,4);se(v,()=>{var j;return(j=t.inscription.type)==null?void 0:j.ref},j=>{var R=Va(),O=M(R),x=M(O,!0);N(O),N(R),K(()=>{var w;De(O,"href",t.inscription.type.ref),te(x,(w=t.inscription.type)==null?void 0:w._)}),E(j,R)},j=>{var R=Ha(),O=M(R,!0);N(R),K(()=>{var x;return te(O,((x=t.inscription.type)==null?void 0:x._)||"N/A")}),E(j,R)});var p=B(v,4);se(p,()=>{var j;return(j=t.inscription.objectType)==null?void 0:j.ref},j=>{var R=Ja(),O=M(R),x=M(O,!0);N(O),N(R),K(()=>{var w;De(O,"href",t.inscription.objectType.ref),te(x,(w=t.inscription.objectType)==null?void 0:w._)}),E(j,R)},j=>{var R=Ga(),O=M(R,!0);N(R),K(()=>{var x;return te(O,((x=t.inscription.objectType)==null?void 0:x._)||"N/A")}),E(j,R)});var $=B(p,4),T=M($,!0);N($),N(u),N(r),K(()=>{var j;te(f,t.inscription.status),te(T,((j=t.inscription.textLang)==null?void 0:j._)||"N/A")}),E(e,r),Se()}var Ya=V('<li class="svelte-p3hpfg"><!></li>'),Qa=V('<ol class="inscription-list svelte-p3hpfg"></ol>');function Za(e,t){var r=Qa();Ue(r,21,()=>t.inscriptions,Ye,(o,n)=>{var s=Ya(),i=M(s);Xa(i,{get inscription(){return h(n)}}),N(s),E(o,s)}),N(r),E(e,r)}var ec=V("<span> </span>"),tc=V('<div class="marker svelte-mhd10g" role="img"><!></div>'),rc=V('<div class="inscription-map svelte-mhd10g"><!></div>');function nc(e,t){xe(t,!0);const{Map:r,Marker:o,NavigationControl:n,Popup:s}=ys;let i=ee(t,"mapStyle",19,()=>ds),c=ee(t,"show",3,!0),d=Fe(void 0),u=Fe(void 0),g=Fe(ue([])),_=pe(()=>t.inscriptions.filter($=>$.geo).reduce(($,T)=>{if(!T.geo||T.geo.length!==2)return $;const j=T.geo.join("_");return $[j]||($[j]=[]),$[j].push(T),$},{})),b=pe(()=>Object.entries(h(_)).map(([$,T])=>{const j=T[0].geo,R=T.length;let O="single";return R>100?O="lg":R>25?O="md":R>1&&(O="sm"),{coords:[j[1],j[0]],markerSize:O,numberInscriptions:R,inscriptions:T}}));function k($,{coords:T,inscriptions:j}){const R=new s,O=()=>{const w=f(j);R.setHTML(w)};O();const x=new o({element:$}).setLngLat(T).setPopup(R).addTo(h(d));return h(g).push(x),{destroy(){x==null||x.remove(),Y(g,ue(h(g).filter(w=>w!==x)))},update({coords:w,inscriptions:A}){j=A,O(),x.setLngLat(w)}}}function f($){const T=$.reduce((O,x)=>(x.places[0]&&(O[x.places[0]._]||(O[x.places[0]._]=[]),O[x.places[0]._].push(x)),O),{});let j='<div class="tooltip">';const R=Object.entries(T).map(([O,x])=>{let w=`<dt>${O}</dt>`,A=x.map(C=>`<dd><a href="inscription/${C.file}">${C.title}</a></dd>`).join("");return`${w}${A}`}).join("");return`${j}<dl>${R}</dl></div>`}lo(async()=>{Y(d,ue(new r({container:h(u),style:i(),center:[14.01535,37.59999],zoom:7}))),h(d).addControl(new n({showCompass:!0,showZoom:!0}))}),co(async()=>{h(d)&&(h(d).remove(),Y(d,void 0),Y(u,void 0))});var v=ne(),p=G(v);se(p,c,$=>{var T=rc(),j=M(T);se(j,()=>h(d)&&h(b),R=>{var O=ne(),x=G(O);Ue(x,17,()=>h(b),Ye,(w,A)=>{var C=tc(),F=M(C);se(F,()=>h(A).numberInscriptions>1,W=>{var I=ec(),U=M(I,!0);N(I),K(()=>te(U,h(A).numberInscriptions)),E(W,I)}),N(C),st(C,(W,I)=>k(W,I),()=>({coords:h(A).coords,inscriptions:h(A).inscriptions})),K(()=>{De(C,"aria-label",`Map marker for ${h(A).inscriptions[0].title}`),Ut(C,"single",h(A).markerSize==="single"),Ut(C,"sm",h(A).markerSize==="sm"),Ut(C,"md",h(A).markerSize==="md"),Ut(C,"lg",h(A).markerSize==="lg")}),E(w,C)}),E(R,O)}),N(T),nt(T,R=>Y(u,R),()=>h(u)),E($,T)}),E(e,v),Se()}var oc=V("<span>...</span>"),sc=V('<div class="pagination svelte-1pdb2ke"><!> <div class="pages svelte-1pdb2ke"></div> <!></div> <p class="svelte-1pdb2ke"> </p>',1);function pn(e,t){var r=ne(),o=G(r);se(o,()=>t.count>0,n=>{var s=ne(),i=G(s);ke(i,()=>Ws,(c,d)=>{d(c,{get page(){return t.page},get count(){return t.count},get perPage(){return t.perPage},get onPageChange(){return t.onPageChange},children:(g,_)=>{let b=()=>_==null?void 0:_().pages,k=()=>_==null?void 0:_().range;var f=sc(),v=G(f),p=M(v);ke(p,()=>Us,(x,w)=>{w(x,{children:(A,C)=>{ri(A,{})},$$slots:{default:!0}})});var $=B(p,2);Ue($,21,b,x=>x.key,(x,w)=>{var A=ne(),C=G(A);se(C,()=>h(w).type==="ellipsis",F=>{var W=oc();E(F,W)},F=>{var W=ne(),I=G(W);ke(I,()=>Hs,(U,H)=>{H(U,{get page(){return h(w)},children:(Z,m)=>{Ee();var a=Ie();K(()=>te(a,h(w).value)),E(Z,a)},$$slots:{default:!0}})}),E(F,W)}),E(x,A)}),N($);var j=B($,2);ke(j,()=>qs,(x,w)=>{w(x,{children:(A,C)=>{ni(A,{})},$$slots:{default:!0}})}),N(v);var R=B(v,2),O=M(R);N(R),K(()=>te(O,`Showing ${k().start+1} - ${k().end??""}`)),E(g,f)},$$slots:{default:!0}})}),E(n,s)}),E(e,r)}var ic=V("<a> </a>"),ac=V("<a> </a>"),cc=V("<tr><td><!></td><td><!></td><td><!></td><td><!></td><td> </td><td><!></td><td><!></td><td> </td><td> </td></tr>");function lc(e,t){xe(t,!0);var r=cc(),o=M(r),n=M(o);zt(n,{get id(){return t.inscription.file},children:(O,x)=>{Ee();var w=Ie();K(()=>te(w,t.inscription.file)),E(O,w)},$$slots:{default:!0}}),N(o);var s=B(o),i=M(s);zt(i,{get id(){return t.inscription.file},children:(O,x)=>{Ee();var w=Ie();K(()=>te(w,t.inscription.title)),E(O,w)},$$slots:{default:!0}}),N(s);var c=B(s),d=M(c);ao(d,{get date(){return t.inscription.date}}),N(c);var u=B(c),g=M(u);Co(g,{get inscription(){return t.inscription}}),N(u);var _=B(u),b=M(_,!0);N(_);var k=B(_),f=M(k);se(f,()=>{var O;return(O=t.inscription.type)==null?void 0:O.ref},O=>{var x=ic(),w=M(x,!0);N(x),K(()=>{var A;De(x,"href",t.inscription.type.ref),te(w,(A=t.inscription.type)==null?void 0:A._)}),E(O,x)},O=>{var x=Ie();K(()=>{var w;return te(x,((w=t.inscription.type)==null?void 0:w._)||"N/A")}),E(O,x)}),N(k);var v=B(k),p=M(v);se(p,()=>{var O;return(O=t.inscription.objectType)==null?void 0:O.ref},O=>{var x=ac(),w=M(x,!0);N(x),K(()=>{var A;De(x,"href",t.inscription.objectType.ref),te(w,(A=t.inscription.objectType)==null?void 0:A._)}),E(O,x)},O=>{var x=Ie();K(()=>{var w;return te(x,((w=t.inscription.objectType)==null?void 0:w._)||"N/A")}),E(O,x)}),N(v);var $=B(v),T=M($,!0);N($);var j=B($),R=M(j,!0);N(j),N(r),K(()=>{var O;te(b,t.inscription.status),te(T,((O=t.inscription.textLang)==null?void 0:O._)||"N/A"),te(R,t.inscription.settlement||"N/A")}),E(e,r),Se()}var uc=V('<table class="svelte-g7in6g"><thead><tr><th>ID</th><th>Title</th><th>Date</th><th>Place</th><th>Status</th><th>Type</th><th>Object type</th><th>Language</th><th>Settlement</th></tr></thead><!></table>');function dc(e,t){var r=uc(),o=B(M(r));Ue(o,17,()=>t.inscriptions,Ye,(n,s)=>{lc(n,{get inscription(){return h(s)}})}),N(r),E(e,r)}let Ht=String.fromCharCode,No="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",Jt={};function fc(e,t){if(!Jt[e]){Jt[e]={};for(let r=0;r<e.length;r++)Jt[e][e.charAt(r)]=r}return Jt[e][t]}function hc(e){return e==null?"":pc(e,6,function(t){return No.charAt(t)})}function gc(e){return e==null?"":e==""?null:mc((e=e.replace(/ /g,"+")).length,32,function(t){return fc(No,e.charAt(t))})}function pc(e,t,r){if(e==null)return"";let o,n,s={},i={},c="",d="",u="",g=2,_=3,b=2,k=[],f=0,v=0,p;for(p=0;p<e.length;p+=1)if(c=e.charAt(p),Object.prototype.hasOwnProperty.call(s,c)||(s[c]=_++,i[c]=!0),d=u+c,Object.prototype.hasOwnProperty.call(s,d))u=d;else{if(Object.prototype.hasOwnProperty.call(i,u)){if(256>u.charCodeAt(0)){for(o=0;o<b;o++)f<<=1,v==t-1?(v=0,k.push(r(f)),f=0):v++;for(o=0,n=u.charCodeAt(0);o<8;o++)f=f<<1|1&n,v==t-1?(v=0,k.push(r(f)),f=0):v++,n>>=1}else{for(o=0,n=1;o<b;o++)f=f<<1|n,v==t-1?(v=0,k.push(r(f)),f=0):v++,n=0;for(o=0,n=u.charCodeAt(0);o<16;o++)f=f<<1|1&n,v==t-1?(v=0,k.push(r(f)),f=0):v++,n>>=1}--g==0&&(g=Math.pow(2,b),b++),delete i[u]}else for(o=0,n=s[u];o<b;o++)f=f<<1|1&n,v==t-1?(v=0,k.push(r(f)),f=0):v++,n>>=1;--g==0&&(g=Math.pow(2,b),b++),s[d]=_++,u=String(c)}if(u!==""){if(Object.prototype.hasOwnProperty.call(i,u)){if(256>u.charCodeAt(0)){for(o=0;o<b;o++)f<<=1,v==t-1?(v=0,k.push(r(f)),f=0):v++;for(o=0,n=u.charCodeAt(0);o<8;o++)f=f<<1|1&n,v==t-1?(v=0,k.push(r(f)),f=0):v++,n>>=1}else{for(o=0,n=1;o<b;o++)f=f<<1|n,v==t-1?(v=0,k.push(r(f)),f=0):v++,n=0;for(o=0,n=u.charCodeAt(0);o<16;o++)f=f<<1|1&n,v==t-1?(v=0,k.push(r(f)),f=0):v++,n>>=1}--g==0&&(g=Math.pow(2,b),b++),delete i[u]}else for(o=0,n=s[u];o<b;o++)f=f<<1|1&n,v==t-1?(v=0,k.push(r(f)),f=0):v++,n>>=1;--g==0&&(g=Math.pow(2,b),b++)}for(o=0,n=2;o<b;o++)f=f<<1|1&n,v==t-1?(v=0,k.push(r(f)),f=0):v++,n>>=1;for(;;){if(f<<=1,v==t-1){k.push(r(f));break}v++}return k.join("")}function mc(e,t,r){let o=[],n=4,s=4,i=3,c="",d=[],u,g,_,b,k,f,v,p={val:r(0),position:t,index:1};for(u=0;u<3;u+=1)o[u]=u;for(_=0,k=4,f=1;f!=k;)b=p.val&p.position,p.position>>=1,p.position==0&&(p.position=t,p.val=r(p.index++)),_|=(b>0?1:0)*f,f<<=1;switch(_){case 0:for(_=0,k=256,f=1;f!=k;)b=p.val&p.position,p.position>>=1,p.position==0&&(p.position=t,p.val=r(p.index++)),_|=(b>0?1:0)*f,f<<=1;v=Ht(_);break;case 1:for(_=0,k=65536,f=1;f!=k;)b=p.val&p.position,p.position>>=1,p.position==0&&(p.position=t,p.val=r(p.index++)),_|=(b>0?1:0)*f,f<<=1;v=Ht(_);break;case 2:return""}for(o[3]=v,g=v,d.push(v);;){if(p.index>e)return"";for(_=0,k=Math.pow(2,i),f=1;f!=k;)b=p.val&p.position,p.position>>=1,p.position==0&&(p.position=t,p.val=r(p.index++)),_|=(b>0?1:0)*f,f<<=1;switch(v=_){case 0:for(_=0,k=256,f=1;f!=k;)b=p.val&p.position,p.position>>=1,p.position==0&&(p.position=t,p.val=r(p.index++)),_|=(b>0?1:0)*f,f<<=1;o[s++]=Ht(_),v=s-1,n--;break;case 1:for(_=0,k=65536,f=1;f!=k;)b=p.val&p.position,p.position>>=1,p.position==0&&(p.position=t,p.val=r(p.index++)),_|=(b>0?1:0)*f,f<<=1;o[s++]=Ht(_),v=s-1,n--;break;case 2:return d.join("")}if(n==0&&(n=Math.pow(2,i),i++),o[v])c=o[v];else{if(v!==s)return null;c=g+g.charAt(0)}d.push(c),o[s++]=g+c.charAt(0),n--,g=c,n==0&&(n=Math.pow(2,i),i++)}}let Ro;Ro=ks;const vc={keepFocus:!0,noScroll:!0,replaceState:!0},yc={keepFocus:!0,noScroll:!0,replaceState:!1};function mr(e,t,r=(o,n)=>JSON.stringify(o)===JSON.stringify(n)){return typeof e=="object"&&typeof t=="object"&&r(e,t)}const Gt={object:e=>({encode:t=>JSON.stringify(t),decode:t=>{if(t===null)return null;try{return JSON.parse(t)}catch{return null}},defaultValue:e}),array:e=>({encode:t=>JSON.stringify(t),decode:t=>{if(t===null)return null;try{return JSON.parse(t)}catch{return null}},defaultValue:e}),number:e=>({encode:t=>t.toString(),decode:t=>t?parseFloat(t):null,defaultValue:e}),boolean:e=>({encode:t=>t+"",decode:t=>t!==null&&t!=="false",defaultValue:e}),string:e=>({encode:t=>t??"",decode:t=>t,defaultValue:e}),lz:e=>({encode:t=>hc(JSON.stringify(t)),decode:t=>{if(!t)return null;try{return JSON.parse(gc(t)??"")}catch{return null}},defaultValue:e})},vr=new Set;let mn;const vn=new Map,yr={encode:e=>e.toString(),decode:e=>e?e.toString():null};function Kt(e,{encode:t=yr.encode,decode:r=yr.decode,defaultValue:o}=yr,{debounceHistory:n=0,pushHistory:s=!0,sort:i=!0,showDefaults:c=!0,equalityFn:d}={}){const u=dt(null);let g=!0,_;function b(f,v){g=!1;const p=window.location.hash,$=j=>{if(f==null)j.delete(e);else{const R=t(f);R==null?j.delete(e):j.set(e,R)}};vr.add($),clearTimeout(mn);const T=new URLSearchParams(window.location.search);mn=setTimeout(async()=>{vr.forEach(j=>{j(T)}),clearTimeout(vn.get(e));{u.set(f);async function j(){i&&T.sort(),await Ss(`?${T}${p}`,s?yc:vc),u.set(null)}v||n===0?j():vn.set(e,setTimeout(j,n))}vr.clear()})}const{subscribe:k}=Nt([Ro,u],([f,v],p)=>{var j,R,O;if(v!=null)return mr(_,v,d)?void 0:(_=structuredClone(v),p(v));const $=(O=(R=(j=f==null?void 0:f.url)==null?void 0:j.searchParams)==null?void 0:R.get)==null?void 0:O.call(R,e);if($==null&&o!=null)return c&&b(o,g),mr(_,o,d)?void 0:(_=structuredClone(o),p(o));const T=r($);if(!mr(_,T,d))return _=structuredClone(T),p(T)});return{set(f){b(f)},subscribe:k,update:f=>{const v=f(_);b(v)}}}var bc="Expected a function",yn=NaN,_c="[object Symbol]",wc=/^\s+|\s+$/g,xc=/^[-+]0x[0-9a-f]+$/i,Sc=/^0b[01]+$/i,kc=/^0o[0-7]+$/i,$c=parseInt,jc=typeof Dt=="object"&&Dt&&Dt.Object===Object&&Dt,Oc=typeof self=="object"&&self&&self.Object===Object&&self,Pc=jc||Oc||Function("return this")(),Ac=Object.prototype,zc=Ac.toString,Ec=Math.max,Tc=Math.min,br=function(){return Pc.Date.now()};function Cc(e,t,r){var o,n,s,i,c,d,u=0,g=!1,_=!1,b=!0;if(typeof e!="function")throw new TypeError(bc);t=bn(t)||0,Ar(r)&&(g=!!r.leading,_="maxWait"in r,s=_?Ec(bn(r.maxWait)||0,t):s,b="trailing"in r?!!r.trailing:b);function k(x){var w=o,A=n;return o=n=void 0,u=x,i=e.apply(A,w),i}function f(x){return u=x,c=setTimeout($,t),g?k(x):i}function v(x){var w=x-d,A=x-u,C=t-w;return _?Tc(C,s-A):C}function p(x){var w=x-d,A=x-u;return d===void 0||w>=t||w<0||_&&A>=s}function $(){var x=br();if(p(x))return T(x);c=setTimeout($,v(x))}function T(x){return c=void 0,b&&o?k(x):(o=n=void 0,i)}function j(){c!==void 0&&clearTimeout(c),u=0,o=d=n=c=void 0}function R(){return c===void 0?i:T(br())}function O(){var x=br(),w=p(x);if(o=arguments,n=this,d=x,w){if(c===void 0)return f(d);if(_)return c=setTimeout($,t),k(d)}return c===void 0&&(c=setTimeout($,t)),i}return O.cancel=j,O.flush=R,O}function Ar(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Nc(e){return!!e&&typeof e=="object"}function Rc(e){return typeof e=="symbol"||Nc(e)&&zc.call(e)==_c}function bn(e){if(typeof e=="number")return e;if(Rc(e))return yn;if(Ar(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ar(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(wc,"");var r=Sc.test(e);return r||kc.test(e)?$c(e.slice(2),r?2:8):xc.test(e)?yn:+e}var Mc=Cc;const Ic=bs(Mc);var Lc=V('<label class="svelte-1sigsrd"><input type="radio" name="sort-aggregations"> </label>'),Fc=V('<span class="slider-track"><!></span> <!>',1),Wc=V('<section class="filter-group svelte-1sigsrd"><h3 class="svelte-1sigsrd">Date</h3> <div class="slider"><!></div> <div class="date-inputs svelte-1sigsrd"><label>Not before <input type="number"></label> <span>–</span> <label><input type="number"> Not after</label></div></section>'),Bc=V('<input type="text" placeholder="Filter options..." class="filter-input svelte-1sigsrd">'),Uc=V('<li><label><input type="checkbox"> </label></li>'),Dc=V('<section class="filter-group svelte-1sigsrd"><h3 class="svelte-1sigsrd"> </h3> <!> <ul class="svelte-1sigsrd"></ul></section>'),qc=V('<aside class="filters svelte-1sigsrd" tabindex="-1"><!> <section class="svelte-1sigsrd"><h2 class="svelte-1sigsrd">Filters</h2> <section class="filters-options svelte-1sigsrd"><h3 class="svelte-1sigsrd">Options</h3> <form><fieldset class="svelte-1sigsrd"><legend>Sort filters by</legend> <!></fieldset></form></section> <section class="filters-groups svelte-1sigsrd"><!> <!></section></section></aside>');function Vc(e,t){xe(t,!0);const r=[],o=[];let n=ee(t,"show",7,!1),s=ee(t,"aggregations",19,()=>({})),i=ee(t,"sortAggregationsBy",15,"key"),c=ee(t,"selectedDateRange",31,()=>ue([-700,1830])),d=ee(t,"selectedFilters",31,()=>ue({}));const u=[{label:"Value",value:"key"},{label:"Count",value:"count"}];let g=Fe(ue(c()));const _=Ic(O=>{c(O)},300);Or(()=>{_([...h(g)])});let b=ue({}),k=Fe(null);function f(O){var x;Y(k,ue(document.activeElement)),(x=O.currentTarget)==null||x.focus()}function v(){n(!1)}function p(){h(k)&&h(k).focus()}function $(O,x){var A;const w=((A=b[x])==null?void 0:A.toLowerCase())||"";return w?O.filter(C=>C.key.toLowerCase().includes(w)):O}function T(O){if(O.indexOf(":::")==-1)return O;const x=O.split(":::"),w=x.length;return i()==="count"?x.pop()||"":`${"+".repeat(w-1)} ${x.pop()}`}var j=ne(),R=G(j);se(R,n,O=>{var x=qc(),w=M(x);ke(w,()=>Ze,(m,a)=>{a(m,{class:"close-button",onclick:v,"aria-label":"Close filters",children:(l,y)=>{Ee();var S=Ie("×");E(l,S)},$$slots:{default:!0}})});var A=B(w,2),C=B(M(A),2),F=B(M(C),2),W=M(F),I=B(M(W),2);Ue(I,17,()=>u,Ye,(m,a)=>{var l=Lc(),y=M(l);yt(y);var S,P=B(y);N(l),K(()=>{S!==(S=h(a).value)&&(y.value=(y.__value=h(a).value)==null?"":h(a).value),te(P,` ${h(a).label??""}`)}),nn(r,[],y,()=>(h(a).value,i()),i),E(m,l)}),N(W),N(F),N(C);var U=B(C,2),H=M(U);se(H,()=>{var m;return(m=s())==null?void 0:m.notBefore},m=>{var a=Wc(),l=B(M(a),2),y=M(l);ke(y,()=>Ks,(q,ie)=>{ie(q,{class:"slider-root",min:-700,max:1830,step:1,get value(){return h(g)},set value(de){Y(g,ue(de))},children:is,$$slots:{default:(de,ce)=>{const he=pe(()=>ce.thumbs);var be=Fc(),ve=G(be),$e=M(ve);ke($e,()=>Ys,(Ce,L)=>{L(Ce,{class:"slider-range"})}),N(ve);var Te=B(ve,2);Ue(Te,17,()=>h(he),Ye,(Ce,L,X)=>{var ye=ne(),Ne=G(ye);ke(Ne,()=>Zs,(Re,mt)=>{mt(Re,{get thumb(){return h(L)},class:"slider-thumb","aria-label":`${X===0?"Not before":"Not after"}`})}),E(Ce,ye)}),E(de,be)}}})}),N(l);var S=B(l,2),P=M(S),z=B(M(P));yt(z),De(z,"min",-700),De(z,"max",1811),N(P);var D=B(P,4),re=M(D);yt(re),De(re,"min",-675),De(re,"max",1830),Ee(),N(D),N(S),N(a),er(z,()=>h(g)[0],q=>h(g)[0]=q),er(re,()=>h(g)[1],q=>h(g)[1]=q),E(m,a)});var Z=B(H,2);Ue(Z,17,()=>Object.keys(d()),Ye,(m,a,l)=>{var y=ne(),S=G(y);se(S,()=>h(a)in s()&&s()[h(a)].title,P=>{var z=Dc(),D=M(z),re=M(D);N(D);var q=B(D,2);se(q,()=>s()[h(a)].buckets.length>20,de=>{var ce=Bc();yt(ce),er(ce,()=>b[h(a)],he=>b[h(a)]=he),E(de,ce)});var ie=B(q,2);Ue(ie,21,()=>$(s()[h(a)].buckets,h(a)),Ye,(de,ce)=>{var he=Uc(),be=M(he),ve=M(be);yt(ve);var $e,Te=B(ve);K(()=>te(Te,` ${T(h(ce).key)??""} (${h(ce).doc_count??""})`)),N(be),N(he),K(()=>{$e!==($e=h(ce).key)&&(ve.value=(ve.__value=h(ce).key)==null?"":h(ce).key)}),nn(o,[l],ve,()=>(h(ce).key,d()[h(a)]),Ce=>d(d()[h(a)]=Ce,!0)),E(de,he)}),N(ie),N(z),K(()=>te(re,`${s()[h(a)].title??""} (${s()[h(a)].buckets.length??""})`)),E(P,z)}),E(m,y)}),N(U),N(A),N(x),We("introend",x,f),We("outroend",x,p),Pt(3,x,()=>hs,()=>({axis:"x",duration:300})),E(O,x)}),E(e,j),Se()}var Hc=V(", matching <em> </em>",1),Jc=V('<span class="svelte-eb26nt"> <em> </em></span>'),Gc=V(', filtered by <span class="selected-filters svelte-eb26nt"></span>',1),Kc=V('<h2 class="svelte-eb26nt"><em> </em> Inscriptions between <em> </em> – <em> </em> across <em> </em> locations<!><!></h2>');function Xc(e,t){xe(t,!0);let r=pe(()=>Object.values(t.filters).some(f=>f.length>0));var o=Kc(),n=M(o),s=M(n,!0);K(()=>te(s,t.total.toLocaleString())),N(n);var i=B(n,2),c=M(i,!0);K(()=>te(c,t.dateRange[0]>0?`AD ${t.dateRange[0]}`:`${Math.abs(t.dateRange[0])} BC`)),N(i);var d=B(i,2),u=M(d,!0);K(()=>te(u,t.dateRange[1]>0?`AD ${t.dateRange[1]}`:`${Math.abs(t.dateRange[1])} BC`)),N(d);var g=B(d,2),_=M(g,!0);K(()=>te(_,t.numberOfLocations.toLocaleString())),N(g);var b=B(g,2);se(b,()=>t.query,f=>{var v=Hc(),p=B(G(v)),$=M(p,!0);K(()=>te($,t.query.split(" ").join(", "))),N(p),E(f,v)});var k=B(b);se(k,()=>h(r),f=>{var v=Gc(),p=B(G(v));Ue(p,21,()=>Object.entries(t.filters).filter(([$,T])=>T.length>0),Ye,($,T)=>{let j=()=>h(T)[0],R=()=>h(T)[1];var O=Jc(),x=M(O),w=B(x),A=M(w,!0);K(()=>te(A,R().join(", ").replaceAll("_"," ").replaceAll(":::"," "))),N(w),N(O),K(()=>te(x,`${j()??""}: `)),E($,O)}),N(p),E(f,v)}),N(o),E(e,o),Se()}var Mo=typeof global=="object"&&global&&global.Object===Object&&global,Yc=typeof self=="object"&&self&&self.Object===Object&&self,qe=Mo||Yc||Function("return this")(),Le=qe.Symbol,Io=Object.prototype,Qc=Io.hasOwnProperty,Zc=Io.toString,jt=Le?Le.toStringTag:void 0,el=Object.prototype.toString,tl="[object Null]",rl="[object Undefined]",_n=Le?Le.toStringTag:void 0;function St(e){return e==null?e===void 0?rl:tl:_n&&_n in Object(e)?function(t){var r=Qc.call(t,jt),o=t[jt];try{t[jt]=void 0;var n=!0}catch{}var s=Zc.call(t);return n&&(r?t[jt]=o:delete t[jt]),s}(e):function(t){return el.call(t)}(e)}function ft(e){return e!=null&&typeof e=="object"}var nl="[object Symbol]";function Mt(e){return typeof e=="symbol"||ft(e)&&St(e)==nl}function Et(e,t){for(var r=-1,o=e==null?0:e.length,n=Array(o);++r<o;)n[r]=t(e[r],r,e);return n}var Be=Array.isArray,ol=1/0,wn=Le?Le.prototype:void 0,xn=wn?wn.toString:void 0;function Lo(e){if(typeof e=="string")return e;if(Be(e))return Et(e,Lo)+"";if(Mt(e))return xn?xn.call(e):"";var t=e+"";return t=="0"&&1/e==-ol?"-0":t}function nr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function or(e){return e}var sl="[object AsyncFunction]",il="[object Function]",al="[object GeneratorFunction]",cl="[object Proxy]";function Fo(e){if(!nr(e))return!1;var t=St(e);return t==il||t==al||t==sl||t==cl}var Sn,_r=qe["__core-js_shared__"],kn=(Sn=/[^.]+$/.exec(_r&&_r.keys&&_r.keys.IE_PROTO||""))?"Symbol(src)_1."+Sn:"",ll=Function.prototype.toString;function gt(e){if(e!=null){try{return ll.call(e)}catch{}try{return e+""}catch{}}return""}var ul=/^\[object .+?Constructor\]$/,dl=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pt(e,t){var r=function(o,n){return o==null?void 0:o[n]}(e,t);return function(o){return!(!nr(o)||(n=o,kn&&kn in n))&&(Fo(o)?dl:ul).test(gt(o));var n}(r)?r:void 0}var $n,wr,xr,zr=pt(qe,"WeakMap"),fl=Date.now,hl=function(){try{var e=pt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),jn=hl,gl=jn?function(e,t){return jn(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:or,pl=($n=gl,wr=0,xr=0,function(){var e=fl(),t=16-(e-xr);if(xr=e,t>0){if(++wr>=800)return arguments[0]}else wr=0;return $n.apply(void 0,arguments)});function ml(e){return e!=e}function vl(e,t){return!(e==null||!e.length)&&function(r,o,n){return o==o?function(s,i,c){for(var d=-1,u=s.length;++d<u;)if(s[d]===i)return d;return-1}(r,o):function(s,i,c,d){for(var u=s.length,g=-1;++g<u;)if(i(s[g],g,s))return g;return-1}(r,ml)}(e,t)>-1}var yl=9007199254740991,bl=/^(?:0|[1-9]\d*)$/;function Vr(e,t){var r=typeof e;return!!(t=t??yl)&&(r=="number"||r!="symbol"&&bl.test(e))&&e>-1&&e%1==0&&e<t}function Hr(e,t){return e===t||e!=e&&t!=t}var On=Math.max;function Wo(e,t){return pl(function(r,o,n){return o=On(o===void 0?r.length-1:o,0),function(){for(var s=arguments,i=-1,c=On(s.length-o,0),d=Array(c);++i<c;)d[i]=s[o+i];i=-1;for(var u=Array(o+1);++i<o;)u[i]=s[i];return u[o]=n(d),function(g,_,b){switch(b.length){case 0:return g.call(_);case 1:return g.call(_,b[0]);case 2:return g.call(_,b[0],b[1]);case 3:return g.call(_,b[0],b[1],b[2])}return g.apply(_,b)}(r,this,u)}}(e,t,or),e+"")}var _l=9007199254740991;function Jr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=_l}function Lt(e){return e!=null&&Jr(e.length)&&!Fo(e)}function Pn(e,t,r){if(!nr(r))return!1;var o=typeof t;return!!(o=="number"?Lt(r)&&Vr(t,r.length):o=="string"&&t in r)&&Hr(r[t],e)}var wl=Object.prototype;function xl(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||wl)}function An(e){return ft(e)&&St(e)=="[object Arguments]"}var Bo=Object.prototype,Sl=Bo.hasOwnProperty,kl=Bo.propertyIsEnumerable,Gr=An(function(){return arguments}())?An:function(e){return ft(e)&&Sl.call(e,"callee")&&!kl.call(e,"callee")},Uo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,zn=Uo&&typeof module=="object"&&module&&!module.nodeType&&module,En=zn&&zn.exports===Uo?qe.Buffer:void 0,Er=(En?En.isBuffer:void 0)||function(){return!1},le={};function Do(e){return function(t){return e(t)}}le["[object Float32Array]"]=le["[object Float64Array]"]=le["[object Int8Array]"]=le["[object Int16Array]"]=le["[object Int32Array]"]=le["[object Uint8Array]"]=le["[object Uint8ClampedArray]"]=le["[object Uint16Array]"]=le["[object Uint32Array]"]=!0,le["[object Arguments]"]=le["[object Array]"]=le["[object ArrayBuffer]"]=le["[object Boolean]"]=le["[object DataView]"]=le["[object Date]"]=le["[object Error]"]=le["[object Function]"]=le["[object Map]"]=le["[object Number]"]=le["[object Object]"]=le["[object RegExp]"]=le["[object Set]"]=le["[object String]"]=le["[object WeakMap]"]=!1;var qo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Tt=qo&&typeof module=="object"&&module&&!module.nodeType&&module,Sr=Tt&&Tt.exports===qo&&Mo.process,wt=function(){try{return Tt&&Tt.require&&Tt.require("util").types||Sr&&Sr.binding&&Sr.binding("util")}catch{}}(),Tn=wt&&wt.isTypedArray,Vo=Tn?Do(Tn):function(e){return ft(e)&&Jr(e.length)&&!!le[St(e)]},$l=Object.prototype.hasOwnProperty;function jl(e,t){var r=Be(e),o=!r&&Gr(e),n=!r&&!o&&Er(e),s=!r&&!o&&!n&&Vo(e),i=r||o||n||s,c=i?function(g,_){for(var b=-1,k=Array(g);++b<g;)k[b]=_(b);return k}(e.length,String):[],d=c.length;for(var u in e)!$l.call(e,u)||i&&(u=="length"||n&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Vr(u,d))||c.push(u);return c}function Ol(e,t){return function(r){return e(t(r))}}var Pl=Ol(Object.keys,Object),Al=Object.prototype.hasOwnProperty;function Kr(e){return Lt(e)?jl(e):function(t){if(!xl(t))return Pl(t);var r=[];for(var o in Object(t))Al.call(t,o)&&o!="constructor"&&r.push(o);return r}(e)}var zl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,El=/^\w*$/;function Tr(e,t){if(Be(e))return!1;var r=typeof e;return!(r!="number"&&r!="symbol"&&r!="boolean"&&e!=null&&!Mt(e))||El.test(e)||!zl.test(e)||t!=null&&e in Object(t)}var Ot=pt(Object,"create"),Tl=Object.prototype.hasOwnProperty,Cl=Object.prototype.hasOwnProperty;function lt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}function Xt(e,t){for(var r=e.length;r--;)if(Hr(e[r][0],t))return r;return-1}lt.prototype.clear=function(){this.__data__=Ot?Ot(null):{},this.size=0},lt.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},lt.prototype.get=function(e){var t=this.__data__;if(Ot){var r=t[e];return r==="__lodash_hash_undefined__"?void 0:r}return Tl.call(t,e)?t[e]:void 0},lt.prototype.has=function(e){var t=this.__data__;return Ot?t[e]!==void 0:Cl.call(t,e)},lt.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ot&&t===void 0?"__lodash_hash_undefined__":t,this};var Nl=Array.prototype.splice;function Ke(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}Ke.prototype.clear=function(){this.__data__=[],this.size=0},Ke.prototype.delete=function(e){var t=this.__data__,r=Xt(t,e);return!(r<0||(r==t.length-1?t.pop():Nl.call(t,r,1),--this.size,0))},Ke.prototype.get=function(e){var t=this.__data__,r=Xt(t,e);return r<0?void 0:t[r][1]},Ke.prototype.has=function(e){return Xt(this.__data__,e)>-1},Ke.prototype.set=function(e,t){var r=this.__data__,o=Xt(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this};var It=pt(qe,"Map");function Yt(e,t){var r,o,n=e.__data__;return((o=typeof(r=t))=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null)?n[typeof t=="string"?"string":"hash"]:n.map}function Ge(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}function Xr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var r=function(){var o=arguments,n=t?t.apply(this,o):o[0],s=r.cache;if(s.has(n))return s.get(n);var i=e.apply(this,o);return r.cache=s.set(n,i)||s,i};return r.cache=new(Xr.Cache||Ge),r}Ge.prototype.clear=function(){this.size=0,this.__data__={hash:new lt,map:new(It||Ke),string:new lt}},Ge.prototype.delete=function(e){var t=Yt(this,e).delete(e);return this.size-=t?1:0,t},Ge.prototype.get=function(e){return Yt(this,e).get(e)},Ge.prototype.has=function(e){return Yt(this,e).has(e)},Ge.prototype.set=function(e,t){var r=Yt(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this},Xr.Cache=Ge;var kr,$r,Rl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ml=/\\(\\)?/g,Il=(kr=Xr(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Rl,function(r,o,n,s){t.push(n?s.replace(Ml,"$1"):o||r)}),t},function(e){return $r.size===500&&$r.clear(),e}),$r=kr.cache,kr);function Ho(e,t){return Be(e)?e:Tr(e,t)?[e]:Il(function(r){return r==null?"":Lo(r)}(e))}var Ll=1/0;function tr(e){if(typeof e=="string"||Mt(e))return e;var t=e+"";return t=="0"&&1/e==-Ll?"-0":t}function Cr(e,t){for(var r=0,o=(t=Ho(t,e)).length;e!=null&&r<o;)e=e[tr(t[r++])];return r&&r==o?e:void 0}function Jo(e,t){for(var r=-1,o=t.length,n=e.length;++r<o;)e[n+r]=t[r];return e}var Cn=Le?Le.isConcatSpreadable:void 0;function Fl(e){return Be(e)||Gr(e)||!!(Cn&&e&&e[Cn])}function Wl(e,t,r,o,n){var s=-1,i=e.length;for(r||(r=Fl),n||(n=[]);++s<i;){var c=e[s];r(c)?Jo(n,c):n[n.length]=c}return n}function Xe(e){var t=this.__data__=new Ke(e);this.size=t.size}Xe.prototype.clear=function(){this.__data__=new Ke,this.size=0},Xe.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Xe.prototype.get=function(e){return this.__data__.get(e)},Xe.prototype.has=function(e){return this.__data__.has(e)},Xe.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ke){var o=r.__data__;if(!It||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ge(o)}return r.set(e,t),this.size=r.size,this};var Go=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Nn=Go&&typeof module=="object"&&module&&!module.nodeType&&module,Rn=Nn&&Nn.exports===Go?qe.Buffer:void 0;Rn&&Rn.allocUnsafe;function Bl(){return[]}var Ul=Object.prototype.propertyIsEnumerable,Mn=Object.getOwnPropertySymbols,Dl=Mn?function(e){return e==null?[]:(e=Object(e),function(t,r){for(var o=-1,n=t==null?0:t.length,s=0,i=[];++o<n;){var c=t[o];Ul.call(e,c)&&(i[s++]=c)}return i}(Mn(e)))}:Bl,ql=Dl;function Vl(e,t,r){var o=t(e);return Be(e)?o:Jo(o,r(e))}function In(e){return Vl(e,Kr,ql)}var Nr=pt(qe,"DataView"),Rr=pt(qe,"Promise"),Mr=pt(qe,"Set"),Ln="[object Map]",Fn="[object Promise]",Wn="[object Set]",Bn="[object WeakMap]",Un="[object DataView]",Hl=gt(Nr),Jl=gt(It),Gl=gt(Rr),Kl=gt(Mr),Xl=gt(zr),ct=St;(Nr&&ct(new Nr(new ArrayBuffer(1)))!=Un||It&&ct(new It)!=Ln||Rr&&ct(Rr.resolve())!=Fn||Mr&&ct(new Mr)!=Wn||zr&&ct(new zr)!=Bn)&&(ct=function(e){var t=St(e),r=t=="[object Object]"?e.constructor:void 0,o=r?gt(r):"";if(o)switch(o){case Hl:return Un;case Jl:return Ln;case Gl:return Fn;case Kl:return Wn;case Xl:return Bn}return t});var Dn=ct,qn=qe.Uint8Array,Vn=Le?Le.prototype:void 0;Vn&&Vn.valueOf;wt&&wt.isMap;wt&&wt.isSet;function Ct(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Ge;++t<r;)this.add(e[t])}function Yl(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}function Ir(e,t){return e.has(t)}Ct.prototype.add=Ct.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ct.prototype.has=function(e){return this.__data__.has(e)};var Ql=1,Zl=2;function Hn(e,t,r,o,n,s){var i=r&Ql,c=e.length,d=t.length;if(c!=d&&!(i&&d>c))return!1;var u=s.get(e),g=s.get(t);if(u&&g)return u==t&&g==e;var _=-1,b=!0,k=r&Zl?new Ct:void 0;for(s.set(e,t),s.set(t,e);++_<c;){var f=e[_],v=t[_];if(o)var p=i?o(v,f,_,t,e,s):o(f,v,_,e,t,s);if(p!==void 0){if(p)continue;b=!1;break}if(k){if(!Yl(t,function($,T){if(!Ir(k,T)&&(f===$||n(f,$,r,o,s)))return k.push(T)})){b=!1;break}}else if(f!==v&&!n(f,v,r,o,s)){b=!1;break}}return s.delete(e),s.delete(t),b}function eu(e){var t=-1,r=Array(e.size);return e.forEach(function(o,n){r[++t]=[n,o]}),r}function tu(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}var ru=1,nu=2,ou="[object Boolean]",su="[object Date]",iu="[object Error]",au="[object Map]",cu="[object Number]",lu="[object RegExp]",uu="[object Set]",du="[object String]",fu="[object Symbol]",hu="[object ArrayBuffer]",gu="[object DataView]",Jn=Le?Le.prototype:void 0,jr=Jn?Jn.valueOf:void 0,pu=1,mu=Object.prototype.hasOwnProperty,vu=1,Gn="[object Arguments]",Kn="[object Array]",Qt="[object Object]",Xn=Object.prototype.hasOwnProperty;function Lr(e,t,r,o,n){return e===t||(e==null||t==null||!ft(e)&&!ft(t)?e!=e&&t!=t:function(s,i,c,d,u,g){var _=Be(s),b=Be(i),k=_?Kn:Dn(s),f=b?Kn:Dn(i),v=(k=k==Gn?Qt:k)==Qt,p=(f=f==Gn?Qt:f)==Qt,$=k==f;if($&&Er(s)){if(!Er(i))return!1;_=!0,v=!1}if($&&!v)return g||(g=new Xe),_||Vo(s)?Hn(s,i,c,d,u,g):function(x,w,A,C,F,W,I){switch(A){case gu:if(x.byteLength!=w.byteLength||x.byteOffset!=w.byteOffset)return!1;x=x.buffer,w=w.buffer;case hu:return!(x.byteLength!=w.byteLength||!W(new qn(x),new qn(w)));case ou:case su:case cu:return Hr(+x,+w);case iu:return x.name==w.name&&x.message==w.message;case lu:case du:return x==w+"";case au:var U=eu;case uu:if(U||(U=tu),x.size!=w.size&&!(C&ru))return!1;var H=I.get(x);if(H)return H==w;C|=nu,I.set(x,w);var Z=Hn(U(x),U(w),C,F,W,I);return I.delete(x),Z;case fu:if(jr)return jr.call(x)==jr.call(w)}return!1}(s,i,k,c,d,u,g);if(!(c&vu)){var T=v&&Xn.call(s,"__wrapped__"),j=p&&Xn.call(i,"__wrapped__");if(T||j){var R=T?s.value():s,O=j?i.value():i;return g||(g=new Xe),u(R,O,c,d,g)}}return!!$&&(g||(g=new Xe),function(x,w,A,C,F,W){var I=A&pu,U=In(x),H=U.length;if(H!=In(w).length&&!I)return!1;for(var Z=H;Z--;){var m=U[Z];if(!(I?m in w:mu.call(w,m)))return!1}var a=W.get(x),l=W.get(w);if(a&&l)return a==w&&l==x;var y=!0;W.set(x,w),W.set(w,x);for(var S=I;++Z<H;){var P=x[m=U[Z]],z=w[m];if(C)var D=I?C(z,P,m,w,x,W):C(P,z,m,x,w,W);if(!(D===void 0?P===z||F(P,z,A,C,W):D)){y=!1;break}S||(S=m=="constructor")}if(y&&!S){var re=x.constructor,q=w.constructor;re==q||!("constructor"in x)||!("constructor"in w)||typeof re=="function"&&re instanceof re&&typeof q=="function"&&q instanceof q||(y=!1)}return W.delete(x),W.delete(w),y}(s,i,c,d,u,g))}(e,t,r,o,Lr,n))}var yu=1,bu=2;function Yn(e){return e==e&&!nr(e)}function Qn(e,t){return function(r){return r!=null&&r[e]===t&&(t!==void 0||e in Object(r))}}function _u(e,t){return e!=null&&t in Object(e)}var wu=1,xu=2;function Su(e){return typeof e=="function"?e:e==null?or:typeof e=="object"?Be(e)?function(s,i){return Tr(s)&&Yn(i)?Qn(tr(s),i):function(c){var d=function(u,g,_){var b=u==null?void 0:Cr(u,g);return b===void 0?void 0:b}(c,s);return d===void 0&&d===i?function(u,g){return u!=null&&function(_,b,k){for(var f=-1,v=(b=Ho(b,_)).length,p=!1;++f<v;){var $=tr(b[f]);if(!(p=_!=null&&k(_,$)))break;_=_[$]}return p||++f!=v?p:!!(v=_==null?0:_.length)&&Jr(v)&&Vr($,v)&&(Be(_)||Gr(_))}(u,g,_u)}(c,s):Lr(i,d,wu|xu)}}(e[0],e[1]):(n=function(s){for(var i=Kr(s),c=i.length;c--;){var d=i[c],u=s[d];i[c]=[d,u,Yn(u)]}return i}(o=e),n.length==1&&n[0][2]?Qn(n[0][0],n[0][1]):function(s){return s===o||function(i,c,d,u){var g=d.length,_=g;if(i==null)return!_;for(i=Object(i);g--;){var b=d[g];if(b[2]?b[1]!==i[b[0]]:!(b[0]in i))return!1}for(;++g<_;){var k=(b=d[g])[0],f=i[k],v=b[1];if(b[2]){if(f===void 0&&!(k in i))return!1}else{var p=new Xe;if(!Lr(v,f,yu|bu,void 0,p))return!1}}return!0}(s,0,n)}):Tr(t=e)?(r=tr(t),function(s){return s==null?void 0:s[r]}):function(s){return function(i){return Cr(i,s)}}(t);var t,r,o,n}var ku=function(e,t,r){for(var o=-1,n=Object(e),s=r(e),i=s.length;i--;){var c=s[++o];if(t(n[c],c,n)===!1)break}return e};function $u(e,t){return e&&ku(e,t,Kr)}var Zn,ju=(Zn=$u,function(e,t){if(e==null)return e;if(!Lt(e))return Zn(e,t);for(var r=e.length,o=-1,n=Object(e);++o<r&&t(n[o],o,n)!==!1;);return e});function Ou(e,t){var r=-1,o=Lt(e)?Array(e.length):[];return ju(e,function(n,s,i){o[++r]=t(n,s,i)}),o}var Pu=Math.min;function Au(e){return function(t){return ft(t)&&Lt(t)}(e)?e:[]}Wo(function(e){var t=Et(e,Au);return t.length&&t[0]===e[0]?function(r,o,n){for(var s=vl,i=r[0].length,c=r.length,d=c,u=Array(c),g=1/0,_=[];d--;){var b=r[d];g=Pu(b.length,g),u[d]=i>=120&&b.length>=120?new Ct(d&&b):void 0}b=r[0];var k=-1,f=u[0];e:for(;++k<i&&_.length<g;){var v=b[k],p=v;if(v=v!==0?v:0,!(f?Ir(f,p):s(_,p,n))){for(d=c;--d;){var $=u[d];if(!($?Ir($,p):s(r[d],p,n)))continue e}f&&f.push(p),_.push(v)}}return _}(t):[]});function zu(e,t){if(e!==t){var r=e!==void 0,o=e===null,n=e==e,s=Mt(e),i=t!==void 0,c=t===null,d=t==t,u=Mt(t);if(!c&&!u&&!s&&e>t||s&&i&&d&&!c&&!u||o&&i&&d||!r&&d||!n)return 1;if(!o&&!s&&!u&&e<t||u&&r&&n&&!o&&!s||c&&r&&n||!i&&n||!d)return-1}return 0}function Eu(e,t,r){t=t.length?Et(t,function(n){return Be(n)?function(s){return Cr(s,n.length===1?n[0]:n)}:n}):[or];var o=-1;return t=Et(t,Do(Su)),function(n,s){var i=n.length;for(n.sort(function(c,d){return function(u,g,_){for(var b=-1,k=u.criteria,f=g.criteria,v=k.length,p=_.length;++b<v;){var $=zu(k[b],f[b]);if($)return b>=p?$:$*(_[b]=="desc"?-1:1)}return u.index-g.index}(c,d,r)});i--;)n[i]=n[i].value;return n}(Ou(e,function(n,s,i){return{criteria:Et(t,function(c){return c(n)}),index:++o,value:n}}))}Wo(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Pn(e,t[0],t[1])?t=[]:r>2&&Pn(t[0],t[1],t[2])&&(t=[t[0]]),Eu(e,Wl(t),[])});function Q(e){if(this.words=[],e)if(Symbol&&Symbol.iterator&&e[Symbol.iterator]!==void 0){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.add(r.value),r=t.next()}else for(let t=0;t<e.length;t++)this.add(e[t])}Q.fromWords=function(e){const t=Object.create(Q.prototype);return t.words=e,t},Q.prototype.add=function(e){this.resize(e),this.words[e>>>5]|=1<<e},Q.prototype.flip=function(e){this.resize(e),this.words[e>>>5]^=1<<e},Q.prototype.clear=function(){this.words.length=0},Q.prototype.remove=function(e){this.resize(e),this.words[e>>>5]&=~(1<<e)},Q.prototype.isEmpty=function(e){const t=this.words.length;for(let r=0;r<t;r++)if(this.words[r]!==0)return!1;return!0},Q.prototype.has=function(e){return(this.words[e>>>5]&1<<e)!=0},Q.prototype.checkedAdd=function(e){this.resize(e);const t=this.words[e>>>5],r=t|1<<e;return this.words[e>>>5]=r,(r^t)>>>e},Q.prototype.trim=function(e){let t=this.words.length;for(;t>0&&this.words[t-1]===0;)t--;this.words.length=t},Q.prototype.resize=function(e){const t=e+32>>>5;for(let r=this.words.length;r<t;r++)this.words[r]=0},Q.prototype.hammingWeight=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},Q.prototype.hammingWeight4=function(e,t,r,o){return 16843009*((e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)+(t=(t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)+(r=(r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)+(o=(o=(858993459&(o-=o>>>1&1431655765))+(o>>>2&858993459))+(o>>>4)&252645135))>>>24},Q.prototype.size=function(){let e=0;const t=this.words.length,r=this.words;for(let o=0;o<t;o++)e+=this.hammingWeight(r[o]);return e},Q.prototype.array=function(){const e=new Array(this.size());let t=0;const r=this.words.length;for(let o=0;o<r;++o){let n=this.words[o];for(;n!=0;){const s=n&-n;e[t++]=(o<<5)+this.hammingWeight(s-1|0),n^=s}}return e},Q.prototype.forEach=function(e){const t=this.words.length;for(let r=0;r<t;++r){let o=this.words[r];for(;o!=0;){const n=o&-o;e((r<<5)+this.hammingWeight(n-1|0)),o^=n}}},Q.prototype[Symbol.iterator]=function(){const e=this.words.length;let t=0,r=this.words[t],o=this.hammingWeight,n=this.words;return{[Symbol.iterator](){return this},next(){for(;t<e;){if(r!==0){const s=r&-r,i=(t<<5)+o(s-1|0);return r^=s,{done:!1,value:i}}t++,t<e&&(r=n[t])}return{done:!0,value:void 0}}}},Q.prototype.clone=function(){const e=Object.create(Q.prototype);return e.words=this.words.slice(),e},Q.prototype.intersects=function(e){const t=Math.min(this.words.length,e.words.length);for(let r=0;r<t;++r)if(this.words[r]&e.words[r])return!0;return!1},Q.prototype.intersection=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)this.words[r]&=e.words[r],this.words[r+1]&=e.words[r+1],this.words[r+2]&=e.words[r+2],this.words[r+3]&=e.words[r+3],this.words[r+4]&=e.words[r+4],this.words[r+5]&=e.words[r+5],this.words[r+6]&=e.words[r+6],this.words[r+7]&=e.words[r+7];for(;r<t;++r)this.words[r]&=e.words[r];const o=this.words.length;for(r=t;r<o;++r)this.words[r]=0;return this},Q.prototype.intersection_size=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(let o=0;o<t;++o)r+=this.hammingWeight(this.words[o]&e.words[o]);return r},Q.prototype.new_intersection=function(e){const t=Object.create(Q.prototype),r=Math.min(this.words.length,e.words.length);t.words=new Array(r);let o=0;for(;o+7<r;o+=8)t.words[o]=this.words[o]&e.words[o],t.words[o+1]=this.words[o+1]&e.words[o+1],t.words[o+2]=this.words[o+2]&e.words[o+2],t.words[o+3]=this.words[o+3]&e.words[o+3],t.words[o+4]=this.words[o+4]&e.words[o+4],t.words[o+5]=this.words[o+5]&e.words[o+5],t.words[o+6]=this.words[o+6]&e.words[o+6],t.words[o+7]=this.words[o+7]&e.words[o+7];for(;o<r;++o)t.words[o]=this.words[o]&e.words[o];return t},Q.prototype.equals=function(e){const t=Math.min(this.words.length,e.words.length);for(let r=0;r<t;++r)if(this.words[r]!=e.words[r])return!1;if(this.words.length<e.words.length){const r=e.words.length;for(let o=this.words.length;o<r;++o)if(e.words[o]!=0)return!1}else if(e.words.length<this.words.length){const r=this.words.length;for(let o=e.words.length;o<r;++o)if(this.words[o]!=0)return!1}return!0},Q.prototype.difference=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)this.words[r]&=~e.words[r],this.words[r+1]&=~e.words[r+1],this.words[r+2]&=~e.words[r+2],this.words[r+3]&=~e.words[r+3],this.words[r+4]&=~e.words[r+4],this.words[r+5]&=~e.words[r+5],this.words[r+6]&=~e.words[r+6],this.words[r+7]&=~e.words[r+7];for(;r<t;++r)this.words[r]&=~e.words[r];return this},Q.prototype.new_difference=function(e){return this.clone().difference(e)},Q.prototype.difference2=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)e.words[r]=this.words[r]&~e.words[r],e.words[r+1]=this.words[r+1]&~e.words[r+1],e.words[r+2]=this.words[r+2]&~e.words[r+2],e.words[r+3]=this.words[r+3]&~e.words[r+3],e.words[r+4]=this.words[r+4]&~e.words[r+4],e.words[r+5]=this.words[r+5]&~e.words[r+5],e.words[r+6]=this.words[r+6]&~e.words[r+6],e.words[r+7]=this.words[r+7]&~e.words[r+7];for(;r<t;++r)e.words[r]=this.words[r]&~e.words[r];for(r=this.words.length-1;r>=t;--r)e.words[r]=this.words[r];return e.words.length=this.words.length,e},Q.prototype.difference_size=function(e){const t=Math.min(this.words.length,e.words.length);let r=0,o=0;for(;o<t;++o)r+=this.hammingWeight(this.words[o]&~e.words[o]);const n=this.words.length;for(;o<n;++o)r+=this.hammingWeight(this.words[o]);return r},Q.prototype.change=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)this.words[r]^=e.words[r],this.words[r+1]^=e.words[r+1],this.words[r+2]^=e.words[r+2],this.words[r+3]^=e.words[r+3],this.words[r+4]^=e.words[r+4],this.words[r+5]^=e.words[r+5],this.words[r+6]^=e.words[r+6],this.words[r+7]^=e.words[r+7];for(;r<t;++r)this.words[r]^=e.words[r];for(r=e.words.length-1;r>=t;--r)this.words[r]=e.words[r];return this},Q.prototype.new_change=function(e){const t=Object.create(Q.prototype),r=Math.max(this.words.length,e.words.length);t.words=new Array(r);const o=Math.min(this.words.length,e.words.length);let n=0;for(;n+7<o;n+=8)t.words[n]=this.words[n]^e.words[n],t.words[n+1]=this.words[n+1]^e.words[n+1],t.words[n+2]=this.words[n+2]^e.words[n+2],t.words[n+3]=this.words[n+3]^e.words[n+3],t.words[n+4]=this.words[n+4]^e.words[n+4],t.words[n+5]=this.words[n+5]^e.words[n+5],t.words[n+6]=this.words[n+6]^e.words[n+6],t.words[n+7]=this.words[n+7]^e.words[n+7];for(;n<o;++n)t.words[n]=this.words[n]^e.words[n];const s=this.words.length;for(n=o;n<s;++n)t.words[n]=this.words[n];const i=e.words.length;for(n=o;n<i;++n)t.words[n]=e.words[n];return t},Q.prototype.change_size=function(e){const t=Math.min(this.words.length,e.words.length);let r=0,o=0;for(;o<t;++o)r+=this.hammingWeight(this.words[o]^e.words[o]);const n=this.words.length>e.words.length?this:e,s=n.words.length;for(;o<s;++o)r+=this.hammingWeight(n.words[o]);return r},Q.prototype.toString=function(){return"{"+this.array().join(",")+"}"},Q.prototype.union=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)this.words[r]|=e.words[r],this.words[r+1]|=e.words[r+1],this.words[r+2]|=e.words[r+2],this.words[r+3]|=e.words[r+3],this.words[r+4]|=e.words[r+4],this.words[r+5]|=e.words[r+5],this.words[r+6]|=e.words[r+6],this.words[r+7]|=e.words[r+7];for(;r<t;++r)this.words[r]|=e.words[r];if(this.words.length<e.words.length){this.resize((e.words.length<<5)-1);const o=e.words.length;for(let n=t;n<o;++n)this.words[n]=e.words[n]}return this},Q.prototype.new_union=function(e){const t=Object.create(Q.prototype),r=Math.max(this.words.length,e.words.length);t.words=new Array(r);const o=Math.min(this.words.length,e.words.length);let n=0;for(;n+7<o;n+=8)t.words[n]=this.words[n]|e.words[n],t.words[n+1]=this.words[n+1]|e.words[n+1],t.words[n+2]=this.words[n+2]|e.words[n+2],t.words[n+3]=this.words[n+3]|e.words[n+3],t.words[n+4]=this.words[n+4]|e.words[n+4],t.words[n+5]=this.words[n+5]|e.words[n+5],t.words[n+6]=this.words[n+6]|e.words[n+6],t.words[n+7]=this.words[n+7]|e.words[n+7];for(;n<o;++n)t.words[n]=this.words[n]|e.words[n];const s=this.words.length;for(n=o;n<s;++n)t.words[n]=this.words[n];const i=e.words.length;for(n=o;n<i;++n)t.words[n]=e.words[n];return t},Q.prototype.union_size=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(let o=0;o<t;++o)r+=this.hammingWeight(this.words[o]|e.words[o]);if(this.words.length<e.words.length){const o=e.words.length;for(let n=this.words.length;n<o;++n)r+=this.hammingWeight(0|e.words[n])}else{const o=this.words.length;for(let n=e.words.length;n<o;++n)r+=this.hammingWeight(0|this.words[n])}return r};(function(e){var t={exports:{}};return function(r,o){(function(){var n,s,i,c,d,u,g,_,b,k,f,v,p,$,T,j,R,O,x,w,A,C,F,W,I,U,H,Z,m=function(a){var l=new m.Index;return l.pipeline.add(m.trimmer,m.stopWordFilter,m.stemmer),a&&a.call(l,l),l};m.version="1.0.0",m.utils={},m.utils.warn=function(a){return function(l){a.console&&console.warn&&console.warn(l)}}(this),m.utils.asString=function(a){return a==null?"":a.toString()},m.EventEmitter=function(){this.events={}},m.EventEmitter.prototype.addListener=function(){var a=Array.prototype.slice.call(arguments),l=a.pop(),y=a;if(typeof l!="function")throw new TypeError("last argument must be a function");y.forEach(function(S){this.hasHandler(S)||(this.events[S]=[]),this.events[S].push(l)},this)},m.EventEmitter.prototype.removeListener=function(a,l){if(this.hasHandler(a)){var y=this.events[a].indexOf(l);this.events[a].splice(y,1),this.events[a].length||delete this.events[a]}},m.EventEmitter.prototype.emit=function(a){if(this.hasHandler(a)){var l=Array.prototype.slice.call(arguments,1);this.events[a].forEach(function(y){y.apply(void 0,l)})}},m.EventEmitter.prototype.hasHandler=function(a){return a in this.events},m.tokenizer=function(a){return arguments.length&&a!=null&&a!=null?Array.isArray(a)?a.map(function(l){return m.utils.asString(l).toLowerCase()}):a.toString().trim().toLowerCase().split(m.tokenizer.separator):[]},m.tokenizer.separator=/[\s\-]+/,m.tokenizer.load=function(a){var l=this.registeredFunctions[a];if(!l)throw new Error("Cannot load un-registered function: "+a);return l},m.tokenizer.label="default",m.tokenizer.registeredFunctions={default:m.tokenizer},m.tokenizer.registerFunction=function(a,l){l in this.registeredFunctions&&m.utils.warn("Overwriting existing tokenizer: "+l),a.label=l,this.registeredFunctions[l]=a},m.Pipeline=function(){this._stack=[]},m.Pipeline.registeredFunctions={},m.Pipeline.registerFunction=function(a,l){l in this.registeredFunctions&&m.utils.warn("Overwriting existing registered function: "+l),a.label=l,m.Pipeline.registeredFunctions[a.label]=a},m.Pipeline.warnIfFunctionNotRegistered=function(a){a.label&&a.label in this.registeredFunctions||m.utils.warn(`Function is not registered with pipeline. This may cause problems when serialising the index.
`,a)},m.Pipeline.load=function(a){var l=new m.Pipeline;return a.forEach(function(y){var S=m.Pipeline.registeredFunctions[y];if(!S)throw new Error("Cannot load un-registered function: "+y);l.add(S)}),l},m.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(a){m.Pipeline.warnIfFunctionNotRegistered(a),this._stack.push(a)},this)},m.Pipeline.prototype.after=function(a,l){m.Pipeline.warnIfFunctionNotRegistered(l);var y=this._stack.indexOf(a);if(y==-1)throw new Error("Cannot find existingFn");this._stack.splice(y+=1,0,l)},m.Pipeline.prototype.before=function(a,l){m.Pipeline.warnIfFunctionNotRegistered(l);var y=this._stack.indexOf(a);if(y==-1)throw new Error("Cannot find existingFn");this._stack.splice(y,0,l)},m.Pipeline.prototype.remove=function(a){var l=this._stack.indexOf(a);l!=-1&&this._stack.splice(l,1)},m.Pipeline.prototype.run=function(a){for(var l=[],y=a.length,S=this._stack.length,P=0;P<y;P++){for(var z=a[P],D=0;D<S&&(z=this._stack[D](z,P,a))!==void 0&&z!=="";D++);z!==void 0&&z!==""&&l.push(z)}return l},m.Pipeline.prototype.reset=function(){this._stack=[]},m.Pipeline.prototype.toJSON=function(){return this._stack.map(function(a){return m.Pipeline.warnIfFunctionNotRegistered(a),a.label})},m.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},m.Vector.Node=function(a,l,y){this.idx=a,this.val=l,this.next=y},m.Vector.prototype.insert=function(a,l){this._magnitude=void 0;var y=this.list;if(!y)return this.list=new m.Vector.Node(a,l,y),this.length++;if(a<y.idx)return this.list=new m.Vector.Node(a,l,y),this.length++;for(var S=y,P=y.next;P!=null;){if(a<P.idx)return S.next=new m.Vector.Node(a,l,P),this.length++;S=P,P=P.next}return S.next=new m.Vector.Node(a,l,P),this.length++},m.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var a,l=this.list,y=0;l;)y+=(a=l.val)*a,l=l.next;return this._magnitude=Math.sqrt(y)},m.Vector.prototype.dot=function(a){for(var l=this.list,y=a.list,S=0;l&&y;)l.idx<y.idx?l=l.next:(l.idx>y.idx||(S+=l.val*y.val,l=l.next),y=y.next);return S},m.Vector.prototype.similarity=function(a){return this.dot(a)/(this.magnitude()*a.magnitude())},m.SortedSet=function(){this.length=0,this.elements=[]},m.SortedSet.load=function(a){var l=new this;return l.elements=a,l.length=a.length,l},m.SortedSet.prototype.add=function(){var a,l;for(a=0;a<arguments.length;a++)~this.indexOf(l=arguments[a])||this.elements.splice(this.locationFor(l),0,l);this.length=this.elements.length},m.SortedSet.prototype.toArray=function(){return this.elements.slice()},m.SortedSet.prototype.map=function(a,l){return this.elements.map(a,l)},m.SortedSet.prototype.forEach=function(a,l){return this.elements.forEach(a,l)},m.SortedSet.prototype.indexOf=function(a){for(var l=0,y=this.elements.length,S=y-l,P=l+Math.floor(S/2),z=this.elements[P];S>1;){if(z===a)return P;z<a&&(l=P),z>a&&(y=P),S=y-l,P=l+Math.floor(S/2),z=this.elements[P]}return z===a?P:-1},m.SortedSet.prototype.locationFor=function(a){for(var l=0,y=this.elements.length,S=y-l,P=l+Math.floor(S/2),z=this.elements[P];S>1;)z<a&&(l=P),z>a&&(y=P),S=y-l,P=l+Math.floor(S/2),z=this.elements[P];return z>a?P:z<a?P+1:void 0},m.SortedSet.prototype.intersect=function(a){for(var l=new m.SortedSet,y=0,S=0,P=this.length,z=a.length,D=this.elements,re=a.elements;!(y>P-1||S>z-1);)D[y]!==re[S]?D[y]<re[S]?y++:D[y]>re[S]&&S++:(l.add(D[y]),y++,S++);return l},m.SortedSet.prototype.clone=function(){var a=new m.SortedSet;return a.elements=this.toArray(),a.length=a.elements.length,a},m.SortedSet.prototype.union=function(a){var l,y,S;this.length>=a.length?(l=this,y=a):(l=a,y=this),S=l.clone();for(var P=0,z=y.toArray();P<z.length;P++)S.add(z[P]);return S},m.SortedSet.prototype.toJSON=function(){return this.toArray()},m.Index=function(){this._fields=[],this._ref="id",this.pipeline=new m.Pipeline,this.documentStore=new m.Store,this.tokenStore=new m.TokenStore,this.corpusTokens=new m.SortedSet,this.eventEmitter=new m.EventEmitter,this.tokenizerFn=m.tokenizer,this._idfCache={},this.on("add","remove","update",(function(){this._idfCache={}}).bind(this))},m.Index.prototype.on=function(){var a=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,a)},m.Index.prototype.off=function(a,l){return this.eventEmitter.removeListener(a,l)},m.Index.load=function(a){a.version!==m.version&&m.utils.warn("version mismatch: current "+m.version+" importing "+a.version);var l=new this;return l._fields=a.fields,l._ref=a.ref,l.tokenizer(m.tokenizer.load(a.tokenizer)),l.documentStore=m.Store.load(a.documentStore),l.tokenStore=m.TokenStore.load(a.tokenStore),l.corpusTokens=m.SortedSet.load(a.corpusTokens),l.pipeline=m.Pipeline.load(a.pipeline),l},m.Index.prototype.field=function(a,l){return this._fields.push({name:a,boost:(l=l||{}).boost||1}),this},m.Index.prototype.ref=function(a){return this._ref=a,this},m.Index.prototype.tokenizer=function(a){return a.label&&a.label in m.tokenizer.registeredFunctions||m.utils.warn("Function is not a registered tokenizer. This may cause problems when serialising the index"),this.tokenizerFn=a,this},m.Index.prototype.add=function(a,l){var y={},S=new m.SortedSet,P=a[this._ref];l=l===void 0||l,this._fields.forEach(function(ve){var $e=this.pipeline.run(this.tokenizerFn(a[ve.name]));y[ve.name]=$e;for(var Te=0;Te<$e.length;Te++){var Ce=$e[Te];S.add(Ce),this.corpusTokens.add(Ce)}},this),this.documentStore.set(P,S);for(var z=0;z<S.length;z++){for(var D=S.elements[z],re=0,q=0;q<this._fields.length;q++){var ie=this._fields[q],de=y[ie.name],ce=de.length;if(ce){for(var he=0,be=0;be<ce;be++)de[be]===D&&he++;re+=he/ce*ie.boost}}this.tokenStore.add(D,{ref:P,tf:re})}l&&this.eventEmitter.emit("add",a,this)},m.Index.prototype.remove=function(a,l){var y=a[this._ref];if(l=l===void 0||l,this.documentStore.has(y)){var S=this.documentStore.get(y);this.documentStore.remove(y),S.forEach(function(P){this.tokenStore.remove(P,y)},this),l&&this.eventEmitter.emit("remove",a,this)}},m.Index.prototype.update=function(a,l){l=l===void 0||l,this.remove(a,!1),this.add(a,!1),l&&this.eventEmitter.emit("update",a,this)},m.Index.prototype.idf=function(a){var l="@"+a;if(Object.prototype.hasOwnProperty.call(this._idfCache,l))return this._idfCache[l];var y=this.tokenStore.count(a),S=1;return y>0&&(S=1+Math.log(this.documentStore.length/y)),this._idfCache[l]=S},m.Index.prototype.search=function(a){var l=this.pipeline.run(this.tokenizerFn(a)),y=new m.Vector,S=[],P=this._fields.reduce(function(z,D){return z+D.boost},0);return l.some(function(z){return this.tokenStore.has(z)},this)?(l.forEach(function(z,D,re){var q=1/re.length*this._fields.length*P,ie=this,de=this.tokenStore.expand(z).reduce(function(ce,he){var be=ie.corpusTokens.indexOf(he),ve=ie.idf(he),$e=1,Te=new m.SortedSet;if(he!==z){var Ce=Math.max(3,he.length-z.length);$e=1/Math.log(Ce)}be>-1&&y.insert(be,q*ve*$e);for(var L=ie.tokenStore.get(he),X=Object.keys(L),ye=X.length,Ne=0;Ne<ye;Ne++)Te.add(L[X[Ne]].ref);return ce.union(Te)},new m.SortedSet);S.push(de)},this),S.reduce(function(z,D){return z.intersect(D)}).map(function(z){return{ref:z,score:y.similarity(this.documentVector(z))}},this).sort(function(z,D){return D.score-z.score})):[]},m.Index.prototype.documentVector=function(a){for(var l=this.documentStore.get(a),y=l.length,S=new m.Vector,P=0;P<y;P++){var z=l.elements[P],D=this.tokenStore.get(z)[a].tf,re=this.idf(z);S.insert(this.corpusTokens.indexOf(z),D*re)}return S},m.Index.prototype.toJSON=function(){return{version:m.version,fields:this._fields,ref:this._ref,tokenizer:this.tokenizerFn.label,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},m.Index.prototype.use=function(a){var l=Array.prototype.slice.call(arguments,1);l.unshift(this),a.apply(this,l)},m.Store=function(){this.store={},this.length=0},m.Store.load=function(a){var l=new this;return l.length=a.length,l.store=Object.keys(a.store).reduce(function(y,S){return y[S]=m.SortedSet.load(a.store[S]),y},{}),l},m.Store.prototype.set=function(a,l){this.has(a)||this.length++,this.store[a]=l},m.Store.prototype.get=function(a){return this.store[a]},m.Store.prototype.has=function(a){return a in this.store},m.Store.prototype.remove=function(a){this.has(a)&&(delete this.store[a],this.length--)},m.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},m.stemmer=(n={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},s={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},u="^("+(c="[^aeiou][^aeiouy]*")+")?"+(d=(i="[aeiouy]")+"[aeiou]*")+c+"("+d+")?$",g="^("+c+")?"+d+c+d+c,_="^("+c+")?"+i,b=new RegExp("^("+c+")?"+d+c),k=new RegExp(g),f=new RegExp(u),v=new RegExp(_),p=/^(.+?)(ss|i)es$/,$=/^(.+?)([^s])s$/,T=/^(.+?)eed$/,j=/^(.+?)(ed|ing)$/,R=/.$/,O=/(at|bl|iz)$/,x=new RegExp("([^aeiouylsz])\\1$"),w=new RegExp("^"+c+i+"[^aeiouwxy]$"),A=/^(.+?[^aeiou])y$/,C=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,F=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,W=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,I=/^(.+?)(s|t)(ion)$/,U=/^(.+?)e$/,H=/ll$/,Z=new RegExp("^"+c+i+"[^aeiouwxy]$"),function(a){var l,y,S,P,z,D,re;if(a.length<3)return a;if((S=a.substr(0,1))=="y"&&(a=S.toUpperCase()+a.substr(1)),z=$,(P=p).test(a)?a=a.replace(P,"$1$2"):z.test(a)&&(a=a.replace(z,"$1$2")),z=j,(P=T).test(a)){var q=P.exec(a);(P=b).test(q[1])&&(a=a.replace(P=R,""))}else z.test(a)&&(q=z.exec(a),(z=v).test(l=q[1])&&(D=x,re=w,(z=O).test(a=l)?a+="e":D.test(a)?a=a.replace(P=R,""):re.test(a)&&(a+="e")));return(P=A).test(a)&&(a=(l=(q=P.exec(a))[1])+"i"),(P=C).test(a)&&(y=(q=P.exec(a))[2],(P=b).test(l=q[1])&&(a=l+n[y])),(P=F).test(a)&&(y=(q=P.exec(a))[2],(P=b).test(l=q[1])&&(a=l+s[y])),z=I,(P=W).test(a)?(q=P.exec(a),(P=k).test(l=q[1])&&(a=l)):z.test(a)&&(q=z.exec(a),(z=k).test(l=q[1]+q[2])&&(a=l)),(P=U).test(a)&&(q=P.exec(a),z=f,D=Z,((P=k).test(l=q[1])||z.test(l)&&!D.test(l))&&(a=l)),z=k,(P=H).test(a)&&z.test(a)&&(a=a.replace(P=R,"")),S=="y"&&(a=S.toLowerCase()+a.substr(1)),a}),m.Pipeline.registerFunction(m.stemmer,"stemmer"),m.generateStopWordFilter=function(a){var l=a.reduce(function(y,S){return y[S]=S,y},{});return function(y){if(y&&l[y]!==y)return y}},m.stopWordFilter=m.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),m.Pipeline.registerFunction(m.stopWordFilter,"stopWordFilter"),m.trimmer=function(a){return a.replace(/^\W+/,"").replace(/\W+$/,"")},m.Pipeline.registerFunction(m.trimmer,"trimmer"),m.TokenStore=function(){this.root={docs:{}},this.length=0},m.TokenStore.load=function(a){var l=new this;return l.root=a.root,l.length=a.length,l},m.TokenStore.prototype.add=function(a,l,y){y=y||this.root;var S=a.charAt(0),P=a.slice(1);return S in y||(y[S]={docs:{}}),P.length===0?(y[S].docs[l.ref]=l,void(this.length+=1)):this.add(P,l,y[S])},m.TokenStore.prototype.has=function(a){if(!a)return!1;for(var l=this.root,y=0;y<a.length;y++){if(!l[a.charAt(y)])return!1;l=l[a.charAt(y)]}return!0},m.TokenStore.prototype.getNode=function(a){if(!a)return{};for(var l=this.root,y=0;y<a.length;y++){if(!l[a.charAt(y)])return{};l=l[a.charAt(y)]}return l},m.TokenStore.prototype.get=function(a,l){return this.getNode(a,l).docs||{}},m.TokenStore.prototype.count=function(a,l){return Object.keys(this.get(a,l)).length},m.TokenStore.prototype.remove=function(a,l){if(a){for(var y=this.root,S=0;S<a.length;S++){if(!(a.charAt(S)in y))return;y=y[a.charAt(S)]}delete y.docs[l]}},m.TokenStore.prototype.expand=function(a,l){var y=this.getNode(a);return l=l||[],Object.keys(y.docs||{}).length&&l.push(a),Object.keys(y).forEach(function(S){S!=="docs"&&l.concat(this.expand(a+S,l))},this),l},m.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},r.exports=m})()}(t),t.exports})();const Tu={aggregations:{notAfter:{title:"Not after",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},notBefore:{title:"Not before",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},language:{title:"Language",hide_zero_doc_count:!0,size:200,sort:"key"},languageCert:{title:"Language certainty",hide_zero_doc_count:!0,size:10,sort:"key"},provenance:{title:"Provenance",hide_zero_doc_count:!0,size:200,sort:"key"},inscriptionType:{title:"Inscription type",hide_zero_doc_count:!0,size:200,sort:"key"},objectType:{title:"Object type",hide_zero_doc_count:!0,size:200,sort:"key"},material:{title:"Material",hide_zero_doc_count:!0,size:200,sort:"key"},technique:{title:"Technique",hide_zero_doc_count:!0,size:200,sort:"key"},pigment:{title:"Pigment",hide_zero_doc_count:!0,size:200,sort:"key"},damage:{title:"Damage",hide_zero_doc_count:!0,size:100,sort:"key"},repository:{title:"Repository",hide_zero_doc_count:!0,size:200,sort:"key"},publicationAuthors:{title:"Publication author",hide_zero_doc_count:!0,size:1e3,sort:"key"},publicationTitles:{title:"Publication title",hide_zero_doc_count:!0,size:1500,sort:"key"},publicationYears:{title:"Publication year",hide_zero_doc_count:!0,size:1e3,sort:"key"},status:{title:"Status",hide_zero_doc_count:!0,sort:"key"}},searchableFields:["keywords","title","text"],sortings:{file_asc:{field:"file",order:"asc"},file_desc:{field:"file",order:"desc"},notAfter_asc:{field:"notAfter",order:"asc"},notAfter_desc:{field:"notAfter",order:"desc"},notBefore_asc:{field:"notBefore",order:"desc"},notBefore_desc:{field:"notBefore",order:"desc"},title_asc:{field:"title",order:"asc"},title_desc:{field:"title",order:"desc"}}};function Cu(e){return new Worker(""+new URL("../workers/worker-4QA5TGOz.js",import.meta.url).href,{name:e==null?void 0:e.name})}var Nu=V("<!>Filters",1),Ru=V('<h2 aria-busy="true" class="svelte-16zqrgi">Loading inscriptions...</h2>'),Mu=V("<!>View cards",1),Iu=V("<!>View map",1),Lu=V("<!>View table",1),Fu=V('<div class="transition-container svelte-16zqrgi"><!></div>'),Wu=V('<div class="transition-container svelte-16zqrgi"><!></div>'),Bu=V("<!> <!> <!>",1),Uu=V('<!> <section class="controls svelte-16zqrgi"><div class="toggles svelte-16zqrgi"><!> <!> <!></div> <div class="sort-controls svelte-16zqrgi"><label for="sort-select">Sort by:</label> <select id="sort-select"><option>File</option><option>Not before</option><option>Not after</option><option>Title</option></select> <!></div></section> <!>',1),Du=V('<article><section><form class="svelte-16zqrgi"><label class="visually-hidden" for="q">Search query:</label> <input type="text" name="q" id="q" placeholder="Search inscriptions metadata" class="svelte-16zqrgi"> <!> <!></form> <div class="filters-toggle svelte-16zqrgi"><!></div></section> <section class="inscriptions svelte-16zqrgi"><!></section></article> <!>',1);function qu(e,t){xe(t,!0);const r=ht(),o=()=>Oe(g,"$searchView",r),n=()=>Oe(u,"$searchLimit",r),s=()=>Oe(d,"$searchPage",r),i=()=>Oe(c,"$searchQuery",r),c=Kt("q",Gt.string("")),d=Kt("page",Gt.number(1)),u=Kt("limit",Gt.number(kt.limit)),g=Kt("view",Gt.string("cards"));let _=Fe("idle"),b=pe(()=>["idle","load"].includes(h(_))),k=Fe(void 0),f=Fe(ue({})),v=pe(()=>{var L;return((L=h(f))==null?void 0:L.pagination)??{}}),p=pe(()=>{var L,X;return((X=(L=h(f))==null?void 0:L.data)==null?void 0:X.aggregations)??{}}),$=pe(()=>{var L;return((L=h(v))==null?void 0:L.total)??0}),T=pe(U),j=pe(()=>{var L,X;return((X=(L=h(f))==null?void 0:L.data)==null?void 0:X.items)??[]}),R=pe(()=>{var L;return o()==="map"?(L=h(j))==null?void 0:L.map(X=>({file:X.file,title:X.title,places:X.places,geo:X.geo[0]})):[]}),O=Fe(!1),x=ue({sortAggregationsBy:"key",sortResultsBy:"file",sortResultsOrder:"asc"}),w=Fe(ue(W())),A=Fe(ue(I()));async function C(){h(_)!=="ready"&&(Y(_,"load"),Y(k,ue(new Cu)),h(k).addEventListener("message",L=>{const{type:X,data:ye}=L.data;X==="ready"&&Y(_,"ready"),X==="results"&&Y(f,ue(ye))}),h(k).postMessage({type:"load",data:{sortAggregationsBy:x.sortAggregationsBy}}))}Or(()=>{F()});async function F(){if(h(_)==="ready"){const L=Object.fromEntries(Object.keys(h(A)).map(X=>[X,[...h(A)[X]]]));h(k).postMessage({type:"search",data:{limit:n(),page:s(),query:i(),sort:`${x.sortResultsBy}_${x.sortResultsOrder}`,filters:L,dateRange:[...h(w)]}})}}function W(){return[-700,1830]}function I(){return Object.keys(Tu.aggregations).filter(L=>L.indexOf("not")<0).reduce((L,X)=>(L[X]=[],L),{})}function U(){var L;return!h(p)||!((L=h(p))!=null&&L.provenance)?0:h(p).provenance.buckets.length}async function H(L){L.preventDefault()}async function Z(L){L.preventDefault(),Je(c,""),Je(d,1),Je(u,ue(o()==="map"?kt.maxLimit:kt.limit)),Y(w,ue(W())),Y(A,ue(I()))}function m(){const L=W();return i()!==""||h(w).some((X,ye)=>X!==L[ye])||Object.keys(h(A)).some(X=>h(A)[X].length>0)}Or(()=>{x.sortAggregationsBy&&h(k)&&h(_)==="ready"&&(h(k).postMessage({type:"load",data:{sortAggregationsBy:x.sortAggregationsBy}}),F())});async function a(L){L==="map"?Je(u,ue(kt.maxLimit)):o()==="map"&&(Y(f,ue({...h(f),data:{...h(f).data,items:[]}})),Je(u,ue(kt.limit)),Je(d,1)),Je(g,ue(L))}async function l(){x.sortResultsOrder=x.sortResultsOrder==="asc"?"desc":"asc"}async function y(L){Je(d,ue(L))}lo(()=>{C()});var S=Du();We("keydown",as,L=>{var X;(L.ctrlKey||L.metaKey)&&(L.key==="k"||L.key==="K")&&(L.preventDefault(),Y(O,!h(O))),L.key==="/"&&(L.preventDefault(),(X=document.getElementById("q"))==null||X.focus())});var P=G(S),z=M(P),D=M(z),re=B(M(D),2);yt(re);var q=B(re,2),ie=pe(()=>!i());ke(q,()=>Ze,(L,X)=>{X(L,{class:"surface-4",type:"submit",get disabled(){return h(ie)},children:(ye,Ne)=>{Ee();var Re=Ie("Search");E(ye,Re)},$$slots:{default:!0}})});var de=B(q,2),ce=pe(()=>!m());ke(de,()=>Ze,(L,X)=>{X(L,{class:"surface-1",type:"reset",get disabled(){return h(ce)},children:(ye,Ne)=>{Ee();var Re=Ie("Reset");E(ye,Re)},$$slots:{default:!0}})}),N(D);var he=B(D,2),be=M(he),ve=pe(()=>h(O)?"surface-4":"surface-1");ke(be,()=>Ze,(L,X)=>{X(L,{get class(){return h(ve)},onclick:()=>Y(O,!h(O)),children:(ye,Ne)=>{var Re=Nu(),mt=G(Re);oi(mt,{}),Ee(),E(ye,Re)},$$slots:{default:!0}})}),N(he),N(z);var $e=B(z,2),Te=M($e);se(Te,()=>h(b),L=>{var X=Ru();E(L,X)},L=>{var X=Uu(),ye=G(X);Xc(ye,{get total(){return h($)},get dateRange(){return h(w)},get numberOfLocations(){return h(T)},get query(){return i()},get filters(){return h(A)}});var Ne=B(ye,2),Re=M(Ne),mt=M(Re),Ko=pe(()=>`${o()==="cards"?"surface-4":"surface-1"}`);ke(mt,()=>Ze,(Ae,_e)=>{_e(Ae,{get class(){return h(Ko)},onclick:()=>a("cards"),children:(Me,vt)=>{var ze=Mu(),Ve=G(ze);si(Ve,{}),Ee(),E(Me,ze)},$$slots:{default:!0}})});var Yr=B(mt,2),Xo=pe(()=>`${o()==="map"?"surface-4":"surface-1"}`);ke(Yr,()=>Ze,(Ae,_e)=>{_e(Ae,{get class(){return h(Xo)},onclick:()=>a("map"),children:(Me,vt)=>{var ze=Iu(),Ve=G(ze);ii(Ve,{}),Ee(),E(Me,ze)},$$slots:{default:!0}})});var Yo=B(Yr,2),Qo=pe(()=>`${o()==="table"?"surface-4":"surface-1"}`);ke(Yo,()=>Ze,(Ae,_e)=>{_e(Ae,{get class(){return h(Qo)},onclick:()=>a("table"),children:(Me,vt)=>{var ze=Lu(),Ve=G(ze);ai(Ve,{}),Ee(),E(Me,ze)},$$slots:{default:!0}})}),N(Re);var Qr=B(Re,2),Ft=B(M(Qr),2),sr=M(Ft);sr.value=(sr.__value="file")==null?"":"file";var ir=B(sr);ir.value=(ir.__value="notBefore")==null?"":"notBefore";var ar=B(ir);ar.value=(ar.__value="notAfter")==null?"":"notAfter";var Zr=B(ar);Zr.value=(Zr.__value="title")==null?"":"title",N(Ft);var Zo=B(Ft,2);ke(Zo,()=>Ze,(Ae,_e)=>{_e(Ae,{class:"order-toggle",onclick:()=>l(),"aria-label":"Toggle sort order from ascending to descending to no order",children:(Me,vt)=>{var ze=ne(),Ve=G(ze);se(Ve,()=>x.sortResultsOrder==="asc",He=>{ti(He,{"aria-label":"Ascending"})},He=>{ei(He,{"aria-label":"Descending"})}),E(Me,ze)},$$slots:{default:!0}})}),N(Qr),N(Ne);var es=B(Ne,2);se(es,()=>o()==="map",Ae=>{var _e=Fu(),Me=M(_e);nc(Me,{get inscriptions(){return h(R)}}),N(_e),Pt(1,_e,()=>Wt,()=>({duration:500})),Pt(2,_e,()=>Wt,()=>({duration:250})),E(Ae,_e)},Ae=>{var _e=Bu(),Me=G(_e);pn(Me,{get page(){return s()},get count(){return h($)},get perPage(){return n()},onPageChange:y});var vt=B(Me,2);gs(vt,o,Ve=>{var He=Wu(),ts=M(He);se(ts,()=>o()==="table",cr=>{dc(cr,{get inscriptions(){return h(j)}})},cr=>{Za(cr,{get inscriptions(){return h(j)}})}),N(He),Pt(1,He,()=>Wt,()=>({duration:500})),Pt(2,He,()=>Wt,()=>({duration:250})),E(Ve,He)});var ze=B(vt,2);pn(ze,{get page(){return s()},get count(){return h($)},get perPage(){return n()},onPageChange:y}),E(Ae,_e)}),js(Ft,()=>x.sortResultsBy,Ae=>x.sortResultsBy=Ae),E(L,X)}),N($e),N(P);var Ce=B(P,2);Vc(Ce,{get show(){return h(O)},get aggregations(){return h(p)},get sortAggregationsBy(){return x.sortAggregationsBy},set sortAggregationsBy(L){x.sortAggregationsBy=L},get selectedDateRange(){return h(w)},set selectedDateRange(L){Y(w,ue(L))},get selectedFilters(){return h(A)},set selectedFilters(L){Y(A,ue(L))}}),We("submit",D,H),We("reset",D,Z),er(re,i,L=>Je(c,L)),E(e,S),Se()}var Vu=V('<section class="hero svelte-1ou7ebr"><h1 class="svelte-1ou7ebr"> </h1></section> <!>',1);function ad(e,t){xe(t,!1),Qe();var r=Vu(),o=G(r),n=M(o),s=M(n,!0);N(n),N(o);var i=B(o,2);qu(i,{}),K(()=>te(s,fs)),E(e,r),Se()}export{ad as component};

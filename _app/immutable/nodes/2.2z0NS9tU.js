var bs=Object.defineProperty;var co=t=>{throw TypeError(t)};var _s=(t,e,r)=>e in t?bs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var ut=(t,e,r)=>_s(t,typeof e!="symbol"?e+"":e,r),sn=(t,e,r)=>e.has(t)||co("Cannot "+r);var G=(t,e,r)=>(sn(t,e,"read from private field"),r?r.call(t):e.get(t)),J=(t,e,r)=>e.has(t)?co("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),$e=(t,e,r,n)=>(sn(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),gt=(t,e,r)=>(sn(t,e,"access private method"),r);import{D as Mn,E as Dt,f as nt,a as A,t as D,d as Mt,b as X,F as ws,C as ye,s as xs,B as Xt,c as sr}from"../chunks/disclose-version.D1WK59Md.js";import"../chunks/legacy.B9jWl4Yz.js";import{aw as Ss,b as se,a9 as $n,B as fi,aH as Ps,aa as lo,a8 as hi,i as As,s as Z,b1 as ks,g as p,ab as js,F as Os,ac as xt,k as V,e as Es,u as ze,b2 as Ts,aU as uo,aV as Rs,p as mt,x as q,o as yt,q as z,z as ae,v as T,t as Y,A as Fn,aY as an,b3 as zs,j as Is,aZ as Ns,a_ as Ot,w as $,y as Lt,b4 as Cs,aW as Ls,a$ as Ms}from"../chunks/index.B_MejUpZ.js";import{i as pi}from"../chunks/lifecycle.D3ZW4Efm.js";import{s as ce,i as $s,b as Fs,m as Bs,c as zt,e as Vs}from"../chunks/config.CX7IxZP5.js";import{i as ot,b as Ds,c as At}from"../chunks/this.nM2t-5hg.js";import{t as De,s as Ws,k as Us,f as ar}from"../chunks/index.Djtip-Fk.js";import{d as cn,a as le,s as Wt,b as qs,r as Oe}from"../chunks/attributes.Cyx_3ke0.js";import{i as gi,a as at,p as W,r as _e,l as te,s as ue}from"../chunks/props.Bt9r9e64.js";import{s as kt,e as Ut,i as Qt,B as ie}from"../chunks/button.BdeA1Bw6.js";import{c as je,I as vi,m as Hs,a as Gs,g as Xs}from"../chunks/maplibre-gl.DP0YZCHc.js";import{B as Ys}from"../chunks/BaseLink.DC7BhD7_.js";import{o as mi,a as Ks}from"../chunks/index-client.BVQqZOAy.js";import{I as de}from"../chunks/Icon.62OeyNgt.js";import{g as Js}from"../chunks/entry.B63G8UDT.js";import{p as Zs}from"../chunks/stores.Dm6Q-xGX.js";function mr(t,e,r=e){var n=Ss();Mn(t,"input",o=>{var i=o?t.defaultValue:t.value;if(i=un(t)?dn(i):i,r(i),n&&i!==(i=e())){var s=t.selectionStart,a=t.selectionEnd;t.value=i??"",a!==null&&(t.selectionStart=s,t.selectionEnd=Math.min(a,t.value.length))}}),(fi&&t.defaultValue!==t.value||se(e)==null&&t.value)&&r(un(t)?dn(t.value):t.value),$n(()=>{var o=e();un(t)&&o===dn(t.value)||t.type==="date"&&!o&&!t.value||o!==t.value&&(t.value=o??"")})}const ln=new Set;function fo(t,e,r,n,o=n){var i=r.getAttribute("type")==="checkbox",s=t;let a=!1;if(e!==null)for(var u of e)s=s[u]??(s[u]=[]);s.push(r),Mn(r,"change",()=>{var c=r.__value;i&&(c=ho(s,c,r.checked)),o(c)},()=>o(i?[]:null)),$n(()=>{var c=n();if(fi&&r.defaultChecked!==r.checked){a=!0;return}i?(c=c||[],r.checked=c.includes(r.__value)):r.checked=gi(r.__value,c)}),Ps(()=>{var c=s.indexOf(r);c!==-1&&s.splice(c,1)}),ln.has(s)||(ln.add(s),lo(()=>{s.sort((c,h)=>c.compareDocumentPosition(h)===4?-1:1),ln.delete(s)})),lo(()=>{if(a){var c;if(i)c=ho(s,c,r.checked);else{var h=s.find(m=>m.checked);c=h==null?void 0:h.__value}o(c)}})}function ho(t,e,r){for(var n=new Set,o=0;o<t.length;o+=1)t[o].checked&&n.add(t[o].__value);return r||n.delete(e),Array.from(n)}function un(t){var e=t.type;return e==="number"||e==="range"}function dn(t){return t===""?null:+t}function yi(t,e,r){if(t.multiple)return ea(t,e);for(var n of t.options){var o=We(n);if(gi(o,e)){n.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function Qs(t,e){hi(()=>{var r=new MutationObserver(()=>{var n=t.__value;yi(t,n)});return r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function ta(t,e,r=e){var n=!0;Mn(t,"change",o=>{var i=o?"[selected]":":checked",s;if(t.multiple)s=[].map.call(t.querySelectorAll(i),We);else{var a=t.querySelector(i)??t.querySelector("option:not([disabled])");s=a&&We(a)}r(s)}),hi(()=>{var o=e();if(yi(t,o,n),n&&o===void 0){var i=t.querySelector(":checked");i!==null&&(o=We(i),r(o))}t.__value=o,n=!1}),Qs(t)}function ea(t,e){for(var r of t.options)r.selected=~e.indexOf(We(r))}function We(t){return"__value"in t?t.__value:t.value}function po(t,e){var i;var r=(i=t.$$events)==null?void 0:i[e.type],n=As(r)?r.slice():r==null?[]:[r];for(var o of n)o.call(this,e)}function ra(t){Z(t,t.v+1)}function na(t){let e=0,r=Os(0),n;return()=>{ks()&&(p(r),$n(()=>(e===0&&(n=se(()=>t(()=>ra(r)))),e+=1,()=>{js().then(()=>{e-=1,e===0&&(n==null||n(),n=void 0)})})))}}function oa(t){return typeof t=="function"}function ia(t){return t!==null&&typeof t=="object"}const sa=["string","number","bigint","boolean"];function Sn(t){return t==null||sa.includes(typeof t)?!0:Array.isArray(t)?t.every(e=>Sn(e)):typeof t=="object"?Object.getPrototypeOf(t)===Object.prototype:!1}const Xe=Symbol("box"),Bn=Symbol("is-writable");function aa(t){return ia(t)&&Xe in t}function ca(t){return U.isBox(t)&&Bn in t}function U(t){let e=xt(at(t));return{[Xe]:!0,[Bn]:!0,get current(){return p(e)},set current(r){Z(e,at(r))}}}function la(t,e){const r=V(t);return e?{[Xe]:!0,[Bn]:!0,get current(){return p(r)},set current(n){e(n)}}:{[Xe]:!0,get current(){return t()}}}function ua(t){return U.isBox(t)?t:oa(t)?U.with(t):U(t)}function da(t){return Object.entries(t).reduce((e,[r,n])=>U.isBox(n)?(U.isWritableBox(n)?Object.defineProperty(e,r,{get(){return n.current},set(o){n.current=o}}):Object.defineProperty(e,r,{get(){return n.current}}),e):Object.assign(e,{[r]:n}),{})}function fa(t){return U.isWritableBox(t)?{[Xe]:!0,get current(){return t.current}}:t}U.from=ua;U.with=la;U.flatten=da;U.readonly=fa;U.isBox=aa;U.isWritableBox=ca;function ha(...t){return function(e){var r;for(const n of t)if(n){if(e.defaultPrevented)return;typeof n=="function"?n.call(this,e):(r=n.current)==null||r.call(this,e)}}}var bi={},go=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,pa=/\n/g,ga=/^\s*/,va=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,ma=/^:\s*/,ya=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,ba=/^[;\s]*/,_a=/^\s+|\s+$/g,wa=`
`,vo="/",mo="*",ve="",xa="comment",Sa="declaration",Pa=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var r=1,n=1;function o(d){var v=d.match(pa);v&&(r+=v.length);var _=d.lastIndexOf(wa);n=~_?d.length-_:n+d.length}function i(){var d={line:r,column:n};return function(v){return v.position=new s(d),c(),v}}function s(d){this.start=d,this.end={line:r,column:n},this.source=e.source}s.prototype.content=t;function a(d){var v=new Error(e.source+":"+r+":"+n+": "+d);if(v.reason=d,v.filename=e.source,v.line=r,v.column=n,v.source=t,!e.silent)throw v}function u(d){var v=d.exec(t);if(v){var _=v[0];return o(_),t=t.slice(_.length),v}}function c(){u(ga)}function h(d){var v;for(d=d||[];v=m();)v!==!1&&d.push(v);return d}function m(){var d=i();if(!(vo!=t.charAt(0)||mo!=t.charAt(1))){for(var v=2;ve!=t.charAt(v)&&(mo!=t.charAt(v)||vo!=t.charAt(v+1));)++v;if(v+=2,ve===t.charAt(v-1))return a("End of comment missing");var _=t.slice(2,v-2);return n+=2,o(_),t=t.slice(v),n+=2,d({type:xa,comment:_})}}function g(){var d=i(),v=u(va);if(v){if(m(),!u(ma))return a("property missing ':'");var _=u(ya),k=d({type:Sa,property:yo(v[0].replace(go,ve)),value:_?yo(_[0].replace(go,ve)):ve});return u(ba),k}}function y(){var d=[];h(d);for(var v;v=g();)v!==!1&&(d.push(v),h(d));return d}return c(),y()};function yo(t){return t?t.replace(_a,ve):ve}var Aa=je&&je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bi,"__esModule",{value:!0});var bo=bi.default=ja,ka=Aa(Pa);function ja(t,e){var r=null;if(!t||typeof t!="string")return r;var n=(0,ka.default)(t),o=typeof e=="function";return n.forEach(function(i){if(i.type==="declaration"){var s=i.property,a=i.value;o?e(s,a,i):a&&(r=r||{},r[s]=a)}}),r}const Oa=bo.default||bo,Ea=/\d/,Ta=["-","_","/","."];function Ra(t=""){if(!Ea.test(t))return t!==t.toLowerCase()}function za(t){const e=[];let r="",n,o;for(const i of t){const s=Ta.includes(i);if(s===!0){e.push(r),r="",n=void 0;continue}const a=Ra(i);if(o===!1){if(n===!1&&a===!0){e.push(r),r=i,n=a;continue}if(n===!0&&a===!1&&r.length>1){const u=r.at(-1);e.push(r.slice(0,Math.max(0,r.length-1))),r=u+i,n=a;continue}}r+=i,n=a,o=s}return e.push(r),e}function _i(t){return t?za(t).map(e=>Na(e)).join(""):""}function Ia(t){return Ca(_i(t||""))}function Na(t){return t?t[0].toUpperCase()+t.slice(1):""}function Ca(t){return t?t[0].toLowerCase()+t.slice(1):""}function cr(t){if(!t)return{};const e={};function r(n,o){if(n.startsWith("-moz-")||n.startsWith("-webkit-")||n.startsWith("-ms-")||n.startsWith("-o-")){e[_i(n)]=o;return}if(n.startsWith("--")){e[n]=o;return}e[Ia(n)]=o}return Oa(t,r),e}function Vn(...t){return(...e)=>{for(const r of t)typeof r=="function"&&r(...e)}}function La(t,e){const r=RegExp(t,"g");return n=>{if(typeof n!="string")throw new TypeError(`expected an argument of type string, but got ${typeof n}`);return n.match(r)?n.replace(r,e):n}}const Ma=La(/[A-Z]/,t=>`-${t.toLowerCase()}`);function $a(t){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected an argument of type object, but got ${typeof t}`);return Object.keys(t).map(e=>`${Ma(e)}: ${t[e]};`).join(`
`)}function wi(t={}){return $a(t).replace(`
`," ")}const Fa={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};wi(Fa);function Ba(t){var e;return t.length>2&&t.startsWith("on")&&t[2]===((e=t[2])==null?void 0:e.toLowerCase())}function we(...t){const e={...t[0]};for(let r=1;r<t.length;r++){const n=t[r];for(const o in n){const i=e[o],s=n[o],a=typeof i=="function",u=typeof s=="function";if(a&&Ba(o)){const c=i,h=s;e[o]=ha(c,h)}else if(a&&u)e[o]=Vn(i,s);else if(o==="class"){const c=Sn(i),h=Sn(s);c&&h?e[o]=cn(i,s):c?e[o]=cn(i):h&&(e[o]=cn(s))}else if(o==="style"){const c=typeof i=="object",h=typeof s=="object",m=typeof i=="string",g=typeof s=="string";if(c&&h)e[o]={...i,...s};else if(c&&g){const y=cr(s);e[o]={...i,...y}}else if(m&&h){const y=cr(i);e[o]={...y,...s}}else if(m&&g){const y=cr(i),d=cr(s);e[o]={...y,...d}}else c?e[o]=i:h?e[o]=s:m?e[o]=i:g&&(e[o]=s)}else e[o]=s!==void 0?s:i}}return typeof e.style=="object"&&(e.style=wi(e.style).replaceAll(`
`," ")),e.hidden!==!0&&(e.hidden=void 0,delete e.hidden),e.disabled!==!0&&(e.disabled=void 0,delete e.disabled),e}const Va=typeof window<"u"?window:void 0;function Da(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const r=e.shadowRoot.activeElement;if(r===e)break;e=r}return e}var Re,Ze;class Wa{constructor(e={}){J(this,Re);J(this,Ze);const{window:r=Va,document:n=r==null?void 0:r.document}=e;r!==void 0&&($e(this,Re,n),$e(this,Ze,na(o=>{const i=Dt(r,"focusin",o),s=Dt(r,"focusout",o);return()=>{i(),s()}})))}get current(){var e;return(e=G(this,Ze))==null||e.call(this),G(this,Re)?Da(G(this,Re)):null}}Re=new WeakMap,Ze=new WeakMap;new Wa;function Ua(t,e){switch(t){case"post":ze(e);break;case"pre":Es(e);break}}function xi(t,e,r,n={}){const{lazy:o=!1}=n;let i=!o,s=Array.isArray(t)?[]:void 0;Ua(e,()=>{const a=Array.isArray(t)?t.map(c=>c()):t();if(!i){i=!0,s=a;return}const u=se(()=>r(a,s));return s=a,u})}function Xr(t,e,r){xi(t,"post",e,r)}function qa(t,e,r){xi(t,"pre",e,r)}Xr.pre=qa;var Qe,Kt;class Si{constructor(e){J(this,Qe);J(this,Kt);$e(this,Qe,e),$e(this,Kt,Symbol(e))}get key(){return G(this,Kt)}exists(){return Ts(G(this,Kt))}get(){const e=uo(G(this,Kt));if(e===void 0)throw new Error(`Context "${G(this,Qe)}" not found`);return e}getOr(e){const r=uo(G(this,Kt));return r===void 0?e:r}set(e){return Rs(G(this,Kt),e)}}Qe=new WeakMap,Kt=new WeakMap;function Ha(t){ze(()=>()=>{t()})}function Ne({id:t,ref:e,deps:r=()=>!0,onRefChange:n,getRootNode:o}){Xr([()=>t.current,r],([i])=>{const s=(o==null?void 0:o())??document,a=s==null?void 0:s.getElementById(i);a?e.current=a:e.current=null,n==null||n(e.current)}),Ha(()=>{e.current=null,n==null||n(null)})}function Pi(t){ze(()=>se(()=>t()))}function Ai(t){return t?"true":"false"}function Yr(t){return t?"":void 0}const Dn="ArrowDown",Kr="ArrowLeft",Jr="ArrowRight",Wn="ArrowUp",Un="End",ki="Enter",qn="Home",ji=" ";function Ga(t){return window.getComputedStyle(t).getPropertyValue("direction")}function Xa(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?Kr:Jr,vertical:Dn}[e]}function Ya(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?Jr:Kr,vertical:Wn}[e]}function Ka(t="ltr",e="horizontal"){return["ltr","rtl"].includes(t)||(t="ltr"),["horizontal","vertical"].includes(e)||(e="horizontal"),{nextKey:Xa(t,e),prevKey:Ya(t,e)}}function Oi(t){return t instanceof Element||t instanceof SVGElement}globalThis.bitsIdCounter??(globalThis.bitsIdCounter={current:0});function fe(t="bits"){return globalThis.bitsIdCounter.current++,`${t}-${globalThis.bitsIdCounter.current}`}function Pn(){}function Ja(t,e){return t>=0&&t<e.length}const Za="data-pagination-root",Qa="data-pagination-page",tc="data-pagination-prev",ec="data-pagination-next";var br,_r,wr,xr,Sr,Pr,Ar;class rc{constructor(e){ut(this,"opts");J(this,br,V(()=>this.opts.count.current===0?1:Math.ceil(this.opts.count.current/this.opts.perPage.current)));J(this,_r,V(()=>{const e=(this.opts.page.current-1)*this.opts.perPage.current,r=Math.min(e+this.opts.perPage.current,this.opts.count.current);return{start:e,end:r}}));J(this,wr,V(()=>ic({page:this.opts.page.current,totalPages:this.totalPages,siblingCount:this.opts.siblingCount.current})));J(this,xr,V(()=>this.opts.page.current>1));J(this,Sr,V(()=>this.opts.page.current<this.totalPages));J(this,Pr,V(()=>({pages:this.pages,range:this.range,currentPage:this.opts.page.current})));J(this,Ar,V(()=>({id:this.opts.id.current,"data-orientation":this.opts.orientation.current,[Za]:""})));this.opts=e,Ne(e)}get totalPages(){return p(G(this,br))}get range(){return p(G(this,_r))}get pages(){return p(G(this,wr))}setPage(e){this.opts.page.current=e}getPageTriggerNodes(){const e=this.opts.ref.current;return e?Array.from(e.querySelectorAll("[data-pagination-page]")):[]}getButtonNode(e){const r=this.opts.ref.current;if(r)return r.querySelector(`[data-pagination-${e}]`)}get hasPrevPage(){return p(G(this,xr))}get hasNextPage(){return p(G(this,Sr))}prevPage(){this.opts.page.current=Math.max(this.opts.page.current-1,1)}nextPage(){this.opts.page.current=Math.min(this.opts.page.current+1,this.totalPages)}get snippetProps(){return p(G(this,Pr))}get props(){return p(G(this,Ar))}}br=new WeakMap,_r=new WeakMap,wr=new WeakMap,xr=new WeakMap,Sr=new WeakMap,Pr=new WeakMap,Ar=new WeakMap;var kr,jr;class nc{constructor(e,r){ut(this,"opts");ut(this,"root");J(this,kr,V(()=>this.opts.page.current.value===this.root.opts.page.current));J(this,jr,V(()=>({id:this.opts.id.current,"aria-label":`Page ${this.opts.page.current.value}`,"data-value":`${this.opts.page.current.value}`,"data-selected":p(G(this,kr))?"":void 0,[Qa]:"",onclick:this.onclick,onkeydown:this.onkeydown})));this.opts=e,this.root=r,Ne(e),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button===0&&this.root.setPage(this.opts.page.current.value)}onkeydown(e){e.key===ji||e.key===ki?(e.preventDefault(),this.root.setPage(this.opts.page.current.value)):Ei(e,this.opts.ref.current,this.root)}get props(){return p(G(this,jr))}}kr=new WeakMap,jr=new WeakMap;var tr,An,Or,Er;class oc{constructor(e,r){J(this,tr);ut(this,"opts");ut(this,"root");J(this,Or,V(()=>this.opts.disabled.current?!0:this.opts.type==="prev"?!this.root.hasPrevPage:this.opts.type==="next"?!this.root.hasNextPage:!1));J(this,Er,V(()=>({id:this.opts.id.current,[tc]:this.opts.type==="prev"?"":void 0,[ec]:this.opts.type==="next"?"":void 0,disabled:p(G(this,Or)),onclick:this.onclick,onkeydown:this.onkeydown})));this.opts=e,this.root=r,Ne(e),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button===0&&gt(this,tr,An).call(this)}onkeydown(e){e.key===ji||e.key===ki?(e.preventDefault(),gt(this,tr,An).call(this)):Ei(e,this.opts.ref.current,this.root)}get props(){return p(G(this,Er))}}tr=new WeakSet,An=function(){this.opts.type==="prev"?this.root.prevPage():this.root.nextPage()},Or=new WeakMap,Er=new WeakMap;function Ei(t,e,r){if(!e||!r.opts.ref.current)return;const n=r.getPageTriggerNodes(),o=r.getButtonNode("next"),i=r.getButtonNode("prev");i&&n.unshift(i),o&&n.push(o);const s=n.indexOf(e),a=Ga(r.opts.ref.current),{nextKey:u,prevKey:c}=Ka(a,r.opts.orientation.current),h=r.opts.loop.current;let g={[u]:s+1,[c]:s-1,[qn]:0,[Un]:n.length-1}[t.key];if(g===void 0)return;t.preventDefault(),g<0&&h?g=n.length-1:g===n.length&&h&&(g=0);const y=n[g];y&&y.focus()}function ic({page:t=1,totalPages:e,siblingCount:r=1}){const n=[],o=new Set([1,e]),i=3+r,s=e-2-r;if(i>s)for(let h=2;h<=e-1;h++)o.add(h);else if(t<i)for(let h=2;h<=Math.min(i,e);h++)o.add(h);else if(t>s)for(let h=e-1;h>=Math.max(s,2);h--)o.add(h);else for(let h=Math.max(t-r,2);h<=Math.min(t+r,e);h++)o.add(h);function a(h){n.push({type:"page",value:h,key:`page-${h}`})}function u(){const h=fe();n.push({type:"ellipsis",key:`ellipsis-${h}`})}let c=0;for(const h of Array.from(o).sort((m,g)=>m-g))h-c>1&&u(),a(h),c=h;return n}const Hn=new Si("Pagination.Root");function sc(t){return Hn.set(new rc(t))}function ac(t){return new nc(t,Hn.get())}function Ti(t){return new oc(t,Hn.get())}var cc=D("<div><!></div>");function lc(t,e){mt(e,!0);let r=W(e,"id",19,fe),n=W(e,"perPage",3,1),o=W(e,"page",15,1),i=W(e,"ref",15,null),s=W(e,"siblingCount",3,1),a=W(e,"onPageChange",3,Pn),u=W(e,"loop",3,!1),c=W(e,"orientation",3,"horizontal"),h=_e(e,["$$slots","$$events","$$legacy","id","count","perPage","page","ref","siblingCount","onPageChange","loop","orientation","child","children"]);const m=sc({id:U.with(()=>r()),count:U.with(()=>e.count),perPage:U.with(()=>n()),page:U.with(()=>o(),k=>{var O;o(k),(O=a())==null||O(k)}),loop:U.with(()=>u()),siblingCount:U.with(()=>s()),orientation:U.with(()=>c()),ref:U.with(()=>i(),k=>i(k))}),g=V(()=>we(h,m.props));var y=nt(),d=q(y);{var v=k=>{var O=nt(),P=q(O),F=Fn(()=>({props:p(g),...m.snippetProps}));kt(P,()=>e.child,()=>p(F)),A(k,O)},_=k=>{var O=cc();let P;var F=z(O);kt(F,()=>e.children??ae,()=>m.snippetProps),T(O),Y(()=>P=le(O,P,{...p(g)})),A(k,O)};ot(d,k=>{e.child?k(v):k(_,!1)})}A(t,y),yt()}var uc=D("<button><!></button>");function dc(t,e){mt(e,!0);let r=W(e,"id",19,fe),n=W(e,"ref",15,null),o=W(e,"type",3,"button"),i=W(e,"disabled",3,!1),s=_e(e,["$$slots","$$events","$$legacy","id","child","children","ref","type","disabled"]);const a=Ti({type:"prev",id:U.with(()=>r()),ref:U.with(()=>n(),y=>n(y)),disabled:U.with(()=>!!i())}),u=V(()=>we(s,a.props,{type:o()}));var c=nt(),h=q(c);{var m=y=>{var d=nt(),v=q(d);kt(v,()=>e.child,()=>({props:p(u)})),A(y,d)},g=y=>{var d=uc();let v;var _=z(d);kt(_,()=>e.children??ae),T(d),Y(()=>v=le(d,v,{...p(u)})),A(y,d)};ot(h,y=>{e.child?y(m):y(g,!1)})}A(t,c),yt()}var fc=D("<button><!></button>");function hc(t,e){mt(e,!0);let r=W(e,"id",19,fe),n=W(e,"ref",15,null),o=W(e,"type",3,"button"),i=W(e,"disabled",3,!1),s=_e(e,["$$slots","$$events","$$legacy","id","child","children","ref","type","disabled"]);const a=Ti({type:"next",id:U.with(()=>r()),ref:U.with(()=>n(),y=>n(y)),disabled:U.with(()=>!!i())}),u=V(()=>we(s,a.props,{type:o()}));var c=nt(),h=q(c);{var m=y=>{var d=nt(),v=q(d);kt(v,()=>e.child,()=>({props:p(u)})),A(y,d)},g=y=>{var d=fc();let v;var _=z(d);kt(_,()=>e.children??ae),T(d),Y(()=>v=le(d,v,{...p(u)})),A(y,d)};ot(h,y=>{e.child?y(m):y(g,!1)})}A(t,c),yt()}var pc=D("<button><!></button>");function gc(t,e){mt(e,!0);let r=W(e,"id",19,fe),n=W(e,"type",3,"button"),o=W(e,"ref",15,null),i=W(e,"disabled",3,!1),s=_e(e,["$$slots","$$events","$$legacy","id","page","child","children","type","ref","disabled"]);const a=ac({id:U.with(()=>r()),page:U.with(()=>e.page),ref:U.with(()=>o(),y=>o(y)),disabled:U.with(()=>!!i())}),u=V(()=>we(s,a.props,{type:n()}));var c=nt(),h=q(c);{var m=y=>{var d=nt(),v=q(d);kt(v,()=>e.child,()=>({props:p(u)})),A(y,d)},g=y=>{var d=pc();let v;var _=z(d);{var k=P=>{var F=nt(),L=q(F);kt(L,()=>e.children??ae),A(P,F)},O=P=>{var F=Mt();Y(()=>X(F,e.page.value)),A(P,F)};ot(_,P=>{e.children?P(k):P(O,!1)})}T(d),Y(()=>v=le(d,v,{...p(u)})),A(y,d)};ot(h,y=>{e.child?y(m):y(g,!1)})}A(t,c),yt()}function vc(t,e,r){const n={position:"absolute"};return t==="lr"?(n.left=`${e}%`,n.right=`${r}%`):t==="rl"?(n.right=`${e}%`,n.left=`${r}%`):t==="bt"?(n.bottom=`${e}%`,n.top=`${r}%`):(n.top=`${e}%`,n.bottom=`${r}%`),n}function Ri(t,e){const r={position:"absolute"};return t==="lr"?(r.left=`${e}%`,r.translate="-50% 0"):t==="rl"?(r.right=`${e}%`,r.translate="50% 0"):t==="bt"?(r.bottom=`${e}%`,r.translate="0 50%"):(r.top=`${e}%`,r.translate="0 -50%"),r}function zi(t,e,r){const n={position:"absolute"};return t==="lr"?(n.left=`${e}%`,n.translate=`${r}% 0`):t==="rl"?(n.right=`${e}%`,n.translate=`${-r}% 0`):t==="bt"?(n.bottom=`${e}%`,n.translate=`0 ${-r}%`):(n.top=`${e}%`,n.translate=`0 ${r}%`),n}function Ee(t,e,r,n){const o=(t-(Number.isNaN(e)?0:e))%n;let i=Math.abs(o)*2>=n?t+Math.sign(o)*(n-Math.abs(o)):t-o;Number.isNaN(e)?!Number.isNaN(r)&&i>r&&(i=Math.floor(r/n)*n):i<e?i=e:!Number.isNaN(r)&&i>r&&(i=e+Math.floor((r-e)/n)*n);const s=n.toString(),a=s.indexOf("."),u=a>=0?s.length-a:0;if(u>0){const c=10**u;i=Math.round(i*c)/c}return i}const mc="data-slider-root",yr="data-slider-thumb",yc="data-slider-range",Ii="data-slider-tick";var er,Tr,Rr,zr;class Ni{constructor(e){ut(this,"opts");J(this,er,xt(!1));J(this,Tr,V(()=>this.opts.orientation.current==="horizontal"?this.opts.dir.current==="rtl"?"rl":"lr":this.opts.dir.current==="rtl"?"tb":"bt"));J(this,Rr,V(()=>{if(!this.opts.disabled.current)return this.opts.orientation.current==="horizontal"?"pan-y":"pan-x"}));ut(this,"getAllThumbs",()=>{const e=this.opts.ref.current;return e?Array.from(e.querySelectorAll(`[${yr}]`)):[]});J(this,zr,V(()=>({id:this.opts.id.current,"data-orientation":this.opts.orientation.current,"data-disabled":Yr(this.opts.disabled.current),style:{touchAction:p(G(this,Rr))},[mc]:""})));this.opts=e,Ne(e)}get isActive(){return p(G(this,er))}set isActive(e){Z(G(this,er),at(e))}get direction(){return p(G(this,Tr))}get props(){return p(G(this,zr))}}er=new WeakMap,Tr=new WeakMap,Rr=new WeakMap,zr=new WeakMap;var Ir,Nr,Cr,Lr,Mr;class bc extends Ni{constructor(r){super(r);ut(this,"opts");ut(this,"isMulti",!1);ut(this,"updateValue",r=>{this.opts.value.current=Ee(r,this.opts.min.current,this.opts.max.current,this.opts.step.current)});ut(this,"handlePointerMove",r=>{if(!this.isActive||this.opts.disabled.current)return;r.preventDefault(),r.stopPropagation();const n=this.opts.ref.current,o=this.getAllThumbs()[0];if(!n||!o)return;o.focus();const{left:i,right:s,top:a,bottom:u}=n.getBoundingClientRect();this.direction==="lr"?this.applyPosition({clientXY:r.clientX,start:i,end:s}):this.direction==="rl"?this.applyPosition({clientXY:r.clientX,start:s,end:i}):this.direction==="bt"?this.applyPosition({clientXY:r.clientY,start:u,end:a}):this.direction==="tb"&&this.applyPosition({clientXY:r.clientY,start:a,end:u})});ut(this,"handlePointerDown",r=>{if(r.button!==0||this.opts.disabled.current)return;const n=this.opts.ref.current,o=this.getAllThumbs()[0];if(!o||!n)return;const i=r.target;!Oi(i)||!n.contains(i)||(r.preventDefault(),o.focus(),this.isActive=!0,this.handlePointerMove(r))});ut(this,"handlePointerUp",()=>{this.opts.disabled.current||(this.isActive&&this.opts.onValueCommit.current(se(()=>this.opts.value.current)),this.isActive=!1)});ut(this,"getPositionFromValue",r=>{const n=this.opts.min.current,o=this.opts.max.current;return(r-n)/(o-n)*100});J(this,Ir,V(()=>{const r=this.opts.value.current;return Array.from({length:1},()=>{const n=r,o=this.getPositionFromValue(n??0),i=Ri(this.direction,o);return{role:"slider","aria-valuemin":this.opts.min.current,"aria-valuemax":this.opts.max.current,"aria-valuenow":n,"aria-disabled":Ai(this.opts.disabled.current),"aria-orientation":this.opts.orientation.current,"data-value":n,tabindex:this.opts.disabled.current?-1:0,style:i,[yr]:""}})}));J(this,Nr,V(()=>this.thumbsPropsArr.map((r,n)=>n)));J(this,Cr,V(()=>{const r=this.opts.max.current,n=this.opts.min.current,o=this.opts.step.current,i=r-n;let s=Math.ceil(i/o);i%o==0&&s++;const a=this.opts.value.current;return Array.from({length:s},(u,c)=>{const h=c*(o/i)*100,m=c===0,g=c===s-1,y=m?0:g?-100:-50,d=zi(this.direction,h,y),v=n+c*o,_=v<=a;return{"data-disabled":Yr(this.opts.disabled.current),"data-orientation":this.opts.orientation.current,"data-bounded":_?"":void 0,"data-value":v,style:d,[Ii]:""}})}));J(this,Lr,V(()=>this.ticksPropsArr.map((r,n)=>n)));J(this,Mr,V(()=>({ticks:this.ticksRenderArr,thumbs:this.thumbsRenderArr})));this.opts=r,Pi(()=>Vn(Dt(document,"pointerdown",this.handlePointerDown),Dt(document,"pointerup",this.handlePointerUp),Dt(document,"pointermove",this.handlePointerMove),Dt(document,"pointerleave",this.handlePointerUp))),Xr([()=>this.opts.step.current,()=>this.opts.min.current,()=>this.opts.max.current,()=>this.opts.value.current],([n,o,i,s])=>{const a=c=>Ee(c,o,i,n)===c,u=c=>Ee(c,o,i,n);a(s)||(this.opts.value.current=u(s))})}applyPosition({clientXY:r,start:n,end:o}){const i=this.opts.min.current,s=this.opts.max.current,u=(r-n)/(o-n)*(s-i)+i;if(u<i)this.updateValue(i);else if(u>s)this.updateValue(s);else{const c=this.opts.step.current,h=Math.floor((u-i)/c),m=i+h*c+c/2,g=i+(h+1)*c+c/2,y=u>=m&&u<g?(h+1)*c+i:h*c+i;y<=s&&this.updateValue(y)}}get thumbsPropsArr(){return p(G(this,Ir))}get thumbsRenderArr(){return p(G(this,Nr))}get ticksPropsArr(){return p(G(this,Cr))}get ticksRenderArr(){return p(G(this,Lr))}get snippetProps(){return p(G(this,Mr))}}Ir=new WeakMap,Nr=new WeakMap,Cr=new WeakMap,Lr=new WeakMap,Mr=new WeakMap;var rr,nr,$r,Fr,Br,Vr,Dr,Wr;class _c extends Ni{constructor(r){super(r);ut(this,"opts");ut(this,"isMulti",!0);J(this,rr,xt(null));J(this,nr,xt(0));J(this,$r,r=>{const n=this.getAllThumbs();if(!n.length)return;for(const a of n)a.blur();const o=n.map(a=>{if(this.opts.orientation.current==="horizontal"){const{left:u,right:c}=a.getBoundingClientRect();return Math.abs(r.clientX-(u+c)/2)}else{const{top:u,bottom:c}=a.getBoundingClientRect();return Math.abs(r.clientY-(u+c)/2)}}),i=n[o.indexOf(Math.min(...o))],s=n.indexOf(i);return{node:i,idx:s}});ut(this,"handlePointerMove",r=>{if(!this.isActive||this.opts.disabled.current)return;r.preventDefault(),r.stopPropagation();const n=this.opts.ref.current,o=this.activeThumb;if(!n||!o)return;o.node.focus();const{left:i,right:s,top:a,bottom:u}=n.getBoundingClientRect(),c=this.direction;c==="lr"?this.applyPosition({clientXY:r.clientX,activeThumbIdx:o.idx,start:i,end:s}):c==="rl"?this.applyPosition({clientXY:r.clientX,activeThumbIdx:o.idx,start:s,end:i}):c==="bt"?this.applyPosition({clientXY:r.clientY,activeThumbIdx:o.idx,start:u,end:a}):c==="tb"&&this.applyPosition({clientXY:r.clientY,activeThumbIdx:o.idx,start:a,end:u})});ut(this,"handlePointerDown",r=>{if(r.button!==0||this.opts.disabled.current)return;const n=this.opts.ref.current,o=G(this,$r).call(this,r);if(!o||!n)return;const i=r.target;!Oi(i)||!n.contains(i)||(r.preventDefault(),this.activeThumb=o,o.node.focus(),this.isActive=!0,this.handlePointerMove(r))});ut(this,"handlePointerUp",()=>{this.opts.disabled.current||(this.isActive&&this.opts.onValueCommit.current(se(()=>this.opts.value.current)),this.isActive=!1)});ut(this,"getPositionFromValue",r=>{const n=this.opts.min.current,o=this.opts.max.current;return(r-n)/(o-n)*100});ut(this,"getAllThumbs",()=>{const r=this.opts.ref.current;return r?Array.from(r.querySelectorAll(`[${yr}]`)):[]});ut(this,"updateValue",(r,n)=>{const o=this.opts.value.current;if(!o.length){this.opts.value.current.push(r);return}if(o[n]===r)return;const s=[...o];if(!Ja(n,s))return;const a=s[n]>r?-1:1,u=()=>{var d;const g=n+a;s[n]=s[g],s[g]=r;const y=this.getAllThumbs();y.length&&((d=y[g])==null||d.focus(),this.activeThumb={node:y[g],idx:g})};if(this.opts.autoSort.current&&(a===-1&&r<s[n-1]||a===1&&r>s[n+1])){u(),this.opts.value.current=s;return}const c=this.opts.min.current,h=this.opts.max.current,m=this.opts.step.current;s[n]=Ee(r,c,h,m),this.opts.value.current=s});J(this,Fr,V(()=>{const r=this.opts.value.current;return Array.from({length:r.length||1},(n,o)=>{const i=se(()=>this.currentThumbIdx);i<r.length&&se(()=>{this.currentThumbIdx=i+1});const s=r[o],a=this.getPositionFromValue(s??0),u=Ri(this.direction,a);return{role:"slider","aria-valuemin":this.opts.min.current,"aria-valuemax":this.opts.max.current,"aria-valuenow":s,"aria-disabled":Ai(this.opts.disabled.current),"aria-orientation":this.opts.orientation.current,"data-value":s,tabindex:this.opts.disabled.current?-1:0,style:u,[yr]:""}})}));J(this,Br,V(()=>this.thumbsPropsArr.map((r,n)=>n)));J(this,Vr,V(()=>{const r=this.opts.max.current,n=this.opts.min.current,o=this.opts.step.current,i=r-n;let s=Math.ceil(i/o);i%o==0&&s++;const a=this.opts.value.current;return Array.from({length:s},(u,c)=>{const h=c*(o/i)*100,m=c===0,g=c===s-1,y=m?0:g?-100:-50,d=zi(this.direction,h,y),v=n+c*o,_=a.length===1?v<=a[0]:a[0]<=v&&v<=a[a.length-1];return{"data-disabled":Yr(this.opts.disabled.current),"data-orientation":this.opts.orientation.current,"data-bounded":_?"":void 0,"data-value":v,style:d,[Ii]:""}})}));J(this,Dr,V(()=>this.ticksPropsArr.map((r,n)=>n)));J(this,Wr,V(()=>({ticks:this.ticksRenderArr,thumbs:this.thumbsRenderArr})));this.opts=r,Pi(()=>Vn(Dt(document,"pointerdown",this.handlePointerDown),Dt(document,"pointerup",this.handlePointerUp),Dt(document,"pointermove",this.handlePointerMove),Dt(document,"pointerleave",this.handlePointerUp))),Xr([()=>this.opts.step.current,()=>this.opts.min.current,()=>this.opts.max.current,()=>this.opts.value.current],([n,o,i,s])=>{const a=c=>Ee(c,o,i,n)===c,u=c=>Ee(c,o,i,n);s.some(c=>!a(c))&&(this.opts.value.current=s.map(u))})}get activeThumb(){return p(G(this,rr))}set activeThumb(r){Z(G(this,rr),at(r))}get currentThumbIdx(){return p(G(this,nr))}set currentThumbIdx(r){Z(G(this,nr),at(r))}applyPosition({clientXY:r,activeThumbIdx:n,start:o,end:i}){const s=this.opts.min.current,a=this.opts.max.current,c=(r-o)/(i-o)*(a-s)+s;if(c<s)this.updateValue(s,n);else if(c>a)this.updateValue(a,n);else{const h=this.opts.step.current,m=Math.floor((c-s)/h),g=s+m*h+h/2,y=s+(m+1)*h+h/2,d=c>=g&&c<y?(m+1)*h+s:m*h+s;d<=a&&this.updateValue(d,n)}}get thumbsPropsArr(){return p(G(this,Fr))}get thumbsRenderArr(){return p(G(this,Br))}get ticksPropsArr(){return p(G(this,Vr))}get ticksRenderArr(){return p(G(this,Dr))}get snippetProps(){return p(G(this,Wr))}}rr=new WeakMap,nr=new WeakMap,$r=new WeakMap,Fr=new WeakMap,Br=new WeakMap,Vr=new WeakMap,Dr=new WeakMap,Wr=new WeakMap;const wc=[Kr,Jr,Wn,Dn,qn,Un];var Ur,qr;class xc{constructor(e,r){ut(this,"opts");ut(this,"root");J(this,Ur,V(()=>{const e=Array.isArray(this.root.opts.value.current)&&this.root.opts.value.current.length>1?this.root.getPositionFromValue(Math.min(...this.root.opts.value.current)??0):0,r=Array.isArray(this.root.opts.value.current)?100-this.root.getPositionFromValue(Math.max(...this.root.opts.value.current)??0):100-this.root.getPositionFromValue(this.root.opts.value.current);return{position:"absolute",...vc(this.root.direction,e,r)}}));J(this,qr,V(()=>({id:this.opts.id.current,"data-orientation":this.root.opts.orientation.current,"data-disabled":Yr(this.root.opts.disabled.current),style:this.rangeStyles,[yc]:""})));this.opts=e,this.root=r,Ne(e)}get rangeStyles(){return p(G(this,Ur))}get props(){return p(G(this,qr))}}Ur=new WeakMap,qr=new WeakMap;var Hr,vt,Pt,Gr;class Sc{constructor(e,r){J(this,vt);ut(this,"opts");ut(this,"root");J(this,Hr,V(()=>this.root.opts.disabled.current||this.opts.disabled.current));J(this,Gr,V(()=>({...this.root.thumbsPropsArr[this.opts.index.current],id:this.opts.id.current,onkeydown:this.onkeydown})));this.opts=e,this.root=r,Ne(e),this.onkeydown=this.onkeydown.bind(this)}onkeydown(e){if(p(G(this,Hr)))return;const r=this.opts.ref.current;if(!r)return;const n=this.root.getAllThumbs();if(!n.length)return;const o=n.indexOf(r);if(this.root.isMulti&&(this.root.currentThumbIdx=o),!wc.includes(e.key))return;e.preventDefault();const i=this.root.opts.min.current,s=this.root.opts.max.current,a=this.root.opts.value.current,u=Array.isArray(a)?a[o]:a,c=this.root.opts.orientation.current,h=this.root.direction,m=this.root.opts.step.current;switch(e.key){case qn:gt(this,vt,Pt).call(this,i);break;case Un:gt(this,vt,Pt).call(this,s);break;case Kr:if(c!=="horizontal")break;if(e.metaKey){const g=h==="rl"?s:i;gt(this,vt,Pt).call(this,g)}else h==="rl"&&u<s?gt(this,vt,Pt).call(this,u+m):h==="lr"&&u>i&&gt(this,vt,Pt).call(this,u-m);break;case Jr:if(c!=="horizontal")break;if(e.metaKey){const g=h==="rl"?i:s;gt(this,vt,Pt).call(this,g)}else h==="rl"&&u>i?gt(this,vt,Pt).call(this,u-m):h==="lr"&&u<s&&gt(this,vt,Pt).call(this,u+m);break;case Wn:if(e.metaKey){const g=h==="tb"?i:s;gt(this,vt,Pt).call(this,g)}else h==="tb"&&u>i?gt(this,vt,Pt).call(this,u-m):h!=="tb"&&u<s&&gt(this,vt,Pt).call(this,u+m);break;case Dn:if(e.metaKey){const g=h==="tb"?s:i;gt(this,vt,Pt).call(this,g)}else h==="tb"&&u<s?gt(this,vt,Pt).call(this,u+m):h!=="tb"&&u>i&&gt(this,vt,Pt).call(this,u-m);break}this.root.opts.onValueCommit.current(this.root.opts.value.current)}get props(){return p(G(this,Gr))}}Hr=new WeakMap,vt=new WeakSet,Pt=function(e){this.root.isMulti?this.root.updateValue(e,this.opts.index.current):this.root.updateValue(e)},Gr=new WeakMap;const Gn=new Si("Slider.Root");function Pc(t){const{type:e,...r}=t,n=e==="single"?new bc(r):new _c(r);return Gn.set(n)}function Ac(t){return new xc(t,Gn.get())}function kc(t){return new Sc(t,Gn.get())}var jc=D("<span><!></span>");function Oc(t,e){mt(e,!0);let r=W(e,"id",19,fe),n=W(e,"ref",15,null),o=W(e,"value",15),i=W(e,"onValueChange",3,Pn),s=W(e,"onValueCommit",3,Pn),a=W(e,"disabled",3,!1),u=W(e,"min",3,0),c=W(e,"max",3,100),h=W(e,"step",3,1),m=W(e,"dir",3,"ltr"),g=W(e,"autoSort",3,!0),y=W(e,"orientation",3,"horizontal"),d=_e(e,["$$slots","$$events","$$legacy","children","child","id","ref","value","type","onValueChange","onValueCommit","disabled","min","max","step","dir","autoSort","orientation"]);o()===void 0&&o(e.type==="single"?0:[]);const v=Pc({id:U.with(()=>r()),ref:U.with(()=>n(),L=>n(L)),value:U.with(()=>o(),L=>{o(L),i()(L)}),onValueCommit:U.with(()=>s()),disabled:U.with(()=>a()),min:U.with(()=>u()),max:U.with(()=>c()),step:U.with(()=>h()),dir:U.with(()=>m()),autoSort:U.with(()=>g()),orientation:U.with(()=>y()),type:e.type}),_=V(()=>we(d,v.props));var k=nt(),O=q(k);{var P=L=>{var x=nt(),S=q(x),N=Fn(()=>({props:p(_),...v.snippetProps}));kt(S,()=>e.child,()=>p(N)),A(L,x)},F=L=>{var x=jc();let S;var N=z(x);kt(N,()=>e.children??ae,()=>v.snippetProps),T(x),Y(()=>S=le(x,S,{...p(_)})),A(L,x)};ot(O,L=>{e.child?L(P):L(F,!1)})}A(t,k),yt()}var Ec=D("<span><!></span>");function Tc(t,e){mt(e,!0);let r=W(e,"ref",15,null),n=W(e,"id",19,fe),o=_e(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const i=Ac({id:U.with(()=>n()),ref:U.with(()=>r(),m=>r(m))}),s=V(()=>we(o,i.props));var a=nt(),u=q(a);{var c=m=>{var g=nt(),y=q(g);kt(y,()=>e.child,()=>({props:p(s)})),A(m,g)},h=m=>{var g=Ec();let y;var d=z(g);kt(d,()=>e.children??ae),T(g),Y(()=>y=le(g,y,{...p(s)})),A(m,g)};ot(u,m=>{e.child?m(c):m(h,!1)})}A(t,a),yt()}var Rc=D("<span><!></span>");function zc(t,e){mt(e,!0);let r=W(e,"ref",15,null),n=W(e,"id",19,fe),o=W(e,"disabled",3,!1),i=_e(e,["$$slots","$$events","$$legacy","children","child","ref","id","index","disabled"]);const s=kc({id:U.with(()=>n()),ref:U.with(()=>r(),g=>r(g)),index:U.with(()=>e.index),disabled:U.with(()=>o())}),a=V(()=>we(i,s.props));var u=nt(),c=q(u);{var h=g=>{var y=nt(),d=q(y);kt(d,()=>e.child,()=>({props:p(a)})),A(g,y)},m=g=>{var y=Rc();let d;var v=z(y);kt(v,()=>e.children??ae),T(y),Y(()=>d=le(y,d,{...p(a)})),A(g,y)};ot(c,g=>{e.child?g(h):g(m,!1)})}A(t,u),yt()}function Ic(t,e){const r=te(e,["children","$$slots","$$events","$$legacy"]);de(t,ue({name:"arrow-down"},()=>r,{iconNode:[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]],children:(o,i)=>{var s=nt(),a=q(s);ce(a,e,"default",{}),A(o,s)},$$slots:{default:!0}}))}function Nc(t,e){const r=te(e,["children","$$slots","$$events","$$legacy"]);de(t,ue({name:"arrow-up"},()=>r,{iconNode:[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]],children:(o,i)=>{var s=nt(),a=q(s);ce(a,e,"default",{}),A(o,s)},$$slots:{default:!0}}))}function Cc(t,e){const r=te(e,["children","$$slots","$$events","$$legacy"]);de(t,ue({name:"chevron-left"},()=>r,{iconNode:[["path",{d:"m15 18-6-6 6-6"}]],children:(o,i)=>{var s=nt(),a=q(s);ce(a,e,"default",{}),A(o,s)},$$slots:{default:!0}}))}function Lc(t,e){const r=te(e,["children","$$slots","$$events","$$legacy"]);de(t,ue({name:"chevron-right"},()=>r,{iconNode:[["path",{d:"m9 18 6-6-6-6"}]],children:(o,i)=>{var s=nt(),a=q(s);ce(a,e,"default",{}),A(o,s)},$$slots:{default:!0}}))}function Mc(t,e){const r=te(e,["children","$$slots","$$events","$$legacy"]);de(t,ue({name:"filter"},()=>r,{iconNode:[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}]],children:(o,i)=>{var s=nt(),a=q(s);ce(a,e,"default",{}),A(o,s)},$$slots:{default:!0}}))}function $c(t,e){const r=te(e,["children","$$slots","$$events","$$legacy"]);de(t,ue({name:"layout-grid"},()=>r,{iconNode:[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"}]],children:(o,i)=>{var s=nt(),a=q(s);ce(a,e,"default",{}),A(o,s)},$$slots:{default:!0}}))}function Fc(t,e){const r=te(e,["children","$$slots","$$events","$$legacy"]);de(t,ue({name:"map"},()=>r,{iconNode:[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"}],["path",{d:"M15 5.764v15"}],["path",{d:"M9 3.236v15"}]],children:(o,i)=>{var s=nt(),a=q(s);ce(a,e,"default",{}),A(o,s)},$$slots:{default:!0}}))}function Bc(t,e){const r=te(e,["children","$$slots","$$events","$$legacy"]);de(t,ue({name:"table"},()=>r,{iconNode:[["path",{d:"M12 3v18"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}]],children:(o,i)=>{var s=nt(),a=q(s);ce(a,e,"default",{}),A(o,s)},$$slots:{default:!0}}))}const Vc={"images.ctfassets.net":"contentful","cdn.builder.io":"builder.io","images.prismic.io":"imgix","www.datocms-assets.com":"imgix","cdn.sanity.io":"imgix","images.unsplash.com":"imgix","cdn.shopify.com":"shopify","s7d1.scene7.com":"scene7","ip.keycdn.com":"keycdn","assets.caisy.io":"bunny","images.contentstack.io":"contentstack","ucarecdn.com":"uploadcare","imagedelivery.net":"cloudflare_images"},Dc={"imgix.net":"imgix","files.wordpress.com":"wordpress","b-cdn.net":"bunny","storyblok.com":"storyblok","kc-usercontent.com":"kontent.ai","cloudinary.com":"cloudinary","kxcdn.com":"keycdn","imgeng.in":"imageengine","imagekit.io":"imagekit","cloudimg.io":"cloudimage","ucarecdn.com":"uploadcare","supabase.co":"supabase"},Wc={"/cdn-cgi/image/":"cloudflare","/cdn-cgi/imagedelivery/":"cloudflare_images","/_next/image":"nextjs","/_next/static":"nextjs","/_vercel/image":"vercel","/is/image":"scene7","/_ipx/":"ipx","/_image":"astro","/.netlify/images":"netlify","/storage/v1/object/public/":"supabase","/storage/v1/render/image/public/":"supabase"},Te=t=>{if(!t)return t;const e=Number(t);return isNaN(e)?t:Math.round(e)},H=(t,e,r,n,o)=>{r?(o&&(r=Te(r)),t.searchParams.set(e,r.toString())):n&&t.searchParams.delete(e)},Et=(t,e,r)=>{t.searchParams.has(e)||t.searchParams.set(e,r.toString())},Ye=(t,e)=>{const r=Number(t.searchParams.get(e));return isNaN(r)?void 0:r},Ci=t=>{const{pathname:e,search:r}=t;return`${e}${r}`},Xn=t=>t.hostname==="n"?Ci(t):t.toString(),st=(t,e)=>typeof t=="string"?new URL(t,e??"http://n/"):t,_o=new Map(Object.entries(Vc)),Uc=Object.entries(Dc);function qc(t){return Li(t)||Hc(t)}function Li(t){if(typeof t=="string"&&!t.startsWith("https://"))return!1;const{hostname:e}=st(t);if(_o.has(e))return _o.get(e);for(const[r,n]of Uc)if(e.endsWith(`.${r}`))return n;return!1}function Hc(t){const{pathname:e}=st(t);for(const[r,n]of Object.entries(Wc))if(e.startsWith(r))return n;return!1}const Gc=({url:t,width:e,height:r,format:n})=>{const o=st(t);return e&&e>4e3&&(r&&(r=Math.round(r*4e3/e)),e=4e3),r&&r>4e3&&(e&&(e=Math.round(e*4e3/r)),r=4e3),H(o,"w",e,!0,!0),H(o,"h",r,!0,!0),H(o,"fm",n),Et(o,"fit","fill"),o},Xc=({url:t,width:e,height:r,format:n})=>{const o=st(t);return H(o,"width",e,!0,!0),H(o,"height",r,!0,!0),H(o,"format",n),e&&r&&(Et(o,"fit","cover"),Et(o,"sharp","true")),o},Yc=({url:t,width:e,height:r,format:n})=>{var i;const o=st(t);if(H(o,"w",e,!0,!0),H(o,"h",r,!0,!0),Et(o,"fit","min"),n){o.searchParams.set("fm",n);const s=o.searchParams.get("auto");s==="format"?o.searchParams.delete("auto"):s!=null&&s.includes("format")&&o.searchParams.set("auto",s.split(",").filter(a=>a!=="format").join(","))}else o.searchParams.delete("fm"),(i=o.searchParams.get("auto"))!=null&&i.includes("format")||o.searchParams.append("auto","format");return o},Kc=/(.+?)(?:_(?:(pico|icon|thumb|small|compact|medium|large|grande|original|master)|(\d*)x(\d*)))?(?:_crop_([a-z]+))?(\.[a-zA-Z]+)(\.png|\.jpg|\.webp|\.avif)?$/,Jc=t=>{const e=st(t),r=e.pathname.match(Kc);if(!r)throw new Error("Invalid Shopify URL");const[,n,o,i,s,a,u,c]=r;e.pathname=`${n}${u}`;const h=i||e.searchParams.get("width"),m=s||e.searchParams.get("height");return e.searchParams.delete("width"),e.searchParams.delete("height"),{base:e.toString(),width:Number(h)||void 0,height:Number(m)||void 0,format:c?c.slice(1):void 0,params:{crop:a,size:o},cdn:"shopify"}},Zc=({base:t,width:e,height:r,format:n,params:o})=>{const i=st(t);return H(i,"width",e,!0,!0),H(i,"height",r,!0,!0),H(i,"crop",o==null?void 0:o.crop),H(i,"format",n),i},Qc=({url:t,width:e,height:r})=>{const n=Jc(t);if(!n)return;const o={...n,width:e,height:r};return Zc(o)},tl=({url:t,width:e,height:r})=>{const n=st(t);return H(n,"w",e,!0,!0),H(n,"h",r,!0,!0),Et(n,"crop","1"),n},el=({url:t,width:e,height:r})=>{const n=st(t);return H(n,"w",e,!0,!0),H(n,"h",r,!0,!0),H(n,"q",Ye(n,"q"),!0),n},rl=/https?:\/\/(?<host>[^\/]+)\/(?<cloudName>[^\/]+)\/(?<assetType>image|video|raw)\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)\/?(?<signature>s\-\-[a-zA-Z0-9]+\-\-)?\/?(?<transformations>(?:[^_\/]+_[^,\/]+,?)*)?\/(?:(?<version>v\d+)\/)?(?<idAndFormat>[^\s]+)$/g,nl=t=>t?Object.fromEntries(t.split(",").map(e=>e.split("_"))):{},Mi=({host:t,cloudName:e,assetType:r,deliveryType:n,signature:o,transformations:i={},version:s,id:a,format:u})=>{u&&(i.f=u);const c=Object.entries(i).map(([m,g])=>`${m}_${g}`).join(",");return`https://${[t,e,r,n,o,c,s,a].filter(Boolean).join("/")}`},$i=t=>{const r=[...st(t).toString().matchAll(rl)];if(!r.length)throw new Error("Invalid Cloudinary URL");const n=r[0].groups||{},{transformations:o="",idAndFormat:i,...s}=n;delete n.idAndFormat;const a=i.lastIndexOf("."),u=a<0?i:i.slice(0,a),c=a<0?void 0:i.slice(a+1),{w:h,h:m,f:g,...y}=nl(o),d=g&&g!=="auto"?g:c;return{base:Mi({...s,id:u,transformations:y}),width:Number(h)||void 0,height:Number(m)||void 0,format:d,cdn:"cloudinary",params:{...n,id:n.deliveryType==="fetch"?i:u,format:d,transformations:y}}},ol=({base:t,width:e,height:r,format:n,params:o})=>{var a;const i=$i(t.toString()),s={transformations:{},...i.params,...o,format:n||"auto"};return e&&(s.transformations.w=Te(e).toString()),r&&(s.transformations.h=Te(r).toString()),(a=s.transformations).c||(a.c="lfill"),Mi(s)},il=({url:t,width:e,height:r,format:n="auto"})=>{var s,a;const o=$i(t);if(!o)throw new Error("Invalid Cloudinary URL");if(((s=o.params)==null?void 0:s.assetType)!=="image")throw new Error("Cloudinary transformer only supports images");if((a=o.params)!=null&&a.signature)throw new Error("Cloudinary transformer does not support signed URLs");const i={...o,width:e,height:r,format:n};return ol(i)},sl=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/image\/(?<transformations>[^\/]+)?\/(?<path>.*)$/g,al=t=>Object.fromEntries(t.split(",").map(e=>e.split("="))),Fi=({host:t,transformations:e={},path:r})=>{const n=Object.entries(e).map(([i,s])=>`${i}=${s}`).join(",");return`https://${[t,"cdn-cgi","image",n,r].join("/")}`},Bi=t=>{const e=st(t),r=[...e.toString().matchAll(sl)];if(!r.length)throw new Error("Invalid Cloudflare URL");const n=r[0].groups||{},{transformations:o,...i}=n,{width:s,height:a,f:u,...c}=al(o);return Fi({...i,transformations:c}),{base:e.toString(),width:Number(s)||void 0,height:Number(a)||void 0,format:u,cdn:"cloudflare",params:{...n,transformations:c}}},cl=({base:t,width:e,height:r,format:n,params:o})=>{var a;const i=Bi(t.toString()),s={transformations:{},...i.params,...o};return e&&(s.transformations.width=e==null?void 0:e.toString()),r&&(s.transformations.height=r==null?void 0:r.toString()),n&&(s.transformations.f=n==="jpg"?"jpeg":n),(a=s.transformations).fit||(a.fit="cover"),new URL(Fi(s))},ll=({url:t,width:e,height:r,format:n="auto"})=>{const o=Bi(t);if(!o)throw new Error("Invalid Cloudflare URL");const i={...o,width:e,height:r,format:n};return cl(i)},ul=({url:t,width:e,height:r})=>{const n=st(t);return H(n,"width",e,!0,!0),e&&r&&Et(n,"aspect_ratio",`${e}:${r}`),n},dl=/(?<id>\/f\/\d+\/\d+x\d+\/\w+\/[^\/]+)\/?(?<modifiers>m\/?(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?)?$/g,fl=/^(?<modifiers>\/(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?\/?)?(?<id>\/f\/.+)$/g,hl=t=>t?Object.fromEntries(t.split(":").map(e=>{if(!e)return[];const[r,n]=e.split("(");return[r,n.replace(")","")]})):{},pl=t=>{if(!t)return;const e=Object.entries(t).map(([r,n])=>`${r}(${n??""})`);if(e.length!==0)return`filters:${e.join(":")}`},gl=t=>{const e=st(t),r=e.hostname==="img2.storyblok.com"?fl:dl,[n]=e.pathname.matchAll(r);if(!n||!n.groups)throw new Error("Invalid Storyblok URL");const{id:o,crop:i,width:s,height:a,filters:u,flipx:c,flipy:h}=n.groups,{format:m,...g}=hl(u);return e.hostname==="img2.storyblok.com"&&(e.hostname="a.storyblok.com"),{base:e.origin+o,width:Number(s)||void 0,height:Number(a)||void 0,format:m,params:{crop:i,filters:g,flipx:c,flipy:h},cdn:"storyblok"}},vl=({base:t,width:e=0,height:r=0,format:n,params:o={}})=>{const{crop:i,filters:s,flipx:a="",flipy:u=""}=o,c=`${a}${e}x${u}${r}`;return new URL([t,"m",i,c,pl(s),n].filter(Boolean).join("/"))},ml=({url:t,width:e,height:r,format:n})=>{const o=gl(t);if(o)return n&&(o.params||(o.params={filters:{}}),o.params.filters||(o.params.filters={}),o.params.filters.format=n),vl({...o,width:e,height:r})},yl=({url:t,width:e,height:r,format:n})=>{const o=st(t);return H(o,"w",e,!0,!0),H(o,"h",r,!0,!0),H(o,"fm",n,!0),e&&r&&Et(o,"fit","crop"),o},wo=t=>{const r=st(t).searchParams.get("url");if(!r||!r.startsWith("http"))return!1;const n=Li(r);return n?{cdn:n,url:r}:!1},bl=({base:t,width:e,params:{quality:r=75,root:n="_vercel"}={}})=>{const o=new URL("http://n");return o.pathname=`/${n}/image`,o.searchParams.set("url",t.toString()),H(o,"w",e,!1,!0),Et(o,"q",r),Ci(o)},Vi=({url:t,width:e,cdn:r})=>{const n=st(t),o=n.pathname.startsWith("/_next/image")||n.pathname.startsWith("/_vercel/image"),i=o?n.searchParams.get("url"):t.toString();if(i)return H(n,"w",e,!0,!0),o?Xn(n):bl({base:i,width:e,params:{root:r==="nextjs"?"_next":"_vercel"}})},_l=t=>Vi({...t,cdn:"nextjs"}),wl=({url:t,width:e,height:r,format:n})=>{const o=st(t);return H(o,"wid",e,!0,!0),H(o,"hei",r,!0,!0),H(o,"fmt",n,!0),H(o,"qlt",Ye(o,"qlt"),!0),H(o,"scl",Ye(o,"scl"),!0),Et(o,"fit","crop"),!e&&!r&&Et(o,"scl",1),o},xl=({url:t,width:e,height:r,format:n})=>{const o=st(t);return H(o,"width",e,!0,!0),H(o,"height",r,!0,!0),H(o,"format",n,!0),H(o,"quality",Ye(o,"quality"),!0),Et(o,"enlarge",0),o},Sl=({url:t,width:e,height:r,format:n})=>{const o=st(t);return H(o,"width",e,!0,!0),H(o,"height",r,!0,!0),H(o,"format",n),H(o,"quality",Ye(o,"quality"),!0),o},kn={width:"w",height:"h",autoWidthWithFallback:"w_auto",auto_width_fallback:"w_auto",scaleToScreenWidth:"pc",scale_to_screen_width:"pc",crop:"cr",outputFormat:"f",format:"f",fit:"m",fitMethod:"m",compression:"cmpr",sharpness:"s",rotate:"r",inline:"in",keepMeta:"meta",keep_meta:"meta",noOptimization:"pass",no_optimization:"pass",force_download:"dl",max_device_pixel_ratio:"maxdpr",maxDevicePixelRatio:"maxdpr"};function Pl(t){return Object.keys(kn).find(n=>kn[n]===t)||""}function Al(t){let e=t.toString(),r=[];if(e){let n=e.split("imgeng=");n.length>1&&(r=n[1].split("/"))}return r}function kl(t){let e=t.toString(),r="";if(e){let n=e.split("imgeng=");n.length>1?r=n[0].slice(0,-1):r=e}return r}const jl=({url:t,width:e,height:r,format:n})=>{const o=st(t),i=kl(o);let s={};const a=o.toString()===i?[]:Al(o);a.length&&(s=Rl(a)),e&&(s.width=e),r&&(s.height=r),n&&(s.format=n),s.hasOwnProperty("fit")||(s={...s,fit:"cropbox"});let u=Ol(s),c=El(u),h=c===""?"":i.includes("?")?"&":"?";return`${i}${h}${c}`};function Ol(t){return Object.entries(t).reduce((e,[r,n])=>e+Tl(r,n),"")}function El(t){return t&&t!==""?`imgeng=${t}`:""}function Tl(t,e){let r=kn[t];return r&&(e||e===0)?`/${r}_${e}`:""}function Rl(t){let e={};return t.forEach(r=>{let n=r.split("_");if(n.length>1){let o=n[0],i=n[1],s=Pl(o);s&&(e[s]=i)}}),e}const zl=({url:t,width:e,height:r,format:n})=>{const o=st(t);return H(o,"width",e,!0,!0),H(o,"height",r,!0,!0),H(o,"format",n),o.searchParams.has("format")||Et(o,"auto","webp"),e&&r&&Et(o,"fit","crop"),o},Il=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/imagedelivery\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,Nl=/https?:\/\/(?<host>imagedelivery.net)\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,Cl=t=>{var e;return Object.fromEntries(((e=t==null?void 0:t.split(","))==null?void 0:e.map(r=>r.split("=")))??[])},Ll=({host:t,accountHash:e,transformations:r={},imageId:n})=>{const o=Object.entries(r).filter(([s,a])=>!!s&&a!==void 0).map(([s,a])=>`${s}=${a}`).join(",");return`https://${[...t==="imagedelivery.net"?[t]:[t,"cdn-cgi","imagedelivery"],e,n,o].join("/")}`},Di=t=>{const e=st(t),r=[...e.toString().matchAll(Il),...e.toString().matchAll(Nl)];if(!r.length)throw new Error("Invalid Cloudflare Images URL");const n=r[0].groups||{},{transformations:o,...i}=n,{w:s,h:a,f:u,...c}=Cl(o);return{base:e.toString(),width:Number(s)||void 0,height:Number(a)||void 0,format:u,cdn:"cloudflare_images",params:{...i,transformations:c}}},Ml=({base:t,width:e,height:r,format:n,params:o})=>{var a;const i=Di(t.toString()),s={transformations:{},...i.params,...o};return e&&(s.transformations.w=e==null?void 0:e.toString()),r&&(s.transformations.h=r==null?void 0:r.toString()),n&&(s.transformations.f=n),(a=s.transformations).fit||(a.fit="cover"),new URL(Ll(s))},$l=({url:t,width:e,height:r,format:n="auto"})=>{const o=Di(t);if(!o)throw new Error("Invalid Cloudflare Images URL");const i={...o,width:e,height:r,format:n};return Ml(i)},Fl=t=>{const e=st(t),[r,...n]=e.pathname.split("/").slice(1),o=Object.fromEntries(r.split(",").map(i=>{const[s,a]=i.split("_");return[s,a]}));if(o.s){const[i,s]=o.s.split("x");o.w||(o.w=i),o.h||(o.h=s)}return{base:n.join("/"),width:Number(o.w)||void 0,height:Number(o.h)||void 0,quality:Number(o.q)||void 0,format:o.f||"auto",params:o,cdn:"ipx"}},xo=({base:t,width:e,height:r,format:n,params:o})=>{const i=(o==null?void 0:o.modifiers)??{};e&&r?i.s=`${e}x${r}`:e?i.w=`${e}`:r&&(i.h=`${r}`),n&&(i.f=n);const s=o!=null&&o.base.endsWith("/")?o==null?void 0:o.base:`${o==null?void 0:o.base}/`,a=Object.entries(i).map(([h,m])=>`${h}_${m}`).join(","),u=t.toString(),c=u.startsWith("/")?u.slice(1):u;return`${s}${a}/${c}`},Bl=t=>{var s,a,u,c;const e=String(t.url),r=st(e),n=r.pathname.startsWith("/_ipx")&&r.hostname!=="n"?`${r.origin}/_ipx`:"/_ipx",o=((a=(s=t.cdnOptions)==null?void 0:s.ipx)==null?void 0:a.base)??n;if(o&&o!=="/"&&e.startsWith(o)){const h=Fl(e.replace(o,""));return xo({...h,...t,params:{...(u=t.cdnOptions)==null?void 0:u.ipx,base:o}})}return xo({...t,base:e,params:{...(c=t.cdnOptions)==null?void 0:c.ipx,base:o}})},Vl=({url:t,width:e,height:r,format:n})=>{const o=st(t),i=Xn(new URL(o.pathname,o.origin)),s={searchParams:new URLSearchParams};return H(s,"href",i,!0,!0),H(s,"w",e,!0,!0),H(s,"h",r,!0,!0),H(s,"f",n),`/_image?${s.searchParams.toString()}`},Dl=new Set(["w","h","q","fm","url","width","height","quality"]),Wl=t=>{const e=st(t),r=Number(e.searchParams.get("w")??e.searchParams.get("width"))??void 0,n=Number(e.searchParams.get("h")??e.searchParams.get("height"))??void 0,o=Number(e.searchParams.get("q")??e.searchParams.get("quality"))||void 0,i=e.searchParams.get("fm")||void 0,s=e.searchParams.get("url")||"",a={quality:o};return e.searchParams.forEach((u,c)=>{Dl.has(c)||(a[c]=u)}),e.search="",{base:s,width:r,height:n,format:i,params:a,cdn:"netlify"}},So=({base:t,width:e,height:r,format:n,params:{site:o,quality:i,...s}={}})=>{const a=st("/.netlify/images",o);return Object.entries(s).forEach(([u,c])=>H(a,u,c)),H(a,"q",i,!0,!0),H(a,"w",e,!0,!0),H(a,"h",r,!0,!0),H(a,"fm",n),Et(a,"fit","cover"),a.searchParams.set("url",t.toString()),Xn(a)},Ul=t=>{var r,n;const e=st(t.url);if(e.pathname.startsWith("/.netlify/images")){const{params:o,base:i,format:s}=Wl(e);return So({base:i,format:s,...t,params:{...o,site:e.hostname==="n"?void 0:e.origin}})}return So({...t,base:t.url,params:{site:(n=(r=t.cdnOptions)==null?void 0:r.netlify)==null?void 0:n.site}})},ql=t=>(t.searchParams.get("tr")||"").split(",").reduce((r,n)=>{const[o,i]=n.split("-");return r[o]=i,r},{}),Hl=({url:t,width:e,height:r,format:n})=>{const o=st(t),i=ql(o);i.w=e&&Math.round(e),i.h=r&&Math.round(r),i.f||(i.f="auto"),n&&(i.f=n);const s=Object.keys(i).map(a=>{const u=i[a];if(u)return`${a}-${u}`}).filter(a=>a).join(",");return o.searchParams.set("tr",s),o},Gl=/^https?:\/\/(?<host>[^\/]+)\/(?<uuid>[^\/]+)/g;function Wi(t){const e=new URL(t),r=e.pathname+e.search+e.hash,n=r.lastIndexOf("http"),o=r.lastIndexOf("/");let i="";return n>=0?i=r.slice(n):o>=0&&(i=r.slice(o+1)),i}function Xl(t){return t.startsWith("http")}function Yl(t){const e=new URL(t);return{pathname:e.origin+e.pathname||"",search:e.search||"",hash:e.hash||""}}function Kl(t){const e=new URL(t),r=Wi(t),n=Xl(r)?Yl(r).pathname:r;return e.pathname=e.pathname.replace(n,""),e.search="",e.hash="",e.toString()}const Jl=t=>{if(typeof t!="string"||!t)return"";let e=t.trim();return e.startsWith("-/")?e=e.slice(2):e.startsWith("/")&&(e=e.slice(1)),e.endsWith("/")&&(e=e.slice(0,e.length-1)),e};function Zl(t){const e=Kl(t),r=new URL(e),n=r.pathname.indexOf("/-/");return n===-1?[]:r.pathname.substring(n).split("/-/").filter(Boolean).map(i=>Jl(i))}const Ql=t=>t.length?t.reduce((e,r)=>{const[n,o]=r.split("/");return{...e,[n]:o}},{}):{},Ui=({host:t,uuid:e,operations:r={},filename:n})=>{const o=Object.entries(r).map(([s,a])=>`${s}/${a}`).join("/-/");return`https://${[t,e,o?`-/${o}`:"",n].join("/")}`},qi=t=>{const e=st(t),r=[...e.toString().matchAll(Gl)];if(!r.length)throw new Error("Invalid Uploadcare URL");const n=r[0].groups||{},{...o}=n,i=Wi(e.toString()),{format:s,...a}=Ql(Zl(e.toString())),u=s&&s!=="auto"?s:"auto";return{base:Ui({...o,filename:i||void 0,operations:{...a,format:u}}),cdn:"uploadcare",params:{...n,filename:i||void 0,operations:{...a,format:u}}}},tu=({base:t,width:e,height:r,params:n})=>{const o=t.toString(),i=qi(o.endsWith("/")?o:`${o}/`),s={operations:{},...i.params,...n};return e&&r?s.operations={...s.operations,resize:`${e}x${r}`}:(e&&(s.operations={...s.operations,resize:`${e}x`}),r&&(s.operations={...s.operations,resize:`x${r}`})),Ui(s)},eu=({url:t,width:e,height:r})=>{const n=qi(t);if(!n)throw new Error("Invalid Uploadcare URL");const o={...n,width:e,height:r};return tu(o)},ru=["origin"],Hi="/storage/v1/object/public/",Yn="/storage/v1/render/image/public/",nu=t=>t.pathname.startsWith(Yn),Gi=t=>{const e=st(t);if(!nu(e))return{cdn:"supabase",base:e.origin+e.pathname};const n=e.pathname.replace(Yn,""),o=e.searchParams.has("quality")?Number(e.searchParams.get("quality")):void 0,i=e.searchParams.has("width")?Number(e.searchParams.get("width")):void 0,s=e.searchParams.has("height")?Number(e.searchParams.get("height")):void 0,a=e.searchParams.has("format")?e.searchParams.get("format"):void 0,u=e.searchParams.has("resize")?e.searchParams.get("resize"):void 0;return{cdn:"supabase",base:e.origin+Hi+n,width:i,height:s,format:a,params:{quality:o,resize:u}}},ou=({base:t,width:e,height:r,format:n,params:o})=>{const i=Gi(t.toString());t=i.base,e=e||i.width,r=r||i.height,n=n||i.format,o={...i.params,...o};const s=new URLSearchParams;return e&&s.set("width",Te(e).toString()),r&&s.set("height",Te(r).toString()),n&&ru.includes(n)&&s.set("format",n),o!=null&&o.quality&&s.set("quality",Te(o.quality).toString()),o!=null&&o.resize&&s.set("resize",o.resize),s.toString()===""?t:i.base.replace(Hi,Yn)+"?"+s.toString()},iu=({url:t,width:e,height:r,format:n,cdnOptions:o})=>{const i=Gi(t);return ou({base:i.base,width:e||i.width,height:r||i.height,format:n||i.format,params:(o==null?void 0:o.supabase)||i.params})},Po={vercel:wo,nextjs:wo};function su(t,e){if(!(e in Po))return!1;const r=Po[e];return r?r(t):!1}function Kn(t,e){const r=qc(t)||e;if(!r)return!1;const n=su(t,r);return n||{cdn:r,url:t}}const Jn=t=>({imgix:Yc,contentful:Gc,"builder.io":Xc,shopify:Qc,wordpress:tl,cloudimage:el,cloudinary:il,bunny:ul,storyblok:ml,cloudflare:ll,vercel:Vi,nextjs:_l,scene7:wl,"kontent.ai":yl,keycdn:xl,directus:Sl,imageengine:jl,contentstack:zl,cloudflare_images:$l,ipx:Bl,astro:Vl,netlify:Ul,imagekit:Hl,uploadcare:eu,supabase:iu})[t];var au=(t,e)=>{if(!(!t||!e))switch(e){case"constrained":return`(min-width: ${t}px) ${t}px, 100vw`;case"fixed":return`${t}px`;case"fullWidth":return"100vw";default:return}},Fe=t=>t||t===0?`${t}px`:void 0,cu=({width:t,height:e,aspectRatio:r,layout:n,objectFit:o="cover",background:i})=>{const s=[["object-fit",o]];return i!=null&&i.startsWith("https:")||i!=null&&i.startsWith("http:")||i!=null&&i.startsWith("data:")?(s.push(["background-image",`url(${i})`]),s.push(["background-size","cover"]),s.push(["background-repeat","no-repeat"])):s.push(["background",i]),n==="fixed"&&(s.push(["width",Fe(t)]),s.push(["height",Fe(e)])),n==="constrained"&&(s.push(["max-width",Fe(t)]),s.push(["max-height",Fe(e)]),s.push(["aspect-ratio",r?`${r}`:void 0]),s.push(["width","100%"])),n==="fullWidth"&&(s.push(["width","100%"]),s.push(["aspect-ratio",r?`${r}`:void 0]),s.push(["height",Fe(e)])),Object.fromEntries(s.filter(([,a])=>a))},lu=[6016,5120,4480,3840,3200,2560,2048,1920,1668,1280,1080,960,828,750,640],Ao=24,uu=({width:t,layout:e,resolutions:r=lu})=>{if(e==="fullWidth")return r;if(!t)return[];const n=t*2;return e==="fixed"?[t,n]:e==="constrained"?[t,n,...r.filter(o=>o<n)]:[]},du=({src:t,width:e,layout:r="constrained",height:n,aspectRatio:o,breakpoints:i,cdn:s,transformer:a,format:u})=>{const c=Kn(t,s);return c&&!a&&(a=Jn(c.cdn)),a?(i||(i=uu({width:e,layout:r})),i.sort((h,m)=>h-m).map(h=>{let m;return n&&o&&(m=Math.round(h/o)),{url:c?c.url:t,width:h,height:m,format:u}})):[]},fu=t=>{let{src:e,cdn:r,transformer:n}=t;const o=Kn(e,r);return o&&!n&&(n=Jn(o.cdn)),n?du({...t,transformer:n}).map(i=>{const s=n(i);return`${s==null?void 0:s.toString()} ${i.width}w`}).join(`,
`):""};function hu({width:t,height:e,priority:r,layout:n="constrained",aspectRatio:o,...i}){return t=t&&Number(t)||void 0,e=e&&Number(e)||void 0,r?(i.loading||(i.loading="eager"),i.fetchpriority||(i.fetchpriority="high")):(i.loading||(i.loading="lazy"),i.decoding||(i.decoding="async")),i.alt===""&&(i.role||(i.role="presentation")),o?t?e||(e=Math.round(t/o)):e&&(t=Math.round(e*o)):t&&e&&(o=t/e),{width:t,height:e,aspectRatio:o,layout:n,...i}}function pu(t){let{src:e,cdn:r,transformer:n,background:o,layout:i,objectFit:s,breakpoints:a,width:u,height:c,aspectRatio:h,unstyled:m,...g}=hu(t);const y=e?Kn(e,r):void 0;let d=e;if(y&&(d=y.url,n||(n=Jn(y.cdn))),n&&o==="auto"){const _=h?Math.round(Ao/h):void 0,k=n({url:d,width:Ao,height:_});k&&(o=k.toString())}const v={width:u,height:c,aspectRatio:h,layout:i,objectFit:s,background:o};if(g.sizes||(g.sizes=au(u,i)),m||(g.style={...cu(v),...g.style}),n){g.srcset=fu({src:d,width:u,height:c,aspectRatio:h,layout:i,breakpoints:a,transformer:n,cdn:r});const _=n({url:d,width:u,height:c});_&&(d=_),(i==="fullWidth"||i==="constrained")&&(u=void 0,c=void 0)}return{...g,src:d==null?void 0:d.toString(),width:u,height:c}}function gu(t,e){const r=RegExp(t,"g");return n=>{if(typeof n!="string")throw new TypeError(`expected an argument of type string, but got ${typeof n}`);return n.match(r)?n.replace(r,e):n}}const vu=gu(/[A-Z]/,t=>`-${t.toLowerCase()}`);function mu(t,e=vu){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected an argument of type object, but got ${typeof t}`);return Object.keys(t).map(r=>`${e(r)}: ${t[r]};`).join(`
`)}var yu=D("<img>");function bu(t,e){const r=te(e,["children","$$slots","$$events","$$legacy"]);mt(e,!1);const n=Ot(),o=Ot(),i=Ot(),s=Ot(),a=Ot(),u=Ot(),c=Ot(),h=Ot(),m=Ot(),g=Ot(),y=Ot(),d=Ot(),v=Ot(),_=Ot();an(()=>(p(n),p(o),Is(r)),()=>{Z(n,r.style),Z(o,zs(r,["style"]))}),an(()=>(p(i),p(s),p(a),p(u),p(c),p(h),p(m),p(g),p(y),p(d),p(v),p(o)),()=>{(P=>(Z(i,P.alt),Z(s,P.style),Z(a,P.src),Z(u,P.width),Z(c,P.height),Z(h,P.loading),Z(m,P.decoding),Z(g,P.srcset),Z(y,P.role),Z(d,P.sizes),Z(v,P.fetchpriority)))(pu(p(o)))}),an(()=>(p(s),p(n)),()=>{Z(_,[mu(p(s)||{}),p(n)].filter(Boolean).join(";"))}),Ns(),pi();var k=yu();let O;Y((P,F,L,x)=>O=le(k,O,{...r,style:p(_),loading:p(h),width:p(u),height:p(c),decoding:p(m),role:p(y),fetchpriority:p(v),alt:P,src:F,srcset:L,sizes:x}),[()=>{var P;return(P=p(i))==null?void 0:P.toString()},()=>{var P;return(P=p(a))==null?void 0:P.toString()},()=>{var P;return(P=p(g))==null?void 0:P.toString()},()=>{var P;return(P=p(d))==null?void 0:P.toString()}],Fn),ws(k),ye("load",k,function(P){po.call(this,e,P)}),ye("error",k,function(P){po.call(this,e,P)}),A(t,k),yt()}var _u=D("<em> </em>"),wu=D("<a> </a>"),xu=D('<span class="svelte-192ea9n"><!> <!> </span>'),Su=D('<div class="inscription-place"></div>');function Xi(t,e){mt(e,!0);let r=V(()=>{var o,i;return(i=(o=e.inscription)==null?void 0:o.places)==null?void 0:i.slice(0,2)});var n=Su();Ut(n,21,()=>p(r),Qt,(o,i)=>{var s=nt(),a=q(s);{var u=c=>{var h=xu(),m=z(h);{var g=k=>{var O=_u(),P=z(O,!0);T(O),Y(()=>X(P,p(i).offset)),A(k,O)};ot(m,k=>{p(i).offset&&k(g)})}var y=$(m,2);{var d=k=>{var O=wu(),P=z(O,!0);T(O),Y(()=>{Wt(O,"href",p(i).ref),X(P,p(i)._)}),A(k,O)},v=k=>{var O=Mt();Y(()=>X(O,p(i)._)),A(k,O)};ot(y,k=>{p(i).ref?k(d):k(v,!1)})}var _=$(y);T(h),Y(()=>X(_,` (${p(i).type??""})`)),A(c,h)};ot(a,c=>{p(i)&&c(u)})}A(o,s)}),T(n),A(t,n),yt()}function Ue(t,e){let r=W(e,"title",3,"");const n=V(()=>e.children),o=V(()=>`/inscription/${e.id}`),i=V(()=>r()||e.id);Ys(t,{get href(){return p(o)},get title(){return p(i)},children:(s,a)=>{var u=nt(),c=q(u);kt(c,()=>p(n)??ae),A(s,u)},$$slots:{default:!0}})}var Pu=D("<dd><a> </a></dd>"),Au=D("<dd> </dd>"),ku=D("<dd><a> </a></dd>"),ju=D("<dd> </dd>"),Ou=D('<div class="inscription-card"><!> <div class="inscription-title svelte-1i8xyhq"><!></div> <div class="inscription-date-place"><!> <!></div> <dl class="svelte-1i8xyhq"><dt class="svelte-1i8xyhq">ID</dt> <dd><small><!></small></dd> <dt class="svelte-1i8xyhq">Status</dt> <dd> </dd> <dt class="svelte-1i8xyhq">Type</dt> <!> <dt class="svelte-1i8xyhq">Object type</dt> <!> <dt class="svelte-1i8xyhq">Language</dt> <dd> </dd></dl></div>');function Eu(t,e){mt(e,!0);var r=Ou(),n=z(r);{var o=N=>{Ue(N,{get id(){return e.inscription.file},get title(){return e.inscription.title},children:(R,I)=>{bu(R,{get src(){return`${$s}${e.inscription.file??""}/${e.inscription.facsimile.url??""}/${Fs}`},get alt(){return e.inscription.facsimile.desc},width:400,height:200})},$$slots:{default:!0}})};ot(n,N=>{e.inscription.facsimile&&N(o)})}var i=$(n,2),s=z(i);Ue(s,{get id(){return e.inscription.file},get title(){return e.inscription.title},children:(N,R)=>{Lt();var I=Mt();Y(()=>X(I,e.inscription.title)),A(N,I)},$$slots:{default:!0}}),T(i);var a=$(i,2),u=z(a);vi(u,{get date(){return e.inscription.date}});var c=$(u,2);Xi(c,{get inscription(){return e.inscription}}),T(a);var h=$(a,2),m=$(z(h),2),g=z(m),y=z(g);Ue(y,{get id(){return e.inscription.file},children:(N,R)=>{Lt();var I=Mt();Y(()=>X(I,e.inscription.file)),A(N,I)},$$slots:{default:!0}}),T(g),T(m);var d=$(m,4),v=z(d,!0);T(d);var _=$(d,4);{var k=N=>{var R=Pu(),I=z(R),B=z(I,!0);T(I),T(R),Y(()=>{var K;Wt(I,"href",e.inscription.type.ref),X(B,(K=e.inscription.type)==null?void 0:K._)}),A(N,R)},O=N=>{var R=Au(),I=z(R,!0);T(R),Y(()=>{var B;return X(I,((B=e.inscription.type)==null?void 0:B._)||"N/A")}),A(N,R)};ot(_,N=>{var R;(R=e.inscription.type)!=null&&R.ref?N(k):N(O,!1)})}var P=$(_,4);{var F=N=>{var R=ku(),I=z(R),B=z(I,!0);T(I),T(R),Y(()=>{var K;Wt(I,"href",e.inscription.objectType.ref),X(B,(K=e.inscription.objectType)==null?void 0:K._)}),A(N,R)},L=N=>{var R=ju(),I=z(R,!0);T(R),Y(()=>{var B;return X(I,((B=e.inscription.objectType)==null?void 0:B._)||"N/A")}),A(N,R)};ot(P,N=>{var R;(R=e.inscription.objectType)!=null&&R.ref?N(F):N(L,!1)})}var x=$(P,4),S=z(x,!0);T(x),T(h),T(r),Y(()=>{var N;X(v,e.inscription.status),X(S,((N=e.inscription.textLang)==null?void 0:N._)||"N/A")}),A(t,r),yt()}var Tu=D('<li class="svelte-p3hpfg"><!></li>'),Ru=D('<ol class="inscription-list svelte-p3hpfg"></ol>');function zu(t,e){var r=Ru();Ut(r,21,()=>e.inscriptions,Qt,(n,o)=>{var i=Tu(),s=z(i);Eu(s,{get inscription(){return p(o)}}),T(i),A(n,i)}),T(r),A(t,r)}var Iu=D("<span> </span>"),Nu=D('<div role="img"><!></div>'),Cu=D('<div class="inscription-map svelte-mhd10g"><!></div>');function Lu(t,e){mt(e,!0);const{Map:r,Marker:n,NavigationControl:o,Popup:i}=Hs;let s=W(e,"mapStyle",19,()=>Bs),a=W(e,"show",3,!0),u=xt(void 0),c=xt(void 0),h=xt(at([])),m=V(()=>e.inscriptions.filter(O=>O.geo).reduce((O,P)=>{if(!P.geo||P.geo.length!==2)return O;const F=P.geo.join("_");return O[F]||(O[F]=[]),O[F].push(P),O},{})),g=V(()=>Object.entries(p(m)).map(([O,P])=>{const F=P[0].geo,L=P.length;let x="single";return L>100?x="lg":L>25?x="md":L>1&&(x="sm"),{coords:[F[1],F[0]],markerSize:x,numberInscriptions:L,inscriptions:P}}));function y(O,{coords:P,inscriptions:F}){const L=new i,x=()=>{const N=d(F);L.setHTML(N)};x();const S=new n({element:O}).setLngLat(P).setPopup(L).addTo(p(u));return p(h).push(S),{destroy(){S==null||S.remove(),Z(h,at(p(h).filter(N=>N!==S)))},update({coords:N,inscriptions:R}){F=R,x(),S.setLngLat(N)}}}function d(O){const P=O.reduce((x,S)=>(S.places[0]&&(x[S.places[0]._]||(x[S.places[0]._]=[]),x[S.places[0]._].push(S)),x),{});let F='<div class="tooltip">';const L=Object.entries(P).map(([x,S])=>{let N=`<dt>${x}</dt>`,R=S.map(I=>`<dd><a href="inscription/${I.file}">${I.title}</a></dd>`).join("");return`${N}${R}`}).join("");return`${F}<dl>${L}</dl></div>`}mi(async()=>{Z(u,at(new r({container:p(c),style:s(),center:[14.01535,37.59999],zoom:7}))),p(u).addControl(new o({showCompass:!0,showZoom:!0}))}),Ks(async()=>{p(u)&&(p(u).remove(),Z(u,void 0),Z(c,void 0))});var v=nt(),_=q(v);{var k=O=>{var P=Cu(),F=z(P);{var L=x=>{var S=nt(),N=q(S);Ut(N,17,()=>p(g),Qt,(R,I)=>{var B=Nu();let K;var ct=z(B);{var it=lt=>{var b=Iu(),l=z(b,!0);T(b),Y(()=>X(l,p(I).numberInscriptions)),A(lt,b)};ot(ct,lt=>{p(I).numberInscriptions>1&&lt(it)})}T(B),Gs(B,(lt,b)=>y==null?void 0:y(lt,b),()=>({coords:p(I).coords,inscriptions:p(I).inscriptions})),Y(()=>{K=qs(B,1,"marker svelte-mhd10g",null,K,{single:p(I).markerSize==="single",sm:p(I).markerSize==="sm",md:p(I).markerSize==="md",lg:p(I).markerSize==="lg"}),Wt(B,"aria-label",`Map marker for ${p(I).inscriptions[0].title}`)}),A(R,B)}),A(x,S)};ot(F,x=>{p(u)&&p(g)&&x(L)})}T(P),Ds(P,x=>Z(c,x),()=>p(c)),A(O,P)};ot(_,O=>{a()&&O(k)})}A(t,v),yt()}var Mu=D('<span class="svelte-1pdb2ke">...</span>'),$u=D('<div class="pagination svelte-1pdb2ke"><!> <div class="pages svelte-1pdb2ke"></div> <!></div> <p class="svelte-1pdb2ke"> </p>',1);function ko(t,e){var r=nt(),n=q(r);{var o=i=>{var s=nt(),a=q(s);At(a,()=>lc,(u,c)=>{c(u,{get page(){return e.page},get count(){return e.count},get perPage(){return e.perPage},get onPageChange(){return e.onPageChange},children:(m,g)=>{let y=()=>g==null?void 0:g().pages,d=()=>g==null?void 0:g().range;var v=$u(),_=q(v),k=z(_);At(k,()=>dc,(x,S)=>{S(x,{children:(N,R)=>{Cc(N,{})},$$slots:{default:!0}})});var O=$(k,2);Ut(O,21,y,x=>x.key,(x,S,N,R)=>{var I=nt(),B=q(I);{var K=it=>{var lt=Mu();A(it,lt)},ct=it=>{var lt=nt(),b=q(lt);At(b,()=>gc,(l,f)=>{f(l,{get page(){return p(S)},children:(w,j)=>{Lt();var E=Mt();Y(()=>X(E,p(S).value)),A(w,E)},$$slots:{default:!0}})}),A(it,lt)};ot(B,it=>{p(S).type==="ellipsis"?it(K):it(ct,!1)})}A(x,I)}),T(O);var P=$(O,2);At(P,()=>hc,(x,S)=>{S(x,{children:(N,R)=>{Lc(N,{})},$$slots:{default:!0}})}),T(_);var F=$(_,2),L=z(F);T(F),Y(()=>X(L,`Showing ${d().start+1} - ${d().end??""}`)),A(m,v)},$$slots:{default:!0}})}),A(i,s)};ot(n,i=>{e.count>0&&i(o)})}A(t,r)}var Fu=D("<a> </a>"),Bu=D("<a> </a>"),Vu=D("<tr><td><!></td><td><!></td><td><!></td><td><!></td><td> </td><td><!></td><td><!></td><td> </td><td> </td></tr>");function Du(t,e){mt(e,!0);var r=Vu(),n=z(r),o=z(n);Ue(o,{get id(){return e.inscription.file},children:(R,I)=>{Lt();var B=Mt();Y(()=>X(B,e.inscription.file)),A(R,B)},$$slots:{default:!0}}),T(n);var i=$(n),s=z(i);Ue(s,{get id(){return e.inscription.file},children:(R,I)=>{Lt();var B=Mt();Y(()=>X(B,e.inscription.title)),A(R,B)},$$slots:{default:!0}}),T(i);var a=$(i),u=z(a);vi(u,{get date(){return e.inscription.date}}),T(a);var c=$(a),h=z(c);Xi(h,{get inscription(){return e.inscription}}),T(c);var m=$(c),g=z(m,!0);T(m);var y=$(m),d=z(y);{var v=R=>{var I=Fu(),B=z(I,!0);T(I),Y(()=>{var K;Wt(I,"href",e.inscription.type.ref),X(B,(K=e.inscription.type)==null?void 0:K._)}),A(R,I)},_=R=>{var I=Mt();Y(()=>{var B;return X(I,((B=e.inscription.type)==null?void 0:B._)||"N/A")}),A(R,I)};ot(d,R=>{var I;(I=e.inscription.type)!=null&&I.ref?R(v):R(_,!1)})}T(y);var k=$(y),O=z(k);{var P=R=>{var I=Bu(),B=z(I,!0);T(I),Y(()=>{var K;Wt(I,"href",e.inscription.objectType.ref),X(B,(K=e.inscription.objectType)==null?void 0:K._)}),A(R,I)},F=R=>{var I=Mt();Y(()=>{var B;return X(I,((B=e.inscription.objectType)==null?void 0:B._)||"N/A")}),A(R,I)};ot(O,R=>{var I;(I=e.inscription.objectType)!=null&&I.ref?R(P):R(F,!1)})}T(k);var L=$(k),x=z(L,!0);T(L);var S=$(L),N=z(S,!0);T(S),T(r),Y(()=>{var R;X(g,e.inscription.status),X(x,((R=e.inscription.textLang)==null?void 0:R._)||"N/A"),X(N,e.inscription.settlement||"N/A")}),A(t,r),yt()}var Wu=D('<table class="svelte-g7in6g"><thead><tr><th>ID</th><th>Title</th><th>Date</th><th>Place</th><th>Status</th><th>Type</th><th>Object type</th><th>Language</th><th>Settlement</th></tr></thead><!></table>');function Uu(t,e){var r=Wu(),n=$(z(r));Ut(n,17,()=>e.inscriptions,Qt,(o,i)=>{Du(o,{get inscription(){return p(i)}})}),T(r),A(t,r)}let lr=String.fromCharCode,Yi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",ur={};function qu(t,e){if(!ur[t]){ur[t]={};for(let r=0;r<t.length;r++)ur[t][t.charAt(r)]=r}return ur[t][e]}function Hu(t){return t==null?"":Xu(t,6,function(e){return Yi.charAt(e)})}function Gu(t){return t==null?"":t==""?null:Yu((t=t.replace(/ /g,"+")).length,32,function(e){return qu(Yi,t.charAt(e))})}function Xu(t,e,r){if(t==null)return"";let n,o,i={},s={},a="",u="",c="",h=2,m=3,g=2,y=[],d=0,v=0,_;for(_=0;_<t.length;_+=1)if(a=t.charAt(_),Object.prototype.hasOwnProperty.call(i,a)||(i[a]=m++,s[a]=!0),u=c+a,Object.prototype.hasOwnProperty.call(i,u))c=u;else{if(Object.prototype.hasOwnProperty.call(s,c)){if(256>c.charCodeAt(0)){for(n=0;n<g;n++)d<<=1,v==e-1?(v=0,y.push(r(d)),d=0):v++;for(n=0,o=c.charCodeAt(0);n<8;n++)d=d<<1|1&o,v==e-1?(v=0,y.push(r(d)),d=0):v++,o>>=1}else{for(n=0,o=1;n<g;n++)d=d<<1|o,v==e-1?(v=0,y.push(r(d)),d=0):v++,o=0;for(n=0,o=c.charCodeAt(0);n<16;n++)d=d<<1|1&o,v==e-1?(v=0,y.push(r(d)),d=0):v++,o>>=1}--h==0&&(h=Math.pow(2,g),g++),delete s[c]}else for(n=0,o=i[c];n<g;n++)d=d<<1|1&o,v==e-1?(v=0,y.push(r(d)),d=0):v++,o>>=1;--h==0&&(h=Math.pow(2,g),g++),i[u]=m++,c=String(a)}if(c!==""){if(Object.prototype.hasOwnProperty.call(s,c)){if(256>c.charCodeAt(0)){for(n=0;n<g;n++)d<<=1,v==e-1?(v=0,y.push(r(d)),d=0):v++;for(n=0,o=c.charCodeAt(0);n<8;n++)d=d<<1|1&o,v==e-1?(v=0,y.push(r(d)),d=0):v++,o>>=1}else{for(n=0,o=1;n<g;n++)d=d<<1|o,v==e-1?(v=0,y.push(r(d)),d=0):v++,o=0;for(n=0,o=c.charCodeAt(0);n<16;n++)d=d<<1|1&o,v==e-1?(v=0,y.push(r(d)),d=0):v++,o>>=1}--h==0&&(h=Math.pow(2,g),g++),delete s[c]}else for(n=0,o=i[c];n<g;n++)d=d<<1|1&o,v==e-1?(v=0,y.push(r(d)),d=0):v++,o>>=1;--h==0&&(h=Math.pow(2,g),g++)}for(n=0,o=2;n<g;n++)d=d<<1|1&o,v==e-1?(v=0,y.push(r(d)),d=0):v++,o>>=1;for(;;){if(d<<=1,v==e-1){y.push(r(d));break}v++}return y.join("")}function Yu(t,e,r){let n=[],o=4,i=4,s=3,a="",u=[],c,h,m,g,y,d,v,_={val:r(0),position:e,index:1};for(c=0;c<3;c+=1)n[c]=c;for(m=0,y=4,d=1;d!=y;)g=_.val&_.position,_.position>>=1,_.position==0&&(_.position=e,_.val=r(_.index++)),m|=(g>0?1:0)*d,d<<=1;switch(m){case 0:for(m=0,y=256,d=1;d!=y;)g=_.val&_.position,_.position>>=1,_.position==0&&(_.position=e,_.val=r(_.index++)),m|=(g>0?1:0)*d,d<<=1;v=lr(m);break;case 1:for(m=0,y=65536,d=1;d!=y;)g=_.val&_.position,_.position>>=1,_.position==0&&(_.position=e,_.val=r(_.index++)),m|=(g>0?1:0)*d,d<<=1;v=lr(m);break;case 2:return""}for(n[3]=v,h=v,u.push(v);;){if(_.index>t)return"";for(m=0,y=Math.pow(2,s),d=1;d!=y;)g=_.val&_.position,_.position>>=1,_.position==0&&(_.position=e,_.val=r(_.index++)),m|=(g>0?1:0)*d,d<<=1;switch(v=m){case 0:for(m=0,y=256,d=1;d!=y;)g=_.val&_.position,_.position>>=1,_.position==0&&(_.position=e,_.val=r(_.index++)),m|=(g>0?1:0)*d,d<<=1;n[i++]=lr(m),v=i-1,o--;break;case 1:for(m=0,y=65536,d=1;d!=y;)g=_.val&_.position,_.position>>=1,_.position==0&&(_.position=e,_.val=r(_.index++)),m|=(g>0?1:0)*d,d<<=1;n[i++]=lr(m),v=i-1,o--;break;case 2:return u.join("")}if(o==0&&(o=Math.pow(2,s),s++),n[v])a=n[v];else{if(v!==i)return null;a=h+h.charAt(0)}u.push(a),n[i++]=h+a.charAt(0),o--,h=a,o==0&&(o=Math.pow(2,s),s++)}}let Ki;Ki=Zs;const Ku={keepFocus:!0,noScroll:!0,replaceState:!0},Ju={keepFocus:!0,noScroll:!0,replaceState:!1};function fn(t,e,r=(n,o)=>JSON.stringify(n)===JSON.stringify(o)){return typeof t=="object"&&typeof e=="object"&&r(t,e)}const dr={object:t=>({encode:e=>JSON.stringify(e),decode:e=>{if(e===null)return null;try{return JSON.parse(e)}catch{return null}},defaultValue:t}),array:t=>({encode:e=>JSON.stringify(e),decode:e=>{if(e===null)return null;try{return JSON.parse(e)}catch{return null}},defaultValue:t}),number:t=>({encode:e=>e.toString(),decode:e=>e?parseFloat(e):null,defaultValue:t}),boolean:t=>({encode:e=>e+"",decode:e=>e!==null&&e!=="false",defaultValue:t}),string:t=>({encode:e=>e??"",decode:e=>e,defaultValue:t}),lz:t=>({encode:e=>Hu(JSON.stringify(e)),decode:e=>{if(!e)return null;try{return JSON.parse(Gu(e)??"")}catch{return null}},defaultValue:t})},hn=new Set;let jo;const Oo=new Map,pn={encode:t=>t.toString(),decode:t=>t?t.toString():null};function fr(t,{encode:e=pn.encode,decode:r=pn.decode,defaultValue:n}=pn,{debounceHistory:o=0,pushHistory:i=!0,sort:s=!0,showDefaults:a=!0,equalityFn:u}={}){const c=Ls(null);let h=!0,m;function g(d,v){h=!1;const _=window.location.hash,k=P=>{if(d==null)P.delete(t);else{const F=e(d);F==null?P.delete(t):P.set(t,F)}};hn.add(k),clearTimeout(jo);const O=new URLSearchParams(window.location.search);jo=setTimeout(async()=>{hn.forEach(P=>{P(O)}),clearTimeout(Oo.get(t));{c.set(d);async function P(){s&&O.sort(),await Js(`?${O}${_}`,i?Ju:Ku),c.set(null)}v||o===0?P():Oo.set(t,setTimeout(P,o))}hn.clear()})}const{subscribe:y}=Cs([Ki,c],([d,v],_)=>{var P,F,L;if(v!=null)return fn(m,v,u)?void 0:(m=structuredClone(v),_(v));const k=(L=(F=(P=d==null?void 0:d.url)==null?void 0:P.searchParams)==null?void 0:F.get)==null?void 0:L.call(F,t);if(k==null&&n!=null)return a&&g(n,h),fn(m,n,u)?void 0:(m=structuredClone(n),_(n));const O=r(k);if(!fn(m,O,u))return m=structuredClone(O),_(O)});return{set(d){g(d)},subscribe:y,update:d=>{const v=d(m);g(v)}}}var Zu="Expected a function",Eo=NaN,Qu="[object Symbol]",td=/^\s+|\s+$/g,ed=/^[-+]0x[0-9a-f]+$/i,rd=/^0b[01]+$/i,nd=/^0o[0-7]+$/i,od=parseInt,id=typeof je=="object"&&je&&je.Object===Object&&je,sd=typeof self=="object"&&self&&self.Object===Object&&self,ad=id||sd||Function("return this")(),cd=Object.prototype,ld=cd.toString,ud=Math.max,dd=Math.min,gn=function(){return ad.Date.now()};function fd(t,e,r){var n,o,i,s,a,u,c=0,h=!1,m=!1,g=!0;if(typeof t!="function")throw new TypeError(Zu);e=To(e)||0,jn(r)&&(h=!!r.leading,m="maxWait"in r,i=m?ud(To(r.maxWait)||0,e):i,g="trailing"in r?!!r.trailing:g);function y(x){var S=n,N=o;return n=o=void 0,c=x,s=t.apply(N,S),s}function d(x){return c=x,a=setTimeout(k,e),h?y(x):s}function v(x){var S=x-u,N=x-c,R=e-S;return m?dd(R,i-N):R}function _(x){var S=x-u,N=x-c;return u===void 0||S>=e||S<0||m&&N>=i}function k(){var x=gn();if(_(x))return O(x);a=setTimeout(k,v(x))}function O(x){return a=void 0,g&&n?y(x):(n=o=void 0,s)}function P(){a!==void 0&&clearTimeout(a),c=0,n=u=o=a=void 0}function F(){return a===void 0?s:O(gn())}function L(){var x=gn(),S=_(x);if(n=arguments,o=this,u=x,S){if(a===void 0)return d(u);if(m)return a=setTimeout(k,e),y(u)}return a===void 0&&(a=setTimeout(k,e)),s}return L.cancel=P,L.flush=F,L}function jn(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function hd(t){return!!t&&typeof t=="object"}function pd(t){return typeof t=="symbol"||hd(t)&&ld.call(t)==Qu}function To(t){if(typeof t=="number")return t;if(pd(t))return Eo;if(jn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=jn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(td,"");var r=rd.test(t);return r||nd.test(t)?od(t.slice(2),r?2:8):ed.test(t)?Eo:+t}var gd=fd;const vd=Xs(gd);var md=D('<span class="slider-track"><!></span> <!>',1),yd=D('<h3> </h3> <div class="slider"><!></div> <div class="range-inputs svelte-fhdh3o"><label> <input type="number"></label> <span>–</span> <label><input type="number"> </label></div>',1);function Ro(t,e){mt(e,!0);let r=W(e,"title",3,"Range slider"),n=W(e,"min",3,0),o=W(e,"max",3,100),i=W(e,"step",3,1),s=W(e,"startLabel",3,"From"),a=W(e,"endLabel",3,"To"),u=W(e,"selectedRange",31,()=>at([0,0])),c=xt(at(u()));const h=vd(S=>{u(S)},200);ze(()=>{h([...p(c)])});var m=yd(),g=q(m),y=z(g,!0);T(g);var d=$(g,2),v=z(d);At(v,()=>Oc,(S,N)=>{N(S,{class:"slider-root",get min(){return n()},get max(){return o()},get step(){return i()},type:"multiple",get value(){return p(c)},set value(I){Z(c,at(I))},children:(I,B)=>{let K=()=>B==null?void 0:B().thumbs;var ct=md(),it=q(ct),lt=z(it);At(lt,()=>Tc,(l,f)=>{f(l,{class:"slider-range"})}),T(it);var b=$(it,2);Ut(b,17,K,Qt,(l,f)=>{var w=nt(),j=q(w);const E=V(()=>`${p(f)===0?s():a()}`);At(j,()=>zc,(C,et)=>{et(C,{get index(){return p(f)},class:"slider-thumb",get"aria-label"(){return p(E)}})}),A(l,w)}),A(I,ct)},$$slots:{default:!0}})}),T(d);var _=$(d,2),k=z(_),O=z(k),P=$(O);Oe(P),T(k);var F=$(k,4),L=z(F);Oe(L);var x=$(L);T(F),T(_),Y(()=>{X(y,r()),X(O,`${s()??""} `),Wt(P,"min",n()),Wt(P,"max",o()),Wt(L,"min",n()),Wt(L,"max",o()),X(x,` ${a()??""}`)}),mr(P,()=>p(c)[0],S=>p(c)[0]=S),mr(L,()=>p(c)[1],S=>p(c)[1]=S),A(t,m),yt()}var bd=D('<label class="svelte-1jwqh4t"><input type="radio" name="sort-aggregations"> </label>'),_d=D('<section class="filter-group svelte-1jwqh4t"><!></section>'),wd=D('<input type="text" placeholder="Filter options..." class="filter-input svelte-1jwqh4t">'),xd=D('<li><label><input type="checkbox"> </label></li>'),Sd=D('<section class="filter-group svelte-1jwqh4t"><h3> </h3> <!> <ul class="svelte-1jwqh4t"></ul></section>'),Pd=D('<section class="filter-group svelte-1jwqh4t"><!></section>'),Ad=D("<!> <!>",1),kd=D('<aside class="filters svelte-1jwqh4t" tabindex="-1"><!> <section class="svelte-1jwqh4t"><h2 class="svelte-1jwqh4t">Filters</h2> <section class="filters-options svelte-1jwqh4t"><h3>Options</h3> <form><fieldset class="svelte-1jwqh4t"><legend>Sort filters by</legend> <!></fieldset></form></section> <section class="filters-groups svelte-1jwqh4t"><!> <!></section></section></aside>');function jd(t,e){mt(e,!0);const r=[],n=[];let o=W(e,"show",7,!1),i=W(e,"aggregations",19,()=>({})),s=W(e,"sortAggregationsBy",15,"key"),a=W(e,"selectedDateRange",31,()=>at([0,0])),u=W(e,"selectedLetterHeightRange",31,()=>at([0,0])),c=W(e,"selectedFilters",31,()=>at({}));const h=[{label:"Value",value:"key"},{label:"Count",value:"count"}];let m=at({}),g=xt(null);function y(L){var x;Z(g,at(document.activeElement)),(x=L.currentTarget)==null||x.focus()}function d(){o(!1)}function v(){p(g)&&p(g).focus()}function _(L,x){var N;const S=((N=m[x])==null?void 0:N.toLowerCase())||"";return S?L.filter(R=>R.key.toLowerCase().includes(S)):L}function k(L){if(L.indexOf(":::")==-1)return L;const x=L.split(":::"),S=x.length;return s()==="count"?x.pop()||"":`${"+".repeat(S-1)} ${x.pop()}`}var O=nt(),P=q(O);{var F=L=>{var x=kd(),S=z(x);At(S,()=>ie,(l,f)=>{f(l,{class:"close-button",onclick:d,"aria-label":"Close filters",children:(w,j)=>{Lt();var E=Mt("×");A(w,E)},$$slots:{default:!0}})});var N=$(S,2),R=$(z(N),2),I=$(z(R),2),B=z(I),K=$(z(B),2);Ut(K,17,()=>h,Qt,(l,f)=>{var w=bd(),j=z(w);Oe(j);var E,C=$(j);T(w),Y(()=>{E!==(E=p(f).value)&&(j.value=(j.__value=p(f).value)==null?"":p(f).value),X(C,` ${p(f).label??""}`)}),fo(r,[],j,()=>(p(f).value,s()),s),A(l,w)}),T(B),T(I),T(R);var ct=$(R,2),it=z(ct);{var lt=l=>{var f=_d(),w=z(f);Ro(w,{title:"Date",min:-700,max:1830,step:1,startLabel:"Not before",endLabel:"Not after",get selectedRange(){return a()},set selectedRange(j){a(j)}}),T(f),A(l,f)};ot(it,l=>{var f;(f=i())!=null&&f.notBefore&&l(lt)})}var b=$(it,2);Ut(b,17,()=>Object.keys(c()),Qt,(l,f,w)=>{var j=Ad(),E=q(j);{var C=Q=>{var ht=Sd(),jt=z(ht),It=z(jt);T(jt);var Tt=$(jt,2);{var Vt=St=>{var pt=wd();Oe(pt),mr(pt,()=>m[p(f)],Nt=>m[p(f)]=Nt),A(St,pt)};ot(Tt,St=>{i()[p(f)].buckets.length>20&&St(Vt)})}var Ht=$(Tt,2);Ut(Ht,21,()=>_(i()[p(f)].buckets,p(f)),Qt,(St,pt)=>{var Nt=xd(),ee=z(Nt),Ft=z(ee);Oe(Ft);var Pe,he=$(Ft);T(ee),T(Nt),Y(Le=>{Pe!==(Pe=p(pt).key)&&(Ft.value=(Ft.__value=p(pt).key)==null?"":p(pt).key),Ft.disabled=p(pt).doc_count===0,X(he,` ${Le??""} (${p(pt).doc_count??""})`)},[()=>k(p(pt).key)]),fo(n,[w],Ft,()=>(p(pt).key,c()[p(f)]),Le=>c(c()[p(f)]=Le,!0)),A(St,Nt)}),T(Ht),T(ht),Y(()=>X(It,`${i()[p(f)].title??""} (${i()[p(f)].buckets.length??""})`)),A(Q,ht)};ot(E,Q=>{p(f)in i()&&i()[p(f)].title&&Q(C)})}var et=$(E,2);{var ft=Q=>{var ht=Pd(),jt=z(ht);Ro(jt,{title:"Letter height",min:0,max:100,step:1,startLabel:"At least",endLabel:"At most",get selectedRange(){return u()},set selectedRange(It){u(It)}}),T(ht),A(Q,ht)};ot(et,Q=>{var ht;p(f)=="pigment"&&((ht=i())!=null&&ht.letterHeightAtLeast)&&Q(ft)})}A(l,j)}),T(ct),T(N),T(x),ye("introend",x,y),ye("outroend",x,v),De(3,x,()=>Ws,()=>({axis:"x",duration:300})),A(L,x)};ot(P,L=>{o()&&L(F)})}A(t,O),yt()}var Od=D(", matching <em> </em>",1),Ed=D('<span class="svelte-eb26nt"> <em> </em></span>'),Td=D('<span class="svelte-eb26nt">letter height: <em> </em></span>'),Rd=D(`,
		filtered by <span class="selected-filters svelte-eb26nt"><!> <!></span>`,1),zd=D('<h2 class="svelte-eb26nt"><em> </em> Inscriptions between <em> </em> – <em> </em> across <em> </em> locations<!><!></h2>');function Id(t,e){mt(e,!0);let r=V(()=>Object.values(e.filters).some(_=>_.length>0));var n=zd(),o=z(n),i=z(o,!0);T(o);var s=$(o,2),a=z(s,!0);T(s);var u=$(s,2),c=z(u,!0);T(u);var h=$(u,2),m=z(h,!0);T(h);var g=$(h,2);{var y=_=>{var k=Od(),O=$(q(k)),P=z(O,!0);T(O),Y(F=>X(P,F),[()=>e.query.split(" ").join(", ")]),A(_,k)};ot(g,_=>{e.query&&_(y)})}var d=$(g);{var v=_=>{var k=Rd(),O=$(q(k)),P=z(O);Ut(P,17,()=>Object.entries(e.filters).filter(([x,S])=>S.length>0),Qt,(x,S)=>{let N=()=>p(S)[0],R=()=>p(S)[1];var I=Ed(),B=z(I),K=$(B),ct=z(K,!0);T(K),T(I),Y(it=>{X(B,`${N()??""}: `),X(ct,it)},[()=>R().join(", ").replaceAll("_"," ").replaceAll(":::"," ")]),A(x,I)});var F=$(P,2);{var L=x=>{var S=Td(),N=$(z(S)),R=z(N);T(N),T(S),Y(()=>X(R,`${e.letterHeightRange[0]??""}–${e.letterHeightRange[1]??""}mm`)),A(x,S)};ot(F,x=>{e.letterHeightRange&&x(L)})}T(O),A(_,k)};ot(d,_=>{(p(r)||e.letterHeightRange[0]!==e.defaultLetterHeightRange[0]||e.letterHeightRange[1]!==e.defaultLetterHeightRange[1])&&_(v)})}T(n),Y((_,k,O,P)=>{X(i,_),X(a,k),X(c,O),X(m,P)},[()=>e.total.toLocaleString(),()=>e.dateRange[0]>0?`AD ${e.dateRange[0]}`:`${Math.abs(e.dateRange[0])} BC`,()=>e.dateRange[1]>0?`AD ${e.dateRange[1]}`:`${Math.abs(e.dateRange[1])} BC`,()=>e.numberOfLocations.toLocaleString()]),A(t,n),yt()}var Ji=typeof global=="object"&&global&&global.Object===Object&&global,Nd=typeof self=="object"&&self&&self.Object===Object&&self,qt=Ji||Nd||Function("return this")(),$t=qt.Symbol,Zi=Object.prototype,Cd=Zi.hasOwnProperty,Ld=Zi.toString,Be=$t?$t.toStringTag:void 0,Md=Object.prototype.toString,$d="[object Null]",Fd="[object Undefined]",zo=$t?$t.toStringTag:void 0;function Ce(t){return t==null?t===void 0?Fd:$d:zo&&zo in Object(t)?function(e){var r=Cd.call(e,Be),n=e[Be];try{e[Be]=void 0;var o=!0}catch{}var i=Ld.call(e);return o&&(r?e[Be]=n:delete e[Be]),i}(t):function(e){return Md.call(e)}(t)}function be(t){return t!=null&&typeof t=="object"}var Bd="[object Symbol]";function Ke(t){return typeof t=="symbol"||be(t)&&Ce(t)==Bd}function qe(t,e){for(var r=-1,n=t==null?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}var Bt=Array.isArray,Vd=1/0,Io=$t?$t.prototype:void 0,No=Io?Io.toString:void 0;function Qi(t){if(typeof t=="string")return t;if(Bt(t))return qe(t,Qi)+"";if(Ke(t))return No?No.call(t):"";var e=t+"";return e=="0"&&1/t==-Vd?"-0":e}function Zr(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function Qr(t){return t}var Dd="[object AsyncFunction]",Wd="[object Function]",Ud="[object GeneratorFunction]",qd="[object Proxy]";function ts(t){if(!Zr(t))return!1;var e=Ce(t);return e==Wd||e==Ud||e==Dd||e==qd}var Co,vn=qt["__core-js_shared__"],Lo=(Co=/[^.]+$/.exec(vn&&vn.keys&&vn.keys.IE_PROTO||""))?"Symbol(src)_1."+Co:"",Hd=Function.prototype.toString;function xe(t){if(t!=null){try{return Hd.call(t)}catch{}try{return t+""}catch{}}return""}var Gd=/^\[object .+?Constructor\]$/,Xd=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Se(t,e){var r=function(n,o){return n==null?void 0:n[o]}(t,e);return function(n){return!(!Zr(n)||(o=n,Lo&&Lo in o))&&(ts(n)?Xd:Gd).test(xe(n));var o}(r)?r:void 0}var Mo,mn,yn,On=Se(qt,"WeakMap"),Yd=Date.now,Kd=function(){try{var t=Se(Object,"defineProperty");return t({},"",{}),t}catch{}}(),$o=Kd,Jd=$o?function(t,e){return $o(t,"toString",{configurable:!0,enumerable:!1,value:(r=e,function(){return r}),writable:!0});var r}:Qr,Zd=(Mo=Jd,mn=0,yn=0,function(){var t=Yd(),e=16-(t-yn);if(yn=t,e>0){if(++mn>=800)return arguments[0]}else mn=0;return Mo.apply(void 0,arguments)});function Qd(t){return t!=t}function tf(t,e){return!(t==null||!t.length)&&function(r,n,o){return n==n?function(i,s,a){for(var u=-1,c=i.length;++u<c;)if(i[u]===s)return u;return-1}(r,n):function(i,s,a,u){for(var c=i.length,h=-1;++h<c;)if(s(i[h],h,i))return h;return-1}(r,Qd)}(t,e)>-1}var ef=9007199254740991,rf=/^(?:0|[1-9]\d*)$/;function Zn(t,e){var r=typeof t;return!!(e=e??ef)&&(r=="number"||r!="symbol"&&rf.test(t))&&t>-1&&t%1==0&&t<e}function Qn(t,e){return t===e||t!=t&&e!=e}var Fo=Math.max;function es(t,e){return Zd(function(r,n,o){return n=Fo(n===void 0?r.length-1:n,0),function(){for(var i=arguments,s=-1,a=Fo(i.length-n,0),u=Array(a);++s<a;)u[s]=i[n+s];s=-1;for(var c=Array(n+1);++s<n;)c[s]=i[s];return c[n]=o(u),function(h,m,g){switch(g.length){case 0:return h.call(m);case 1:return h.call(m,g[0]);case 2:return h.call(m,g[0],g[1]);case 3:return h.call(m,g[0],g[1],g[2])}return h.apply(m,g)}(r,this,c)}}(t,e,Qr),t+"")}var nf=9007199254740991;function to(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=nf}function or(t){return t!=null&&to(t.length)&&!ts(t)}function Bo(t,e,r){if(!Zr(r))return!1;var n=typeof e;return!!(n=="number"?or(r)&&Zn(e,r.length):n=="string"&&e in r)&&Qn(r[e],t)}var of=Object.prototype;function sf(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||of)}function Vo(t){return be(t)&&Ce(t)=="[object Arguments]"}var rs=Object.prototype,af=rs.hasOwnProperty,cf=rs.propertyIsEnumerable,eo=Vo(function(){return arguments}())?Vo:function(t){return be(t)&&af.call(t,"callee")&&!cf.call(t,"callee")},ns=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Do=ns&&typeof module=="object"&&module&&!module.nodeType&&module,Wo=Do&&Do.exports===ns?qt.Buffer:void 0,En=(Wo?Wo.isBuffer:void 0)||function(){return!1},dt={};function os(t){return function(e){return t(e)}}dt["[object Float32Array]"]=dt["[object Float64Array]"]=dt["[object Int8Array]"]=dt["[object Int16Array]"]=dt["[object Int32Array]"]=dt["[object Uint8Array]"]=dt["[object Uint8ClampedArray]"]=dt["[object Uint16Array]"]=dt["[object Uint32Array]"]=!0,dt["[object Arguments]"]=dt["[object Array]"]=dt["[object ArrayBuffer]"]=dt["[object Boolean]"]=dt["[object DataView]"]=dt["[object Date]"]=dt["[object Error]"]=dt["[object Function]"]=dt["[object Map]"]=dt["[object Number]"]=dt["[object Object]"]=dt["[object RegExp]"]=dt["[object Set]"]=dt["[object String]"]=dt["[object WeakMap]"]=!1;var is=typeof exports=="object"&&exports&&!exports.nodeType&&exports,He=is&&typeof module=="object"&&module&&!module.nodeType&&module,bn=He&&He.exports===is&&Ji.process,Ie=function(){try{return He&&He.require&&He.require("util").types||bn&&bn.binding&&bn.binding("util")}catch{}}(),Uo=Ie&&Ie.isTypedArray,ss=Uo?os(Uo):function(t){return be(t)&&to(t.length)&&!!dt[Ce(t)]},lf=Object.prototype.hasOwnProperty;function uf(t,e){var r=Bt(t),n=!r&&eo(t),o=!r&&!n&&En(t),i=!r&&!n&&!o&&ss(t),s=r||n||o||i,a=s?function(h,m){for(var g=-1,y=Array(h);++g<h;)y[g]=m(g);return y}(t.length,String):[],u=a.length;for(var c in t)!lf.call(t,c)||s&&(c=="length"||o&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Zn(c,u))||a.push(c);return a}function df(t,e){return function(r){return t(e(r))}}var ff=df(Object.keys,Object),hf=Object.prototype.hasOwnProperty;function ro(t){return or(t)?uf(t):function(e){if(!sf(e))return ff(e);var r=[];for(var n in Object(e))hf.call(e,n)&&n!="constructor"&&r.push(n);return r}(t)}var pf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gf=/^\w*$/;function Tn(t,e){if(Bt(t))return!1;var r=typeof t;return!(r!="number"&&r!="symbol"&&r!="boolean"&&t!=null&&!Ke(t))||gf.test(t)||!pf.test(t)||e!=null&&t in Object(e)}var Ve=Se(Object,"create"),vf=Object.prototype.hasOwnProperty,mf=Object.prototype.hasOwnProperty;function me(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function hr(t,e){for(var r=t.length;r--;)if(Qn(t[r][0],e))return r;return-1}me.prototype.clear=function(){this.__data__=Ve?Ve(null):{},this.size=0},me.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},me.prototype.get=function(t){var e=this.__data__;if(Ve){var r=e[t];return r==="__lodash_hash_undefined__"?void 0:r}return vf.call(e,t)?e[t]:void 0},me.prototype.has=function(t){var e=this.__data__;return Ve?e[t]!==void 0:mf.call(e,t)},me.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Ve&&e===void 0?"__lodash_hash_undefined__":e,this};var yf=Array.prototype.splice;function Jt(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Jt.prototype.clear=function(){this.__data__=[],this.size=0},Jt.prototype.delete=function(t){var e=this.__data__,r=hr(e,t);return!(r<0||(r==e.length-1?e.pop():yf.call(e,r,1),--this.size,0))},Jt.prototype.get=function(t){var e=this.__data__,r=hr(e,t);return r<0?void 0:e[r][1]},Jt.prototype.has=function(t){return hr(this.__data__,t)>-1},Jt.prototype.set=function(t,e){var r=this.__data__,n=hr(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var Je=Se(qt,"Map");function pr(t,e){var r,n,o=t.__data__;return((n=typeof(r=e))=="string"||n=="number"||n=="symbol"||n=="boolean"?r!=="__proto__":r===null)?o[typeof e=="string"?"string":"hash"]:o.map}function Yt(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function no(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var s=t.apply(this,n);return r.cache=i.set(o,s)||i,s};return r.cache=new(no.Cache||Yt),r}Yt.prototype.clear=function(){this.size=0,this.__data__={hash:new me,map:new(Je||Jt),string:new me}},Yt.prototype.delete=function(t){var e=pr(this,t).delete(t);return this.size-=e?1:0,e},Yt.prototype.get=function(t){return pr(this,t).get(t)},Yt.prototype.has=function(t){return pr(this,t).has(t)},Yt.prototype.set=function(t,e){var r=pr(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},no.Cache=Yt;var _n,wn,bf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_f=/\\(\\)?/g,wf=(_n=no(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(bf,function(r,n,o,i){e.push(o?i.replace(_f,"$1"):n||r)}),e},function(t){return wn.size===500&&wn.clear(),t}),wn=_n.cache,_n);function as(t,e){return Bt(t)?t:Tn(t,e)?[t]:wf(function(r){return r==null?"":Qi(r)}(t))}var xf=1/0;function vr(t){if(typeof t=="string"||Ke(t))return t;var e=t+"";return e=="0"&&1/t==-xf?"-0":e}function Rn(t,e){for(var r=0,n=(e=as(e,t)).length;t!=null&&r<n;)t=t[vr(e[r++])];return r&&r==n?t:void 0}function cs(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var qo=$t?$t.isConcatSpreadable:void 0;function Sf(t){return Bt(t)||eo(t)||!!(qo&&t&&t[qo])}function Pf(t,e,r,n,o){var i=-1,s=t.length;for(r||(r=Sf),o||(o=[]);++i<s;){var a=t[i];r(a)?cs(o,a):o[o.length]=a}return o}function Zt(t){var e=this.__data__=new Jt(t);this.size=e.size}Zt.prototype.clear=function(){this.__data__=new Jt,this.size=0},Zt.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Zt.prototype.get=function(t){return this.__data__.get(t)},Zt.prototype.has=function(t){return this.__data__.has(t)},Zt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Jt){var n=r.__data__;if(!Je||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Yt(n)}return r.set(t,e),this.size=r.size,this};var ls=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ho=ls&&typeof module=="object"&&module&&!module.nodeType&&module,Go=Ho&&Ho.exports===ls?qt.Buffer:void 0;Go&&Go.allocUnsafe;function Af(){return[]}var kf=Object.prototype.propertyIsEnumerable,Xo=Object.getOwnPropertySymbols,jf=Xo?function(t){return t==null?[]:(t=Object(t),function(e,r){for(var n=-1,o=e==null?0:e.length,i=0,s=[];++n<o;){var a=e[n];kf.call(t,a)&&(s[i++]=a)}return s}(Xo(t)))}:Af,Of=jf;function Ef(t,e,r){var n=e(t);return Bt(t)?n:cs(n,r(t))}function Yo(t){return Ef(t,ro,Of)}var zn=Se(qt,"DataView"),In=Se(qt,"Promise"),Nn=Se(qt,"Set"),Ko="[object Map]",Jo="[object Promise]",Zo="[object Set]",Qo="[object WeakMap]",ti="[object DataView]",Tf=xe(zn),Rf=xe(Je),zf=xe(In),If=xe(Nn),Nf=xe(On),ge=Ce;(zn&&ge(new zn(new ArrayBuffer(1)))!=ti||Je&&ge(new Je)!=Ko||In&&ge(In.resolve())!=Jo||Nn&&ge(new Nn)!=Zo||On&&ge(new On)!=Qo)&&(ge=function(t){var e=Ce(t),r=e=="[object Object]"?t.constructor:void 0,n=r?xe(r):"";if(n)switch(n){case Tf:return ti;case Rf:return Ko;case zf:return Jo;case If:return Zo;case Nf:return Qo}return e});var ei=ge,ri=qt.Uint8Array,ni=$t?$t.prototype:void 0;ni&&ni.valueOf;Ie&&Ie.isMap;Ie&&Ie.isSet;function Ge(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Yt;++e<r;)this.add(t[e])}function Cf(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Cn(t,e){return t.has(e)}Ge.prototype.add=Ge.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Ge.prototype.has=function(t){return this.__data__.has(t)};var Lf=1,Mf=2;function oi(t,e,r,n,o,i){var s=r&Lf,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var c=i.get(t),h=i.get(e);if(c&&h)return c==e&&h==t;var m=-1,g=!0,y=r&Mf?new Ge:void 0;for(i.set(t,e),i.set(e,t);++m<a;){var d=t[m],v=e[m];if(n)var _=s?n(v,d,m,e,t,i):n(d,v,m,t,e,i);if(_!==void 0){if(_)continue;g=!1;break}if(y){if(!Cf(e,function(k,O){if(!Cn(y,O)&&(d===k||o(d,k,r,n,i)))return y.push(O)})){g=!1;break}}else if(d!==v&&!o(d,v,r,n,i)){g=!1;break}}return i.delete(t),i.delete(e),g}function $f(t){var e=-1,r=Array(t.size);return t.forEach(function(n,o){r[++e]=[o,n]}),r}function Ff(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Bf=1,Vf=2,Df="[object Boolean]",Wf="[object Date]",Uf="[object Error]",qf="[object Map]",Hf="[object Number]",Gf="[object RegExp]",Xf="[object Set]",Yf="[object String]",Kf="[object Symbol]",Jf="[object ArrayBuffer]",Zf="[object DataView]",ii=$t?$t.prototype:void 0,xn=ii?ii.valueOf:void 0,Qf=1,th=Object.prototype.hasOwnProperty,eh=1,si="[object Arguments]",ai="[object Array]",gr="[object Object]",ci=Object.prototype.hasOwnProperty;function Ln(t,e,r,n,o){return t===e||(t==null||e==null||!be(t)&&!be(e)?t!=t&&e!=e:function(i,s,a,u,c,h){var m=Bt(i),g=Bt(s),y=m?ai:ei(i),d=g?ai:ei(s),v=(y=y==si?gr:y)==gr,_=(d=d==si?gr:d)==gr,k=y==d;if(k&&En(i)){if(!En(s))return!1;m=!0,v=!1}if(k&&!v)return h||(h=new Zt),m||ss(i)?oi(i,s,a,u,c,h):function(x,S,N,R,I,B,K){switch(N){case Zf:if(x.byteLength!=S.byteLength||x.byteOffset!=S.byteOffset)return!1;x=x.buffer,S=S.buffer;case Jf:return!(x.byteLength!=S.byteLength||!B(new ri(x),new ri(S)));case Df:case Wf:case Hf:return Qn(+x,+S);case Uf:return x.name==S.name&&x.message==S.message;case Gf:case Yf:return x==S+"";case qf:var ct=$f;case Xf:if(ct||(ct=Ff),x.size!=S.size&&!(R&Bf))return!1;var it=K.get(x);if(it)return it==S;R|=Vf,K.set(x,S);var lt=oi(ct(x),ct(S),R,I,B,K);return K.delete(x),lt;case Kf:if(xn)return xn.call(x)==xn.call(S)}return!1}(i,s,y,a,u,c,h);if(!(a&eh)){var O=v&&ci.call(i,"__wrapped__"),P=_&&ci.call(s,"__wrapped__");if(O||P){var F=O?i.value():i,L=P?s.value():s;return h||(h=new Zt),c(F,L,a,u,h)}}return!!k&&(h||(h=new Zt),function(x,S,N,R,I,B){var K=N&Qf,ct=Yo(x),it=ct.length;if(it!=Yo(S).length&&!K)return!1;for(var lt=it;lt--;){var b=ct[lt];if(!(K?b in S:th.call(S,b)))return!1}var l=B.get(x),f=B.get(S);if(l&&f)return l==S&&f==x;var w=!0;B.set(x,S),B.set(S,x);for(var j=K;++lt<it;){var E=x[b=ct[lt]],C=S[b];if(R)var et=K?R(C,E,b,S,x,B):R(E,C,b,x,S,B);if(!(et===void 0?E===C||I(E,C,N,R,B):et)){w=!1;break}j||(j=b=="constructor")}if(w&&!j){var ft=x.constructor,Q=S.constructor;ft==Q||!("constructor"in x)||!("constructor"in S)||typeof ft=="function"&&ft instanceof ft&&typeof Q=="function"&&Q instanceof Q||(w=!1)}return B.delete(x),B.delete(S),w}(i,s,a,u,c,h))}(t,e,r,n,Ln,o))}var rh=1,nh=2;function li(t){return t==t&&!Zr(t)}function ui(t,e){return function(r){return r!=null&&r[t]===e&&(e!==void 0||t in Object(r))}}function oh(t,e){return t!=null&&e in Object(t)}var ih=1,sh=2;function ah(t){return typeof t=="function"?t:t==null?Qr:typeof t=="object"?Bt(t)?function(i,s){return Tn(i)&&li(s)?ui(vr(i),s):function(a){var u=function(c,h,m){var g=c==null?void 0:Rn(c,h);return g===void 0?void 0:g}(a,i);return u===void 0&&u===s?function(c,h){return c!=null&&function(m,g,y){for(var d=-1,v=(g=as(g,m)).length,_=!1;++d<v;){var k=vr(g[d]);if(!(_=m!=null&&y(m,k)))break;m=m[k]}return _||++d!=v?_:!!(v=m==null?0:m.length)&&to(v)&&Zn(k,v)&&(Bt(m)||eo(m))}(c,h,oh)}(a,i):Ln(s,u,ih|sh)}}(t[0],t[1]):(o=function(i){for(var s=ro(i),a=s.length;a--;){var u=s[a],c=i[u];s[a]=[u,c,li(c)]}return s}(n=t),o.length==1&&o[0][2]?ui(o[0][0],o[0][1]):function(i){return i===n||function(s,a,u,c){var h=u.length,m=h;if(s==null)return!m;for(s=Object(s);h--;){var g=u[h];if(g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++h<m;){var y=(g=u[h])[0],d=s[y],v=g[1];if(g[2]){if(d===void 0&&!(y in s))return!1}else{var _=new Zt;if(!Ln(v,d,rh|nh,void 0,_))return!1}}return!0}(i,0,o)}):Tn(e=t)?(r=vr(e),function(i){return i==null?void 0:i[r]}):function(i){return function(s){return Rn(s,i)}}(e);var e,r,n,o}var ch=function(t,e,r){for(var n=-1,o=Object(t),i=r(t),s=i.length;s--;){var a=i[++n];if(e(o[a],a,o)===!1)break}return t};function lh(t,e){return t&&ch(t,e,ro)}var di,uh=(di=lh,function(t,e){if(t==null)return t;if(!or(t))return di(t,e);for(var r=t.length,n=-1,o=Object(t);++n<r&&e(o[n],n,o)!==!1;);return t});function dh(t,e){var r=-1,n=or(t)?Array(t.length):[];return uh(t,function(o,i,s){n[++r]=e(o,i,s)}),n}var fh=Math.min;function hh(t){return function(e){return be(e)&&or(e)}(t)?t:[]}es(function(t){var e=qe(t,hh);return e.length&&e[0]===t[0]?function(r,n,o){for(var i=tf,s=r[0].length,a=r.length,u=a,c=Array(a),h=1/0,m=[];u--;){var g=r[u];h=fh(g.length,h),c[u]=s>=120&&g.length>=120?new Ge(u&&g):void 0}g=r[0];var y=-1,d=c[0];t:for(;++y<s&&m.length<h;){var v=g[y],_=v;if(v=v!==0?v:0,!(d?Cn(d,_):i(m,_,o))){for(u=a;--u;){var k=c[u];if(!(k?Cn(k,_):i(r[u],_,o)))continue t}d&&d.push(_),m.push(v)}}return m}(e):[]});function ph(t,e){if(t!==e){var r=t!==void 0,n=t===null,o=t==t,i=Ke(t),s=e!==void 0,a=e===null,u=e==e,c=Ke(e);if(!a&&!c&&!i&&t>e||i&&s&&u&&!a&&!c||n&&s&&u||!r&&u||!o)return 1;if(!n&&!i&&!c&&t<e||c&&r&&o&&!n&&!i||a&&r&&o||!s&&o||!u)return-1}return 0}function gh(t,e,r){e=e.length?qe(e,function(o){return Bt(o)?function(i){return Rn(i,o.length===1?o[0]:o)}:o}):[Qr];var n=-1;return e=qe(e,os(ah)),function(o,i){var s=o.length;for(o.sort(function(a,u){return function(c,h,m){for(var g=-1,y=c.criteria,d=h.criteria,v=y.length,_=m.length;++g<v;){var k=ph(y[g],d[g]);if(k)return g>=_?k:k*(m[g]=="desc"?-1:1)}return c.index-h.index}(a,u,r)});s--;)o[s]=o[s].value;return o}(dh(t,function(o,i,s){return{criteria:qe(e,function(a){return a(o)}),index:++n,value:o}}))}es(function(t,e){if(t==null)return[];var r=e.length;return r>1&&Bo(t,e[0],e[1])?e=[]:r>2&&Bo(e[0],e[1],e[2])&&(e=[e[0]]),gh(t,Pf(e),[])});function tt(t){if(this.words=[],t)if(Symbol&&Symbol.iterator&&t[Symbol.iterator]!==void 0){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.add(r.value),r=e.next()}else for(let e=0;e<t.length;e++)this.add(t[e])}tt.fromWords=function(t){const e=Object.create(tt.prototype);return e.words=t,e},tt.prototype.add=function(t){this.resize(t),this.words[t>>>5]|=1<<t},tt.prototype.flip=function(t){this.resize(t),this.words[t>>>5]^=1<<t},tt.prototype.clear=function(){this.words.length=0},tt.prototype.remove=function(t){this.resize(t),this.words[t>>>5]&=~(1<<t)},tt.prototype.isEmpty=function(t){const e=this.words.length;for(let r=0;r<e;r++)if(this.words[r]!==0)return!1;return!0},tt.prototype.has=function(t){return(this.words[t>>>5]&1<<t)!=0},tt.prototype.checkedAdd=function(t){this.resize(t);const e=this.words[t>>>5],r=e|1<<t;return this.words[t>>>5]=r,(r^e)>>>t},tt.prototype.trim=function(t){let e=this.words.length;for(;e>0&&this.words[e-1]===0;)e--;this.words.length=e},tt.prototype.resize=function(t){const e=t+32>>>5;for(let r=this.words.length;r<e;r++)this.words[r]=0},tt.prototype.hammingWeight=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},tt.prototype.hammingWeight4=function(t,e,r,n){return 16843009*((t=(t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)+(e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)+(r=(r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)+(n=(n=(858993459&(n-=n>>>1&1431655765))+(n>>>2&858993459))+(n>>>4)&252645135))>>>24},tt.prototype.size=function(){let t=0;const e=this.words.length,r=this.words;for(let n=0;n<e;n++)t+=this.hammingWeight(r[n]);return t},tt.prototype.array=function(){const t=new Array(this.size());let e=0;const r=this.words.length;for(let n=0;n<r;++n){let o=this.words[n];for(;o!=0;){const i=o&-o;t[e++]=(n<<5)+this.hammingWeight(i-1|0),o^=i}}return t},tt.prototype.forEach=function(t){const e=this.words.length;for(let r=0;r<e;++r){let n=this.words[r];for(;n!=0;){const o=n&-n;t((r<<5)+this.hammingWeight(o-1|0)),n^=o}}},tt.prototype[Symbol.iterator]=function(){const t=this.words.length;let e=0,r=this.words[e],n=this.hammingWeight,o=this.words;return{[Symbol.iterator](){return this},next(){for(;e<t;){if(r!==0){const i=r&-r,s=(e<<5)+n(i-1|0);return r^=i,{done:!1,value:s}}e++,e<t&&(r=o[e])}return{done:!0,value:void 0}}}},tt.prototype.clone=function(){const t=Object.create(tt.prototype);return t.words=this.words.slice(),t},tt.prototype.intersects=function(t){const e=Math.min(this.words.length,t.words.length);for(let r=0;r<e;++r)if(this.words[r]&t.words[r])return!0;return!1},tt.prototype.intersection=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)this.words[r]&=t.words[r],this.words[r+1]&=t.words[r+1],this.words[r+2]&=t.words[r+2],this.words[r+3]&=t.words[r+3],this.words[r+4]&=t.words[r+4],this.words[r+5]&=t.words[r+5],this.words[r+6]&=t.words[r+6],this.words[r+7]&=t.words[r+7];for(;r<e;++r)this.words[r]&=t.words[r];const n=this.words.length;for(r=e;r<n;++r)this.words[r]=0;return this},tt.prototype.intersection_size=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(let n=0;n<e;++n)r+=this.hammingWeight(this.words[n]&t.words[n]);return r},tt.prototype.new_intersection=function(t){const e=Object.create(tt.prototype),r=Math.min(this.words.length,t.words.length);e.words=new Array(r);let n=0;for(;n+7<r;n+=8)e.words[n]=this.words[n]&t.words[n],e.words[n+1]=this.words[n+1]&t.words[n+1],e.words[n+2]=this.words[n+2]&t.words[n+2],e.words[n+3]=this.words[n+3]&t.words[n+3],e.words[n+4]=this.words[n+4]&t.words[n+4],e.words[n+5]=this.words[n+5]&t.words[n+5],e.words[n+6]=this.words[n+6]&t.words[n+6],e.words[n+7]=this.words[n+7]&t.words[n+7];for(;n<r;++n)e.words[n]=this.words[n]&t.words[n];return e},tt.prototype.equals=function(t){const e=Math.min(this.words.length,t.words.length);for(let r=0;r<e;++r)if(this.words[r]!=t.words[r])return!1;if(this.words.length<t.words.length){const r=t.words.length;for(let n=this.words.length;n<r;++n)if(t.words[n]!=0)return!1}else if(t.words.length<this.words.length){const r=this.words.length;for(let n=t.words.length;n<r;++n)if(this.words[n]!=0)return!1}return!0},tt.prototype.difference=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)this.words[r]&=~t.words[r],this.words[r+1]&=~t.words[r+1],this.words[r+2]&=~t.words[r+2],this.words[r+3]&=~t.words[r+3],this.words[r+4]&=~t.words[r+4],this.words[r+5]&=~t.words[r+5],this.words[r+6]&=~t.words[r+6],this.words[r+7]&=~t.words[r+7];for(;r<e;++r)this.words[r]&=~t.words[r];return this},tt.prototype.new_difference=function(t){return this.clone().difference(t)},tt.prototype.difference2=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)t.words[r]=this.words[r]&~t.words[r],t.words[r+1]=this.words[r+1]&~t.words[r+1],t.words[r+2]=this.words[r+2]&~t.words[r+2],t.words[r+3]=this.words[r+3]&~t.words[r+3],t.words[r+4]=this.words[r+4]&~t.words[r+4],t.words[r+5]=this.words[r+5]&~t.words[r+5],t.words[r+6]=this.words[r+6]&~t.words[r+6],t.words[r+7]=this.words[r+7]&~t.words[r+7];for(;r<e;++r)t.words[r]=this.words[r]&~t.words[r];for(r=this.words.length-1;r>=e;--r)t.words[r]=this.words[r];return t.words.length=this.words.length,t},tt.prototype.difference_size=function(t){const e=Math.min(this.words.length,t.words.length);let r=0,n=0;for(;n<e;++n)r+=this.hammingWeight(this.words[n]&~t.words[n]);const o=this.words.length;for(;n<o;++n)r+=this.hammingWeight(this.words[n]);return r},tt.prototype.change=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)this.words[r]^=t.words[r],this.words[r+1]^=t.words[r+1],this.words[r+2]^=t.words[r+2],this.words[r+3]^=t.words[r+3],this.words[r+4]^=t.words[r+4],this.words[r+5]^=t.words[r+5],this.words[r+6]^=t.words[r+6],this.words[r+7]^=t.words[r+7];for(;r<e;++r)this.words[r]^=t.words[r];for(r=t.words.length-1;r>=e;--r)this.words[r]=t.words[r];return this},tt.prototype.new_change=function(t){const e=Object.create(tt.prototype),r=Math.max(this.words.length,t.words.length);e.words=new Array(r);const n=Math.min(this.words.length,t.words.length);let o=0;for(;o+7<n;o+=8)e.words[o]=this.words[o]^t.words[o],e.words[o+1]=this.words[o+1]^t.words[o+1],e.words[o+2]=this.words[o+2]^t.words[o+2],e.words[o+3]=this.words[o+3]^t.words[o+3],e.words[o+4]=this.words[o+4]^t.words[o+4],e.words[o+5]=this.words[o+5]^t.words[o+5],e.words[o+6]=this.words[o+6]^t.words[o+6],e.words[o+7]=this.words[o+7]^t.words[o+7];for(;o<n;++o)e.words[o]=this.words[o]^t.words[o];const i=this.words.length;for(o=n;o<i;++o)e.words[o]=this.words[o];const s=t.words.length;for(o=n;o<s;++o)e.words[o]=t.words[o];return e},tt.prototype.change_size=function(t){const e=Math.min(this.words.length,t.words.length);let r=0,n=0;for(;n<e;++n)r+=this.hammingWeight(this.words[n]^t.words[n]);const o=this.words.length>t.words.length?this:t,i=o.words.length;for(;n<i;++n)r+=this.hammingWeight(o.words[n]);return r},tt.prototype.toString=function(){return"{"+this.array().join(",")+"}"},tt.prototype.union=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)this.words[r]|=t.words[r],this.words[r+1]|=t.words[r+1],this.words[r+2]|=t.words[r+2],this.words[r+3]|=t.words[r+3],this.words[r+4]|=t.words[r+4],this.words[r+5]|=t.words[r+5],this.words[r+6]|=t.words[r+6],this.words[r+7]|=t.words[r+7];for(;r<e;++r)this.words[r]|=t.words[r];if(this.words.length<t.words.length){this.resize((t.words.length<<5)-1);const n=t.words.length;for(let o=e;o<n;++o)this.words[o]=t.words[o]}return this},tt.prototype.new_union=function(t){const e=Object.create(tt.prototype),r=Math.max(this.words.length,t.words.length);e.words=new Array(r);const n=Math.min(this.words.length,t.words.length);let o=0;for(;o+7<n;o+=8)e.words[o]=this.words[o]|t.words[o],e.words[o+1]=this.words[o+1]|t.words[o+1],e.words[o+2]=this.words[o+2]|t.words[o+2],e.words[o+3]=this.words[o+3]|t.words[o+3],e.words[o+4]=this.words[o+4]|t.words[o+4],e.words[o+5]=this.words[o+5]|t.words[o+5],e.words[o+6]=this.words[o+6]|t.words[o+6],e.words[o+7]=this.words[o+7]|t.words[o+7];for(;o<n;++o)e.words[o]=this.words[o]|t.words[o];const i=this.words.length;for(o=n;o<i;++o)e.words[o]=this.words[o];const s=t.words.length;for(o=n;o<s;++o)e.words[o]=t.words[o];return e},tt.prototype.union_size=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(let n=0;n<e;++n)r+=this.hammingWeight(this.words[n]|t.words[n]);if(this.words.length<t.words.length){const n=t.words.length;for(let o=this.words.length;o<n;++o)r+=this.hammingWeight(0|t.words[o])}else{const n=this.words.length;for(let o=t.words.length;o<n;++o)r+=this.hammingWeight(0|this.words[o])}return r};(function(t){var e={exports:{}};return function(r,n){(function(){var o,i,s,a,u,c,h,m,g,y,d,v,_,k,O,P,F,L,x,S,N,R,I,B,K,ct,it,lt,b=function(l){var f=new b.Index;return f.pipeline.add(b.trimmer,b.stopWordFilter,b.stemmer),l&&l.call(f,f),f};b.version="1.0.0",b.utils={},b.utils.warn=function(l){return function(f){l.console&&console.warn&&console.warn(f)}}(this),b.utils.asString=function(l){return l==null?"":l.toString()},b.EventEmitter=function(){this.events={}},b.EventEmitter.prototype.addListener=function(){var l=Array.prototype.slice.call(arguments),f=l.pop(),w=l;if(typeof f!="function")throw new TypeError("last argument must be a function");w.forEach(function(j){this.hasHandler(j)||(this.events[j]=[]),this.events[j].push(f)},this)},b.EventEmitter.prototype.removeListener=function(l,f){if(this.hasHandler(l)){var w=this.events[l].indexOf(f);this.events[l].splice(w,1),this.events[l].length||delete this.events[l]}},b.EventEmitter.prototype.emit=function(l){if(this.hasHandler(l)){var f=Array.prototype.slice.call(arguments,1);this.events[l].forEach(function(w){w.apply(void 0,f)})}},b.EventEmitter.prototype.hasHandler=function(l){return l in this.events},b.tokenizer=function(l){return arguments.length&&l!=null&&l!=null?Array.isArray(l)?l.map(function(f){return b.utils.asString(f).toLowerCase()}):l.toString().trim().toLowerCase().split(b.tokenizer.separator):[]},b.tokenizer.separator=/[\s\-]+/,b.tokenizer.load=function(l){var f=this.registeredFunctions[l];if(!f)throw new Error("Cannot load un-registered function: "+l);return f},b.tokenizer.label="default",b.tokenizer.registeredFunctions={default:b.tokenizer},b.tokenizer.registerFunction=function(l,f){f in this.registeredFunctions&&b.utils.warn("Overwriting existing tokenizer: "+f),l.label=f,this.registeredFunctions[f]=l},b.Pipeline=function(){this._stack=[]},b.Pipeline.registeredFunctions={},b.Pipeline.registerFunction=function(l,f){f in this.registeredFunctions&&b.utils.warn("Overwriting existing registered function: "+f),l.label=f,b.Pipeline.registeredFunctions[l.label]=l},b.Pipeline.warnIfFunctionNotRegistered=function(l){l.label&&l.label in this.registeredFunctions||b.utils.warn(`Function is not registered with pipeline. This may cause problems when serialising the index.
`,l)},b.Pipeline.load=function(l){var f=new b.Pipeline;return l.forEach(function(w){var j=b.Pipeline.registeredFunctions[w];if(!j)throw new Error("Cannot load un-registered function: "+w);f.add(j)}),f},b.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(l){b.Pipeline.warnIfFunctionNotRegistered(l),this._stack.push(l)},this)},b.Pipeline.prototype.after=function(l,f){b.Pipeline.warnIfFunctionNotRegistered(f);var w=this._stack.indexOf(l);if(w==-1)throw new Error("Cannot find existingFn");this._stack.splice(w+=1,0,f)},b.Pipeline.prototype.before=function(l,f){b.Pipeline.warnIfFunctionNotRegistered(f);var w=this._stack.indexOf(l);if(w==-1)throw new Error("Cannot find existingFn");this._stack.splice(w,0,f)},b.Pipeline.prototype.remove=function(l){var f=this._stack.indexOf(l);f!=-1&&this._stack.splice(f,1)},b.Pipeline.prototype.run=function(l){for(var f=[],w=l.length,j=this._stack.length,E=0;E<w;E++){for(var C=l[E],et=0;et<j&&(C=this._stack[et](C,E,l))!==void 0&&C!=="";et++);C!==void 0&&C!==""&&f.push(C)}return f},b.Pipeline.prototype.reset=function(){this._stack=[]},b.Pipeline.prototype.toJSON=function(){return this._stack.map(function(l){return b.Pipeline.warnIfFunctionNotRegistered(l),l.label})},b.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},b.Vector.Node=function(l,f,w){this.idx=l,this.val=f,this.next=w},b.Vector.prototype.insert=function(l,f){this._magnitude=void 0;var w=this.list;if(!w)return this.list=new b.Vector.Node(l,f,w),this.length++;if(l<w.idx)return this.list=new b.Vector.Node(l,f,w),this.length++;for(var j=w,E=w.next;E!=null;){if(l<E.idx)return j.next=new b.Vector.Node(l,f,E),this.length++;j=E,E=E.next}return j.next=new b.Vector.Node(l,f,E),this.length++},b.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var l,f=this.list,w=0;f;)w+=(l=f.val)*l,f=f.next;return this._magnitude=Math.sqrt(w)},b.Vector.prototype.dot=function(l){for(var f=this.list,w=l.list,j=0;f&&w;)f.idx<w.idx?f=f.next:(f.idx>w.idx||(j+=f.val*w.val,f=f.next),w=w.next);return j},b.Vector.prototype.similarity=function(l){return this.dot(l)/(this.magnitude()*l.magnitude())},b.SortedSet=function(){this.length=0,this.elements=[]},b.SortedSet.load=function(l){var f=new this;return f.elements=l,f.length=l.length,f},b.SortedSet.prototype.add=function(){var l,f;for(l=0;l<arguments.length;l++)~this.indexOf(f=arguments[l])||this.elements.splice(this.locationFor(f),0,f);this.length=this.elements.length},b.SortedSet.prototype.toArray=function(){return this.elements.slice()},b.SortedSet.prototype.map=function(l,f){return this.elements.map(l,f)},b.SortedSet.prototype.forEach=function(l,f){return this.elements.forEach(l,f)},b.SortedSet.prototype.indexOf=function(l){for(var f=0,w=this.elements.length,j=w-f,E=f+Math.floor(j/2),C=this.elements[E];j>1;){if(C===l)return E;C<l&&(f=E),C>l&&(w=E),j=w-f,E=f+Math.floor(j/2),C=this.elements[E]}return C===l?E:-1},b.SortedSet.prototype.locationFor=function(l){for(var f=0,w=this.elements.length,j=w-f,E=f+Math.floor(j/2),C=this.elements[E];j>1;)C<l&&(f=E),C>l&&(w=E),j=w-f,E=f+Math.floor(j/2),C=this.elements[E];return C>l?E:C<l?E+1:void 0},b.SortedSet.prototype.intersect=function(l){for(var f=new b.SortedSet,w=0,j=0,E=this.length,C=l.length,et=this.elements,ft=l.elements;!(w>E-1||j>C-1);)et[w]!==ft[j]?et[w]<ft[j]?w++:et[w]>ft[j]&&j++:(f.add(et[w]),w++,j++);return f},b.SortedSet.prototype.clone=function(){var l=new b.SortedSet;return l.elements=this.toArray(),l.length=l.elements.length,l},b.SortedSet.prototype.union=function(l){var f,w,j;this.length>=l.length?(f=this,w=l):(f=l,w=this),j=f.clone();for(var E=0,C=w.toArray();E<C.length;E++)j.add(C[E]);return j},b.SortedSet.prototype.toJSON=function(){return this.toArray()},b.Index=function(){this._fields=[],this._ref="id",this.pipeline=new b.Pipeline,this.documentStore=new b.Store,this.tokenStore=new b.TokenStore,this.corpusTokens=new b.SortedSet,this.eventEmitter=new b.EventEmitter,this.tokenizerFn=b.tokenizer,this._idfCache={},this.on("add","remove","update",(function(){this._idfCache={}}).bind(this))},b.Index.prototype.on=function(){var l=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,l)},b.Index.prototype.off=function(l,f){return this.eventEmitter.removeListener(l,f)},b.Index.load=function(l){l.version!==b.version&&b.utils.warn("version mismatch: current "+b.version+" importing "+l.version);var f=new this;return f._fields=l.fields,f._ref=l.ref,f.tokenizer(b.tokenizer.load(l.tokenizer)),f.documentStore=b.Store.load(l.documentStore),f.tokenStore=b.TokenStore.load(l.tokenStore),f.corpusTokens=b.SortedSet.load(l.corpusTokens),f.pipeline=b.Pipeline.load(l.pipeline),f},b.Index.prototype.field=function(l,f){return this._fields.push({name:l,boost:(f=f||{}).boost||1}),this},b.Index.prototype.ref=function(l){return this._ref=l,this},b.Index.prototype.tokenizer=function(l){return l.label&&l.label in b.tokenizer.registeredFunctions||b.utils.warn("Function is not a registered tokenizer. This may cause problems when serialising the index"),this.tokenizerFn=l,this},b.Index.prototype.add=function(l,f){var w={},j=new b.SortedSet,E=l[this._ref];f=f===void 0||f,this._fields.forEach(function(Ht){var St=this.pipeline.run(this.tokenizerFn(l[Ht.name]));w[Ht.name]=St;for(var pt=0;pt<St.length;pt++){var Nt=St[pt];j.add(Nt),this.corpusTokens.add(Nt)}},this),this.documentStore.set(E,j);for(var C=0;C<j.length;C++){for(var et=j.elements[C],ft=0,Q=0;Q<this._fields.length;Q++){var ht=this._fields[Q],jt=w[ht.name],It=jt.length;if(It){for(var Tt=0,Vt=0;Vt<It;Vt++)jt[Vt]===et&&Tt++;ft+=Tt/It*ht.boost}}this.tokenStore.add(et,{ref:E,tf:ft})}f&&this.eventEmitter.emit("add",l,this)},b.Index.prototype.remove=function(l,f){var w=l[this._ref];if(f=f===void 0||f,this.documentStore.has(w)){var j=this.documentStore.get(w);this.documentStore.remove(w),j.forEach(function(E){this.tokenStore.remove(E,w)},this),f&&this.eventEmitter.emit("remove",l,this)}},b.Index.prototype.update=function(l,f){f=f===void 0||f,this.remove(l,!1),this.add(l,!1),f&&this.eventEmitter.emit("update",l,this)},b.Index.prototype.idf=function(l){var f="@"+l;if(Object.prototype.hasOwnProperty.call(this._idfCache,f))return this._idfCache[f];var w=this.tokenStore.count(l),j=1;return w>0&&(j=1+Math.log(this.documentStore.length/w)),this._idfCache[f]=j},b.Index.prototype.search=function(l){var f=this.pipeline.run(this.tokenizerFn(l)),w=new b.Vector,j=[],E=this._fields.reduce(function(C,et){return C+et.boost},0);return f.some(function(C){return this.tokenStore.has(C)},this)?(f.forEach(function(C,et,ft){var Q=1/ft.length*this._fields.length*E,ht=this,jt=this.tokenStore.expand(C).reduce(function(It,Tt){var Vt=ht.corpusTokens.indexOf(Tt),Ht=ht.idf(Tt),St=1,pt=new b.SortedSet;if(Tt!==C){var Nt=Math.max(3,Tt.length-C.length);St=1/Math.log(Nt)}Vt>-1&&w.insert(Vt,Q*Ht*St);for(var ee=ht.tokenStore.get(Tt),Ft=Object.keys(ee),Pe=Ft.length,he=0;he<Pe;he++)pt.add(ee[Ft[he]].ref);return It.union(pt)},new b.SortedSet);j.push(jt)},this),j.reduce(function(C,et){return C.intersect(et)}).map(function(C){return{ref:C,score:w.similarity(this.documentVector(C))}},this).sort(function(C,et){return et.score-C.score})):[]},b.Index.prototype.documentVector=function(l){for(var f=this.documentStore.get(l),w=f.length,j=new b.Vector,E=0;E<w;E++){var C=f.elements[E],et=this.tokenStore.get(C)[l].tf,ft=this.idf(C);j.insert(this.corpusTokens.indexOf(C),et*ft)}return j},b.Index.prototype.toJSON=function(){return{version:b.version,fields:this._fields,ref:this._ref,tokenizer:this.tokenizerFn.label,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},b.Index.prototype.use=function(l){var f=Array.prototype.slice.call(arguments,1);f.unshift(this),l.apply(this,f)},b.Store=function(){this.store={},this.length=0},b.Store.load=function(l){var f=new this;return f.length=l.length,f.store=Object.keys(l.store).reduce(function(w,j){return w[j]=b.SortedSet.load(l.store[j]),w},{}),f},b.Store.prototype.set=function(l,f){this.has(l)||this.length++,this.store[l]=f},b.Store.prototype.get=function(l){return this.store[l]},b.Store.prototype.has=function(l){return l in this.store},b.Store.prototype.remove=function(l){this.has(l)&&(delete this.store[l],this.length--)},b.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},b.stemmer=(o={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},i={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},c="^("+(a="[^aeiou][^aeiouy]*")+")?"+(u=(s="[aeiouy]")+"[aeiou]*")+a+"("+u+")?$",h="^("+a+")?"+u+a+u+a,m="^("+a+")?"+s,g=new RegExp("^("+a+")?"+u+a),y=new RegExp(h),d=new RegExp(c),v=new RegExp(m),_=/^(.+?)(ss|i)es$/,k=/^(.+?)([^s])s$/,O=/^(.+?)eed$/,P=/^(.+?)(ed|ing)$/,F=/.$/,L=/(at|bl|iz)$/,x=new RegExp("([^aeiouylsz])\\1$"),S=new RegExp("^"+a+s+"[^aeiouwxy]$"),N=/^(.+?[^aeiou])y$/,R=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,I=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,B=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,K=/^(.+?)(s|t)(ion)$/,ct=/^(.+?)e$/,it=/ll$/,lt=new RegExp("^"+a+s+"[^aeiouwxy]$"),function(l){var f,w,j,E,C,et,ft;if(l.length<3)return l;if((j=l.substr(0,1))=="y"&&(l=j.toUpperCase()+l.substr(1)),C=k,(E=_).test(l)?l=l.replace(E,"$1$2"):C.test(l)&&(l=l.replace(C,"$1$2")),C=P,(E=O).test(l)){var Q=E.exec(l);(E=g).test(Q[1])&&(l=l.replace(E=F,""))}else C.test(l)&&(Q=C.exec(l),(C=v).test(f=Q[1])&&(et=x,ft=S,(C=L).test(l=f)?l+="e":et.test(l)?l=l.replace(E=F,""):ft.test(l)&&(l+="e")));return(E=N).test(l)&&(l=(f=(Q=E.exec(l))[1])+"i"),(E=R).test(l)&&(w=(Q=E.exec(l))[2],(E=g).test(f=Q[1])&&(l=f+o[w])),(E=I).test(l)&&(w=(Q=E.exec(l))[2],(E=g).test(f=Q[1])&&(l=f+i[w])),C=K,(E=B).test(l)?(Q=E.exec(l),(E=y).test(f=Q[1])&&(l=f)):C.test(l)&&(Q=C.exec(l),(C=y).test(f=Q[1]+Q[2])&&(l=f)),(E=ct).test(l)&&(Q=E.exec(l),C=d,et=lt,((E=y).test(f=Q[1])||C.test(f)&&!et.test(f))&&(l=f)),C=y,(E=it).test(l)&&C.test(l)&&(l=l.replace(E=F,"")),j=="y"&&(l=j.toLowerCase()+l.substr(1)),l}),b.Pipeline.registerFunction(b.stemmer,"stemmer"),b.generateStopWordFilter=function(l){var f=l.reduce(function(w,j){return w[j]=j,w},{});return function(w){if(w&&f[w]!==w)return w}},b.stopWordFilter=b.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),b.Pipeline.registerFunction(b.stopWordFilter,"stopWordFilter"),b.trimmer=function(l){return l.replace(/^\W+/,"").replace(/\W+$/,"")},b.Pipeline.registerFunction(b.trimmer,"trimmer"),b.TokenStore=function(){this.root={docs:{}},this.length=0},b.TokenStore.load=function(l){var f=new this;return f.root=l.root,f.length=l.length,f},b.TokenStore.prototype.add=function(l,f,w){w=w||this.root;var j=l.charAt(0),E=l.slice(1);return j in w||(w[j]={docs:{}}),E.length===0?(w[j].docs[f.ref]=f,void(this.length+=1)):this.add(E,f,w[j])},b.TokenStore.prototype.has=function(l){if(!l)return!1;for(var f=this.root,w=0;w<l.length;w++){if(!f[l.charAt(w)])return!1;f=f[l.charAt(w)]}return!0},b.TokenStore.prototype.getNode=function(l){if(!l)return{};for(var f=this.root,w=0;w<l.length;w++){if(!f[l.charAt(w)])return{};f=f[l.charAt(w)]}return f},b.TokenStore.prototype.get=function(l,f){return this.getNode(l,f).docs||{}},b.TokenStore.prototype.count=function(l,f){return Object.keys(this.get(l,f)).length},b.TokenStore.prototype.remove=function(l,f){if(l){for(var w=this.root,j=0;j<l.length;j++){if(!(l.charAt(j)in w))return;w=w[l.charAt(j)]}delete w.docs[f]}},b.TokenStore.prototype.expand=function(l,f){var w=this.getNode(l);return f=f||[],Object.keys(w.docs||{}).length&&f.push(l),Object.keys(w).forEach(function(j){j!=="docs"&&f.concat(this.expand(l+j,f))},this),f},b.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},r.exports=b})()}(e),e.exports})();const vh={aggregations:{notAfter:{title:"Not after",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},notBefore:{title:"Not before",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},language:{title:"Language",hide_zero_doc_count:!0,size:200,sort:"key"},languageCert:{title:"Language certainty",hide_zero_doc_count:!0,size:10,sort:"key"},provenance:{title:"Provenance",hide_zero_doc_count:!0,size:200,sort:"key"},inscriptionType:{title:"Inscription type",hide_zero_doc_count:!0,size:200,sort:"key"},objectType:{title:"Object type",hide_zero_doc_count:!0,size:200,sort:"key"},material:{title:"Material",hide_zero_doc_count:!0,size:200,sort:"key"},technique:{title:"Technique",hide_zero_doc_count:!0,size:200,sort:"key"},pigment:{title:"Pigment",hide_zero_doc_count:!0,size:200,sort:"key"},letterHeightAtLeast:{title:"Letter height at least",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},letterHeightAtMost:{title:"Letter height at most",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},damage:{title:"Damage",hide_zero_doc_count:!0,size:100,sort:"key"},repository:{title:"Repository",hide_zero_doc_count:!0,size:200,sort:"key"},publicationAuthors:{title:"Publication author",hide_zero_doc_count:!0,size:1e3,sort:"key"},publicationTitles:{title:"Publication title",hide_zero_doc_count:!0,size:1500,sort:"key"},publicationYears:{title:"Publication year",hide_zero_doc_count:!0,size:1e3,sort:"key"},status:{title:"Status",hide_zero_doc_count:!0,sort:"key"}},searchableFields:["keywords","title","text"],sortings:{file_asc:{field:"file",order:"asc"},file_desc:{field:"file",order:"desc"},notAfter_asc:{field:"notAfter",order:"asc"},notAfter_desc:{field:"notAfter",order:"desc"},notBefore_asc:{field:"notBefore",order:"desc"},notBefore_desc:{field:"notBefore",order:"desc"},title_asc:{field:"title",order:"asc"},title_desc:{field:"title",order:"desc"}}};function mh(t){return new Worker(""+new URL("../workers/worker-Czzg5fo8.js",import.meta.url).href,{name:t==null?void 0:t.name})}var yh=D("<!>Filters",1),bh=D('<h2 aria-busy="true" class="svelte-16zqrgi">Loading inscriptions...</h2>'),_h=D("<!>View cards",1),wh=D("<!>View map",1),xh=D("<!>View table",1),Sh=D('<div class="transition-container svelte-16zqrgi"><!></div>'),Ph=D('<div class="transition-container svelte-16zqrgi"><!></div>'),Ah=D("<!> <!> <!>",1),kh=D('<!> <section class="controls svelte-16zqrgi"><div class="toggles svelte-16zqrgi"><!> <!> <!></div> <div class="sort-controls svelte-16zqrgi"><label for="sort-select">Sort by:</label> <select id="sort-select"><option>File</option><option>Not before</option><option>Not after</option><option>Title</option></select> <!></div></section> <!>',1),jh=D('<article><section><form class="svelte-16zqrgi"><label class="visually-hidden" for="q">Search query:</label> <input type="text" name="q" id="q" placeholder="Search inscriptions metadata" class="svelte-16zqrgi"> <!> <!></form> <div class="filters-toggle svelte-16zqrgi"><!></div></section> <section class="inscriptions svelte-16zqrgi"><!></section></article> <!>',1);function Oh(t,e){mt(e,!0);const[r,n]=xs(),o=()=>sr(m,"$searchView",r),i=()=>sr(h,"$searchLimit",r),s=()=>sr(c,"$searchPage",r),a=()=>sr(u,"$searchQuery",r),u=fr("q",dr.string("")),c=fr("page",dr.number(1)),h=fr("limit",dr.number(zt.limit)),m=fr("view",dr.string("cards"));let g=xt("idle"),y=V(()=>["idle","load"].includes(p(g))),d=xt(void 0),v=xt(at({})),_=V(()=>{var M;return((M=p(v))==null?void 0:M.pagination)??{}}),k=V(()=>{var M,rt;return((rt=(M=p(v))==null?void 0:M.data)==null?void 0:rt.aggregations)??{}}),O=V(()=>{var M;return((M=p(_))==null?void 0:M.total)??0}),P=V(b),F=V(()=>{var M,rt;return((rt=(M=p(v))==null?void 0:M.data)==null?void 0:rt.items)??[]}),L=V(()=>{var M;return o()==="map"?(M=p(F))==null?void 0:M.map(rt=>({file:rt.file,title:rt.title,places:rt.places,geo:rt.geo[0]})):[]}),x=xt(!1),S=at({sortAggregationsBy:"key",sortResultsBy:"file",sortResultsOrder:"asc"}),N=xt(at(ct())),R=xt(at(it())),I=xt(at(lt()));async function B(){p(g)!=="ready"&&(Z(g,"load"),Z(d,at(new mh)),p(d).addEventListener("message",M=>{const{type:rt,data:bt}=M.data;rt==="ready"&&Z(g,"ready"),rt==="results"&&Z(v,at(bt))}),p(d).postMessage({type:"load",data:{sortAggregationsBy:S.sortAggregationsBy}}))}ze(()=>{K()});async function K(){if(p(g)==="ready"){const M=Object.fromEntries(Object.keys(p(I)).map(rt=>[rt,[...p(I)[rt]]]));p(d).postMessage({type:"search",data:{limit:i(),page:s(),query:a(),sort:`${S.sortResultsBy}_${S.sortResultsOrder}`,filters:M,dateRange:[...p(N)],letterHeightRange:[...p(R)]}})}}function ct(){return[zt.minDate,zt.maxDate]}function it(){return[zt.minLetterHeight,zt.maxLetterHeight]}function lt(){return Object.keys(vh.aggregations).filter(M=>M.indexOf("not")<0).filter(M=>M.indexOf("letterHeight")<0).reduce((M,rt)=>(M[rt]=[],M),{})}function b(){var M;return!p(k)||!((M=p(k))!=null&&M.provenance)?0:p(k).provenance.buckets.length}async function l(M){M.preventDefault()}async function f(M){M.preventDefault(),Xt(u,""),Xt(c,1),Xt(h,o()==="map"?zt.maxLimit:zt.limit),Z(N,at([...ct()])),Z(R,at([...it()])),Z(I,at({...lt()}))}function w(){const M=ct(),rt=it();return a()!==""||p(N).some((bt,re)=>bt!==M[re])||p(R).some((bt,re)=>bt!==rt[re])||Object.keys(p(I)).some(bt=>p(I)[bt].length>0)}ze(()=>{S.sortAggregationsBy&&p(d)&&p(g)==="ready"&&(p(d).postMessage({type:"load",data:{sortAggregationsBy:S.sortAggregationsBy}}),K())});async function j(M){M==="map"?Xt(h,zt.maxLimit):o()==="map"&&(Z(v,at({...p(v),data:{...p(v).data,items:[]}})),Xt(h,zt.limit),Xt(c,1)),Xt(m,M)}async function E(){S.sortResultsOrder=S.sortResultsOrder==="asc"?"desc":"asc"}async function C(M){Xt(c,M)}mi(()=>{B()});var et=jh();ye("keydown",Ms,M=>{var rt;(M.ctrlKey||M.metaKey)&&(M.key==="k"||M.key==="K")&&(M.preventDefault(),Z(x,!p(x))),M.key==="/"&&(M.preventDefault(),(rt=document.getElementById("q"))==null||rt.focus())});var ft=q(et),Q=z(ft),ht=z(Q),jt=$(z(ht),2);Oe(jt);var It=$(jt,2);const Tt=V(()=>!a());At(It,()=>ie,(M,rt)=>{rt(M,{class:"surface-4",type:"submit",get disabled(){return p(Tt)},children:(bt,re)=>{Lt();var ne=Mt("Search");A(bt,ne)},$$slots:{default:!0}})});var Vt=$(It,2);const Ht=V(()=>!w());At(Vt,()=>ie,(M,rt)=>{rt(M,{class:"surface-1",type:"reset",get disabled(){return p(Ht)},children:(bt,re)=>{Lt();var ne=Mt("Reset");A(bt,ne)},$$slots:{default:!0}})}),T(ht);var St=$(ht,2),pt=z(St);const Nt=V(()=>p(x)?"surface-4":"surface-1");At(pt,()=>ie,(M,rt)=>{rt(M,{get class(){return p(Nt)},onclick:()=>Z(x,!p(x)),children:(bt,re)=>{var ne=yh(),Me=q(ne);Mc(Me,{}),Lt(),A(bt,ne)},$$slots:{default:!0}})}),T(St),T(Q);var ee=$(Q,2),Ft=z(ee);{var Pe=M=>{var rt=bh();A(M,rt)},he=M=>{var rt=kh(),bt=q(rt);const re=V(()=>[zt.minDate,zt.maxDate]),ne=V(()=>[zt.minLetterHeight,zt.maxLetterHeight]);Id(bt,{get total(){return p(O)},get dateRange(){return p(N)},get defaultDateRange(){return p(re)},get letterHeightRange(){return p(R)},get defaultLetterHeightRange(){return p(ne)},get numberOfLocations(){return p(P)},get query(){return a()},get filters(){return p(I)}});var Me=$(bt,2),tn=z(Me),oo=z(tn);const us=V(()=>`${o()==="cards"?"surface-4":"surface-1"}`);At(oo,()=>ie,(_t,wt)=>{wt(_t,{get class(){return p(us)},onclick:()=>j("cards"),children:(Ct,Ae)=>{var Rt=_h(),Gt=q(Rt);$c(Gt,{}),Lt(),A(Ct,Rt)},$$slots:{default:!0}})});var io=$(oo,2);const ds=V(()=>`${o()==="map"?"surface-4":"surface-1"}`);At(io,()=>ie,(_t,wt)=>{wt(_t,{get class(){return p(ds)},onclick:()=>j("map"),children:(Ct,Ae)=>{var Rt=wh(),Gt=q(Rt);Fc(Gt,{}),Lt(),A(Ct,Rt)},$$slots:{default:!0}})});var fs=$(io,2);const hs=V(()=>`${o()==="table"?"surface-4":"surface-1"}`);At(fs,()=>ie,(_t,wt)=>{wt(_t,{get class(){return p(hs)},onclick:()=>j("table"),children:(Ct,Ae)=>{var Rt=xh(),Gt=q(Rt);Bc(Gt,{}),Lt(),A(Ct,Rt)},$$slots:{default:!0}})}),T(tn);var so=$(tn,2),ir=$(z(so),2),en=z(ir);en.value=(en.__value="file")==null?"":"file";var rn=$(en);rn.value=(rn.__value="notBefore")==null?"":"notBefore";var nn=$(rn);nn.value=(nn.__value="notAfter")==null?"":"notAfter";var ao=$(nn);ao.value=(ao.__value="title")==null?"":"title",T(ir);var ps=$(ir,2);At(ps,()=>ie,(_t,wt)=>{wt(_t,{class:"order-toggle",onclick:()=>E(),"aria-label":"Toggle sort order from ascending to descending to no order",children:(Ct,Ae)=>{var Rt=nt(),Gt=q(Rt);{var pe=oe=>{Nc(oe,{"aria-label":"Ascending"})},on=oe=>{Ic(oe,{"aria-label":"Descending"})};ot(Gt,oe=>{S.sortResultsOrder==="asc"?oe(pe):oe(on,!1)})}A(Ct,Rt)},$$slots:{default:!0}})}),T(so),T(Me);var gs=$(Me,2);{var vs=_t=>{var wt=Sh(),Ct=z(wt);Lu(Ct,{get inscriptions(){return p(L)}}),T(wt),De(1,wt,()=>ar,()=>({duration:500})),De(2,wt,()=>ar,()=>({duration:250})),A(_t,wt)},ms=_t=>{var wt=Ah(),Ct=q(wt);ko(Ct,{get page(){return s()},get count(){return p(O)},get perPage(){return i()},onPageChange:C});var Ae=$(Ct,2);Us(Ae,o,Gt=>{var pe=Ph(),on=z(pe);{var oe=ke=>{Uu(ke,{get inscriptions(){return p(F)}})},ys=ke=>{zu(ke,{get inscriptions(){return p(F)}})};ot(on,ke=>{o()==="table"?ke(oe):ke(ys,!1)})}T(pe),De(1,pe,()=>ar,()=>({duration:500})),De(2,pe,()=>ar,()=>({duration:250})),A(Gt,pe)});var Rt=$(Ae,2);ko(Rt,{get page(){return s()},get count(){return p(O)},get perPage(){return i()},onPageChange:C}),A(_t,wt)};ot(gs,_t=>{o()==="map"?_t(vs):_t(ms,!1)})}ta(ir,()=>S.sortResultsBy,_t=>S.sortResultsBy=_t),A(M,rt)};ot(Ft,M=>{p(y)?M(Pe):M(he,!1)})}T(ee),T(ft);var Le=$(ft,2);jd(Le,{get show(){return p(x)},get aggregations(){return p(k)},get sortAggregationsBy(){return S.sortAggregationsBy},set sortAggregationsBy(M){S.sortAggregationsBy=M},get selectedDateRange(){return p(N)},set selectedDateRange(M){Z(N,at(M))},get selectedLetterHeightRange(){return p(R)},set selectedLetterHeightRange(M){Z(R,at(M))},get selectedFilters(){return p(I)},set selectedFilters(M){Z(I,at(M))}}),ye("submit",ht,l),ye("reset",ht,f),mr(jt,a,M=>Xt(u,M)),A(t,et),yt(),n()}var Eh=D('<section class="hero svelte-1ou7ebr"><h1 class="svelte-1ou7ebr"> </h1></section> <!>',1);function Gh(t,e){mt(e,!1),pi();var r=Eh(),n=q(r),o=z(n),i=z(o,!0);T(o),T(n);var s=$(n,2);Oh(s,{}),Y(()=>X(i,Vs)),A(t,r),yt()}export{Gh as component};

import{_ as J}from"../chunks/preload-helper.D6kgxu3v.js";import{s as K,n as $,o as Q,a as N}from"../chunks/scheduler.Cp4baeFQ.js";import{S as X,i as Y,e as g,l as R,s as H,c as v,a as E,m as V,b as I,d,n as m,z as Z,f as F,h as c,o as j,q as ee,H as te,A as ae}from"../chunks/index.jyCh-qzj.js";import{e as G}from"../chunks/each.D6YF6ztN.js";import{p as W,i as se}from"../chunks/config.IvP0r31I.js";function x(h,e,i){const s=h.slice();return s[3]=e[i],s}function B(h){let e,i,s=h[3].html+"",_,f,l;return{c(){e=g("section"),i=new te(!1),_=H(),this.h()},l(r){e=v(r,"SECTION",{id:!0,class:!0});var o=E(e);i=ae(o,!1),_=I(o),o.forEach(d),this.h()},h(){i.a=_,m(e,"id",f=h[3].id),m(e,"class",l=N(h[3].cls)+" svelte-zx9d9k")},m(r,o){F(r,e,o),i.m(s,e),c(e,_)},p(r,o){o&1&&s!==(s=r[3].html+"")&&i.p(s),o&1&&f!==(f=r[3].id)&&m(e,"id",f),o&1&&l!==(l=N(r[3].cls)+" svelte-zx9d9k")&&m(e,"class",l)},d(r){r&&d(e)}}}function ie(h){let e,i,s,_=h[0].inscription.title+"",f,l,r,o=h[0].metadata.status+"",O,b,z,S,q,P,y,p,k,C,A=G(h[0].inscription.divs),n=[];for(let a=0;a<A.length;a+=1)n[a]=B(x(h,A,a));return{c(){e=g("article"),i=g("hgroup"),s=g("h1"),f=R(_),l=H(),r=g("small"),O=R(o),b=H(),z=g("p"),S=g("a"),q=R("View in current site"),y=H(),p=g("div"),k=g("section"),C=H();for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=v(a,"ARTICLE",{});var u=E(e);i=v(u,"HGROUP",{});var t=E(i);s=v(t,"H1",{});var w=E(s);f=V(w,_),l=I(w),r=v(w,"SMALL",{});var D=E(r);O=V(D,o),D.forEach(d),w.forEach(d),b=I(t),z=v(t,"P",{});var M=E(z);S=v(M,"A",{href:!0,target:!0});var U=E(S);q=V(U,"View in current site"),U.forEach(d),M.forEach(d),t.forEach(d),y=I(u),p=v(u,"DIV",{class:!0});var T=E(p);k=v(T,"SECTION",{id:!0,style:!0,class:!0}),E(k).forEach(d),C=I(T);for(let L=0;L<n.length;L+=1)n[L].l(T);T.forEach(d),u.forEach(d),this.h()},h(){m(S,"href",P=W+"inscription/"+h[0].slug),m(S,"target","inscription"),m(k,"id","facsimile-images"),Z(k,"height","50vh"),m(k,"class","svelte-zx9d9k"),m(p,"class","sections svelte-zx9d9k")},m(a,u){F(a,e,u),c(e,i),c(i,s),c(s,f),c(s,l),c(s,r),c(r,O),c(i,b),c(i,z),c(z,S),c(S,q),c(e,y),c(e,p),c(p,k),c(p,C);for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(p,null)},p(a,[u]){if(u&1&&_!==(_=a[0].inscription.title+"")&&j(f,_),u&1&&o!==(o=a[0].metadata.status+"")&&j(O,o),u&1&&P!==(P=W+"inscription/"+a[0].slug)&&m(S,"href",P),u&1){A=G(a[0].inscription.divs);let t;for(t=0;t<A.length;t+=1){const w=x(a,A,t);n[t]?n[t].p(w,u):(n[t]=B(w),n[t].c(),n[t].m(p,null))}for(;t<n.length;t+=1)n[t].d(1);n.length=A.length}},i:$,o:$,d(a){a&&d(e),ee(n,a)}}}function le(h,e,i){let{data:s}=e,_=s.inscription.images.filter(l=>l.image.endsWith(".tif")).map(l=>`${se}${s.slug}/${l.image}/info.json`),f;return Q(async()=>{f=(await J(async()=>{const{default:l}=await import("../chunks/openseadragon.DeoDF6SA.js").then(r=>r.o);return{default:l}},[],import.meta.url)).default,f({id:"facsimile-images",insecureRequestsAllowed:!0,prefixUrl:"/openseadragon/images/",tileSources:_,sequenceMode:!0})}),h.$$set=l=>{"data"in l&&i(0,s=l.data)},[s]}class _e extends X{constructor(e){super(),Y(this,e,le,ie,K,{data:0})}}export{_e as component};

import{s as Te,r as we,c as De,o as Ie,n as Me}from"../chunks/scheduler.WWv42c0A.js";import{S as Ne,i as Oe,e as d,l as O,s as P,c as h,a as k,m as A,d as u,b as B,g as te,n as F,f as K,h as t,x as be,y as se,o as z,t as ne,k as Ae,j as ce,q as Re,r as Pe,u as Be,v as Ue,w as He,p as je}from"../chunks/index.B4JnXc8-.js";import{e as Ee}from"../chunks/each.D6YF6ztN.js";import{p as qe}from"../chunks/stores.DZ1YsbxS.js";import{B as Ge}from"../chunks/BaseLink.Dto6Lal_.js";import{d as Fe}from"../chunks/config.BixxLhad.js";function Ce(a,e,l){const s=a.slice();return s[13]=e[l],s}function ke(a){let e,l,s,v=a[1].length+"",n,p,b,g=a[3].split(" ").join(", ")+"",_;return{c(){e=d("h3"),l=O("Displaying "),s=d("em"),n=O(v),p=O(` inscriptions matching
					`),b=d("em"),_=O(g)},l(r){e=h(r,"H3",{});var f=k(e);l=A(f,"Displaying "),s=h(f,"EM",{});var c=k(s);n=A(c,v),c.forEach(u),p=A(f,` inscriptions matching
					`),b=h(f,"EM",{});var o=k(b);_=A(o,g),o.forEach(u),f.forEach(u)},m(r,f){K(r,e,f),t(e,l),t(e,s),t(s,n),t(e,p),t(e,b),t(b,_)},p(r,f){f&2&&v!==(v=r[1].length+"")&&z(n,v),f&8&&g!==(g=r[3].split(" ").join(", ")+"")&&z(_,g)},d(r){r&&u(e)}}}function Ke(a){let e,l=a[13].file+"",s,v,n,p=a[13].metadata.title+"",b,g,_,r=a[13].metadata.status+"",f;return{c(){e=d("small"),s=O(l),v=P(),n=d("span"),b=O(p),g=P(),_=d("small"),f=O(r)},l(c){e=h(c,"SMALL",{});var o=k(e);s=A(o,l),o.forEach(u),v=B(c),n=h(c,"SPAN",{});var S=k(n);b=A(S,p),S.forEach(u),g=B(c),_=h(c,"SMALL",{});var U=k(_);f=A(U,r),U.forEach(u)},m(c,o){K(c,e,o),t(e,s),K(c,v,o),K(c,n,o),t(n,b),K(c,g,o),K(c,_,o),t(_,f)},p(c,o){o&32&&l!==(l=c[13].file+"")&&z(s,l),o&32&&p!==(p=c[13].metadata.title+"")&&z(b,p),o&32&&r!==(r=c[13].metadata.status+"")&&z(f,r)},d(c){c&&(u(e),u(v),u(n),u(g),u(_))}}}function Le(a){var H,Y;let e,l,s,v,n,p,b="Settlement",g,_=a[13].metadata.settlement+"",r,f,c="Repository",o,S=(((H=a[13].metadata.repository)==null?void 0:H._)||"N/A")+"",U,T,D="Language",q,N=(((Y=a[13].metadata.textLang)==null?void 0:Y._)||"N/A")+"",J,Q,G;return s=new Ge({props:{href:"inscription/"+a[13].file,$$slots:{default:[Ke]},$$scope:{ctx:a}}}),{c(){e=d("li"),l=d("p"),Pe(s.$$.fragment),v=P(),n=d("dl"),p=d("dt"),p.textContent=b,g=d("dd"),r=O(_),f=d("dt"),f.textContent=c,o=d("dd"),U=O(S),T=d("dt"),T.textContent=D,q=d("dd"),J=O(N),Q=P(),this.h()},l(L){e=h(L,"LI",{});var w=k(e);l=h(w,"P",{class:!0});var R=k(l);Be(s.$$.fragment,R),R.forEach(u),v=B(w),n=h(w,"DL",{});var y=k(n);p=h(y,"DT",{class:!0,"data-svelte-h":!0}),te(p)!=="svelte-upur71"&&(p.textContent=b),g=h(y,"DD",{});var j=k(g);r=A(j,_),j.forEach(u),f=h(y,"DT",{class:!0,"data-svelte-h":!0}),te(f)!=="svelte-1uef0e6"&&(f.textContent=c),o=h(y,"DD",{});var le=k(o);U=A(le,S),le.forEach(u),T=h(y,"DT",{class:!0,"data-svelte-h":!0}),te(T)!=="svelte-1aab11o"&&(T.textContent=D),q=h(y,"DD",{});var Z=k(q);J=A(Z,N),Z.forEach(u),y.forEach(u),Q=B(w),w.forEach(u),this.h()},h(){F(l,"class","title svelte-5ui4wv"),F(p,"class","svelte-5ui4wv"),F(f,"class","svelte-5ui4wv"),F(T,"class","svelte-5ui4wv")},m(L,w){K(L,e,w),t(e,l),Ue(s,l,null),t(e,v),t(e,n),t(n,p),t(n,g),t(g,r),t(n,f),t(n,o),t(o,U),t(n,T),t(n,q),t(q,J),t(e,Q),G=!0},p(L,w){var y,j;const R={};w&32&&(R.href="inscription/"+L[13].file),w&65568&&(R.$$scope={dirty:w,ctx:L}),s.$set(R),(!G||w&32)&&_!==(_=L[13].metadata.settlement+"")&&z(r,_),(!G||w&32)&&S!==(S=(((y=L[13].metadata.repository)==null?void 0:y._)||"N/A")+"")&&z(U,S),(!G||w&32)&&N!==(N=(((j=L[13].metadata.textLang)==null?void 0:j._)||"N/A")+"")&&z(J,N)},i(L){G||(ne(s.$$.fragment,L),G=!0)},o(L){ce(s.$$.fragment,L),G=!1},d(L){L&&u(e),He(s)}}}function ye(a){let e,l="Load More Inscriptions",s,v;return{c(){e=d("button"),e.textContent=l},l(n){e=h(n,"BUTTON",{"data-svelte-h":!0}),te(e)!=="svelte-1j8c85t"&&(e.textContent=l)},m(n,p){K(n,e,p),s||(v=se(e,"click",a[8]),s=!0)},p:Me,d(n){n&&u(e),s=!1,v()}}}function ze(a){let e,l,s,v=a[0].corpus.length.toLocaleString()+"",n,p,b,g,_=Fe+"",r,f,c,o,S,U="Keywords",T,D,q,N,J,Q,G,H,Y,L,w,R,y,j,le="Inscriptions",Z,re,x,ie,$,W,ue,de,I=a[2]&&ke(a),X=Ee(a[5]),C=[];for(let i=0;i<X.length;i+=1)C[i]=Le(Ce(a,X,i));const Se=i=>ce(C[i],1,1,()=>{C[i]=null});let M=a[4]&&ye(a);return{c(){e=d("article"),l=d("hgroup"),s=d("h1"),n=O(v),p=O(" Inscriptions over x years across x locations"),b=P(),g=d("p"),r=O(_),f=P(),c=d("section"),o=d("form"),S=d("label"),S.textContent=U,T=P(),D=d("input"),q=P(),N=d("button"),J=O("Search"),G=P(),H=d("button"),Y=O("Reset"),w=P(),R=d("section"),y=d("hgroup"),j=d("h2"),j.textContent=le,Z=P(),I&&I.c(),re=P(),x=d("ol");for(let i=0;i<C.length;i+=1)C[i].c();ie=P(),$=d("section"),M&&M.c(),this.h()},l(i){e=h(i,"ARTICLE",{});var m=k(e);l=h(m,"HGROUP",{});var E=k(l);s=h(E,"H1",{});var ee=k(s);n=A(ee,v),p=A(ee," Inscriptions over x years across x locations"),ee.forEach(u),b=B(E),g=h(E,"P",{});var he=k(g);r=A(he,_),he.forEach(u),E.forEach(u),f=B(m),c=h(m,"SECTION",{});var pe=k(c);o=h(pe,"FORM",{});var V=k(o);S=h(V,"LABEL",{for:!0,"data-svelte-h":!0}),te(S)!=="svelte-10ryt36"&&(S.textContent=U),T=B(V),D=h(V,"INPUT",{type:!0,name:!0,id:!0}),q=B(V),N=h(V,"BUTTON",{type:!0});var _e=k(N);J=A(_e,"Search"),_e.forEach(u),G=B(V),H=h(V,"BUTTON",{type:!0});var me=k(H);Y=A(me,"Reset"),me.forEach(u),V.forEach(u),pe.forEach(u),w=B(m),R=h(m,"SECTION",{});var ae=k(R);y=h(ae,"HGROUP",{});var oe=k(y);j=h(oe,"H2",{"data-svelte-h":!0}),te(j)!=="svelte-n49mf5"&&(j.textContent=le),Z=B(oe),I&&I.l(oe),oe.forEach(u),re=B(ae),x=h(ae,"OL",{});var ve=k(x);for(let fe=0;fe<C.length;fe+=1)C[fe].l(ve);ve.forEach(u),ae.forEach(u),ie=B(m),$=h(m,"SECTION",{});var ge=k($);M&&M.l(ge),ge.forEach(u),m.forEach(u),this.h()},h(){F(S,"for","keywords"),F(D,"type","text"),F(D,"name","keywords"),F(D,"id","keywords"),F(N,"type","submit"),N.value="Search",N.disabled=Q=!a[3],F(H,"type","reset"),H.value="Reset",H.disabled=L=!a[3]},m(i,m){K(i,e,m),t(e,l),t(l,s),t(s,n),t(s,p),t(l,b),t(l,g),t(g,r),t(e,f),t(e,c),t(c,o),t(o,S),t(o,T),t(o,D),be(D,a[3]),t(o,q),t(o,N),t(N,J),t(o,G),t(o,H),t(H,Y),t(e,w),t(e,R),t(R,y),t(y,j),t(y,Z),I&&I.m(y,null),t(R,re),t(R,x);for(let E=0;E<C.length;E+=1)C[E]&&C[E].m(x,null);t(e,ie),t(e,$),M&&M.m($,null),W=!0,ue||(de=[se(D,"input",a[10]),se(o,"submit",a[7]),se(o,"reset",a[6])],ue=!0)},p(i,[m]){if((!W||m&1)&&v!==(v=i[0].corpus.length.toLocaleString()+"")&&z(n,v),m&8&&D.value!==i[3]&&be(D,i[3]),(!W||m&8&&Q!==(Q=!i[3]))&&(N.disabled=Q),(!W||m&8&&L!==(L=!i[3]))&&(H.disabled=L),i[2]?I?I.p(i,m):(I=ke(i),I.c(),I.m(y,null)):I&&(I.d(1),I=null),m&32){X=Ee(i[5]);let E;for(E=0;E<X.length;E+=1){const ee=Ce(i,X,E);C[E]?(C[E].p(ee,m),ne(C[E],1)):(C[E]=Le(ee),C[E].c(),ne(C[E],1),C[E].m(x,null))}for(je(),E=X.length;E<C.length;E+=1)Se(E);Ae()}i[4]?M?M.p(i,m):(M=ye(i),M.c(),M.m($,null)):M&&(M.d(1),M=null)},i(i){if(!W){for(let m=0;m<X.length;m+=1)ne(C[m]);W=!0}},o(i){C=C.filter(Boolean);for(let m=0;m<C.length;m+=1)ce(C[m]);W=!1},d(i){i&&u(e),I&&I.d(),Re(C,i),M&&M.d(),ue=!1,we(de)}}}function Je(a,e,l){let s,v,n;De(a,qe,T=>l(12,n=T));let{data:p}=e,b=p.corpus,g=!1,_="",r=50,f=r;function c(){l(1,b=p.corpus),l(2,g=!1),l(3,_=""),l(9,r=50),f=r}function o(){if(l(2,g=!0),l(9,r=50),f=r,!_){l(1,b=p.corpus);return}l(1,b=p.corpus.filter(T=>!_||_.split(" ").map(D=>D.toLowerCase()).every(D=>T.metadata.keywords.some(q=>q.includes(D)))))}function S(){l(9,r=Math.min(b.length,r+f))}Ie(()=>{l(3,_=n.url.searchParams.get("keywords")||"")});function U(){_=this.value,l(3,_)}return a.$$set=T=>{"data"in T&&l(0,p=T.data)},a.$$.update=()=>{a.$$.dirty&514&&l(5,s=b.slice(0,r)),a.$$.dirty&514&&l(4,v=b.length>r)},[p,b,g,_,v,s,c,o,S,r,U]}class xe extends Ne{constructor(e){super(),Oe(this,e,Je,ze,Te,{data:0})}}export{xe as component};

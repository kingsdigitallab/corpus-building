import{s as Fe,r as Ge,c as Je,o as Ke,n as Qe,a as Ce}from"../chunks/scheduler.CouYSk3Y.js";import{S as Ve,i as We,e as p,l as M,s as Y,c as h,a as S,m as B,d as i,b as H,n as L,f as O,h as a,x as Ae,y as ce,o as P,t as oe,k as Ue,j as fe,q as Xe,r as Re,u as $e,g as _e,v as je,p as Pe,w as qe,z as Le}from"../chunks/index.CVOcbFcO.js";import{e as Me}from"../chunks/each.D6YF6ztN.js";import{g as Be}from"../chunks/entry.xHfoehGv.js";import{p as Ze}from"../chunks/stores.BiWyvgUQ.js";import{B as Ye}from"../chunks/BaseLink.90mGGzIy.js";import{i as Ne,d as xe}from"../chunks/config.Bl6GI46O.js";function we(n,e,t){const l=n.slice();return l[15]=e[t],l}function pe(n){const e=n.slice(),t=e[15].place;return e[18]=t,e}function Te(n){let e,t,l=n[2].split(" ").join(", ")+"",s;return{c(){e=M(`, matching
				`),t=p("em"),s=M(l)},l(o){e=B(o,`, matching
				`),t=h(o,"EM",{});var f=S(t);s=B(f,l),f.forEach(i)},m(o,f){O(o,e,f),O(o,t,f),a(t,s)},p(o,f){f&4&&l!==(l=o[2].split(" ").join(", ")+"")&&P(s,l)},d(o){o&&(i(e),i(t))}}}function ze(n){let e,t;return e=new Ye({props:{href:"inscription/"+n[15].file,$$slots:{default:[et]},$$scope:{ctx:n}}}),{c(){Re(e.$$.fragment)},l(l){$e(e.$$.fragment,l)},m(l,s){je(e,l,s),t=!0},p(l,s){const o={};s&64&&(o.href="inscription/"+l[15].file),s&524352&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){t||(oe(e.$$.fragment,l),t=!0)},o(l){fe(e.$$.fragment,l),t=!1},d(l){qe(e,l)}}}function et(n){let e,t,l;return{c(){e=p("img"),this.h()},l(s){e=h(s,"IMG",{src:!0,alt:!0,loading:!0}),this.h()},h(){Ce(e.src,t=Ne+n[15].file+"/"+n[15].facsimile.url+"/full/400,/0/default.jpg")||L(e,"src",t),L(e,"alt",l=n[15].facsimile.desc),L(e,"loading","lazy")},m(s,o){O(s,e,o)},p(s,o){o&64&&!Ce(e.src,t=Ne+s[15].file+"/"+s[15].facsimile.url+"/full/400,/0/default.jpg")&&L(e,"src",t),o&64&&l!==(l=s[15].facsimile.desc)&&L(e,"alt",l)},d(s){s&&i(e)}}}function tt(n){let e,t=n[15].title+"",l,s,o,f=n[15].file+"",d,r,u,z=n[15].status+"",g;return{c(){e=p("span"),l=M(t),s=Y(),o=p("small"),d=M(f),r=Y(),u=p("small"),g=M(z)},l(_){e=h(_,"SPAN",{});var v=S(e);l=B(v,t),v.forEach(i),s=H(_),o=h(_,"SMALL",{});var U=S(o);d=B(U,f),U.forEach(i),r=H(_),u=h(_,"SMALL",{});var y=S(u);g=B(y,z),y.forEach(i)},m(_,v){O(_,e,v),a(e,l),O(_,s,v),O(_,o,v),a(o,d),O(_,r,v),O(_,u,v),a(u,g)},p(_,v){v&64&&t!==(t=_[15].title+"")&&P(l,t),v&64&&f!==(f=_[15].file+"")&&P(d,f),v&64&&z!==(z=_[15].status+"")&&P(g,z)},d(_){_&&(i(e),i(s),i(o),i(r),i(u))}}}function Ie(n){let e,t,l,s=n[18].offset&&De(n);function o(r,u){return r[18].ref?st:lt}let f=o(n),d=f(n);return{c(){e=M(`,
							
							`),s&&s.c(),t=Y(),d.c(),l=Le()},l(r){e=B(r,`,
							
							`),s&&s.l(r),t=H(r),d.l(r),l=Le()},m(r,u){O(r,e,u),s&&s.m(r,u),O(r,t,u),d.m(r,u),O(r,l,u)},p(r,u){r[18].offset?s?s.p(r,u):(s=De(r),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),f===(f=o(r))&&d?d.p(r,u):(d.d(1),d=f(r),d&&(d.c(),d.m(l.parentNode,l)))},d(r){r&&(i(e),i(t),i(l)),s&&s.d(r),d.d(r)}}}function De(n){let e,t=n[18].offset+"",l;return{c(){e=p("em"),l=M(t)},l(s){e=h(s,"EM",{});var o=S(e);l=B(o,t),o.forEach(i)},m(s,o){O(s,e,o),a(e,l)},p(s,o){o&64&&t!==(t=s[18].offset+"")&&P(l,t)},d(s){s&&i(e)}}}function lt(n){let e=n[18]._+"",t;return{c(){t=M(e)},l(l){t=B(l,e)},m(l,s){O(l,t,s)},p(l,s){s&64&&e!==(e=l[18]._+"")&&P(t,e)},d(l){l&&i(t)}}}function st(n){let e,t=n[18]._+"",l,s;return{c(){e=p("a"),l=M(t),this.h()},l(o){e=h(o,"A",{href:!0});var f=S(e);l=B(f,t),f.forEach(i),this.h()},h(){L(e,"href",s=n[18].ref)},m(o,f){O(o,e,f),a(e,l)},p(o,f){f&64&&t!==(t=o[18]._+"")&&P(l,t),f&64&&s!==(s=o[18].ref)&&L(e,"href",s)},d(o){o&&i(e)}}}function ye(n){var ae,Z;let e,t,l,s,o,f,d=n[15].notBefore!=null?n[15].notBefore<0?`${Math.abs(n[15].notBefore)} BC`:`AD ${n[15].notBefore}`:"Unknown",r,u,z=n[15].notAfter!=null?n[15].notAfter<0?`${Math.abs(n[15].notAfter)} BC`:`AD ${n[15].notAfter}`:"Unknown",g,_,v,U,y="Settlement",J,F=(n[15].settlement||"N/A")+"",I,w,C="Repository",K,Q=(((ae=n[15].repository)==null?void 0:ae._)||"N/A")+"",ee,V,le="Language",W,X=(((Z=n[15].textLang)==null?void 0:Z._)||"N/A")+"",se,te,j,A=n[15].facsimile&&ze(n);s=new Ye({props:{href:"inscription/"+n[15].file,$$slots:{default:[tt]},$$scope:{ctx:n}}});let T=n[15].place&&Ie(pe(n));return{c(){e=p("li"),A&&A.c(),t=Y(),l=p("p"),Re(s.$$.fragment),o=Y(),f=p("p"),r=M(d),u=M(" – "),g=M(z),T&&T.c(),_=Y(),v=p("dl"),U=p("dt"),U.textContent=y,J=p("dd"),I=M(F),w=p("dt"),w.textContent=C,K=p("dd"),ee=M(Q),V=p("dt"),V.textContent=le,W=p("dd"),se=M(X),te=Y(),this.h()},l(m){e=h(m,"LI",{});var b=S(e);A&&A.l(b),t=H(b),l=h(b,"P",{class:!0});var R=S(l);$e(s.$$.fragment,R),R.forEach(i),o=H(b),f=h(b,"P",{});var G=S(f);r=B(G,d),u=B(G," – "),g=B(G,z),T&&T.l(G),G.forEach(i),_=H(b),v=h(b,"DL",{});var q=S(v);U=h(q,"DT",{class:!0,"data-svelte-h":!0}),_e(U)!=="svelte-upur71"&&(U.textContent=y),J=h(q,"DD",{});var D=S(J);I=B(D,F),D.forEach(i),w=h(q,"DT",{class:!0,"data-svelte-h":!0}),_e(w)!=="svelte-1uef0e6"&&(w.textContent=C),K=h(q,"DD",{});var x=S(K);ee=B(x,Q),x.forEach(i),V=h(q,"DT",{class:!0,"data-svelte-h":!0}),_e(V)!=="svelte-1aab11o"&&(V.textContent=le),W=h(q,"DD",{});var E=S(W);se=B(E,X),E.forEach(i),q.forEach(i),te=H(b),b.forEach(i),this.h()},h(){L(l,"class","title svelte-1fu2z0"),L(U,"class","svelte-1fu2z0"),L(w,"class","svelte-1fu2z0"),L(V,"class","svelte-1fu2z0")},m(m,b){O(m,e,b),A&&A.m(e,null),a(e,t),a(e,l),je(s,l,null),a(e,o),a(e,f),a(f,r),a(f,u),a(f,g),T&&T.m(f,null),a(e,_),a(e,v),a(v,U),a(v,J),a(J,I),a(v,w),a(v,K),a(K,ee),a(v,V),a(v,W),a(W,se),a(e,te),j=!0},p(m,b){var G,q;m[15].facsimile?A?(A.p(m,b),b&64&&oe(A,1)):(A=ze(m),A.c(),oe(A,1),A.m(e,t)):A&&(Pe(),fe(A,1,1,()=>{A=null}),Ue());const R={};b&64&&(R.href="inscription/"+m[15].file),b&524352&&(R.$$scope={dirty:b,ctx:m}),s.$set(R),(!j||b&64)&&d!==(d=m[15].notBefore!=null?m[15].notBefore<0?`${Math.abs(m[15].notBefore)} BC`:`AD ${m[15].notBefore}`:"Unknown")&&P(r,d),(!j||b&64)&&z!==(z=m[15].notAfter!=null?m[15].notAfter<0?`${Math.abs(m[15].notAfter)} BC`:`AD ${m[15].notAfter}`:"Unknown")&&P(g,z),m[15].place?T?T.p(pe(m),b):(T=Ie(pe(m)),T.c(),T.m(f,null)):T&&(T.d(1),T=null),(!j||b&64)&&F!==(F=(m[15].settlement||"N/A")+"")&&P(I,F),(!j||b&64)&&Q!==(Q=(((G=m[15].repository)==null?void 0:G._)||"N/A")+"")&&P(ee,Q),(!j||b&64)&&X!==(X=(((q=m[15].textLang)==null?void 0:q._)||"N/A")+"")&&P(se,X)},i(m){j||(oe(A),oe(s.$$.fragment,m),j=!0)},o(m){fe(A),fe(s.$$.fragment,m),j=!1},d(m){m&&i(e),A&&A.d(),qe(s),T&&T.d()}}}function Oe(n){let e,t="Load More Inscriptions",l,s;return{c(){e=p("button"),e.textContent=t},l(o){e=h(o,"BUTTON",{"data-svelte-h":!0}),_e(e)!=="svelte-1j8c85t"&&(e.textContent=t)},m(o,f){O(o,e,f),l||(s=ce(e,"click",n[9]),l=!0)},p:Qe,d(o){o&&i(e),l=!1,s()}}}function nt(n){let e,t,l,s=xe+"",o,f,d,r,u,z,g,_,v,U,y,J,F,I,w,C,K,Q=n[0].length.toLocaleString()+"",ee,V,le,W=n[4].toLocaleString()+"",X,se,te,j=n[3].toLocaleString()+"",A,T,ae,Z,m,b,R,G,q,D=n[2]&&n[1]&&Te(n),x=Me(n[6]),E=[];for(let c=0;c<x.length;c+=1)E[c]=ye(we(n,x,c));const He=c=>fe(E[c],1,1,()=>{E[c]=null});let $=n[5]&&Oe(n);return{c(){e=p("article"),t=p("section"),l=p("h1"),o=M(s),f=Y(),d=p("section"),r=p("form"),u=p("input"),z=Y(),g=p("button"),_=M("Search"),U=Y(),y=p("button"),J=M("Reset"),I=Y(),w=p("section"),C=p("h2"),K=p("em"),ee=M(Q),V=M(` Inscriptions over
			`),le=p("em"),X=M(W),se=M(`
			years across
			`),te=p("em"),A=M(j),T=M(`
			locations`),D&&D.c(),ae=Y(),Z=p("ol");for(let c=0;c<E.length;c+=1)E[c].c();m=Y(),b=p("section"),$&&$.c(),this.h()},l(c){e=h(c,"ARTICLE",{});var k=S(e);t=h(k,"SECTION",{class:!0});var N=S(t);l=h(N,"H1",{class:!0});var ie=S(l);o=B(ie,s),ie.forEach(i),N.forEach(i),f=H(k),d=h(k,"SECTION",{class:!0});var he=S(d);r=h(he,"FORM",{class:!0});var re=S(r);u=h(re,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),z=H(re),g=h(re,"BUTTON",{type:!0});var de=S(g);_=B(de,"Search"),de.forEach(i),U=H(re),y=h(re,"BUTTON",{type:!0});var ve=S(y);J=B(ve,"Reset"),ve.forEach(i),re.forEach(i),he.forEach(i),I=H(k),w=h(k,"SECTION",{class:!0});var ue=S(w);C=h(ue,"H2",{class:!0});var ne=S(C);K=h(ne,"EM",{});var be=S(K);ee=B(be,Q),be.forEach(i),V=B(ne,` Inscriptions over
			`),le=h(ne,"EM",{});var ge=S(le);X=B(ge,W),ge.forEach(i),se=B(ne,`
			years across
			`),te=h(ne,"EM",{});var ke=S(te);A=B(ke,j),ke.forEach(i),T=B(ne,`
			locations`),D&&D.l(ne),ne.forEach(i),ae=H(ue),Z=h(ue,"OL",{class:!0});var Ee=S(Z);for(let me=0;me<E.length;me+=1)E[me].l(Ee);Ee.forEach(i),ue.forEach(i),m=H(k),b=h(k,"SECTION",{class:!0});var Se=S(b);$&&$.l(Se),Se.forEach(i),k.forEach(i),this.h()},h(){L(l,"class","svelte-1fu2z0"),L(t,"class","hero svelte-1fu2z0"),L(u,"type","text"),L(u,"name","keywords"),L(u,"id","keywords"),L(u,"placeholder","Search inscriptions metadata"),L(g,"type","submit"),g.value="Search",g.disabled=v=!n[2],L(y,"type","reset"),y.value="Reset",y.disabled=F=!n[2],L(r,"class","svelte-1fu2z0"),L(d,"class","svelte-1fu2z0"),L(C,"class","svelte-1fu2z0"),L(Z,"class","svelte-1fu2z0"),L(w,"class","inscriptions svelte-1fu2z0"),L(b,"class","svelte-1fu2z0")},m(c,k){O(c,e,k),a(e,t),a(t,l),a(l,o),a(e,f),a(e,d),a(d,r),a(r,u),Ae(u,n[2]),a(r,z),a(r,g),a(g,_),a(r,U),a(r,y),a(y,J),a(e,I),a(e,w),a(w,C),a(C,K),a(K,ee),a(C,V),a(C,le),a(le,X),a(C,se),a(C,te),a(te,A),a(C,T),D&&D.m(C,null),a(w,ae),a(w,Z);for(let N=0;N<E.length;N+=1)E[N]&&E[N].m(Z,null);a(e,m),a(e,b),$&&$.m(b,null),R=!0,G||(q=[ce(u,"input",n[12]),ce(r,"submit",n[8]),ce(r,"reset",n[7])],G=!0)},p(c,[k]){if(k&4&&u.value!==c[2]&&Ae(u,c[2]),(!R||k&4&&v!==(v=!c[2]))&&(g.disabled=v),(!R||k&4&&F!==(F=!c[2]))&&(y.disabled=F),(!R||k&1)&&Q!==(Q=c[0].length.toLocaleString()+"")&&P(ee,Q),(!R||k&16)&&W!==(W=c[4].toLocaleString()+"")&&P(X,W),(!R||k&8)&&j!==(j=c[3].toLocaleString()+"")&&P(A,j),c[2]&&c[1]?D?D.p(c,k):(D=Te(c),D.c(),D.m(C,null)):D&&(D.d(1),D=null),k&64){x=Me(c[6]);let N;for(N=0;N<x.length;N+=1){const ie=we(c,x,N);E[N]?(E[N].p(ie,k),oe(E[N],1)):(E[N]=ye(ie),E[N].c(),oe(E[N],1),E[N].m(Z,null))}for(Pe(),N=x.length;N<E.length;N+=1)He(N);Ue()}c[5]?$?$.p(c,k):($=Oe(c),$.c(),$.m(b,null)):$&&($.d(1),$=null)},i(c){if(!R){for(let k=0;k<x.length;k+=1)oe(E[k]);R=!0}},o(c){E=E.filter(Boolean);for(let k=0;k<E.length;k+=1)fe(E[k]);R=!1},d(c){c&&i(e),D&&D.d(),Xe(E,c),$&&$.d(),G=!1,Ge(q)}}}function ot(n,e,t){let l,s,o,f,d;Je(n,Ze,I=>t(14,d=I));let{data:r}=e,u=r.corpus,z=!1,g="",_=50,v=_;function U(){t(0,u=r.corpus),t(1,z=!1),t(2,g=""),Be(`?keywords=${encodeURIComponent(g)}`,{replaceState:!0}),t(11,_=50),v=_}function y(){if(Be(`?keywords=${encodeURIComponent(g)}`,{replaceState:!0}),t(1,z=!0),t(11,_=50),v=_,!g){t(0,u=r.corpus);return}t(0,u=r.corpus.filter(I=>g.split(" ").map(w=>w.toLowerCase()).every(w=>I.keywords.some(C=>C.includes(w)))))}function J(){t(11,_=Math.min(u.length,_+v))}Ke(()=>{t(2,g=d.url.searchParams.get("keywords")||""),g&&y()});function F(){g=this.value,t(2,g)}return n.$$set=I=>{"data"in I&&t(10,r=I.data)},n.$$.update=()=>{n.$$.dirty&2049&&t(6,l=u.slice(0,_)),n.$$.dirty&2049&&t(5,s=u.length>_),n.$$.dirty&1&&t(4,o=(()=>{const I=Math.min(...u.filter(C=>C.notBefore).map(C=>C.notBefore));return Math.max(...u.filter(C=>C.notAfter).map(C=>C.notAfter))-I})()),n.$$.dirty&1&&t(3,f=new Set(u.map(I=>I.placeName)).size)},[u,z,g,f,o,s,l,U,y,J,r,_,F]}class mt extends Ve{constructor(e){super(),We(this,e,ot,nt,Fe,{data:10})}}export{mt as component};

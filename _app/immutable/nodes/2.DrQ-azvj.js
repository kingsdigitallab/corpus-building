import{B as Lr,s as ft,e as ne,a as z,t as J,c as Ee,z as Le,d as Ie,b as re,C as ts,y as Ze}from"../chunks/disclose-version.yxoevJ6J.js";import{i as Xe}from"../chunks/legacy.C6KA_5n4.js";import{aY as rs,a9 as Qn,k as eo,aG as ns,U as Qr,a8 as _t,aS as to,aR as ro,p as we,aT as ae,aU as Qe,f as K,e as R,r as C,t as X,d as xe,C as je,v as Y,g as h,aV as he,aZ as os,s as W,D as ge,G as ss,n as Ne,K as Me,u as jr,a_ as is,aW as as}from"../chunks/utils.dzgPpf3o.js";import{i as cs,a as ls,s as Lt,b as us}from"../chunks/config.DdhQxDnJ.js";import{c as no,l as de,p as te,i as ie,b as et,s as tt,a as ue}from"../chunks/props.BxeGn5nG.js";import{I as rt,t as $t,s as ds,k as fs,f as Ft}from"../chunks/index.Bf51fQIy.js";import{c as Oe}from"../chunks/legacy-client.BL3R9HJC.js";import{a as pe,c as nt,b as ot,h as hs,e as Be,i as Ke,s as Ue,r as mt}from"../chunks/attributes.DJj9jQYP.js";import{w as lt,n as gs,o as oo,m as vt,c as so,b as Xt,d as it,i as Ye,k as _e,f as en,g as ir,h as ar,j as ps,l as Wt,p as cr,q as tn,B as ms,s as vs,a as st}from"../chunks/button.Ch5gZgI2.js";import{I as io,m as ys,t as Bt,g as bs,c as Ut}from"../chunks/maplibre-gl.BTuv7Yai.js";import{a as ao,c as _s,o as co}from"../chunks/index-client.DkxbLtkQ.js";import{d as Et,w as ut,a as lr}from"../chunks/paths.vUf_rhk1.js";import{g as ws}from"../chunks/entry.CZBTfe2p.js";import{p as xs}from"../chunks/stores.B0BTa2li.js";function Zt(e,t,r=t){var o=rs();Lr(e,"input",()=>{var n=on(e)?sn(e.value):e.value;r(n),o&&n!==(n=t())&&(e.value=n??"")}),Qn(()=>{var n=t();if(eo&&e.defaultValue!==e.value){r(e.value);return}on(e)&&n===sn(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}const ur=new Set;function rn(e,t,r,o,n=o){var s=r.getAttribute("type")==="checkbox",i=e;let c=!1;if(t!==null)for(var d of t)i=i[d]??(i[d]=[]);i.push(r),Lr(r,"change",()=>{var u=r.__value;s&&(u=nn(i,u,r.checked)),n(u)},()=>n(s?[]:null)),Qn(()=>{var u=o();if(eo&&r.defaultChecked!==r.checked){c=!0;return}s?(u=u||[],r.checked=u.includes(r.__value)):r.checked=no(r.__value,u)}),ns(()=>{var u=i.indexOf(r);u!==-1&&i.splice(u,1)}),ur.has(i)||(ur.add(i),Qr(()=>{i.sort((u,p)=>u.compareDocumentPosition(p)===4?-1:1),ur.delete(i)})),Qr(()=>{if(c){var u;if(s)u=nn(i,u,r.checked);else{var p=i.find(w=>w.checked);u=p==null?void 0:p.__value}n(u)}})}function nn(e,t,r){for(var o=new Set,n=0;n<e.length;n+=1)e[n].checked&&o.add(e[n].__value);return r||o.delete(t),Array.from(o)}function on(e){var t=e.type;return t==="number"||t==="range"}function sn(e){return e===""?null:+e}function lo(e,t,r){if(e.multiple)return $s(e,t);for(var o of e.options){var n=jt(o);if(no(n,t)){o.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function Ss(e,t){_t(()=>{var r=new MutationObserver(()=>{var o=e.__value;lo(e,o)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function ks(e,t,r=t){var o=!0;Lr(e,"change",()=>{var n;if(e.multiple)n=[].map.call(e.querySelectorAll(":checked"),jt);else{var s=e.querySelector(":checked");n=s&&jt(s)}r(n)}),_t(()=>{var n=t();if(lo(e,n,o),o&&n===void 0){var s=e.querySelector(":checked");s!==null&&(n=jt(s),r(n))}e.__value=n,o=!1}),Ss(e)}function $s(e,t){for(var r of e.options)r.selected=~t.indexOf(jt(r))}function jt(e){return"__value"in e?e.__value:e.value}const js=e=>{try{ao(e)}catch{return e}},uo=(e,t)=>{const r=lt(e),o=(s,i)=>{r.update(c=>{const d=s(c);let u=d;return t&&(u=t({curr:c,next:d})),i==null||i(u),u})};return{...r,update:o,set:s=>{o(()=>s)}}};let Os="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Ps=(e=21)=>{let t="",r=e;for(;r--;)t+=Os[Math.random()*64|0];return t};function As(){return Ps(10)}function zs(e){return e.reduce((t,r)=>(t[r]=As(),t),{})}function an(e,t){let r;const o=Et(e,s=>{r==null||r(),r=t(s)}).subscribe(gs),n=()=>{o(),r==null||r()};return js(n),n}function fo(e){const t={};return Object.keys(e).forEach(r=>{const o=r,n=e[o];t[o]=lt(ut(n))}),t}function dr(e,t,r,o){const n=(e-(isNaN(t)?0:t))%o;let s=Math.abs(n)*2>=o?e+Math.sign(n)*(o-Math.abs(n)):e-n;isNaN(t)?!isNaN(r)&&s>r&&(s=Math.floor(r/o)*o):s<t?s=t:!isNaN(r)&&s>r&&(s=t+Math.floor((r-t)/o)*o);const i=o.toString(),c=i.indexOf("."),d=c>=0?i.length-c:0;if(d>0){const u=Math.pow(10,d);s=Math.round(s*u)/u}return s}function Es({page:e=1,totalPages:t,siblingCount:r=1}){const o=[],n=new Set([1,t]),s=3+r,i=t-2-r;if(s>i)for(let p=2;p<=t-1;p++)n.add(p);else if(e<s)for(let p=2;p<=Math.min(s,t);p++)n.add(p);else if(e>i)for(let p=t-1;p>=Math.max(i,2);p--)n.add(p);else for(let p=Math.max(e-r,2);p<=Math.min(e+r,t);p++)n.add(p);const c=p=>{o.push({type:"page",value:p,key:`page-${p}`})},d=()=>{o.push({type:"ellipsis",key:`ellipsis-${o.length}`})};let u=0;for(const p of Array.from(n).sort((w,y)=>w-y))p-u>1&&d(),c(p),u=p;return o}const Ts={perPage:1,siblingCount:1,defaultPage:1},{name:Dt,selector:fr}=so("pagination");function Cs(e){const t={...Ts,...e},r=t.page??ut(t.defaultPage),o=uo(r,t==null?void 0:t.onPageChange),n=fo(oo(t,"page","onPageChange","defaultPage")),{perPage:s,siblingCount:i,count:c}=n,d=lt.derived([c,s],([f,$])=>Math.ceil(f/$)),u=Et([o,s,c],([f,$,T])=>{const j=(f-1)*$,E=Math.min(j+$,T);return{start:j,end:E}}),p=vt(Dt(),{returned:()=>({"data-scope":"pagination"})}),w=Et([o,d,i],([f,$,T])=>Es({page:f,totalPages:$,siblingCount:T})),y=f=>{const $=f.target;if(!Ye($))return;const T=$.closest('[data-scope="pagination"]');if(!Ye(T))return;const j=Array.from(T.querySelectorAll(fr("page"))).filter(_=>Ye(_)),E=T.querySelector(fr("prev")),P=T.querySelector(fr("next"));Ye(E)&&j.unshift(E),Ye(P)&&j.push(P);const k=j.indexOf($);f.key===_e.ARROW_LEFT&&k!==0?(f.preventDefault(),j[k-1].focus()):f.key===_e.ARROW_RIGHT&&k!==j.length-1?(f.preventDefault(),j[k+1].focus()):f.key===_e.HOME?(f.preventDefault(),j[0].focus()):f.key===_e.END&&(f.preventDefault(),j[j.length-1].focus())},x=vt(Dt("page"),{stores:o,returned:f=>$=>({"aria-label":`Page ${$.value}`,"data-value":$.value,"data-selected":$.value===f?"":void 0}),action:f=>({destroy:Xt(it(f,"click",()=>{const T=f.dataset.value;!T||Number.isNaN(+T)||o.set(Number(T))}),it(f,"keydown",y))})}),g=vt(Dt("prev"),{stores:o,returned:f=>({"aria-label":"Previous",disabled:f<=1}),action:f=>({destroy:Xt(it(f,"click",()=>{o.update(T=>Math.max(T-1,1))}),it(f,"keydown",y))})}),m=vt(Dt("next"),{stores:[o,d],returned:([f,$])=>({"aria-label":"Next",disabled:f>=$}),action:f=>({destroy:Xt(it(f,"click",()=>{const T=d.get();o.update(j=>Math.min(j+1,T))}),it(f,"keydown",y))})});return{elements:{root:p,pageTrigger:x,prevButton:g,nextButton:m},states:{range:lr(u),page:o,pages:lr(w),totalPages:lr(d)},options:n}}const Ns={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:qt}=so("slider"),Rs=e=>{const t={...Ns,...e},r=fo(oo(t,"value","onValueChange","defaultValue")),{min:o,max:n,step:s,orientation:i,dir:c,disabled:d}=r,u=t.value??ut(t.defaultValue),p=uo(u,t==null?void 0:t.onValueChange),w=lt(ut(!1)),y=lt(ut(0)),x=lt(ut(null)),g=zs(["root"]),m=(_,N)=>{p.update(M=>{if(!M)return[_];if(M[N]===_)return M;const I=[...M],B=I[N]>_?-1:1;function F(){I[N]=I[N+B],I[N+B]=_;const v=f();v&&(v[N+B].focus(),x.set({thumb:v[N+B],index:N+B}))}if(B===-1&&_<I[N-1])return F(),I;if(B===1&&_>I[N+1])return F(),I;const D=o.get(),q=n.get(),U=s.get();return I[N]=dr(_,D,q,U),I})},f=()=>{const _=cr(g.root);return _?Array.from(_.querySelectorAll('[data-melt-part="thumb"]')).filter(N=>Ye(N)):null},$=Et([o,n],([_,N])=>M=>(M-_)/(N-_)*100),T=lt.derived([i,c],([_,N])=>_==="horizontal"?N==="rtl"?"rl":"lr":N==="rtl"?"tb":"bt"),j=vt(qt(),{stores:[d,i,c],returned:([_,N,M])=>({dir:M,disabled:ir(_),"data-disabled":ir(_),"data-orientation":N,style:_?void 0:`touch-action: ${N==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":g.root})}),E=vt(qt("range"),{stores:[p,T,$],returned:([_,N,M])=>{const I=_.length>1?M(Math.min(..._)??0):0,B=100-M(Math.max(..._)??0),F={position:"absolute"};switch(N){case"lr":{F.left=`${I}%`,F.right=`${B}%`;break}case"rl":{F.right=`${I}%`,F.left=`${B}%`;break}case"bt":{F.bottom=`${I}%`,F.top=`${B}%`;break}case"tb":{F.top=`${I}%`,F.bottom=`${B}%`;break}}return{style:ar(F)}}}),P=en(qt("thumb"),{stores:[p,$,o,n,d,i,T],returned:([_,N,M,I,B,F,D])=>Array.from({length:_.length||1},(U,v)=>{y.get()<_.length&&y.update(O=>O+1);const l=_[v],b=`${N(l)}%`,S={position:"absolute"};switch(D){case"lr":{S.left=b,S.translate="-50% 0";break}case"rl":{S.right=b,S.translate="50% 0";break}case"bt":{S.bottom=b,S.translate="0 50%";break}case"tb":{S.top=b,S.translate="0 -50%";break}}return{role:"slider","aria-valuemin":M,"aria-valuemax":I,"aria-valuenow":l,"aria-disabled":ir(B),"aria-orientation":F,"data-melt-part":"thumb","data-value":l,style:ar(S),tabindex:B?-1:0}}),action:_=>({destroy:it(_,"keydown",M=>{if(d.get())return;const I=M.currentTarget;if(!Ye(I))return;const B=f();if(!(B!=null&&B.length))return;const F=B.indexOf(I);if(y.set(F),![_e.ARROW_LEFT,_e.ARROW_RIGHT,_e.ARROW_UP,_e.ARROW_DOWN,_e.HOME,_e.END].includes(M.key))return;M.preventDefault();const D=o.get(),q=n.get(),U=s.get(),v=p.get(),a=i.get(),l=T.get(),b=v[F];switch(M.key){case _e.HOME:{m(D,F);break}case _e.END:{m(q,F);break}case _e.ARROW_LEFT:{if(a!=="horizontal")break;M.metaKey?m(l==="rl"?q:D,F):l==="rl"&&b<q?m(b+U,F):l==="lr"&&b>D&&m(b-U,F);break}case _e.ARROW_RIGHT:{if(a!=="horizontal")break;M.metaKey?m(l==="rl"?D:q,F):l==="rl"&&b>D?m(b-U,F):l==="lr"&&b<q&&m(b+U,F);break}case _e.ARROW_UP:{M.metaKey?m(l==="tb"?D:q,F):l==="tb"&&b>D?m(b-U,F):l!=="tb"&&b<q&&m(b+U,F);break}case _e.ARROW_DOWN:{M.metaKey?m(l==="tb"?q:D,F):l==="tb"&&b<q?m(b+U,F):l!=="tb"&&b>D&&m(b-U,F);break}}})})}),k=en(qt("tick"),{stores:[p,o,n,s,T],returned:([_,N,M,I,B])=>{const F=M-N;let D=Math.ceil(F/I);return F%I==0&&D++,Array.from({length:D},(q,U)=>{const v=`${U*(I/(M-N))*100}%`,a=U===0,l=U===D-1,b=a?0:l?-100:-50,S={position:"absolute"};switch(B){case"lr":{S.left=v,S.translate=`${b}% 0`;break}case"rl":{S.right=v,S.translate=`${-b}% 0`;break}case"bt":{S.bottom=v,S.translate=`0 ${-b}%`;break}case"tb":{S.top=v,S.translate=`0 ${b}%`;break}}const O=N+U*I;return{"data-bounded":(_.length===1?O<=_[0]:_[0]<=O&&O<=_[_.length-1])?!0:void 0,"data-value":O,style:ar(S)}})}});return an([j,o,n,d,i,T,s],([_,N,M,I,B,F,D])=>{if(!ps||I)return;const q=(S,O,A,V)=>{const H=(S-A)/(V-A)*(M-N)+N;if(H<N)m(N,O);else if(H>M)m(M,O);else{const ee=D,le=N,me=Math.floor((H-le)/ee),fe=le+me*ee+ee/2,Se=le+(me+1)*ee+ee/2,ke=H>=fe&&H<Se?(me+1)*ee+le:me*ee+le;ke<=M&&m(ke,O)}},U=S=>{const O=f();if(!O)return;O.forEach(H=>H.blur());const A=O.map(H=>{if(B==="horizontal"){const{left:ee,right:le}=H.getBoundingClientRect();return Math.abs(S.clientX-(ee+le)/2)}else{const{top:ee,bottom:le}=H.getBoundingClientRect();return Math.abs(S.clientY-(ee+le)/2)}}),V=O[A.indexOf(Math.min(...A))],oe=O.indexOf(V);return{thumb:V,index:oe}},v=S=>{if(!w.get())return;S.preventDefault(),S.stopPropagation();const O=cr(_["data-melt-id"]),A=x.get();if(!O||!A)return;A.thumb.focus();const{left:V,right:oe,top:H,bottom:ee}=O.getBoundingClientRect();switch(F){case"lr":{q(S.clientX,A.index,V,oe);break}case"rl":{q(S.clientX,A.index,oe,V);break}case"bt":{q(S.clientY,A.index,ee,H);break}case"tb":{q(S.clientY,A.index,H,ee);break}}},a=S=>{if(S.button!==0)return;const O=cr(_["data-melt-id"]),A=U(S);if(!A||!O)return;const V=S.target;!Ye(V)||!O.contains(V)||(S.preventDefault(),x.set(A),A.thumb.focus(),w.set(!0),v(S))},l=()=>{w.set(!1)},b=Xt(Wt(document,"pointerdown",a),Wt(document,"pointerup",l),Wt(document,"pointerleave",l),Wt(document,"pointermove",v));return()=>{b()}}),an([s,o,n,p],function([N,M,I,B]){const F=q=>dr(q,M,I,N)===q,D=q=>dr(q,M,I,N);B.some(q=>!F(q))&&p.update(q=>q.map(D))}),{elements:{root:j,thumbs:P,range:E,ticks:k},states:{value:p},options:r}};function ho(e,t){const r={};return t.forEach(o=>{r[o]={[`data-${e}-${o}`]:""}}),o=>r[o]}function Qt(){const e=_s();return t=>{const{originalEvent:r}=t.detail,{cancelable:o}=t,n=r.type;e(n,{originalEvent:r,currentTarget:r.currentTarget},{cancelable:o})||t.preventDefault()}}function go(e){const t={};for(const r in e){const o=e[r];o!==void 0&&(t[r]=o)}return t}function po(e){return function(t,r){if(r===void 0)return;const o=e[t];o&&o.set(r)}}function mo(){return{NAME:"pagination",PARTS:["root","prev-button","next-button","page"]}}function Ms(e){const{NAME:t,PARTS:r}=mo(),o=ho(t,r),n={...Cs(go(e)),getAttrs:o};return to(t,n),{...n,updateOption:po(n.options)}}function Fr(){const{NAME:e}=mo();return ro(e)}var Is=J("<div><!></div>");function Ls(e,t){const r=de(t,["children","$$slots","$$events","$$legacy"]),o=de(r,["count","page","onPageChange","perPage","siblingCount","asChild","el"]);we(t,!1);const n=ft(),s=()=>Ee(f,"$root",n),i=()=>Ee($,"$pages",n),c=()=>Ee(T,"$range",n),d=he();let u=te(t,"count",8),p=te(t,"page",28,()=>{}),w=te(t,"onPageChange",24,()=>{}),y=te(t,"perPage",24,()=>{}),x=te(t,"siblingCount",24,()=>{}),g=te(t,"asChild",8,!1),m=te(t,"el",28,()=>{});const{elements:{root:f},states:{pages:$,range:T,page:j},getAttrs:E,updateOption:P}=Ms({count:u(),perPage:y(),siblingCount:x(),defaultPage:p(),onPageChange:({next:M})=>{var I;return p()!==M&&(p(M),(I=w())==null||I(M)),M}}),k=E("root");ae(()=>je(p()),()=>{p()!==void 0&&j.set(p())}),ae(()=>s(),()=>{Y(d,s())}),ae(()=>h(d),()=>{Object.assign(h(d),k)}),ae(()=>je(u()),()=>{P("count",u())}),ae(()=>je(y()),()=>{P("perPage",y())}),ae(()=>je(x()),()=>{P("siblingCount",x())}),Qe(),Xe();var _=ne(),N=K(_);ie(N,g,M=>{var I=ne(),B=K(I);pe(B,t,"default",{get builder(){return h(d)},get pages(){return i()},get range(){return c()}},null),z(M,I)},M=>{var I=Is();let B;var F=R(I);pe(F,t,"default",{get builder(){return h(d)},get pages(){return i()},get range(){return c()}},null),C(I),et(I,D=>m(D),()=>m()),nt(I,D=>h(d).action(D)),X(()=>B=ot(I,B,{...h(d),...o})),z(M,I)}),z(e,_),xe()}var Fs=J("<button><!></button>");function Ws(e,t){const r=de(t,["children","$$slots","$$events","$$legacy"]),o=de(r,["asChild","el"]);we(t,!1);const n=ft(),s=()=>Ee(u,"$prevButton",n),i=he();let c=te(t,"asChild",24,()=>{}),d=te(t,"el",28,()=>{});const{elements:{prevButton:u},getAttrs:p}=Fr(),w=p("prev-button"),y=Qt();ae(()=>s(),()=>{Y(i,s())}),ae(()=>h(i),()=>{Object.assign(h(i),w)}),Qe(),Xe();var x=ne(),g=K(x);ie(g,c,m=>{var f=ne(),$=K(f);pe($,t,"default",{get builder(){return h(i)}},null),z(m,f)},m=>{var f=Fs();let $;var T=R(f);pe(T,t,"default",{get builder(){return h(i)}},null),C(f),et(f,j=>d(j),()=>d()),nt(f,j=>h(i).action(j)),_t(()=>Le("m-click",f,y)),X(()=>$=ot(f,$,{...h(i),type:"button",...o})),z(m,f)}),z(e,x),xe()}var Bs=J("<button><!></button>");function Us(e,t){const r=de(t,["children","$$slots","$$events","$$legacy"]),o=de(r,["asChild","el"]);we(t,!1);const n=ft(),s=()=>Ee(u,"$nextButton",n),i=he();let c=te(t,"asChild",24,()=>{}),d=te(t,"el",28,()=>{});const{elements:{nextButton:u},getAttrs:p}=Fr(),w=p("next-button"),y=Qt();ae(()=>s(),()=>{Y(i,s())}),ae(()=>h(i),()=>{Object.assign(h(i),w)}),Qe(),Xe();var x=ne(),g=K(x);ie(g,c,m=>{var f=ne(),$=K(f);pe($,t,"default",{get builder(){return h(i)}},null),z(m,f)},m=>{var f=Bs();let $;var T=R(f);pe(T,t,"default",{get builder(){return h(i)}},null),C(f),et(f,j=>d(j),()=>d()),nt(f,j=>h(i).action(j)),_t(()=>Le("m-click",f,y)),X(()=>$=ot(f,$,{...h(i),type:"button",...o})),z(m,f)}),z(e,x),xe()}var Ds=J("<button><!></button>");function qs(e,t){const r=de(t,["children","$$slots","$$events","$$legacy"]),o=de(r,["asChild","page","el"]);we(t,!1);const n=ft(),s=()=>Ee(p,"$pageTrigger",n),i=he();let c=te(t,"asChild",24,()=>{}),d=te(t,"page",8),u=te(t,"el",28,()=>{});const{elements:{pageTrigger:p},getAttrs:w}=Fr(),y=w("page"),x=Qt();ae(()=>(s(),je(d())),()=>{Y(i,s()(d()))}),ae(()=>h(i),()=>{Object.assign(h(i),y)}),Qe(),Xe();var g=ne(),m=K(g);ie(m,c,f=>{var $=ne(),T=K($);pe(T,t,"default",{get builder(){return h(i)}},null),z(f,$)},f=>{var $=Ds();let T;var j=R($);pe(j,t,"default",{get builder(){return h(i)}},E=>{var P=Ie();X(()=>re(P,d().value)),z(E,P)}),C($),et($,E=>u(E),()=>u()),nt($,E=>h(i).action(E)),_t(()=>Le("m-click",$,x)),X(()=>T=ot($,T,{type:"button",...h(i),...o})),z(f,$)}),z(e,g),xe()}function vo(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function Vs(e){const{NAME:t,PARTS:r}=vo(),o=ho(t,r),n={...Rs(go(e)),getAttrs:o};return to(t,n),{...n,updateOption:po(n.options)}}function yo(){const{NAME:e}=vo();return ro(e)}var Hs=J("<span><!></span>");function Js(e,t){const r=de(t,["children","$$slots","$$events","$$legacy"]),o=de(r,["disabled","min","max","step","orientation","dir","value","onValueChange","asChild","el"]);we(t,!1);const n=ft(),s=()=>Ee(j,"$root",n),i=()=>Ee(E,"$ticks",n),c=()=>Ee(P,"$thumbs",n),d=he();let u=te(t,"disabled",24,()=>{}),p=te(t,"min",24,()=>{}),w=te(t,"max",24,()=>{}),y=te(t,"step",24,()=>{}),x=te(t,"orientation",24,()=>{}),g=te(t,"dir",24,()=>{}),m=te(t,"value",28,()=>{}),f=te(t,"onValueChange",24,()=>{}),$=te(t,"asChild",8,!1),T=te(t,"el",28,()=>{});const{elements:{root:j,ticks:E,thumbs:P},states:{value:k},updateOption:_,getAttrs:N}=Vs({disabled:u(),dir:g(),min:p(),max:w(),step:y(),orientation:x(),defaultValue:m(),onValueChange:({next:F})=>{var D;return m()!==F&&((D=f())==null||D(F),m(F)),F}}),M=N("root");ae(()=>je(m()),()=>{m()!==void 0&&k.set(m())}),ae(()=>je(u()),()=>{_("disabled",u())}),ae(()=>je(p()),()=>{_("min",p())}),ae(()=>je(w()),()=>{_("max",w())}),ae(()=>je(y()),()=>{_("step",y())}),ae(()=>je(x()),()=>{_("orientation",x())}),ae(()=>je(g()),()=>{_("dir",g())}),ae(()=>s(),()=>{Y(d,s())}),ae(()=>h(d),()=>{Object.assign(h(d),M)}),Qe(),Xe();var I=ne(),B=K(I);ie(B,$,F=>{var D=ne(),q=K(D);pe(q,t,"default",{get builder(){return h(d)},get ticks(){return i()},get thumbs(){return c()}},null),z(F,D)},F=>{var D=Hs();let q;var U=R(D);pe(U,t,"default",{get builder(){return h(d)},get ticks(){return i()},get thumbs(){return c()}},null),C(D),et(D,v=>T(v),()=>T()),nt(D,v=>h(d).action(v)),X(()=>q=ot(D,q,{...h(d),...o})),z(F,D)}),z(e,I),xe()}var Gs=J("<span></span>");function Ks(e,t){const r=de(t,["children","$$slots","$$events","$$legacy"]),o=de(r,["asChild","el"]);we(t,!1);const n=ft(),s=()=>Ee(u,"$range",n),i=he();let c=te(t,"asChild",8,!1),d=te(t,"el",28,()=>{});const{elements:{range:u},getAttrs:p}=yo(),w=p("range");ae(()=>s(),()=>{Y(i,s())}),ae(()=>h(i),()=>{Object.assign(h(i),w)}),Qe(),Xe();var y=ne(),x=K(y);ie(x,c,g=>{var m=ne(),f=K(m);pe(f,t,"default",{get builder(){return h(i)}},null),z(g,m)},g=>{var m=Gs();let f;et(m,$=>d($),()=>d()),nt(m,$=>h(i).action($)),X(()=>f=ot(m,f,{...h(i),...o})),z(g,m)}),z(e,y),xe()}var Xs=J("<span></span>");function Zs(e,t){const r=de(t,["children","$$slots","$$events","$$legacy"]),o=de(r,["asChild","el","thumb"]);we(t,!1);const n=he();let s=te(t,"asChild",8,!1),i=te(t,"el",28,()=>{}),c=te(t,"thumb",8);const{getAttrs:d}=yo(),u=Qt(),p=d("thumb");ae(()=>je(c()),()=>{Y(n,c())}),ae(()=>h(n),()=>{Object.assign(h(n),p)}),Qe(),Xe();var w=ne(),y=K(w);ie(y,s,x=>{var g=ne(),m=K(g);pe(m,t,"default",{get builder(){return h(n)}},null),z(x,g)},x=>{var g=Xs();let m;et(g,f=>i(f),()=>i()),nt(g,f=>h(n).action(f)),_t(()=>Le("m-keydown",g,u)),X(()=>m=ot(g,m,{...h(n),...o})),z(x,g)}),z(e,w),xe()}function Ys(e,t){const r=de(t,["children","$$slots","$$events","$$legacy"]);rt(e,tt({name:"arrow-down"},()=>r,{iconNode:[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]],children:(n,s)=>{var i=ne(),c=K(i);pe(c,t,"default",{},null),z(n,i)},$$slots:{default:!0}}))}function Qs(e,t){const r=de(t,["children","$$slots","$$events","$$legacy"]);rt(e,tt({name:"arrow-up"},()=>r,{iconNode:[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]],children:(n,s)=>{var i=ne(),c=K(i);pe(c,t,"default",{},null),z(n,i)},$$slots:{default:!0}}))}function ei(e,t){const r=de(t,["children","$$slots","$$events","$$legacy"]);rt(e,tt({name:"chevron-left"},()=>r,{iconNode:[["path",{d:"m15 18-6-6 6-6"}]],children:(n,s)=>{var i=ne(),c=K(i);pe(c,t,"default",{},null),z(n,i)},$$slots:{default:!0}}))}function ti(e,t){const r=de(t,["children","$$slots","$$events","$$legacy"]);rt(e,tt({name:"chevron-right"},()=>r,{iconNode:[["path",{d:"m9 18 6-6-6-6"}]],children:(n,s)=>{var i=ne(),c=K(i);pe(c,t,"default",{},null),z(n,i)},$$slots:{default:!0}}))}function ri(e,t){const r=de(t,["children","$$slots","$$events","$$legacy"]);rt(e,tt({name:"filter"},()=>r,{iconNode:[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}]],children:(n,s)=>{var i=ne(),c=K(i);pe(c,t,"default",{},null),z(n,i)},$$slots:{default:!0}}))}function ni(e,t){const r=de(t,["children","$$slots","$$events","$$legacy"]);rt(e,tt({name:"layout-grid"},()=>r,{iconNode:[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"}]],children:(n,s)=>{var i=ne(),c=K(i);pe(c,t,"default",{},null),z(n,i)},$$slots:{default:!0}}))}function oi(e,t){const r=de(t,["children","$$slots","$$events","$$legacy"]);rt(e,tt({name:"map"},()=>r,{iconNode:[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"}],["path",{d:"M15 5.764v15"}],["path",{d:"M9 3.236v15"}]],children:(n,s)=>{var i=ne(),c=K(i);pe(c,t,"default",{},null),z(n,i)},$$slots:{default:!0}}))}function si(e,t){const r=de(t,["children","$$slots","$$events","$$legacy"]);rt(e,tt({name:"table"},()=>r,{iconNode:[["path",{d:"M12 3v18"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}]],children:(n,s)=>{var i=ne(),c=K(i);pe(c,t,"default",{},null),z(n,i)},$$slots:{default:!0}}))}const ii={"images.ctfassets.net":"contentful","cdn.builder.io":"builder.io","images.prismic.io":"imgix","www.datocms-assets.com":"imgix","cdn.sanity.io":"imgix","images.unsplash.com":"imgix","cdn.shopify.com":"shopify","s7d1.scene7.com":"scene7","ip.keycdn.com":"keycdn","assets.caisy.io":"bunny","images.contentstack.io":"contentstack","ucarecdn.com":"uploadcare","imagedelivery.net":"cloudflare_images"},ai={"imgix.net":"imgix","files.wordpress.com":"wordpress","b-cdn.net":"bunny","storyblok.com":"storyblok","kc-usercontent.com":"kontent.ai","cloudinary.com":"cloudinary","kxcdn.com":"keycdn","imgeng.in":"imageengine","imagekit.io":"imagekit","cloudimg.io":"cloudimage","ucarecdn.com":"uploadcare","supabase.co":"supabase"},ci={"/cdn-cgi/image/":"cloudflare","/cdn-cgi/imagedelivery/":"cloudflare_images","/_next/image":"nextjs","/_next/static":"nextjs","/_vercel/image":"vercel","/is/image":"scene7","/_ipx/":"ipx","/_image":"astro","/.netlify/images":"netlify","/storage/v1/object/public/":"supabase","/storage/v1/render/image/public/":"supabase"},yt=e=>{if(!e)return e;const t=Number(e);return isNaN(t)?e:Math.round(t)},G=(e,t,r,o,n)=>{r?(n&&(r=yt(r)),e.searchParams.set(t,r.toString())):o&&e.searchParams.delete(t)},Pe=(e,t,r)=>{e.searchParams.has(t)||e.searchParams.set(t,r.toString())},Tt=(e,t)=>{const r=Number(e.searchParams.get(t));return isNaN(r)?void 0:r},bo=e=>{const{pathname:t,search:r}=e;return`${t}${r}`},Wr=e=>e.hostname==="n"?bo(e):e.toString(),se=(e,t)=>typeof e=="string"?new URL(e,t??"http://n/"):e,cn=new Map(Object.entries(ii)),li=Object.entries(ai);function ui(e){return _o(e)||di(e)}function _o(e){if(typeof e=="string"&&!e.startsWith("https://"))return!1;const{hostname:t}=se(e);if(cn.has(t))return cn.get(t);for(const[r,o]of li)if(t.endsWith(`.${r}`))return o;return!1}function di(e){const{pathname:t}=se(e);for(const[r,o]of Object.entries(ci))if(t.startsWith(r))return o;return!1}const fi=({url:e,width:t,height:r,format:o})=>{const n=se(e);return t&&t>4e3&&(r&&(r=Math.round(r*4e3/t)),t=4e3),r&&r>4e3&&(t&&(t=Math.round(t*4e3/r)),r=4e3),G(n,"w",t,!0,!0),G(n,"h",r,!0,!0),G(n,"fm",o),Pe(n,"fit","fill"),n},hi=({url:e,width:t,height:r,format:o})=>{const n=se(e);return G(n,"width",t,!0,!0),G(n,"height",r,!0,!0),G(n,"format",o),t&&r&&(Pe(n,"fit","cover"),Pe(n,"sharp","true")),n},gi=({url:e,width:t,height:r,format:o})=>{var s;const n=se(e);if(G(n,"w",t,!0,!0),G(n,"h",r,!0,!0),Pe(n,"fit","min"),o){n.searchParams.set("fm",o);const i=n.searchParams.get("auto");i==="format"?n.searchParams.delete("auto"):i!=null&&i.includes("format")&&n.searchParams.set("auto",i.split(",").filter(c=>c!=="format").join(","))}else n.searchParams.delete("fm"),(s=n.searchParams.get("auto"))!=null&&s.includes("format")||n.searchParams.append("auto","format");return n},pi=/(.+?)(?:_(?:(pico|icon|thumb|small|compact|medium|large|grande|original|master)|(\d*)x(\d*)))?(?:_crop_([a-z]+))?(\.[a-zA-Z]+)(\.png|\.jpg|\.webp|\.avif)?$/,mi=e=>{const t=se(e),r=t.pathname.match(pi);if(!r)throw new Error("Invalid Shopify URL");const[,o,n,s,i,c,d,u]=r;t.pathname=`${o}${d}`;const p=s||t.searchParams.get("width"),w=i||t.searchParams.get("height");return t.searchParams.delete("width"),t.searchParams.delete("height"),{base:t.toString(),width:Number(p)||void 0,height:Number(w)||void 0,format:u?u.slice(1):void 0,params:{crop:c,size:n},cdn:"shopify"}},vi=({base:e,width:t,height:r,format:o,params:n})=>{const s=se(e);return G(s,"width",t,!0,!0),G(s,"height",r,!0,!0),G(s,"crop",n==null?void 0:n.crop),G(s,"format",o),s},yi=({url:e,width:t,height:r})=>{const o=mi(e);if(!o)return;const n={...o,width:t,height:r};return vi(n)},bi=({url:e,width:t,height:r})=>{const o=se(e);return G(o,"w",t,!0,!0),G(o,"h",r,!0,!0),Pe(o,"crop","1"),o},_i=({url:e,width:t,height:r})=>{const o=se(e);return G(o,"w",t,!0,!0),G(o,"h",r,!0,!0),G(o,"q",Tt(o,"q"),!0),o},wi=/https?:\/\/(?<host>[^\/]+)\/(?<cloudName>[^\/]+)\/(?<assetType>image|video|raw)\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)\/?(?<signature>s\-\-[a-zA-Z0-9]+\-\-)?\/?(?<transformations>(?:[^_\/]+_[^,\/]+,?)*)?\/(?:(?<version>v\d+)\/)?(?<idAndFormat>[^\s]+)$/g,xi=e=>e?Object.fromEntries(e.split(",").map(t=>t.split("_"))):{},wo=({host:e,cloudName:t,assetType:r,deliveryType:o,signature:n,transformations:s={},version:i,id:c,format:d})=>{d&&(s.f=d);const u=Object.entries(s).map(([w,y])=>`${w}_${y}`).join(",");return`https://${[e,t,r,o,n,u,i,c].filter(Boolean).join("/")}`},xo=e=>{const r=[...se(e).toString().matchAll(wi)];if(!r.length)throw new Error("Invalid Cloudinary URL");const o=r[0].groups||{},{transformations:n="",idAndFormat:s,...i}=o;delete o.idAndFormat;const c=s.lastIndexOf("."),d=c<0?s:s.slice(0,c),u=c<0?void 0:s.slice(c+1),{w:p,h:w,f:y,...x}=xi(n),g=y&&y!=="auto"?y:u;return{base:wo({...i,id:d,transformations:x}),width:Number(p)||void 0,height:Number(w)||void 0,format:g,cdn:"cloudinary",params:{...o,id:o.deliveryType==="fetch"?s:d,format:g,transformations:x}}},Si=({base:e,width:t,height:r,format:o,params:n})=>{var c;const s=xo(e.toString()),i={transformations:{},...s.params,...n,format:o||"auto"};return t&&(i.transformations.w=yt(t).toString()),r&&(i.transformations.h=yt(r).toString()),(c=i.transformations).c||(c.c="lfill"),wo(i)},ki=({url:e,width:t,height:r,format:o="auto"})=>{var i,c;const n=xo(e);if(!n)throw new Error("Invalid Cloudinary URL");if(((i=n.params)==null?void 0:i.assetType)!=="image")throw new Error("Cloudinary transformer only supports images");if((c=n.params)!=null&&c.signature)throw new Error("Cloudinary transformer does not support signed URLs");const s={...n,width:t,height:r,format:o};return Si(s)},$i=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/image\/(?<transformations>[^\/]+)?\/(?<path>.*)$/g,ji=e=>Object.fromEntries(e.split(",").map(t=>t.split("="))),So=({host:e,transformations:t={},path:r})=>{const o=Object.entries(t).map(([s,i])=>`${s}=${i}`).join(",");return`https://${[e,"cdn-cgi","image",o,r].join("/")}`},ko=e=>{const t=se(e),r=[...t.toString().matchAll($i)];if(!r.length)throw new Error("Invalid Cloudflare URL");const o=r[0].groups||{},{transformations:n,...s}=o,{width:i,height:c,f:d,...u}=ji(n);return So({...s,transformations:u}),{base:t.toString(),width:Number(i)||void 0,height:Number(c)||void 0,format:d,cdn:"cloudflare",params:{...o,transformations:u}}},Oi=({base:e,width:t,height:r,format:o,params:n})=>{var c;const s=ko(e.toString()),i={transformations:{},...s.params,...n};return t&&(i.transformations.width=t==null?void 0:t.toString()),r&&(i.transformations.height=r==null?void 0:r.toString()),o&&(i.transformations.f=o==="jpg"?"jpeg":o),(c=i.transformations).fit||(c.fit="cover"),new URL(So(i))},Pi=({url:e,width:t,height:r,format:o="auto"})=>{const n=ko(e);if(!n)throw new Error("Invalid Cloudflare URL");const s={...n,width:t,height:r,format:o};return Oi(s)},Ai=({url:e,width:t,height:r})=>{const o=se(e);return G(o,"width",t,!0,!0),t&&r&&Pe(o,"aspect_ratio",`${t}:${r}`),o},zi=/(?<id>\/f\/\d+\/\d+x\d+\/\w+\/[^\/]+)\/?(?<modifiers>m\/?(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?)?$/g,Ei=/^(?<modifiers>\/(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?\/?)?(?<id>\/f\/.+)$/g,Ti=e=>e?Object.fromEntries(e.split(":").map(t=>{if(!t)return[];const[r,o]=t.split("(");return[r,o.replace(")","")]})):{},Ci=e=>{if(!e)return;const t=Object.entries(e).map(([r,o])=>`${r}(${o??""})`);if(t.length!==0)return`filters:${t.join(":")}`},Ni=e=>{const t=se(e),r=t.hostname==="img2.storyblok.com"?Ei:zi,[o]=t.pathname.matchAll(r);if(!o||!o.groups)throw new Error("Invalid Storyblok URL");const{id:n,crop:s,width:i,height:c,filters:d,flipx:u,flipy:p}=o.groups,{format:w,...y}=Ti(d);return t.hostname==="img2.storyblok.com"&&(t.hostname="a.storyblok.com"),{base:t.origin+n,width:Number(i)||void 0,height:Number(c)||void 0,format:w,params:{crop:s,filters:y,flipx:u,flipy:p},cdn:"storyblok"}},Ri=({base:e,width:t=0,height:r=0,format:o,params:n={}})=>{const{crop:s,filters:i,flipx:c="",flipy:d=""}=n,u=`${c}${t}x${d}${r}`;return new URL([e,"m",s,u,Ci(i),o].filter(Boolean).join("/"))},Mi=({url:e,width:t,height:r,format:o})=>{const n=Ni(e);if(n)return o&&(n.params||(n.params={filters:{}}),n.params.filters||(n.params.filters={}),n.params.filters.format=o),Ri({...n,width:t,height:r})},Ii=({url:e,width:t,height:r,format:o})=>{const n=se(e);return G(n,"w",t,!0,!0),G(n,"h",r,!0,!0),G(n,"fm",o,!0),t&&r&&Pe(n,"fit","crop"),n},ln=e=>{const r=se(e).searchParams.get("url");if(!r||!r.startsWith("http"))return!1;const o=_o(r);return o?{cdn:o,url:r}:!1},Li=({base:e,width:t,params:{quality:r=75,root:o="_vercel"}={}})=>{const n=new URL("http://n");return n.pathname=`/${o}/image`,n.searchParams.set("url",e.toString()),G(n,"w",t,!1,!0),Pe(n,"q",r),bo(n)},$o=({url:e,width:t,cdn:r})=>{const o=se(e),n=o.pathname.startsWith("/_next/image")||o.pathname.startsWith("/_vercel/image"),s=n?o.searchParams.get("url"):e.toString();if(s)return G(o,"w",t,!0,!0),n?Wr(o):Li({base:s,width:t,params:{root:r==="nextjs"?"_next":"_vercel"}})},Fi=e=>$o({...e,cdn:"nextjs"}),Wi=({url:e,width:t,height:r,format:o})=>{const n=se(e);return G(n,"wid",t,!0,!0),G(n,"hei",r,!0,!0),G(n,"fmt",o,!0),G(n,"qlt",Tt(n,"qlt"),!0),G(n,"scl",Tt(n,"scl"),!0),Pe(n,"fit","crop"),!t&&!r&&Pe(n,"scl",1),n},Bi=({url:e,width:t,height:r,format:o})=>{const n=se(e);return G(n,"width",t,!0,!0),G(n,"height",r,!0,!0),G(n,"format",o,!0),G(n,"quality",Tt(n,"quality"),!0),Pe(n,"enlarge",0),n},Ui=({url:e,width:t,height:r,format:o})=>{const n=se(e);return G(n,"width",t,!0,!0),G(n,"height",r,!0,!0),G(n,"format",o),G(n,"quality",Tt(n,"quality"),!0),n},Or={width:"w",height:"h",autoWidthWithFallback:"w_auto",auto_width_fallback:"w_auto",scaleToScreenWidth:"pc",scale_to_screen_width:"pc",crop:"cr",outputFormat:"f",format:"f",fit:"m",fitMethod:"m",compression:"cmpr",sharpness:"s",rotate:"r",inline:"in",keepMeta:"meta",keep_meta:"meta",noOptimization:"pass",no_optimization:"pass",force_download:"dl",max_device_pixel_ratio:"maxdpr",maxDevicePixelRatio:"maxdpr"};function Di(e){return Object.keys(Or).find(o=>Or[o]===e)||""}function qi(e){let t=e.toString(),r=[];if(t){let o=t.split("imgeng=");o.length>1&&(r=o[1].split("/"))}return r}function Vi(e){let t=e.toString(),r="";if(t){let o=t.split("imgeng=");o.length>1?r=o[0].slice(0,-1):r=t}return r}const Hi=({url:e,width:t,height:r,format:o})=>{const n=se(e),s=Vi(n);let i={};const c=n.toString()===s?[]:qi(n);c.length&&(i=Xi(c)),t&&(i.width=t),r&&(i.height=r),o&&(i.format=o),i.hasOwnProperty("fit")||(i={...i,fit:"cropbox"});let d=Ji(i),u=Gi(d),p=u===""?"":s.includes("?")?"&":"?";return`${s}${p}${u}`};function Ji(e){return Object.entries(e).reduce((t,[r,o])=>t+Ki(r,o),"")}function Gi(e){return e&&e!==""?`imgeng=${e}`:""}function Ki(e,t){let r=Or[e];return r&&(t||t===0)?`/${r}_${t}`:""}function Xi(e){let t={};return e.forEach(r=>{let o=r.split("_");if(o.length>1){let n=o[0],s=o[1],i=Di(n);i&&(t[i]=s)}}),t}const Zi=({url:e,width:t,height:r,format:o})=>{const n=se(e);return G(n,"width",t,!0,!0),G(n,"height",r,!0,!0),G(n,"format",o),n.searchParams.has("format")||Pe(n,"auto","webp"),t&&r&&Pe(n,"fit","crop"),n},Yi=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/imagedelivery\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,Qi=/https?:\/\/(?<host>imagedelivery.net)\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,ea=e=>{var t;return Object.fromEntries(((t=e==null?void 0:e.split(","))==null?void 0:t.map(r=>r.split("=")))??[])},ta=({host:e,accountHash:t,transformations:r={},imageId:o})=>{const n=Object.entries(r).filter(([i,c])=>!!i&&c!==void 0).map(([i,c])=>`${i}=${c}`).join(",");return`https://${[...e==="imagedelivery.net"?[e]:[e,"cdn-cgi","imagedelivery"],t,o,n].join("/")}`},jo=e=>{const t=se(e),r=[...t.toString().matchAll(Yi),...t.toString().matchAll(Qi)];if(!r.length)throw new Error("Invalid Cloudflare Images URL");const o=r[0].groups||{},{transformations:n,...s}=o,{w:i,h:c,f:d,...u}=ea(n);return{base:t.toString(),width:Number(i)||void 0,height:Number(c)||void 0,format:d,cdn:"cloudflare_images",params:{...s,transformations:u}}},ra=({base:e,width:t,height:r,format:o,params:n})=>{var c;const s=jo(e.toString()),i={transformations:{},...s.params,...n};return t&&(i.transformations.w=t==null?void 0:t.toString()),r&&(i.transformations.h=r==null?void 0:r.toString()),o&&(i.transformations.f=o),(c=i.transformations).fit||(c.fit="cover"),new URL(ta(i))},na=({url:e,width:t,height:r,format:o="auto"})=>{const n=jo(e);if(!n)throw new Error("Invalid Cloudflare Images URL");const s={...n,width:t,height:r,format:o};return ra(s)},oa=e=>{const t=se(e),[r,...o]=t.pathname.split("/").slice(1),n=Object.fromEntries(r.split(",").map(s=>{const[i,c]=s.split("_");return[i,c]}));if(n.s){const[s,i]=n.s.split("x");n.w||(n.w=s),n.h||(n.h=i)}return{base:o.join("/"),width:Number(n.w)||void 0,height:Number(n.h)||void 0,quality:Number(n.q)||void 0,format:n.f||"auto",params:n,cdn:"ipx"}},un=({base:e,width:t,height:r,format:o,params:n})=>{const s=(n==null?void 0:n.modifiers)??{};t&&r?s.s=`${t}x${r}`:t?s.w=`${t}`:r&&(s.h=`${r}`),o&&(s.f=o);const i=n!=null&&n.base.endsWith("/")?n==null?void 0:n.base:`${n==null?void 0:n.base}/`,c=Object.entries(s).map(([p,w])=>`${p}_${w}`).join(","),d=e.toString(),u=d.startsWith("/")?d.slice(1):d;return`${i}${c}/${u}`},sa=e=>{var i,c,d,u;const t=String(e.url),r=se(t),o=r.pathname.startsWith("/_ipx")&&r.hostname!=="n"?`${r.origin}/_ipx`:"/_ipx",n=((c=(i=e.cdnOptions)==null?void 0:i.ipx)==null?void 0:c.base)??o;if(n&&n!=="/"&&t.startsWith(n)){const p=oa(t.replace(n,""));return un({...p,...e,params:{...(d=e.cdnOptions)==null?void 0:d.ipx,base:n}})}return un({...e,base:t,params:{...(u=e.cdnOptions)==null?void 0:u.ipx,base:n}})},ia=({url:e,width:t,height:r,format:o})=>{const n=se(e),s=Wr(new URL(n.pathname,n.origin)),i={searchParams:new URLSearchParams};return G(i,"href",s,!0,!0),G(i,"w",t,!0,!0),G(i,"h",r,!0,!0),G(i,"f",o),`/_image?${i.searchParams.toString()}`},aa=new Set(["w","h","q","fm","url","width","height","quality"]),ca=e=>{const t=se(e),r=Number(t.searchParams.get("w")??t.searchParams.get("width"))??void 0,o=Number(t.searchParams.get("h")??t.searchParams.get("height"))??void 0,n=Number(t.searchParams.get("q")??t.searchParams.get("quality"))||void 0,s=t.searchParams.get("fm")||void 0,i=t.searchParams.get("url")||"",c={quality:n};return t.searchParams.forEach((d,u)=>{aa.has(u)||(c[u]=d)}),t.search="",{base:i,width:r,height:o,format:s,params:c,cdn:"netlify"}},dn=({base:e,width:t,height:r,format:o,params:{site:n,quality:s,...i}={}})=>{const c=se("/.netlify/images",n);return Object.entries(i).forEach(([d,u])=>G(c,d,u)),G(c,"q",s,!0,!0),G(c,"w",t,!0,!0),G(c,"h",r,!0,!0),G(c,"fm",o),Pe(c,"fit","cover"),c.searchParams.set("url",e.toString()),Wr(c)},la=e=>{var r,o;const t=se(e.url);if(t.pathname.startsWith("/.netlify/images")){const{params:n,base:s,format:i}=ca(t);return dn({base:s,format:i,...e,params:{...n,site:t.hostname==="n"?void 0:t.origin}})}return dn({...e,base:e.url,params:{site:(o=(r=e.cdnOptions)==null?void 0:r.netlify)==null?void 0:o.site}})},ua=e=>(e.searchParams.get("tr")||"").split(",").reduce((r,o)=>{const[n,s]=o.split("-");return r[n]=s,r},{}),da=({url:e,width:t,height:r,format:o})=>{const n=se(e),s=ua(n);s.w=t&&Math.round(t),s.h=r&&Math.round(r),s.f||(s.f="auto"),o&&(s.f=o);const i=Object.keys(s).map(c=>{const d=s[c];if(d)return`${c}-${d}`}).filter(c=>c).join(",");return n.searchParams.set("tr",i),n},fa=/^https?:\/\/(?<host>[^\/]+)\/(?<uuid>[^\/]+)/g;function Oo(e){const t=new URL(e),r=t.pathname+t.search+t.hash,o=r.lastIndexOf("http"),n=r.lastIndexOf("/");let s="";return o>=0?s=r.slice(o):n>=0&&(s=r.slice(n+1)),s}function ha(e){return e.startsWith("http")}function ga(e){const t=new URL(e);return{pathname:t.origin+t.pathname||"",search:t.search||"",hash:t.hash||""}}function pa(e){const t=new URL(e),r=Oo(e),o=ha(r)?ga(r).pathname:r;return t.pathname=t.pathname.replace(o,""),t.search="",t.hash="",t.toString()}const ma=e=>{if(typeof e!="string"||!e)return"";let t=e.trim();return t.startsWith("-/")?t=t.slice(2):t.startsWith("/")&&(t=t.slice(1)),t.endsWith("/")&&(t=t.slice(0,t.length-1)),t};function va(e){const t=pa(e),r=new URL(t),o=r.pathname.indexOf("/-/");return o===-1?[]:r.pathname.substring(o).split("/-/").filter(Boolean).map(s=>ma(s))}const ya=e=>e.length?e.reduce((t,r)=>{const[o,n]=r.split("/");return{...t,[o]:n}},{}):{},Po=({host:e,uuid:t,operations:r={},filename:o})=>{const n=Object.entries(r).map(([i,c])=>`${i}/${c}`).join("/-/");return`https://${[e,t,n?`-/${n}`:"",o].join("/")}`},Ao=e=>{const t=se(e),r=[...t.toString().matchAll(fa)];if(!r.length)throw new Error("Invalid Uploadcare URL");const o=r[0].groups||{},{...n}=o,s=Oo(t.toString()),{format:i,...c}=ya(va(t.toString())),d=i&&i!=="auto"?i:"auto";return{base:Po({...n,filename:s||void 0,operations:{...c,format:d}}),cdn:"uploadcare",params:{...o,filename:s||void 0,operations:{...c,format:d}}}},ba=({base:e,width:t,height:r,params:o})=>{const n=e.toString(),s=Ao(n.endsWith("/")?n:`${n}/`),i={operations:{},...s.params,...o};return t&&r?i.operations={...i.operations,resize:`${t}x${r}`}:(t&&(i.operations={...i.operations,resize:`${t}x`}),r&&(i.operations={...i.operations,resize:`x${r}`})),Po(i)},_a=({url:e,width:t,height:r})=>{const o=Ao(e);if(!o)throw new Error("Invalid Uploadcare URL");const n={...o,width:t,height:r};return ba(n)},wa=["origin"],zo="/storage/v1/object/public/",Br="/storage/v1/render/image/public/",xa=e=>e.pathname.startsWith(Br),Eo=e=>{const t=se(e);if(!xa(t))return{cdn:"supabase",base:t.origin+t.pathname};const o=t.pathname.replace(Br,""),n=t.searchParams.has("quality")?Number(t.searchParams.get("quality")):void 0,s=t.searchParams.has("width")?Number(t.searchParams.get("width")):void 0,i=t.searchParams.has("height")?Number(t.searchParams.get("height")):void 0,c=t.searchParams.has("format")?t.searchParams.get("format"):void 0,d=t.searchParams.has("resize")?t.searchParams.get("resize"):void 0;return{cdn:"supabase",base:t.origin+zo+o,width:s,height:i,format:c,params:{quality:n,resize:d}}},Sa=({base:e,width:t,height:r,format:o,params:n})=>{const s=Eo(e.toString());e=s.base,t=t||s.width,r=r||s.height,o=o||s.format,n={...s.params,...n};const i=new URLSearchParams;return t&&i.set("width",yt(t).toString()),r&&i.set("height",yt(r).toString()),o&&wa.includes(o)&&i.set("format",o),n!=null&&n.quality&&i.set("quality",yt(n.quality).toString()),n!=null&&n.resize&&i.set("resize",n.resize),i.toString()===""?e:s.base.replace(zo,Br)+"?"+i.toString()},ka=({url:e,width:t,height:r,format:o,cdnOptions:n})=>{const s=Eo(e);return Sa({base:s.base,width:t||s.width,height:r||s.height,format:o||s.format,params:(n==null?void 0:n.supabase)||s.params})},fn={vercel:ln,nextjs:ln};function $a(e,t){if(!(t in fn))return!1;const r=fn[t];return r?r(e):!1}function Ur(e,t){const r=ui(e)||t;if(!r)return!1;const o=$a(e,r);return o||{cdn:r,url:e}}const Dr=e=>({imgix:gi,contentful:fi,"builder.io":hi,shopify:yi,wordpress:bi,cloudimage:_i,cloudinary:ki,bunny:Ai,storyblok:Mi,cloudflare:Pi,vercel:$o,nextjs:Fi,scene7:Wi,"kontent.ai":Ii,keycdn:Bi,directus:Ui,imageengine:Hi,contentstack:Zi,cloudflare_images:na,ipx:sa,astro:ia,netlify:la,imagekit:da,uploadcare:_a,supabase:ka})[e];var ja=(e,t)=>{if(!(!e||!t))switch(t){case"constrained":return`(min-width: ${e}px) ${e}px, 100vw`;case"fixed":return`${e}px`;case"fullWidth":return"100vw";default:return}},xt=e=>e||e===0?`${e}px`:void 0,Oa=({width:e,height:t,aspectRatio:r,layout:o,objectFit:n="cover",background:s})=>{const i=[["object-fit",n]];return s!=null&&s.startsWith("https:")||s!=null&&s.startsWith("http:")||s!=null&&s.startsWith("data:")?(i.push(["background-image",`url(${s})`]),i.push(["background-size","cover"]),i.push(["background-repeat","no-repeat"])):i.push(["background",s]),o==="fixed"&&(i.push(["width",xt(e)]),i.push(["height",xt(t)])),o==="constrained"&&(i.push(["max-width",xt(e)]),i.push(["max-height",xt(t)]),i.push(["aspect-ratio",r?`${r}`:void 0]),i.push(["width","100%"])),o==="fullWidth"&&(i.push(["width","100%"]),i.push(["aspect-ratio",r?`${r}`:void 0]),i.push(["height",xt(t)])),Object.fromEntries(i.filter(([,c])=>c))},Pa=[6016,5120,4480,3840,3200,2560,2048,1920,1668,1280,1080,960,828,750,640],hn=24,Aa=({width:e,layout:t,resolutions:r=Pa})=>{if(t==="fullWidth")return r;if(!e)return[];const o=e*2;return t==="fixed"?[e,o]:t==="constrained"?[e,o,...r.filter(n=>n<o)]:[]},za=({src:e,width:t,layout:r="constrained",height:o,aspectRatio:n,breakpoints:s,cdn:i,transformer:c,format:d})=>{const u=Ur(e,i);return u&&!c&&(c=Dr(u.cdn)),c?(s||(s=Aa({width:t,layout:r})),s.sort((p,w)=>p-w).map(p=>{let w;return o&&n&&(w=Math.round(p/n)),{url:u?u.url:e,width:p,height:w,format:d}})):[]},Ea=e=>{let{src:t,cdn:r,transformer:o}=e;const n=Ur(t,r);return n&&!o&&(o=Dr(n.cdn)),o?za({...e,transformer:o}).map(s=>{const i=o(s);return`${i==null?void 0:i.toString()} ${s.width}w`}).join(`,
`):""};function Ta({width:e,height:t,priority:r,layout:o="constrained",aspectRatio:n,...s}){return e=e&&Number(e)||void 0,t=t&&Number(t)||void 0,r?(s.loading||(s.loading="eager"),s.fetchpriority||(s.fetchpriority="high")):(s.loading||(s.loading="lazy"),s.decoding||(s.decoding="async")),s.alt===""&&(s.role||(s.role="presentation")),n?e?t||(t=Math.round(e/n)):t&&(e=Math.round(t*n)):e&&t&&(n=e/t),{width:e,height:t,aspectRatio:n,layout:o,...s}}function Ca(e){let{src:t,cdn:r,transformer:o,background:n,layout:s,objectFit:i,breakpoints:c,width:d,height:u,aspectRatio:p,unstyled:w,...y}=Ta(e);const x=t?Ur(t,r):void 0;let g=t;if(x&&(g=x.url,o||(o=Dr(x.cdn))),o&&n==="auto"){const f=p?Math.round(hn/p):void 0,$=o({url:g,width:hn,height:f});$&&(n=$.toString())}const m={width:d,height:u,aspectRatio:p,layout:s,objectFit:i,background:n};if(y.sizes||(y.sizes=ja(d,s)),w||(y.style={...Oa(m),...y.style}),o){y.srcset=Ea({src:g,width:d,height:u,aspectRatio:p,layout:s,breakpoints:c,transformer:o,cdn:r});const f=o({url:g,width:d,height:u});f&&(g=f),(s==="fullWidth"||s==="constrained")&&(d=void 0,u=void 0)}return{...y,src:g==null?void 0:g.toString(),width:d,height:u}}function Na(e,t){const r=RegExp(e,"g");return o=>{if(typeof o!="string")throw new TypeError(`expected an argument of type string, but got ${typeof o}`);return o.match(r)?o.replace(r,t):o}}const Ra=Na(/[A-Z]/,e=>`-${e.toLowerCase()}`);function Ma(e,t=Ra){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected an argument of type object, but got ${typeof e}`);return Object.keys(e).map(r=>`${t(r)}: ${e[r]};`).join(`
`)}var Ia=J("<img>");function La(e,t){const r=de(t,["children","$$slots","$$events","$$legacy"]);we(t,!1);const o=he(),n=he(),s=he(),i=he(),c=he(),d=he(),u=he(),p=he(),w=he(),y=he(),x=he(),g=he(),m=he(),f=he();ae(()=>(h(o),h(n),je(r)),()=>{Y(o,r.style),Y(n,os(r,["style"]))}),ae(()=>(h(s),h(i),h(c),h(d),h(u),h(p),h(w),h(y),h(x),h(g),h(m),h(n)),()=>{(j=>(Y(s,j.alt),Y(i,j.style),Y(c,j.src),Y(d,j.width),Y(u,j.height),Y(p,j.loading),Y(w,j.decoding),Y(y,j.srcset),Y(x,j.role),Y(g,j.sizes),Y(m,j.fetchpriority)))(Ca(h(n)))}),ae(()=>(h(i),h(o)),()=>{Y(f,[Ma(h(i)||{}),h(o)].filter(Boolean).join(";"))}),Qe(),Xe();var $=Ia();let T;X(()=>{var j,E,P,k;return T=ot($,T,{...r,style:h(f),loading:h(p),width:h(d),height:h(u),decoding:h(w),role:h(x),fetchpriority:h(m),alt:(j=h(s))==null?void 0:j.toString(),src:(E=h(c))==null?void 0:E.toString(),srcset:(P=h(y))==null?void 0:P.toString(),sizes:(k=h(g))==null?void 0:k.toString()})}),hs($),ts($),Le("load",$,function(j){tn.call(this,t,j)}),Le("error",$,function(j){tn.call(this,t,j)}),z(e,$),xe()}var Fa=J("<em> </em>"),Wa=J("<a> </a>"),Ba=J('<span class="svelte-192ea9n"><!> <!> </span>'),Ua=J('<div class="inscription-place"></div>');function To(e,t){we(t,!0);let r=ge(()=>{var n,s;return(s=(n=t.inscription)==null?void 0:n.places)==null?void 0:s.slice(0,2)});var o=Ua();Be(o,21,()=>h(r),Ke,(n,s)=>{var i=ne(),c=K(i);ie(c,()=>h(s),d=>{var u=Ba(),p=R(u);ie(p,()=>h(s).offset,x=>{var g=Fa(),m=R(g,!0);C(g),X(()=>re(m,h(s).offset)),z(x,g)});var w=W(p,2);ie(w,()=>h(s).ref,x=>{var g=Wa(),m=R(g,!0);C(g),X(()=>{Ue(g,"href",h(s).ref),re(m,h(s)._)}),z(x,g)},x=>{var g=Ie();X(()=>re(g,h(s)._)),z(x,g)});var y=W(w);C(u),X(()=>re(y,` (${h(s).type??""})`)),z(d,u)}),z(n,i)}),C(o),z(e,o),xe()}function Ot(e,t){let r=te(t,"title",3,"");const o=ge(()=>t.children);var n=ge(()=>`/inscription/${t.id}`),s=ge(()=>r()||t.id);ms(e,{get href(){return h(n)},get title(){return h(s)},children:(i,c)=>{var d=ne(),u=K(d);vs(u,()=>h(o)??ss),z(i,d)},$$slots:{default:!0}})}var Da=J("<dd><a> </a></dd>"),qa=J("<dd> </dd>"),Va=J("<dd><a> </a></dd>"),Ha=J("<dd> </dd>"),Ja=J('<div class="inscription-card"><!> <div class="inscription-title svelte-1i8xyhq"><!></div> <div class="inscription-date-place"><!> <!></div> <dl class="svelte-1i8xyhq"><dt class="svelte-1i8xyhq">ID</dt> <dd><small><!></small></dd> <dt class="svelte-1i8xyhq">Status</dt> <dd> </dd> <dt class="svelte-1i8xyhq">Type</dt> <!> <dt class="svelte-1i8xyhq">Object type</dt> <!> <dt class="svelte-1i8xyhq">Language</dt> <dd> </dd></dl></div>');function Ga(e,t){we(t,!0);var r=Ja(),o=R(r);ie(o,()=>t.inscription.facsimile,j=>{Ot(j,{get id(){return t.inscription.file},get title(){return t.inscription.title},children:(E,P)=>{La(E,{get src(){return`${cs}${t.inscription.file??""}/${t.inscription.facsimile.url??""}/${ls}`},get alt(){return t.inscription.facsimile.desc},width:400,height:200})},$$slots:{default:!0}})});var n=W(o,2),s=R(n);Ot(s,{get id(){return t.inscription.file},get title(){return t.inscription.title},children:(j,E)=>{Ne();var P=Ie();X(()=>re(P,t.inscription.title)),z(j,P)},$$slots:{default:!0}}),C(n);var i=W(n,2),c=R(i);io(c,{get inscription(){return t.inscription}});var d=W(c,2);To(d,{get inscription(){return t.inscription}}),C(i);var u=W(i,2),p=W(R(u),2),w=R(p),y=R(w);Ot(y,{get id(){return t.inscription.file},children:(j,E)=>{Ne();var P=Ie();X(()=>re(P,t.inscription.file)),z(j,P)},$$slots:{default:!0}}),C(w),C(p);var x=W(p,4),g=R(x,!0);C(x);var m=W(x,4);ie(m,()=>{var j;return(j=t.inscription.type)==null?void 0:j.ref},j=>{var E=Da(),P=R(E),k=R(P,!0);C(P),C(E),X(()=>{var _;Ue(P,"href",t.inscription.type.ref),re(k,(_=t.inscription.type)==null?void 0:_._)}),z(j,E)},j=>{var E=qa(),P=R(E,!0);C(E),X(()=>{var k;return re(P,((k=t.inscription.type)==null?void 0:k._)||"N/A")}),z(j,E)});var f=W(m,4);ie(f,()=>{var j;return(j=t.inscription.objectType)==null?void 0:j.ref},j=>{var E=Va(),P=R(E),k=R(P,!0);C(P),C(E),X(()=>{var _;Ue(P,"href",t.inscription.objectType.ref),re(k,(_=t.inscription.objectType)==null?void 0:_._)}),z(j,E)},j=>{var E=Ha(),P=R(E,!0);C(E),X(()=>{var k;return re(P,((k=t.inscription.objectType)==null?void 0:k._)||"N/A")}),z(j,E)});var $=W(f,4),T=R($,!0);C($),C(u),C(r),X(()=>{var j;re(g,t.inscription.status),re(T,((j=t.inscription.textLang)==null?void 0:j._)||"N/A")}),z(e,r),xe()}var Ka=J('<li class="svelte-p3hpfg"><!></li>'),Xa=J('<ol class="inscription-list svelte-p3hpfg"></ol>');function Za(e,t){var r=Xa();Be(r,21,()=>t.inscriptions,Ke,(o,n)=>{var s=Ka(),i=R(s);Ga(i,{get inscription(){return h(n)}}),C(s),z(o,s)}),C(r),z(e,r)}var Ya=J("<span> </span>"),Qa=J('<div class="marker svelte-mhd10g" role="img"><!></div>'),ec=J('<div class="inscription-map svelte-mhd10g"><!></div>');function tc(e,t){we(t,!0);const{Map:r,Marker:o,NavigationControl:n,Popup:s}=ys;let i=te(t,"show",3,!0),c=Me(void 0),d=Me(void 0),u=ge(()=>t.inscriptions.filter(m=>m.geo).reduce((m,f)=>{if(!f.geo||f.geo.length!==2)return m;const $=f.geo.join("_");return m[$]||(m[$]=[]),m[$].push(f),m},{})),p=ge(()=>Object.entries(h(u)).map(([m,f])=>{const $=f[0].geo,T=f.length;let j="single";return T>100?j="lg":T>25?j="md":T>1&&(j="sm"),{coords:[$[1],$[0]],markerSize:j,numberInscriptions:T,inscriptions:f}}));function w(m,{coords:f,inscriptions:$}){const T=y($),j=new o({element:m}).setLngLat(f).setPopup(new s().setHTML(T)).addTo(h(c));return{destroy(){j==null||j.remove()}}}function y(m){const f=m.reduce((j,E)=>(E.places[0]&&(j[E.places[0]._]||(j[E.places[0]._]=[]),j[E.places[0]._].push(E)),j),{});let $='<div class="tooltip">';const T=Object.entries(f).map(([j,E])=>{let P=`<dt>${j}</dt>`,k=E.map(_=>`<dd><a href="inscription/${_.file}">${_.title}</a></dd>`).join("");return`${P}${k}`}).join("");return`${$}<dl>${T}</dl></div>`}co(async()=>{Y(c,ue(new r({container:h(d),style:"https://api.maptiler.com/maps/positron/style.json?key=brTBbnRxuiKp6PgjwFPr",center:[14.01535,37.59999],zoom:7}))),h(c).addControl(new n({showCompass:!0,showZoom:!0}))}),ao(async()=>{h(c)&&(h(c).remove(),Y(c,void 0),Y(d,void 0))});var x=ne(),g=K(x);ie(g,i,m=>{var f=ec(),$=R(f);ie($,()=>h(c)&&h(p),T=>{var j=ne(),E=K(j);Be(E,17,()=>h(p),Ke,(P,k)=>{var _=Qa(),N=R(_);ie(N,()=>h(k).numberInscriptions>1,M=>{var I=Ya(),B=R(I,!0);C(I),X(()=>re(B,h(k).numberInscriptions)),z(M,I)}),C(_),nt(_,(M,I)=>w(M,I),()=>({coords:h(k).coords,inscriptions:h(k).inscriptions})),X(()=>{Ue(_,"aria-label",`Map marker for ${h(k).inscriptions[0].title}`),Bt(_,"single",h(k).markerSize==="single"),Bt(_,"sm",h(k).markerSize==="sm"),Bt(_,"md",h(k).markerSize==="md"),Bt(_,"lg",h(k).markerSize==="lg")}),z(P,_)}),z(T,j)}),C(f),et(f,T=>Y(d,T),()=>h(d)),z(m,f)}),z(e,x),xe()}var rc=J("<span>...</span>"),nc=J('<div class="pagination svelte-1pdb2ke"><!> <div class="pages svelte-1pdb2ke"></div> <!></div> <p class="svelte-1pdb2ke"> </p>',1);function gn(e,t){var r=ne(),o=K(r);ie(o,()=>t.count>0,n=>{var s=ne(),i=K(s);Oe(i,()=>Ls,(c,d)=>{d(c,{get page(){return t.page},get count(){return t.count},get perPage(){return t.perPage},get onPageChange(){return t.onPageChange},children:(p,w)=>{let y=()=>w==null?void 0:w().pages,x=()=>w==null?void 0:w().range;var g=nc(),m=K(g),f=R(m);Oe(f,()=>Ws,(k,_)=>{_(k,{children:(N,M)=>{ei(N,{})},$$slots:{default:!0}})});var $=W(f,2);Be($,21,y,k=>k.key,(k,_)=>{var N=ne(),M=K(N);ie(M,()=>h(_).type==="ellipsis",I=>{var B=rc();z(I,B)},I=>{var B=ne(),F=K(B);Oe(F,()=>qs,(D,q)=>{q(D,{get page(){return h(_)},children:(U,v)=>{Ne();var a=Ie();X(()=>re(a,h(_).value)),z(U,a)},$$slots:{default:!0}})}),z(I,B)}),z(k,N)}),C($);var j=W($,2);Oe(j,()=>Us,(k,_)=>{_(k,{children:(N,M)=>{ti(N,{})},$$slots:{default:!0}})}),C(m);var E=W(m,2),P=R(E);C(E),X(()=>re(P,`Showing ${x().start+1} - ${x().end??""}`)),z(p,g)},$$slots:{default:!0}})}),z(n,s)}),z(e,r)}var oc=J("<a> </a>"),sc=J("<a> </a>"),ic=J("<tr><td><!></td><td><!></td><td><!></td><td><!></td><td> </td><td><!></td><td><!></td><td> </td><td> </td></tr>");function ac(e,t){we(t,!0);var r=ic(),o=R(r),n=R(o);Ot(n,{get id(){return t.inscription.file},children:(P,k)=>{Ne();var _=Ie();X(()=>re(_,t.inscription.file)),z(P,_)},$$slots:{default:!0}}),C(o);var s=W(o),i=R(s);Ot(i,{get id(){return t.inscription.file},children:(P,k)=>{Ne();var _=Ie();X(()=>re(_,t.inscription.title)),z(P,_)},$$slots:{default:!0}}),C(s);var c=W(s),d=R(c);io(d,{get inscription(){return t.inscription}}),C(c);var u=W(c),p=R(u);To(p,{get inscription(){return t.inscription}}),C(u);var w=W(u),y=R(w,!0);C(w);var x=W(w),g=R(x);ie(g,()=>{var P;return(P=t.inscription.type)==null?void 0:P.ref},P=>{var k=oc(),_=R(k,!0);C(k),X(()=>{var N;Ue(k,"href",t.inscription.type.ref),re(_,(N=t.inscription.type)==null?void 0:N._)}),z(P,k)},P=>{var k=Ie();X(()=>{var _;return re(k,((_=t.inscription.type)==null?void 0:_._)||"N/A")}),z(P,k)}),C(x);var m=W(x),f=R(m);ie(f,()=>{var P;return(P=t.inscription.objectType)==null?void 0:P.ref},P=>{var k=sc(),_=R(k,!0);C(k),X(()=>{var N;Ue(k,"href",t.inscription.objectType.ref),re(_,(N=t.inscription.objectType)==null?void 0:N._)}),z(P,k)},P=>{var k=Ie();X(()=>{var _;return re(k,((_=t.inscription.objectType)==null?void 0:_._)||"N/A")}),z(P,k)}),C(m);var $=W(m),T=R($,!0);C($);var j=W($),E=R(j,!0);C(j),C(r),X(()=>{var P;re(y,t.inscription.status),re(T,((P=t.inscription.textLang)==null?void 0:P._)||"N/A"),re(E,t.inscription.settlement||"N/A")}),z(e,r),xe()}var cc=J('<table class="svelte-g7in6g"><thead><tr><th>ID</th><th>Title</th><th>Date</th><th>Place</th><th>Status</th><th>Type</th><th>Object type</th><th>Language</th><th>Settlement</th></tr></thead><!></table>');function lc(e,t){var r=cc(),o=W(R(r));Be(o,17,()=>t.inscriptions,Ke,(n,s)=>{ac(n,{get inscription(){return h(s)}})}),C(r),z(e,r)}let Vt=String.fromCharCode,Co="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",Ht={};function uc(e,t){if(!Ht[e]){Ht[e]={};for(let r=0;r<e.length;r++)Ht[e][e.charAt(r)]=r}return Ht[e][t]}function dc(e){return e==null?"":hc(e,6,function(t){return Co.charAt(t)})}function fc(e){return e==null?"":e==""?null:gc((e=e.replace(/ /g,"+")).length,32,function(t){return uc(Co,e.charAt(t))})}function hc(e,t,r){if(e==null)return"";let o,n,s={},i={},c="",d="",u="",p=2,w=3,y=2,x=[],g=0,m=0,f;for(f=0;f<e.length;f+=1)if(c=e.charAt(f),Object.prototype.hasOwnProperty.call(s,c)||(s[c]=w++,i[c]=!0),d=u+c,Object.prototype.hasOwnProperty.call(s,d))u=d;else{if(Object.prototype.hasOwnProperty.call(i,u)){if(256>u.charCodeAt(0)){for(o=0;o<y;o++)g<<=1,m==t-1?(m=0,x.push(r(g)),g=0):m++;for(o=0,n=u.charCodeAt(0);o<8;o++)g=g<<1|1&n,m==t-1?(m=0,x.push(r(g)),g=0):m++,n>>=1}else{for(o=0,n=1;o<y;o++)g=g<<1|n,m==t-1?(m=0,x.push(r(g)),g=0):m++,n=0;for(o=0,n=u.charCodeAt(0);o<16;o++)g=g<<1|1&n,m==t-1?(m=0,x.push(r(g)),g=0):m++,n>>=1}--p==0&&(p=Math.pow(2,y),y++),delete i[u]}else for(o=0,n=s[u];o<y;o++)g=g<<1|1&n,m==t-1?(m=0,x.push(r(g)),g=0):m++,n>>=1;--p==0&&(p=Math.pow(2,y),y++),s[d]=w++,u=String(c)}if(u!==""){if(Object.prototype.hasOwnProperty.call(i,u)){if(256>u.charCodeAt(0)){for(o=0;o<y;o++)g<<=1,m==t-1?(m=0,x.push(r(g)),g=0):m++;for(o=0,n=u.charCodeAt(0);o<8;o++)g=g<<1|1&n,m==t-1?(m=0,x.push(r(g)),g=0):m++,n>>=1}else{for(o=0,n=1;o<y;o++)g=g<<1|n,m==t-1?(m=0,x.push(r(g)),g=0):m++,n=0;for(o=0,n=u.charCodeAt(0);o<16;o++)g=g<<1|1&n,m==t-1?(m=0,x.push(r(g)),g=0):m++,n>>=1}--p==0&&(p=Math.pow(2,y),y++),delete i[u]}else for(o=0,n=s[u];o<y;o++)g=g<<1|1&n,m==t-1?(m=0,x.push(r(g)),g=0):m++,n>>=1;--p==0&&(p=Math.pow(2,y),y++)}for(o=0,n=2;o<y;o++)g=g<<1|1&n,m==t-1?(m=0,x.push(r(g)),g=0):m++,n>>=1;for(;;){if(g<<=1,m==t-1){x.push(r(g));break}m++}return x.join("")}function gc(e,t,r){let o=[],n=4,s=4,i=3,c="",d=[],u,p,w,y,x,g,m,f={val:r(0),position:t,index:1};for(u=0;u<3;u+=1)o[u]=u;for(w=0,x=4,g=1;g!=x;)y=f.val&f.position,f.position>>=1,f.position==0&&(f.position=t,f.val=r(f.index++)),w|=(y>0?1:0)*g,g<<=1;switch(w){case 0:for(w=0,x=256,g=1;g!=x;)y=f.val&f.position,f.position>>=1,f.position==0&&(f.position=t,f.val=r(f.index++)),w|=(y>0?1:0)*g,g<<=1;m=Vt(w);break;case 1:for(w=0,x=65536,g=1;g!=x;)y=f.val&f.position,f.position>>=1,f.position==0&&(f.position=t,f.val=r(f.index++)),w|=(y>0?1:0)*g,g<<=1;m=Vt(w);break;case 2:return""}for(o[3]=m,p=m,d.push(m);;){if(f.index>e)return"";for(w=0,x=Math.pow(2,i),g=1;g!=x;)y=f.val&f.position,f.position>>=1,f.position==0&&(f.position=t,f.val=r(f.index++)),w|=(y>0?1:0)*g,g<<=1;switch(m=w){case 0:for(w=0,x=256,g=1;g!=x;)y=f.val&f.position,f.position>>=1,f.position==0&&(f.position=t,f.val=r(f.index++)),w|=(y>0?1:0)*g,g<<=1;o[s++]=Vt(w),m=s-1,n--;break;case 1:for(w=0,x=65536,g=1;g!=x;)y=f.val&f.position,f.position>>=1,f.position==0&&(f.position=t,f.val=r(f.index++)),w|=(y>0?1:0)*g,g<<=1;o[s++]=Vt(w),m=s-1,n--;break;case 2:return d.join("")}if(n==0&&(n=Math.pow(2,i),i++),o[m])c=o[m];else{if(m!==s)return null;c=p+p.charAt(0)}d.push(c),o[s++]=p+c.charAt(0),n--,p=c,n==0&&(n=Math.pow(2,i),i++)}}let No;No=xs;const pc={keepFocus:!0,noScroll:!0,replaceState:!0},mc={keepFocus:!0,noScroll:!0,replaceState:!1};function hr(e,t,r=(o,n)=>JSON.stringify(o)===JSON.stringify(n)){return typeof e=="object"&&typeof t=="object"&&r(e,t)}const gr={object:e=>({encode:t=>JSON.stringify(t),decode:t=>{if(t===null)return null;try{return JSON.parse(t)}catch{return null}},defaultValue:e}),array:e=>({encode:t=>JSON.stringify(t),decode:t=>{if(t===null)return null;try{return JSON.parse(t)}catch{return null}},defaultValue:e}),number:e=>({encode:t=>t.toString(),decode:t=>t?parseFloat(t):null,defaultValue:e}),boolean:e=>({encode:t=>t+"",decode:t=>t!==null&&t!=="false",defaultValue:e}),string:e=>({encode:t=>t??"",decode:t=>t,defaultValue:e}),lz:e=>({encode:t=>dc(JSON.stringify(t)),decode:t=>{if(!t)return null;try{return JSON.parse(fc(t)??"")}catch{return null}},defaultValue:e})},pr=new Set;let pn;const mn=new Map,mr={encode:e=>e.toString(),decode:e=>e?e.toString():null};function vr(e,{encode:t=mr.encode,decode:r=mr.decode,defaultValue:o}=mr,{debounceHistory:n=0,pushHistory:s=!0,sort:i=!0,showDefaults:c=!0,equalityFn:d}={}){const u=ut(null);let p=!0,w;function y(g,m){p=!1;const f=window.location.hash,$=j=>{if(g==null)j.delete(e);else{const E=t(g);E==null?j.delete(e):j.set(e,E)}};pr.add($),clearTimeout(pn);const T=new URLSearchParams(window.location.search);pn=setTimeout(async()=>{pr.forEach(j=>{j(T)}),clearTimeout(mn.get(e));{u.set(g);async function j(){i&&T.sort(),await ws(`?${T}${f}`,s?mc:pc),u.set(null)}m||n===0?j():mn.set(e,setTimeout(j,n))}pr.clear()})}const{subscribe:x}=Et([No,u],([g,m],f)=>{var j,E,P;if(m!=null)return hr(w,m,d)?void 0:(w=structuredClone(m),f(m));const $=(P=(E=(j=g==null?void 0:g.url)==null?void 0:j.searchParams)==null?void 0:E.get)==null?void 0:P.call(E,e);if($==null&&o!=null)return c&&y(o,p),hr(w,o,d)?void 0:(w=structuredClone(o),f(o));const T=r($);if(!hr(w,T,d))return w=structuredClone(T),f(T)});return{set(g){y(g)},subscribe:x,update:g=>{const m=g(w);y(m)}}}var vc="Expected a function",vn=NaN,yc="[object Symbol]",bc=/^\s+|\s+$/g,_c=/^[-+]0x[0-9a-f]+$/i,wc=/^0b[01]+$/i,xc=/^0o[0-7]+$/i,Sc=parseInt,kc=typeof Ut=="object"&&Ut&&Ut.Object===Object&&Ut,$c=typeof self=="object"&&self&&self.Object===Object&&self,jc=kc||$c||Function("return this")(),Oc=Object.prototype,Pc=Oc.toString,Ac=Math.max,zc=Math.min,yr=function(){return jc.Date.now()};function Ec(e,t,r){var o,n,s,i,c,d,u=0,p=!1,w=!1,y=!0;if(typeof e!="function")throw new TypeError(vc);t=yn(t)||0,Pr(r)&&(p=!!r.leading,w="maxWait"in r,s=w?Ac(yn(r.maxWait)||0,t):s,y="trailing"in r?!!r.trailing:y);function x(k){var _=o,N=n;return o=n=void 0,u=k,i=e.apply(N,_),i}function g(k){return u=k,c=setTimeout($,t),p?x(k):i}function m(k){var _=k-d,N=k-u,M=t-_;return w?zc(M,s-N):M}function f(k){var _=k-d,N=k-u;return d===void 0||_>=t||_<0||w&&N>=s}function $(){var k=yr();if(f(k))return T(k);c=setTimeout($,m(k))}function T(k){return c=void 0,y&&o?x(k):(o=n=void 0,i)}function j(){c!==void 0&&clearTimeout(c),u=0,o=d=n=c=void 0}function E(){return c===void 0?i:T(yr())}function P(){var k=yr(),_=f(k);if(o=arguments,n=this,d=k,_){if(c===void 0)return g(d);if(w)return c=setTimeout($,t),x(d)}return c===void 0&&(c=setTimeout($,t)),i}return P.cancel=j,P.flush=E,P}function Pr(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Tc(e){return!!e&&typeof e=="object"}function Cc(e){return typeof e=="symbol"||Tc(e)&&Pc.call(e)==yc}function yn(e){if(typeof e=="number")return e;if(Cc(e))return vn;if(Pr(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Pr(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(bc,"");var r=wc.test(e);return r||xc.test(e)?Sc(e.slice(2),r?2:8):_c.test(e)?vn:+e}var Nc=Ec;const Rc=bs(Nc);var Mc=J('<label class="svelte-tan1rs"><input type="radio" name="sort-aggregations"> </label>'),Ic=J('<span class="slider-track"><!></span> <!>',1),Lc=J('<section class="filter-group svelte-tan1rs"><h3 class="svelte-tan1rs">Date</h3> <div class="slider"><!></div> <div class="date-inputs svelte-tan1rs"><label>Not before <input type="number"></label> <span>–</span> <label><input type="number"> Not after</label></div></section>'),Fc=J('<input type="text" placeholder="Filter options..." class="filter-input svelte-tan1rs">'),Wc=J('<li><label><input type="checkbox"> </label></li>'),Bc=J('<section class="filter-group svelte-tan1rs"><h3 class="svelte-tan1rs"> </h3> <!> <ul class="svelte-tan1rs"></ul></section>'),Uc=J('<aside class="filters svelte-tan1rs" tabindex="0"><section class="svelte-tan1rs"><h2 class="svelte-tan1rs">Filters</h2> <section class="filters-options svelte-tan1rs"><h3 class="svelte-tan1rs">Options</h3> <form><fieldset class="svelte-tan1rs"><legend>Sort filters by</legend> <!></fieldset></form></section> <section class="filters-groups svelte-tan1rs"><!> <!></section></section></aside>');function Dc(e,t){we(t,!0);const r=[],o=[];let n=te(t,"show",3,!1),s=te(t,"aggregations",19,()=>({})),i=te(t,"sortAggregationsBy",15,"key"),c=te(t,"selectedDateRange",31,()=>ue([-700,1830])),d=te(t,"selectedFilters",31,()=>ue({}));const u=[{label:"Value",value:"key"},{label:"Count",value:"count"}];let p=Me(ue(c()));const w=Rc(E=>{c(E)},300);jr(()=>{w([...h(p)])});let y=ue({}),x=Me(null);function g(E){var P;Y(x,ue(document.activeElement)),(P=E.currentTarget)==null||P.focus()}function m(){h(x)&&h(x).focus()}function f(E,P){var _;const k=((_=y[P])==null?void 0:_.toLowerCase())||"";return k?E.filter(N=>N.key.toLowerCase().includes(k)):E}function $(E){if(E.indexOf(":::")==-1)return E;const P=E.split(":::"),k=P.length;return i()==="count"?P.pop()||"":`${"+".repeat(k-1)} ${P.pop()}`}var T=ne(),j=K(T);ie(j,n,E=>{var P=Uc(),k=R(P),_=W(R(k),2),N=W(R(_),2),M=R(N),I=W(R(M),2);Be(I,17,()=>u,Ke,(q,U)=>{var v=Mc(),a=R(v);mt(a);var l,b=W(a);C(v),X(()=>{l!==(l=h(U).value)&&(a.value=(a.__value=h(U).value)==null?"":h(U).value),re(b,` ${h(U).label??""}`)}),rn(r,[],a,()=>(h(U).value,i()),i),z(q,v)}),C(M),C(N),C(_);var B=W(_,2),F=R(B);ie(F,()=>{var q;return(q=s())==null?void 0:q.notBefore},q=>{var U=Lc(),v=W(R(U),2),a=R(v);Oe(a,()=>Js,(V,oe)=>{oe(V,{class:"slider-root",min:-700,max:1830,step:1,get value(){return h(p)},set value(H){Y(p,ue(H))},children:is,$$slots:{default:(H,ee)=>{const le=ge(()=>ee.thumbs);var me=Ic(),fe=K(me),Se=R(fe);Oe(Se,()=>Ks,($e,Te)=>{Te($e,{class:"slider-range"})}),C(fe);var ke=W(fe,2);Be(ke,17,()=>h(le),Ke,($e,Te,L)=>{var Z=ne(),ve=K(Z);Oe(ve,()=>Zs,(We,ye)=>{ye(We,{get thumb(){return h(Te)},class:"slider-thumb","aria-label":`${L===0?"Not before":"Not after"}`})}),z($e,Z)}),z(H,me)}}})}),C(v);var l=W(v,2),b=R(l),S=W(R(b));mt(S),Ue(S,"min",-700),Ue(S,"max",1811),C(b);var O=W(b,4),A=R(O);mt(A),Ue(A,"min",-675),Ue(A,"max",1830),Ne(),C(O),C(l),C(U),Zt(S,()=>h(p)[0],V=>h(p)[0]=V),Zt(A,()=>h(p)[1],V=>h(p)[1]=V),z(q,U)});var D=W(F,2);Be(D,17,()=>Object.keys(d()),Ke,(q,U,v)=>{var a=ne(),l=K(a);ie(l,()=>h(U)in s()&&s()[h(U)].title,b=>{var S=Bc(),O=R(S),A=R(O);C(O);var V=W(O,2);ie(V,()=>s()[h(U)].buckets.length>20,H=>{var ee=Fc();mt(ee),Zt(ee,()=>y[h(U)],le=>y[h(U)]=le),z(H,ee)});var oe=W(V,2);Be(oe,21,()=>f(s()[h(U)].buckets,h(U)),Ke,(H,ee)=>{var le=Wc(),me=R(le),fe=R(me);mt(fe);var Se,ke=W(fe);X(()=>re(ke,` ${$(h(ee).key)??""} (${h(ee).doc_count??""})`)),C(me),C(le),X(()=>{Se!==(Se=h(ee).key)&&(fe.value=(fe.__value=h(ee).key)==null?"":h(ee).key)}),rn(o,[v],fe,()=>(h(ee).key,d()[h(U)]),$e=>d(d()[h(U)]=$e,!0)),z(H,le)}),C(oe),C(S),X(()=>re(A,`${s()[h(U)].title??""} (${s()[h(U)].buckets.length??""})`)),z(b,S)}),z(q,a)}),C(B),C(k),C(P),Le("introend",P,g),Le("outroend",P,m),$t(3,P,()=>ds,()=>({axis:"x"})),z(E,P)}),z(e,T),xe()}var qc=J(", matching <em> </em>",1),Vc=J('<span class="svelte-eb26nt"> <em> </em></span>'),Hc=J(', filtered by <span class="selected-filters svelte-eb26nt"></span>',1),Jc=J('<h2 class="svelte-eb26nt"><em> </em> Inscriptions between <em> </em> – <em> </em> across <em> </em> locations<!><!></h2>');function Gc(e,t){we(t,!0);let r=ge(()=>Object.values(t.filters).some(g=>g.length>0));var o=Jc(),n=R(o),s=R(n,!0);X(()=>re(s,t.total.toLocaleString())),C(n);var i=W(n,2),c=R(i,!0);X(()=>re(c,t.dateRange[0]>0?`AD ${t.dateRange[0]}`:`${Math.abs(t.dateRange[0])} BC`)),C(i);var d=W(i,2),u=R(d,!0);X(()=>re(u,t.dateRange[1]>0?`AD ${t.dateRange[1]}`:`${Math.abs(t.dateRange[1])} BC`)),C(d);var p=W(d,2),w=R(p,!0);X(()=>re(w,t.numberOfLocations.toLocaleString())),C(p);var y=W(p,2);ie(y,()=>t.query,g=>{var m=qc(),f=W(K(m)),$=R(f,!0);X(()=>re($,t.query.split(" ").join(", "))),C(f),z(g,m)});var x=W(y);ie(x,()=>h(r),g=>{var m=Hc(),f=W(K(m));Be(f,21,()=>Object.entries(t.filters).filter(([$,T])=>T.length>0),Ke,($,T)=>{let j=()=>h(T)[0],E=()=>h(T)[1];var P=Vc(),k=R(P),_=W(k),N=R(_,!0);X(()=>re(N,E().join(", ").replaceAll("_"," ").replaceAll(":::"," "))),C(_),C(P),X(()=>re(k,`${j()??""}: `)),z($,P)}),C(f),z(g,m)}),C(o),z(e,o),xe()}var Ro=typeof global=="object"&&global&&global.Object===Object&&global,Kc=typeof self=="object"&&self&&self.Object===Object&&self,De=Ro||Kc||Function("return this")(),Re=De.Symbol,Mo=Object.prototype,Xc=Mo.hasOwnProperty,Zc=Mo.toString,St=Re?Re.toStringTag:void 0,Yc=Object.prototype.toString,Qc="[object Null]",el="[object Undefined]",bn=Re?Re.toStringTag:void 0;function wt(e){return e==null?e===void 0?el:Qc:bn&&bn in Object(e)?function(t){var r=Xc.call(t,St),o=t[St];try{t[St]=void 0;var n=!0}catch{}var s=Zc.call(t);return n&&(r?t[St]=o:delete t[St]),s}(e):function(t){return Yc.call(t)}(e)}function dt(e){return e!=null&&typeof e=="object"}var tl="[object Symbol]";function Ct(e){return typeof e=="symbol"||dt(e)&&wt(e)==tl}function Pt(e,t){for(var r=-1,o=e==null?0:e.length,n=Array(o);++r<o;)n[r]=t(e[r],r,e);return n}var Fe=Array.isArray,rl=1/0,_n=Re?Re.prototype:void 0,wn=_n?_n.toString:void 0;function Io(e){if(typeof e=="string")return e;if(Fe(e))return Pt(e,Io)+"";if(Ct(e))return wn?wn.call(e):"";var t=e+"";return t=="0"&&1/e==-rl?"-0":t}function er(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function tr(e){return e}var nl="[object AsyncFunction]",ol="[object Function]",sl="[object GeneratorFunction]",il="[object Proxy]";function Lo(e){if(!er(e))return!1;var t=wt(e);return t==ol||t==sl||t==nl||t==il}var xn,br=De["__core-js_shared__"],Sn=(xn=/[^.]+$/.exec(br&&br.keys&&br.keys.IE_PROTO||""))?"Symbol(src)_1."+xn:"",al=Function.prototype.toString;function ht(e){if(e!=null){try{return al.call(e)}catch{}try{return e+""}catch{}}return""}var cl=/^\[object .+?Constructor\]$/,ll=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gt(e,t){var r=function(o,n){return o==null?void 0:o[n]}(e,t);return function(o){return!(!er(o)||(n=o,Sn&&Sn in n))&&(Lo(o)?ll:cl).test(ht(o));var n}(r)?r:void 0}var kn,_r,wr,Ar=gt(De,"WeakMap"),ul=Date.now,dl=function(){try{var e=gt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),$n=dl,fl=$n?function(e,t){return $n(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:tr,hl=(kn=fl,_r=0,wr=0,function(){var e=ul(),t=16-(e-wr);if(wr=e,t>0){if(++_r>=800)return arguments[0]}else _r=0;return kn.apply(void 0,arguments)});function gl(e){return e!=e}function pl(e,t){return!(e==null||!e.length)&&function(r,o,n){return o==o?function(s,i,c){for(var d=-1,u=s.length;++d<u;)if(s[d]===i)return d;return-1}(r,o):function(s,i,c,d){for(var u=s.length,p=-1;++p<u;)if(i(s[p],p,s))return p;return-1}(r,gl)}(e,t)>-1}var ml=9007199254740991,vl=/^(?:0|[1-9]\d*)$/;function qr(e,t){var r=typeof e;return!!(t=t??ml)&&(r=="number"||r!="symbol"&&vl.test(e))&&e>-1&&e%1==0&&e<t}function Vr(e,t){return e===t||e!=e&&t!=t}var jn=Math.max;function Fo(e,t){return hl(function(r,o,n){return o=jn(o===void 0?r.length-1:o,0),function(){for(var s=arguments,i=-1,c=jn(s.length-o,0),d=Array(c);++i<c;)d[i]=s[o+i];i=-1;for(var u=Array(o+1);++i<o;)u[i]=s[i];return u[o]=n(d),function(p,w,y){switch(y.length){case 0:return p.call(w);case 1:return p.call(w,y[0]);case 2:return p.call(w,y[0],y[1]);case 3:return p.call(w,y[0],y[1],y[2])}return p.apply(w,y)}(r,this,u)}}(e,t,tr),e+"")}var yl=9007199254740991;function Hr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=yl}function Rt(e){return e!=null&&Hr(e.length)&&!Lo(e)}function On(e,t,r){if(!er(r))return!1;var o=typeof t;return!!(o=="number"?Rt(r)&&qr(t,r.length):o=="string"&&t in r)&&Vr(r[t],e)}var bl=Object.prototype;function _l(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||bl)}function Pn(e){return dt(e)&&wt(e)=="[object Arguments]"}var Wo=Object.prototype,wl=Wo.hasOwnProperty,xl=Wo.propertyIsEnumerable,Jr=Pn(function(){return arguments}())?Pn:function(e){return dt(e)&&wl.call(e,"callee")&&!xl.call(e,"callee")},Bo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,An=Bo&&typeof module=="object"&&module&&!module.nodeType&&module,zn=An&&An.exports===Bo?De.Buffer:void 0,zr=(zn?zn.isBuffer:void 0)||function(){return!1},ce={};function Uo(e){return function(t){return e(t)}}ce["[object Float32Array]"]=ce["[object Float64Array]"]=ce["[object Int8Array]"]=ce["[object Int16Array]"]=ce["[object Int32Array]"]=ce["[object Uint8Array]"]=ce["[object Uint8ClampedArray]"]=ce["[object Uint16Array]"]=ce["[object Uint32Array]"]=!0,ce["[object Arguments]"]=ce["[object Array]"]=ce["[object ArrayBuffer]"]=ce["[object Boolean]"]=ce["[object DataView]"]=ce["[object Date]"]=ce["[object Error]"]=ce["[object Function]"]=ce["[object Map]"]=ce["[object Number]"]=ce["[object Object]"]=ce["[object RegExp]"]=ce["[object Set]"]=ce["[object String]"]=ce["[object WeakMap]"]=!1;var Do=typeof exports=="object"&&exports&&!exports.nodeType&&exports,At=Do&&typeof module=="object"&&module&&!module.nodeType&&module,xr=At&&At.exports===Do&&Ro.process,bt=function(){try{return At&&At.require&&At.require("util").types||xr&&xr.binding&&xr.binding("util")}catch{}}(),En=bt&&bt.isTypedArray,qo=En?Uo(En):function(e){return dt(e)&&Hr(e.length)&&!!ce[wt(e)]},Sl=Object.prototype.hasOwnProperty;function kl(e,t){var r=Fe(e),o=!r&&Jr(e),n=!r&&!o&&zr(e),s=!r&&!o&&!n&&qo(e),i=r||o||n||s,c=i?function(p,w){for(var y=-1,x=Array(p);++y<p;)x[y]=w(y);return x}(e.length,String):[],d=c.length;for(var u in e)!Sl.call(e,u)||i&&(u=="length"||n&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||qr(u,d))||c.push(u);return c}function $l(e,t){return function(r){return e(t(r))}}var jl=$l(Object.keys,Object),Ol=Object.prototype.hasOwnProperty;function Gr(e){return Rt(e)?kl(e):function(t){if(!_l(t))return jl(t);var r=[];for(var o in Object(t))Ol.call(t,o)&&o!="constructor"&&r.push(o);return r}(e)}var Pl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Al=/^\w*$/;function Er(e,t){if(Fe(e))return!1;var r=typeof e;return!(r!="number"&&r!="symbol"&&r!="boolean"&&e!=null&&!Ct(e))||Al.test(e)||!Pl.test(e)||t!=null&&e in Object(t)}var kt=gt(Object,"create"),zl=Object.prototype.hasOwnProperty,El=Object.prototype.hasOwnProperty;function ct(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}function Jt(e,t){for(var r=e.length;r--;)if(Vr(e[r][0],t))return r;return-1}ct.prototype.clear=function(){this.__data__=kt?kt(null):{},this.size=0},ct.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ct.prototype.get=function(e){var t=this.__data__;if(kt){var r=t[e];return r==="__lodash_hash_undefined__"?void 0:r}return zl.call(t,e)?t[e]:void 0},ct.prototype.has=function(e){var t=this.__data__;return kt?t[e]!==void 0:El.call(t,e)},ct.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=kt&&t===void 0?"__lodash_hash_undefined__":t,this};var Tl=Array.prototype.splice;function Je(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}Je.prototype.clear=function(){this.__data__=[],this.size=0},Je.prototype.delete=function(e){var t=this.__data__,r=Jt(t,e);return!(r<0||(r==t.length-1?t.pop():Tl.call(t,r,1),--this.size,0))},Je.prototype.get=function(e){var t=this.__data__,r=Jt(t,e);return r<0?void 0:t[r][1]},Je.prototype.has=function(e){return Jt(this.__data__,e)>-1},Je.prototype.set=function(e,t){var r=this.__data__,o=Jt(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this};var Nt=gt(De,"Map");function Gt(e,t){var r,o,n=e.__data__;return((o=typeof(r=t))=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null)?n[typeof t=="string"?"string":"hash"]:n.map}function He(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}function Kr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var r=function(){var o=arguments,n=t?t.apply(this,o):o[0],s=r.cache;if(s.has(n))return s.get(n);var i=e.apply(this,o);return r.cache=s.set(n,i)||s,i};return r.cache=new(Kr.Cache||He),r}He.prototype.clear=function(){this.size=0,this.__data__={hash:new ct,map:new(Nt||Je),string:new ct}},He.prototype.delete=function(e){var t=Gt(this,e).delete(e);return this.size-=t?1:0,t},He.prototype.get=function(e){return Gt(this,e).get(e)},He.prototype.has=function(e){return Gt(this,e).has(e)},He.prototype.set=function(e,t){var r=Gt(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this},Kr.Cache=He;var Sr,kr,Cl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nl=/\\(\\)?/g,Rl=(Sr=Kr(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Cl,function(r,o,n,s){t.push(n?s.replace(Nl,"$1"):o||r)}),t},function(e){return kr.size===500&&kr.clear(),e}),kr=Sr.cache,Sr);function Vo(e,t){return Fe(e)?e:Er(e,t)?[e]:Rl(function(r){return r==null?"":Io(r)}(e))}var Ml=1/0;function Yt(e){if(typeof e=="string"||Ct(e))return e;var t=e+"";return t=="0"&&1/e==-Ml?"-0":t}function Tr(e,t){for(var r=0,o=(t=Vo(t,e)).length;e!=null&&r<o;)e=e[Yt(t[r++])];return r&&r==o?e:void 0}function Ho(e,t){for(var r=-1,o=t.length,n=e.length;++r<o;)e[n+r]=t[r];return e}var Tn=Re?Re.isConcatSpreadable:void 0;function Il(e){return Fe(e)||Jr(e)||!!(Tn&&e&&e[Tn])}function Ll(e,t,r,o,n){var s=-1,i=e.length;for(r||(r=Il),n||(n=[]);++s<i;){var c=e[s];r(c)?Ho(n,c):n[n.length]=c}return n}function Ge(e){var t=this.__data__=new Je(e);this.size=t.size}Ge.prototype.clear=function(){this.__data__=new Je,this.size=0},Ge.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Ge.prototype.get=function(e){return this.__data__.get(e)},Ge.prototype.has=function(e){return this.__data__.has(e)},Ge.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Je){var o=r.__data__;if(!Nt||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new He(o)}return r.set(e,t),this.size=r.size,this};var Jo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Cn=Jo&&typeof module=="object"&&module&&!module.nodeType&&module,Nn=Cn&&Cn.exports===Jo?De.Buffer:void 0;Nn&&Nn.allocUnsafe;function Fl(){return[]}var Wl=Object.prototype.propertyIsEnumerable,Rn=Object.getOwnPropertySymbols,Bl=Rn?function(e){return e==null?[]:(e=Object(e),function(t,r){for(var o=-1,n=t==null?0:t.length,s=0,i=[];++o<n;){var c=t[o];Wl.call(e,c)&&(i[s++]=c)}return i}(Rn(e)))}:Fl,Ul=Bl;function Dl(e,t,r){var o=t(e);return Fe(e)?o:Ho(o,r(e))}function Mn(e){return Dl(e,Gr,Ul)}var Cr=gt(De,"DataView"),Nr=gt(De,"Promise"),Rr=gt(De,"Set"),In="[object Map]",Ln="[object Promise]",Fn="[object Set]",Wn="[object WeakMap]",Bn="[object DataView]",ql=ht(Cr),Vl=ht(Nt),Hl=ht(Nr),Jl=ht(Rr),Gl=ht(Ar),at=wt;(Cr&&at(new Cr(new ArrayBuffer(1)))!=Bn||Nt&&at(new Nt)!=In||Nr&&at(Nr.resolve())!=Ln||Rr&&at(new Rr)!=Fn||Ar&&at(new Ar)!=Wn)&&(at=function(e){var t=wt(e),r=t=="[object Object]"?e.constructor:void 0,o=r?ht(r):"";if(o)switch(o){case ql:return Bn;case Vl:return In;case Hl:return Ln;case Jl:return Fn;case Gl:return Wn}return t});var Un=at,Dn=De.Uint8Array,qn=Re?Re.prototype:void 0;qn&&qn.valueOf;bt&&bt.isMap;bt&&bt.isSet;function zt(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new He;++t<r;)this.add(e[t])}function Kl(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}function Mr(e,t){return e.has(t)}zt.prototype.add=zt.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},zt.prototype.has=function(e){return this.__data__.has(e)};var Xl=1,Zl=2;function Vn(e,t,r,o,n,s){var i=r&Xl,c=e.length,d=t.length;if(c!=d&&!(i&&d>c))return!1;var u=s.get(e),p=s.get(t);if(u&&p)return u==t&&p==e;var w=-1,y=!0,x=r&Zl?new zt:void 0;for(s.set(e,t),s.set(t,e);++w<c;){var g=e[w],m=t[w];if(o)var f=i?o(m,g,w,t,e,s):o(g,m,w,e,t,s);if(f!==void 0){if(f)continue;y=!1;break}if(x){if(!Kl(t,function($,T){if(!Mr(x,T)&&(g===$||n(g,$,r,o,s)))return x.push(T)})){y=!1;break}}else if(g!==m&&!n(g,m,r,o,s)){y=!1;break}}return s.delete(e),s.delete(t),y}function Yl(e){var t=-1,r=Array(e.size);return e.forEach(function(o,n){r[++t]=[n,o]}),r}function Ql(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}var eu=1,tu=2,ru="[object Boolean]",nu="[object Date]",ou="[object Error]",su="[object Map]",iu="[object Number]",au="[object RegExp]",cu="[object Set]",lu="[object String]",uu="[object Symbol]",du="[object ArrayBuffer]",fu="[object DataView]",Hn=Re?Re.prototype:void 0,$r=Hn?Hn.valueOf:void 0,hu=1,gu=Object.prototype.hasOwnProperty,pu=1,Jn="[object Arguments]",Gn="[object Array]",Kt="[object Object]",Kn=Object.prototype.hasOwnProperty;function Ir(e,t,r,o,n){return e===t||(e==null||t==null||!dt(e)&&!dt(t)?e!=e&&t!=t:function(s,i,c,d,u,p){var w=Fe(s),y=Fe(i),x=w?Gn:Un(s),g=y?Gn:Un(i),m=(x=x==Jn?Kt:x)==Kt,f=(g=g==Jn?Kt:g)==Kt,$=x==g;if($&&zr(s)){if(!zr(i))return!1;w=!0,m=!1}if($&&!m)return p||(p=new Ge),w||qo(s)?Vn(s,i,c,d,u,p):function(k,_,N,M,I,B,F){switch(N){case fu:if(k.byteLength!=_.byteLength||k.byteOffset!=_.byteOffset)return!1;k=k.buffer,_=_.buffer;case du:return!(k.byteLength!=_.byteLength||!B(new Dn(k),new Dn(_)));case ru:case nu:case iu:return Vr(+k,+_);case ou:return k.name==_.name&&k.message==_.message;case au:case lu:return k==_+"";case su:var D=Yl;case cu:if(D||(D=Ql),k.size!=_.size&&!(M&eu))return!1;var q=F.get(k);if(q)return q==_;M|=tu,F.set(k,_);var U=Vn(D(k),D(_),M,I,B,F);return F.delete(k),U;case uu:if($r)return $r.call(k)==$r.call(_)}return!1}(s,i,x,c,d,u,p);if(!(c&pu)){var T=m&&Kn.call(s,"__wrapped__"),j=f&&Kn.call(i,"__wrapped__");if(T||j){var E=T?s.value():s,P=j?i.value():i;return p||(p=new Ge),u(E,P,c,d,p)}}return!!$&&(p||(p=new Ge),function(k,_,N,M,I,B){var F=N&hu,D=Mn(k),q=D.length;if(q!=Mn(_).length&&!F)return!1;for(var U=q;U--;){var v=D[U];if(!(F?v in _:gu.call(_,v)))return!1}var a=B.get(k),l=B.get(_);if(a&&l)return a==_&&l==k;var b=!0;B.set(k,_),B.set(_,k);for(var S=F;++U<q;){var O=k[v=D[U]],A=_[v];if(M)var V=F?M(A,O,v,_,k,B):M(O,A,v,k,_,B);if(!(V===void 0?O===A||I(O,A,N,M,B):V)){b=!1;break}S||(S=v=="constructor")}if(b&&!S){var oe=k.constructor,H=_.constructor;oe==H||!("constructor"in k)||!("constructor"in _)||typeof oe=="function"&&oe instanceof oe&&typeof H=="function"&&H instanceof H||(b=!1)}return B.delete(k),B.delete(_),b}(s,i,c,d,u,p))}(e,t,r,o,Ir,n))}var mu=1,vu=2;function Xn(e){return e==e&&!er(e)}function Zn(e,t){return function(r){return r!=null&&r[e]===t&&(t!==void 0||e in Object(r))}}function yu(e,t){return e!=null&&t in Object(e)}var bu=1,_u=2;function wu(e){return typeof e=="function"?e:e==null?tr:typeof e=="object"?Fe(e)?function(s,i){return Er(s)&&Xn(i)?Zn(Yt(s),i):function(c){var d=function(u,p,w){var y=u==null?void 0:Tr(u,p);return y===void 0?void 0:y}(c,s);return d===void 0&&d===i?function(u,p){return u!=null&&function(w,y,x){for(var g=-1,m=(y=Vo(y,w)).length,f=!1;++g<m;){var $=Yt(y[g]);if(!(f=w!=null&&x(w,$)))break;w=w[$]}return f||++g!=m?f:!!(m=w==null?0:w.length)&&Hr(m)&&qr($,m)&&(Fe(w)||Jr(w))}(u,p,yu)}(c,s):Ir(i,d,bu|_u)}}(e[0],e[1]):(n=function(s){for(var i=Gr(s),c=i.length;c--;){var d=i[c],u=s[d];i[c]=[d,u,Xn(u)]}return i}(o=e),n.length==1&&n[0][2]?Zn(n[0][0],n[0][1]):function(s){return s===o||function(i,c,d,u){var p=d.length,w=p;if(i==null)return!w;for(i=Object(i);p--;){var y=d[p];if(y[2]?y[1]!==i[y[0]]:!(y[0]in i))return!1}for(;++p<w;){var x=(y=d[p])[0],g=i[x],m=y[1];if(y[2]){if(g===void 0&&!(x in i))return!1}else{var f=new Ge;if(!Ir(m,g,mu|vu,void 0,f))return!1}}return!0}(s,0,n)}):Er(t=e)?(r=Yt(t),function(s){return s==null?void 0:s[r]}):function(s){return function(i){return Tr(i,s)}}(t);var t,r,o,n}var xu=function(e,t,r){for(var o=-1,n=Object(e),s=r(e),i=s.length;i--;){var c=s[++o];if(t(n[c],c,n)===!1)break}return e};function Su(e,t){return e&&xu(e,t,Gr)}var Yn,ku=(Yn=Su,function(e,t){if(e==null)return e;if(!Rt(e))return Yn(e,t);for(var r=e.length,o=-1,n=Object(e);++o<r&&t(n[o],o,n)!==!1;);return e});function $u(e,t){var r=-1,o=Rt(e)?Array(e.length):[];return ku(e,function(n,s,i){o[++r]=t(n,s,i)}),o}var ju=Math.min;function Ou(e){return function(t){return dt(t)&&Rt(t)}(e)?e:[]}Fo(function(e){var t=Pt(e,Ou);return t.length&&t[0]===e[0]?function(r,o,n){for(var s=pl,i=r[0].length,c=r.length,d=c,u=Array(c),p=1/0,w=[];d--;){var y=r[d];p=ju(y.length,p),u[d]=i>=120&&y.length>=120?new zt(d&&y):void 0}y=r[0];var x=-1,g=u[0];e:for(;++x<i&&w.length<p;){var m=y[x],f=m;if(m=m!==0?m:0,!(g?Mr(g,f):s(w,f,n))){for(d=c;--d;){var $=u[d];if(!($?Mr($,f):s(r[d],f,n)))continue e}g&&g.push(f),w.push(m)}}return w}(t):[]});function Pu(e,t){if(e!==t){var r=e!==void 0,o=e===null,n=e==e,s=Ct(e),i=t!==void 0,c=t===null,d=t==t,u=Ct(t);if(!c&&!u&&!s&&e>t||s&&i&&d&&!c&&!u||o&&i&&d||!r&&d||!n)return 1;if(!o&&!s&&!u&&e<t||u&&r&&n&&!o&&!s||c&&r&&n||!i&&n||!d)return-1}return 0}function Au(e,t,r){t=t.length?Pt(t,function(n){return Fe(n)?function(s){return Tr(s,n.length===1?n[0]:n)}:n}):[tr];var o=-1;return t=Pt(t,Uo(wu)),function(n,s){var i=n.length;for(n.sort(function(c,d){return function(u,p,w){for(var y=-1,x=u.criteria,g=p.criteria,m=x.length,f=w.length;++y<m;){var $=Pu(x[y],g[y]);if($)return y>=f?$:$*(w[y]=="desc"?-1:1)}return u.index-p.index}(c,d,r)});i--;)n[i]=n[i].value;return n}($u(e,function(n,s,i){return{criteria:Pt(t,function(c){return c(n)}),index:++o,value:n}}))}Fo(function(e,t){if(e==null)return[];var r=t.length;return r>1&&On(e,t[0],t[1])?t=[]:r>2&&On(t[0],t[1],t[2])&&(t=[t[0]]),Au(e,Ll(t),[])});function Q(e){if(this.words=[],e)if(Symbol&&Symbol.iterator&&e[Symbol.iterator]!==void 0){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.add(r.value),r=t.next()}else for(let t=0;t<e.length;t++)this.add(e[t])}Q.fromWords=function(e){const t=Object.create(Q.prototype);return t.words=e,t},Q.prototype.add=function(e){this.resize(e),this.words[e>>>5]|=1<<e},Q.prototype.flip=function(e){this.resize(e),this.words[e>>>5]^=1<<e},Q.prototype.clear=function(){this.words.length=0},Q.prototype.remove=function(e){this.resize(e),this.words[e>>>5]&=~(1<<e)},Q.prototype.isEmpty=function(e){const t=this.words.length;for(let r=0;r<t;r++)if(this.words[r]!==0)return!1;return!0},Q.prototype.has=function(e){return(this.words[e>>>5]&1<<e)!=0},Q.prototype.checkedAdd=function(e){this.resize(e);const t=this.words[e>>>5],r=t|1<<e;return this.words[e>>>5]=r,(r^t)>>>e},Q.prototype.trim=function(e){let t=this.words.length;for(;t>0&&this.words[t-1]===0;)t--;this.words.length=t},Q.prototype.resize=function(e){const t=e+32>>>5;for(let r=this.words.length;r<t;r++)this.words[r]=0},Q.prototype.hammingWeight=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},Q.prototype.hammingWeight4=function(e,t,r,o){return 16843009*((e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)+(t=(t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)+(r=(r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)+(o=(o=(858993459&(o-=o>>>1&1431655765))+(o>>>2&858993459))+(o>>>4)&252645135))>>>24},Q.prototype.size=function(){let e=0;const t=this.words.length,r=this.words;for(let o=0;o<t;o++)e+=this.hammingWeight(r[o]);return e},Q.prototype.array=function(){const e=new Array(this.size());let t=0;const r=this.words.length;for(let o=0;o<r;++o){let n=this.words[o];for(;n!=0;){const s=n&-n;e[t++]=(o<<5)+this.hammingWeight(s-1|0),n^=s}}return e},Q.prototype.forEach=function(e){const t=this.words.length;for(let r=0;r<t;++r){let o=this.words[r];for(;o!=0;){const n=o&-o;e((r<<5)+this.hammingWeight(n-1|0)),o^=n}}},Q.prototype[Symbol.iterator]=function(){const e=this.words.length;let t=0,r=this.words[t],o=this.hammingWeight,n=this.words;return{[Symbol.iterator](){return this},next(){for(;t<e;){if(r!==0){const s=r&-r,i=(t<<5)+o(s-1|0);return r^=s,{done:!1,value:i}}t++,t<e&&(r=n[t])}return{done:!0,value:void 0}}}},Q.prototype.clone=function(){const e=Object.create(Q.prototype);return e.words=this.words.slice(),e},Q.prototype.intersects=function(e){const t=Math.min(this.words.length,e.words.length);for(let r=0;r<t;++r)if(this.words[r]&e.words[r])return!0;return!1},Q.prototype.intersection=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)this.words[r]&=e.words[r],this.words[r+1]&=e.words[r+1],this.words[r+2]&=e.words[r+2],this.words[r+3]&=e.words[r+3],this.words[r+4]&=e.words[r+4],this.words[r+5]&=e.words[r+5],this.words[r+6]&=e.words[r+6],this.words[r+7]&=e.words[r+7];for(;r<t;++r)this.words[r]&=e.words[r];const o=this.words.length;for(r=t;r<o;++r)this.words[r]=0;return this},Q.prototype.intersection_size=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(let o=0;o<t;++o)r+=this.hammingWeight(this.words[o]&e.words[o]);return r},Q.prototype.new_intersection=function(e){const t=Object.create(Q.prototype),r=Math.min(this.words.length,e.words.length);t.words=new Array(r);let o=0;for(;o+7<r;o+=8)t.words[o]=this.words[o]&e.words[o],t.words[o+1]=this.words[o+1]&e.words[o+1],t.words[o+2]=this.words[o+2]&e.words[o+2],t.words[o+3]=this.words[o+3]&e.words[o+3],t.words[o+4]=this.words[o+4]&e.words[o+4],t.words[o+5]=this.words[o+5]&e.words[o+5],t.words[o+6]=this.words[o+6]&e.words[o+6],t.words[o+7]=this.words[o+7]&e.words[o+7];for(;o<r;++o)t.words[o]=this.words[o]&e.words[o];return t},Q.prototype.equals=function(e){const t=Math.min(this.words.length,e.words.length);for(let r=0;r<t;++r)if(this.words[r]!=e.words[r])return!1;if(this.words.length<e.words.length){const r=e.words.length;for(let o=this.words.length;o<r;++o)if(e.words[o]!=0)return!1}else if(e.words.length<this.words.length){const r=this.words.length;for(let o=e.words.length;o<r;++o)if(this.words[o]!=0)return!1}return!0},Q.prototype.difference=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)this.words[r]&=~e.words[r],this.words[r+1]&=~e.words[r+1],this.words[r+2]&=~e.words[r+2],this.words[r+3]&=~e.words[r+3],this.words[r+4]&=~e.words[r+4],this.words[r+5]&=~e.words[r+5],this.words[r+6]&=~e.words[r+6],this.words[r+7]&=~e.words[r+7];for(;r<t;++r)this.words[r]&=~e.words[r];return this},Q.prototype.new_difference=function(e){return this.clone().difference(e)},Q.prototype.difference2=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)e.words[r]=this.words[r]&~e.words[r],e.words[r+1]=this.words[r+1]&~e.words[r+1],e.words[r+2]=this.words[r+2]&~e.words[r+2],e.words[r+3]=this.words[r+3]&~e.words[r+3],e.words[r+4]=this.words[r+4]&~e.words[r+4],e.words[r+5]=this.words[r+5]&~e.words[r+5],e.words[r+6]=this.words[r+6]&~e.words[r+6],e.words[r+7]=this.words[r+7]&~e.words[r+7];for(;r<t;++r)e.words[r]=this.words[r]&~e.words[r];for(r=this.words.length-1;r>=t;--r)e.words[r]=this.words[r];return e.words.length=this.words.length,e},Q.prototype.difference_size=function(e){const t=Math.min(this.words.length,e.words.length);let r=0,o=0;for(;o<t;++o)r+=this.hammingWeight(this.words[o]&~e.words[o]);const n=this.words.length;for(;o<n;++o)r+=this.hammingWeight(this.words[o]);return r},Q.prototype.change=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)this.words[r]^=e.words[r],this.words[r+1]^=e.words[r+1],this.words[r+2]^=e.words[r+2],this.words[r+3]^=e.words[r+3],this.words[r+4]^=e.words[r+4],this.words[r+5]^=e.words[r+5],this.words[r+6]^=e.words[r+6],this.words[r+7]^=e.words[r+7];for(;r<t;++r)this.words[r]^=e.words[r];for(r=e.words.length-1;r>=t;--r)this.words[r]=e.words[r];return this},Q.prototype.new_change=function(e){const t=Object.create(Q.prototype),r=Math.max(this.words.length,e.words.length);t.words=new Array(r);const o=Math.min(this.words.length,e.words.length);let n=0;for(;n+7<o;n+=8)t.words[n]=this.words[n]^e.words[n],t.words[n+1]=this.words[n+1]^e.words[n+1],t.words[n+2]=this.words[n+2]^e.words[n+2],t.words[n+3]=this.words[n+3]^e.words[n+3],t.words[n+4]=this.words[n+4]^e.words[n+4],t.words[n+5]=this.words[n+5]^e.words[n+5],t.words[n+6]=this.words[n+6]^e.words[n+6],t.words[n+7]=this.words[n+7]^e.words[n+7];for(;n<o;++n)t.words[n]=this.words[n]^e.words[n];const s=this.words.length;for(n=o;n<s;++n)t.words[n]=this.words[n];const i=e.words.length;for(n=o;n<i;++n)t.words[n]=e.words[n];return t},Q.prototype.change_size=function(e){const t=Math.min(this.words.length,e.words.length);let r=0,o=0;for(;o<t;++o)r+=this.hammingWeight(this.words[o]^e.words[o]);const n=this.words.length>e.words.length?this:e,s=n.words.length;for(;o<s;++o)r+=this.hammingWeight(n.words[o]);return r},Q.prototype.toString=function(){return"{"+this.array().join(",")+"}"},Q.prototype.union=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)this.words[r]|=e.words[r],this.words[r+1]|=e.words[r+1],this.words[r+2]|=e.words[r+2],this.words[r+3]|=e.words[r+3],this.words[r+4]|=e.words[r+4],this.words[r+5]|=e.words[r+5],this.words[r+6]|=e.words[r+6],this.words[r+7]|=e.words[r+7];for(;r<t;++r)this.words[r]|=e.words[r];if(this.words.length<e.words.length){this.resize((e.words.length<<5)-1);const o=e.words.length;for(let n=t;n<o;++n)this.words[n]=e.words[n]}return this},Q.prototype.new_union=function(e){const t=Object.create(Q.prototype),r=Math.max(this.words.length,e.words.length);t.words=new Array(r);const o=Math.min(this.words.length,e.words.length);let n=0;for(;n+7<o;n+=8)t.words[n]=this.words[n]|e.words[n],t.words[n+1]=this.words[n+1]|e.words[n+1],t.words[n+2]=this.words[n+2]|e.words[n+2],t.words[n+3]=this.words[n+3]|e.words[n+3],t.words[n+4]=this.words[n+4]|e.words[n+4],t.words[n+5]=this.words[n+5]|e.words[n+5],t.words[n+6]=this.words[n+6]|e.words[n+6],t.words[n+7]=this.words[n+7]|e.words[n+7];for(;n<o;++n)t.words[n]=this.words[n]|e.words[n];const s=this.words.length;for(n=o;n<s;++n)t.words[n]=this.words[n];const i=e.words.length;for(n=o;n<i;++n)t.words[n]=e.words[n];return t},Q.prototype.union_size=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(let o=0;o<t;++o)r+=this.hammingWeight(this.words[o]|e.words[o]);if(this.words.length<e.words.length){const o=e.words.length;for(let n=this.words.length;n<o;++n)r+=this.hammingWeight(0|e.words[n])}else{const o=this.words.length;for(let n=e.words.length;n<o;++n)r+=this.hammingWeight(0|this.words[n])}return r};(function(e){var t={exports:{}};return function(r,o){(function(){var n,s,i,c,d,u,p,w,y,x,g,m,f,$,T,j,E,P,k,_,N,M,I,B,F,D,q,U,v=function(a){var l=new v.Index;return l.pipeline.add(v.trimmer,v.stopWordFilter,v.stemmer),a&&a.call(l,l),l};v.version="1.0.0",v.utils={},v.utils.warn=function(a){return function(l){a.console&&console.warn&&console.warn(l)}}(this),v.utils.asString=function(a){return a==null?"":a.toString()},v.EventEmitter=function(){this.events={}},v.EventEmitter.prototype.addListener=function(){var a=Array.prototype.slice.call(arguments),l=a.pop(),b=a;if(typeof l!="function")throw new TypeError("last argument must be a function");b.forEach(function(S){this.hasHandler(S)||(this.events[S]=[]),this.events[S].push(l)},this)},v.EventEmitter.prototype.removeListener=function(a,l){if(this.hasHandler(a)){var b=this.events[a].indexOf(l);this.events[a].splice(b,1),this.events[a].length||delete this.events[a]}},v.EventEmitter.prototype.emit=function(a){if(this.hasHandler(a)){var l=Array.prototype.slice.call(arguments,1);this.events[a].forEach(function(b){b.apply(void 0,l)})}},v.EventEmitter.prototype.hasHandler=function(a){return a in this.events},v.tokenizer=function(a){return arguments.length&&a!=null&&a!=null?Array.isArray(a)?a.map(function(l){return v.utils.asString(l).toLowerCase()}):a.toString().trim().toLowerCase().split(v.tokenizer.separator):[]},v.tokenizer.separator=/[\s\-]+/,v.tokenizer.load=function(a){var l=this.registeredFunctions[a];if(!l)throw new Error("Cannot load un-registered function: "+a);return l},v.tokenizer.label="default",v.tokenizer.registeredFunctions={default:v.tokenizer},v.tokenizer.registerFunction=function(a,l){l in this.registeredFunctions&&v.utils.warn("Overwriting existing tokenizer: "+l),a.label=l,this.registeredFunctions[l]=a},v.Pipeline=function(){this._stack=[]},v.Pipeline.registeredFunctions={},v.Pipeline.registerFunction=function(a,l){l in this.registeredFunctions&&v.utils.warn("Overwriting existing registered function: "+l),a.label=l,v.Pipeline.registeredFunctions[a.label]=a},v.Pipeline.warnIfFunctionNotRegistered=function(a){a.label&&a.label in this.registeredFunctions||v.utils.warn(`Function is not registered with pipeline. This may cause problems when serialising the index.
`,a)},v.Pipeline.load=function(a){var l=new v.Pipeline;return a.forEach(function(b){var S=v.Pipeline.registeredFunctions[b];if(!S)throw new Error("Cannot load un-registered function: "+b);l.add(S)}),l},v.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(a){v.Pipeline.warnIfFunctionNotRegistered(a),this._stack.push(a)},this)},v.Pipeline.prototype.after=function(a,l){v.Pipeline.warnIfFunctionNotRegistered(l);var b=this._stack.indexOf(a);if(b==-1)throw new Error("Cannot find existingFn");this._stack.splice(b+=1,0,l)},v.Pipeline.prototype.before=function(a,l){v.Pipeline.warnIfFunctionNotRegistered(l);var b=this._stack.indexOf(a);if(b==-1)throw new Error("Cannot find existingFn");this._stack.splice(b,0,l)},v.Pipeline.prototype.remove=function(a){var l=this._stack.indexOf(a);l!=-1&&this._stack.splice(l,1)},v.Pipeline.prototype.run=function(a){for(var l=[],b=a.length,S=this._stack.length,O=0;O<b;O++){for(var A=a[O],V=0;V<S&&(A=this._stack[V](A,O,a))!==void 0&&A!=="";V++);A!==void 0&&A!==""&&l.push(A)}return l},v.Pipeline.prototype.reset=function(){this._stack=[]},v.Pipeline.prototype.toJSON=function(){return this._stack.map(function(a){return v.Pipeline.warnIfFunctionNotRegistered(a),a.label})},v.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},v.Vector.Node=function(a,l,b){this.idx=a,this.val=l,this.next=b},v.Vector.prototype.insert=function(a,l){this._magnitude=void 0;var b=this.list;if(!b)return this.list=new v.Vector.Node(a,l,b),this.length++;if(a<b.idx)return this.list=new v.Vector.Node(a,l,b),this.length++;for(var S=b,O=b.next;O!=null;){if(a<O.idx)return S.next=new v.Vector.Node(a,l,O),this.length++;S=O,O=O.next}return S.next=new v.Vector.Node(a,l,O),this.length++},v.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var a,l=this.list,b=0;l;)b+=(a=l.val)*a,l=l.next;return this._magnitude=Math.sqrt(b)},v.Vector.prototype.dot=function(a){for(var l=this.list,b=a.list,S=0;l&&b;)l.idx<b.idx?l=l.next:(l.idx>b.idx||(S+=l.val*b.val,l=l.next),b=b.next);return S},v.Vector.prototype.similarity=function(a){return this.dot(a)/(this.magnitude()*a.magnitude())},v.SortedSet=function(){this.length=0,this.elements=[]},v.SortedSet.load=function(a){var l=new this;return l.elements=a,l.length=a.length,l},v.SortedSet.prototype.add=function(){var a,l;for(a=0;a<arguments.length;a++)~this.indexOf(l=arguments[a])||this.elements.splice(this.locationFor(l),0,l);this.length=this.elements.length},v.SortedSet.prototype.toArray=function(){return this.elements.slice()},v.SortedSet.prototype.map=function(a,l){return this.elements.map(a,l)},v.SortedSet.prototype.forEach=function(a,l){return this.elements.forEach(a,l)},v.SortedSet.prototype.indexOf=function(a){for(var l=0,b=this.elements.length,S=b-l,O=l+Math.floor(S/2),A=this.elements[O];S>1;){if(A===a)return O;A<a&&(l=O),A>a&&(b=O),S=b-l,O=l+Math.floor(S/2),A=this.elements[O]}return A===a?O:-1},v.SortedSet.prototype.locationFor=function(a){for(var l=0,b=this.elements.length,S=b-l,O=l+Math.floor(S/2),A=this.elements[O];S>1;)A<a&&(l=O),A>a&&(b=O),S=b-l,O=l+Math.floor(S/2),A=this.elements[O];return A>a?O:A<a?O+1:void 0},v.SortedSet.prototype.intersect=function(a){for(var l=new v.SortedSet,b=0,S=0,O=this.length,A=a.length,V=this.elements,oe=a.elements;!(b>O-1||S>A-1);)V[b]!==oe[S]?V[b]<oe[S]?b++:V[b]>oe[S]&&S++:(l.add(V[b]),b++,S++);return l},v.SortedSet.prototype.clone=function(){var a=new v.SortedSet;return a.elements=this.toArray(),a.length=a.elements.length,a},v.SortedSet.prototype.union=function(a){var l,b,S;this.length>=a.length?(l=this,b=a):(l=a,b=this),S=l.clone();for(var O=0,A=b.toArray();O<A.length;O++)S.add(A[O]);return S},v.SortedSet.prototype.toJSON=function(){return this.toArray()},v.Index=function(){this._fields=[],this._ref="id",this.pipeline=new v.Pipeline,this.documentStore=new v.Store,this.tokenStore=new v.TokenStore,this.corpusTokens=new v.SortedSet,this.eventEmitter=new v.EventEmitter,this.tokenizerFn=v.tokenizer,this._idfCache={},this.on("add","remove","update",(function(){this._idfCache={}}).bind(this))},v.Index.prototype.on=function(){var a=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,a)},v.Index.prototype.off=function(a,l){return this.eventEmitter.removeListener(a,l)},v.Index.load=function(a){a.version!==v.version&&v.utils.warn("version mismatch: current "+v.version+" importing "+a.version);var l=new this;return l._fields=a.fields,l._ref=a.ref,l.tokenizer(v.tokenizer.load(a.tokenizer)),l.documentStore=v.Store.load(a.documentStore),l.tokenStore=v.TokenStore.load(a.tokenStore),l.corpusTokens=v.SortedSet.load(a.corpusTokens),l.pipeline=v.Pipeline.load(a.pipeline),l},v.Index.prototype.field=function(a,l){return this._fields.push({name:a,boost:(l=l||{}).boost||1}),this},v.Index.prototype.ref=function(a){return this._ref=a,this},v.Index.prototype.tokenizer=function(a){return a.label&&a.label in v.tokenizer.registeredFunctions||v.utils.warn("Function is not a registered tokenizer. This may cause problems when serialising the index"),this.tokenizerFn=a,this},v.Index.prototype.add=function(a,l){var b={},S=new v.SortedSet,O=a[this._ref];l=l===void 0||l,this._fields.forEach(function(ke){var $e=this.pipeline.run(this.tokenizerFn(a[ke.name]));b[ke.name]=$e;for(var Te=0;Te<$e.length;Te++){var L=$e[Te];S.add(L),this.corpusTokens.add(L)}},this),this.documentStore.set(O,S);for(var A=0;A<S.length;A++){for(var V=S.elements[A],oe=0,H=0;H<this._fields.length;H++){var ee=this._fields[H],le=b[ee.name],me=le.length;if(me){for(var fe=0,Se=0;Se<me;Se++)le[Se]===V&&fe++;oe+=fe/me*ee.boost}}this.tokenStore.add(V,{ref:O,tf:oe})}l&&this.eventEmitter.emit("add",a,this)},v.Index.prototype.remove=function(a,l){var b=a[this._ref];if(l=l===void 0||l,this.documentStore.has(b)){var S=this.documentStore.get(b);this.documentStore.remove(b),S.forEach(function(O){this.tokenStore.remove(O,b)},this),l&&this.eventEmitter.emit("remove",a,this)}},v.Index.prototype.update=function(a,l){l=l===void 0||l,this.remove(a,!1),this.add(a,!1),l&&this.eventEmitter.emit("update",a,this)},v.Index.prototype.idf=function(a){var l="@"+a;if(Object.prototype.hasOwnProperty.call(this._idfCache,l))return this._idfCache[l];var b=this.tokenStore.count(a),S=1;return b>0&&(S=1+Math.log(this.documentStore.length/b)),this._idfCache[l]=S},v.Index.prototype.search=function(a){var l=this.pipeline.run(this.tokenizerFn(a)),b=new v.Vector,S=[],O=this._fields.reduce(function(A,V){return A+V.boost},0);return l.some(function(A){return this.tokenStore.has(A)},this)?(l.forEach(function(A,V,oe){var H=1/oe.length*this._fields.length*O,ee=this,le=this.tokenStore.expand(A).reduce(function(me,fe){var Se=ee.corpusTokens.indexOf(fe),ke=ee.idf(fe),$e=1,Te=new v.SortedSet;if(fe!==A){var L=Math.max(3,fe.length-A.length);$e=1/Math.log(L)}Se>-1&&b.insert(Se,H*ke*$e);for(var Z=ee.tokenStore.get(fe),ve=Object.keys(Z),We=ve.length,ye=0;ye<We;ye++)Te.add(Z[ve[ye]].ref);return me.union(Te)},new v.SortedSet);S.push(le)},this),S.reduce(function(A,V){return A.intersect(V)}).map(function(A){return{ref:A,score:b.similarity(this.documentVector(A))}},this).sort(function(A,V){return V.score-A.score})):[]},v.Index.prototype.documentVector=function(a){for(var l=this.documentStore.get(a),b=l.length,S=new v.Vector,O=0;O<b;O++){var A=l.elements[O],V=this.tokenStore.get(A)[a].tf,oe=this.idf(A);S.insert(this.corpusTokens.indexOf(A),V*oe)}return S},v.Index.prototype.toJSON=function(){return{version:v.version,fields:this._fields,ref:this._ref,tokenizer:this.tokenizerFn.label,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},v.Index.prototype.use=function(a){var l=Array.prototype.slice.call(arguments,1);l.unshift(this),a.apply(this,l)},v.Store=function(){this.store={},this.length=0},v.Store.load=function(a){var l=new this;return l.length=a.length,l.store=Object.keys(a.store).reduce(function(b,S){return b[S]=v.SortedSet.load(a.store[S]),b},{}),l},v.Store.prototype.set=function(a,l){this.has(a)||this.length++,this.store[a]=l},v.Store.prototype.get=function(a){return this.store[a]},v.Store.prototype.has=function(a){return a in this.store},v.Store.prototype.remove=function(a){this.has(a)&&(delete this.store[a],this.length--)},v.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},v.stemmer=(n={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},s={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},u="^("+(c="[^aeiou][^aeiouy]*")+")?"+(d=(i="[aeiouy]")+"[aeiou]*")+c+"("+d+")?$",p="^("+c+")?"+d+c+d+c,w="^("+c+")?"+i,y=new RegExp("^("+c+")?"+d+c),x=new RegExp(p),g=new RegExp(u),m=new RegExp(w),f=/^(.+?)(ss|i)es$/,$=/^(.+?)([^s])s$/,T=/^(.+?)eed$/,j=/^(.+?)(ed|ing)$/,E=/.$/,P=/(at|bl|iz)$/,k=new RegExp("([^aeiouylsz])\\1$"),_=new RegExp("^"+c+i+"[^aeiouwxy]$"),N=/^(.+?[^aeiou])y$/,M=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,I=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,B=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,F=/^(.+?)(s|t)(ion)$/,D=/^(.+?)e$/,q=/ll$/,U=new RegExp("^"+c+i+"[^aeiouwxy]$"),function(a){var l,b,S,O,A,V,oe;if(a.length<3)return a;if((S=a.substr(0,1))=="y"&&(a=S.toUpperCase()+a.substr(1)),A=$,(O=f).test(a)?a=a.replace(O,"$1$2"):A.test(a)&&(a=a.replace(A,"$1$2")),A=j,(O=T).test(a)){var H=O.exec(a);(O=y).test(H[1])&&(a=a.replace(O=E,""))}else A.test(a)&&(H=A.exec(a),(A=m).test(l=H[1])&&(V=k,oe=_,(A=P).test(a=l)?a+="e":V.test(a)?a=a.replace(O=E,""):oe.test(a)&&(a+="e")));return(O=N).test(a)&&(a=(l=(H=O.exec(a))[1])+"i"),(O=M).test(a)&&(b=(H=O.exec(a))[2],(O=y).test(l=H[1])&&(a=l+n[b])),(O=I).test(a)&&(b=(H=O.exec(a))[2],(O=y).test(l=H[1])&&(a=l+s[b])),A=F,(O=B).test(a)?(H=O.exec(a),(O=x).test(l=H[1])&&(a=l)):A.test(a)&&(H=A.exec(a),(A=x).test(l=H[1]+H[2])&&(a=l)),(O=D).test(a)&&(H=O.exec(a),A=g,V=U,((O=x).test(l=H[1])||A.test(l)&&!V.test(l))&&(a=l)),A=x,(O=q).test(a)&&A.test(a)&&(a=a.replace(O=E,"")),S=="y"&&(a=S.toLowerCase()+a.substr(1)),a}),v.Pipeline.registerFunction(v.stemmer,"stemmer"),v.generateStopWordFilter=function(a){var l=a.reduce(function(b,S){return b[S]=S,b},{});return function(b){if(b&&l[b]!==b)return b}},v.stopWordFilter=v.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),v.Pipeline.registerFunction(v.stopWordFilter,"stopWordFilter"),v.trimmer=function(a){return a.replace(/^\W+/,"").replace(/\W+$/,"")},v.Pipeline.registerFunction(v.trimmer,"trimmer"),v.TokenStore=function(){this.root={docs:{}},this.length=0},v.TokenStore.load=function(a){var l=new this;return l.root=a.root,l.length=a.length,l},v.TokenStore.prototype.add=function(a,l,b){b=b||this.root;var S=a.charAt(0),O=a.slice(1);return S in b||(b[S]={docs:{}}),O.length===0?(b[S].docs[l.ref]=l,void(this.length+=1)):this.add(O,l,b[S])},v.TokenStore.prototype.has=function(a){if(!a)return!1;for(var l=this.root,b=0;b<a.length;b++){if(!l[a.charAt(b)])return!1;l=l[a.charAt(b)]}return!0},v.TokenStore.prototype.getNode=function(a){if(!a)return{};for(var l=this.root,b=0;b<a.length;b++){if(!l[a.charAt(b)])return{};l=l[a.charAt(b)]}return l},v.TokenStore.prototype.get=function(a,l){return this.getNode(a,l).docs||{}},v.TokenStore.prototype.count=function(a,l){return Object.keys(this.get(a,l)).length},v.TokenStore.prototype.remove=function(a,l){if(a){for(var b=this.root,S=0;S<a.length;S++){if(!(a.charAt(S)in b))return;b=b[a.charAt(S)]}delete b.docs[l]}},v.TokenStore.prototype.expand=function(a,l){var b=this.getNode(a);return l=l||[],Object.keys(b.docs||{}).length&&l.push(a),Object.keys(b).forEach(function(S){S!=="docs"&&l.concat(this.expand(a+S,l))},this),l},v.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},r.exports=v})()}(t),t.exports})();const zu={aggregations:{notAfter:{title:"Not after",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},notBefore:{title:"Not before",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},language:{title:"Language",hide_zero_doc_count:!0,size:200,sort:"key"},placeName:{title:"Place",hide_zero_doc_count:!0,size:200,sort:"key"},inscriptionType:{title:"Inscription type",hide_zero_doc_count:!0,size:200,sort:"key"},objectType:{title:"Object type",hide_zero_doc_count:!0,size:200,sort:"key"},material:{title:"Material",hide_zero_doc_count:!0,size:200,sort:"key"},technique:{title:"Technique",hide_zero_doc_count:!0,size:200,sort:"key"},pigment:{title:"Pigment",hide_zero_doc_count:!0,size:200,sort:"key"},damage:{title:"Damage",hide_zero_doc_count:!0,size:100,sort:"key"},repository:{title:"Repository",hide_zero_doc_count:!0,size:200,sort:"key"},status:{title:"Status",hide_zero_doc_count:!0,sort:"key"}},searchableFields:["keywords","title","text"],sortings:{file_asc:{field:"file",order:"asc"},file_desc:{field:"file",order:"desc"},notAfter_asc:{field:"notAfter",order:"asc"},notAfter_desc:{field:"notAfter",order:"desc"},notBefore_asc:{field:"notBefore",order:"desc"},notBefore_desc:{field:"notBefore",order:"desc"},title_asc:{field:"title",order:"asc"},title_desc:{field:"title",order:"desc"}}};function Eu(e){return new Worker(""+new URL("../workers/worker-CwZmB1qh.js",import.meta.url).href,{name:e==null?void 0:e.name})}var Tu=J("<!>Filters",1),Cu=J('<h2 aria-busy="true" class="svelte-16zqrgi">Loading inscriptions...</h2>'),Nu=J("<!>View cards",1),Ru=J("<!>View map",1),Mu=J("<!>View table",1),Iu=J('<div class="transition-container svelte-16zqrgi"><!></div>'),Lu=J('<div class="transition-container svelte-16zqrgi"><!></div>'),Fu=J("<!> <!> <!>",1),Wu=J('<!> <section class="controls svelte-16zqrgi"><div class="toggles svelte-16zqrgi"><!> <!> <!></div> <div class="sort-controls svelte-16zqrgi"><label for="sort-select">Sort by:</label> <select id="sort-select"><option>File</option><option>Not before</option><option>Not after</option><option>Title</option></select> <!></div></section> <!>',1),Bu=J('<article><section><form class="svelte-16zqrgi"><label class="visually-hidden" for="q">Search query:</label> <input type="text" name="q" id="q" placeholder="Search inscriptions metadata" class="svelte-16zqrgi"> <!> <!></form> <div class="filters-toggle svelte-16zqrgi"><!></div></section> <section class="inscriptions svelte-16zqrgi"><!></section></article> <!>',1);function Uu(e,t){we(t,!0);const r=ft(),o=()=>Ee(d,"$searchLimit",r),n=()=>Ee(c,"$searchPage",r),s=()=>Ee(i,"$searchQuery",r),i=vr("q",gr.string("")),c=vr("page",gr.number(1)),d=vr("limit",gr.number(Lt.limit));let u=Me("cards"),p=Me("idle"),w=ge(()=>["idle","load"].includes(h(p))),y=Me(void 0),x=Me(ue({})),g=ge(()=>{var L;return((L=h(x))==null?void 0:L.pagination)??{}}),m=ge(()=>{var L,Z;return((Z=(L=h(x))==null?void 0:L.data)==null?void 0:Z.aggregations)??{}}),f=ge(()=>{var L;return((L=h(g))==null?void 0:L.total)??0}),$=ge(F),T=ge(()=>{var L,Z;return((Z=(L=h(x))==null?void 0:L.data)==null?void 0:Z.items)??[]}),j=ge(()=>{var L;return(L=h(T))==null?void 0:L.map(Z=>({file:Z.file,title:Z.title,places:Z.places,geo:Z.geo[0]}))}),E=Me(!1),P=ue({sortAggregationsBy:"key",sortResultsBy:"file",sortResultsOrder:"asc"}),k=Me(ue(I())),_=Me(ue(B()));async function N(){h(p)!=="ready"&&(Y(p,"load"),Y(y,ue(new Eu)),h(y).addEventListener("message",L=>{const{type:Z,data:ve}=L.data;Z==="ready"&&Y(p,"ready"),Z==="results"&&Y(x,ue(ve))}),h(y).postMessage({type:"load",data:{sortAggregationsBy:P.sortAggregationsBy}}))}jr(()=>{M()});async function M(){if(h(p)==="ready"){const L=Object.fromEntries(Object.keys(h(_)).map(Z=>[Z,[...h(_)[Z]]]));h(y).postMessage({type:"search",data:{limit:o(),page:n(),query:s(),sort:`${P.sortResultsBy}_${P.sortResultsOrder}`,filters:L,dateRange:[...h(k)]}})}}function I(){return[-700,1830]}function B(){return Object.keys(zu.aggregations).filter(L=>L.indexOf("not")<0).reduce((L,Z)=>(L[Z]=[],L),{})}function F(){var L;return!h(m)||!((L=h(m))!=null&&L.placeName)?0:h(m).placeName.buckets.length}async function D(L){L.preventDefault()}async function q(L){L.preventDefault(),Ze(i,""),Ze(c,1),Ze(d,ue(Lt.limit)),Y(k,ue(I())),Y(_,ue(B()))}function U(){const L=I();return s()!==""||h(k).some((Z,ve)=>Z!==L[ve])||Object.keys(h(_)).some(Z=>h(_)[Z].length>0)}jr(()=>{P.sortAggregationsBy&&h(y)&&h(p)==="ready"&&(h(y).postMessage({type:"load",data:{sortAggregationsBy:P.sortAggregationsBy}}),M())});async function v(L){L==="map"?Ze(d,ue(Lt.maxLimit)):h(u)==="map"&&(Y(x,ue({...h(x),data:{...h(x).data,items:[]}})),Ze(d,ue(Lt.limit)),Ze(c,1)),Y(u,ue(L))}async function a(){P.sortResultsOrder=P.sortResultsOrder==="asc"?"desc":"asc"}async function l(L){Ze(c,ue(L))}co(()=>{N()});var b=Bu();Le("keydown",as,L=>{var Z;(L.ctrlKey||L.metaKey)&&(L.key==="k"||L.key==="K")&&(L.preventDefault(),Y(E,!h(E))),L.key==="/"&&(L.preventDefault(),(Z=document.getElementById("q"))==null||Z.focus())});var S=K(b),O=R(S),A=R(O),V=W(R(A),2);mt(V);var oe=W(V,2),H=ge(()=>!s());Oe(oe,()=>st,(L,Z)=>{Z(L,{class:"surface-4",type:"submit",get disabled(){return h(H)},children:(ve,We)=>{Ne();var ye=Ie("Search");z(ve,ye)},$$slots:{default:!0}})});var ee=W(oe,2),le=ge(()=>!U());Oe(ee,()=>st,(L,Z)=>{Z(L,{class:"surface-1",type:"reset",get disabled(){return h(le)},children:(ve,We)=>{Ne();var ye=Ie("Reset");z(ve,ye)},$$slots:{default:!0}})}),C(A);var me=W(A,2),fe=R(me),Se=ge(()=>h(E)?"surface-4":"surface-1");Oe(fe,()=>st,(L,Z)=>{Z(L,{get class(){return h(Se)},onclick:()=>Y(E,!h(E)),children:(ve,We)=>{var ye=Tu(),Mt=K(ye);ri(Mt,{}),Ne(),z(ve,ye)},$$slots:{default:!0}})}),C(me),C(O);var ke=W(O,2),$e=R(ke);ie($e,()=>h(w),L=>{var Z=Cu();z(L,Z)},L=>{var Z=Wu(),ve=K(Z);Gc(ve,{get total(){return h(f)},get dateRange(){return h(k)},get numberOfLocations(){return h($)},get query(){return s()},get filters(){return h(_)}});var We=W(ve,2),ye=R(We),Mt=R(ye),Go=ge(()=>`${h(u)==="cards"?"surface-4":"surface-1"}`);Oe(Mt,()=>st,(Ae,be)=>{be(Ae,{get class(){return h(Go)},onclick:()=>v("cards"),children:(Ce,pt)=>{var ze=Nu(),qe=K(ze);ni(qe,{}),Ne(),z(Ce,ze)},$$slots:{default:!0}})});var Xr=W(Mt,2),Ko=ge(()=>`${h(u)==="map"?"surface-4":"surface-1"}`);Oe(Xr,()=>st,(Ae,be)=>{be(Ae,{get class(){return h(Ko)},onclick:()=>v("map"),children:(Ce,pt)=>{var ze=Ru(),qe=K(ze);oi(qe,{}),Ne(),z(Ce,ze)},$$slots:{default:!0}})});var Xo=W(Xr,2),Zo=ge(()=>`${h(u)==="table"?"surface-4":"surface-1"}`);Oe(Xo,()=>st,(Ae,be)=>{be(Ae,{get class(){return h(Zo)},onclick:()=>v("table"),children:(Ce,pt)=>{var ze=Mu(),qe=K(ze);si(qe,{}),Ne(),z(Ce,ze)},$$slots:{default:!0}})}),C(ye);var Zr=W(ye,2),It=W(R(Zr),2),rr=R(It);rr.value=(rr.__value="file")==null?"":"file";var nr=W(rr);nr.value=(nr.__value="notBefore")==null?"":"notBefore";var or=W(nr);or.value=(or.__value="notAfter")==null?"":"notAfter";var Yr=W(or);Yr.value=(Yr.__value="title")==null?"":"title",C(It);var Yo=W(It,2);Oe(Yo,()=>st,(Ae,be)=>{be(Ae,{class:"order-toggle",onclick:()=>a(),"aria-label":"Toggle sort order from ascending to descending to no order",children:(Ce,pt)=>{var ze=ne(),qe=K(ze);ie(qe,()=>P.sortResultsOrder==="asc",Ve=>{Qs(Ve,{"aria-label":"Ascending"})},Ve=>{Ys(Ve,{"aria-label":"Descending"})}),z(Ce,ze)},$$slots:{default:!0}})}),C(Zr),C(We);var Qo=W(We,2);ie(Qo,()=>h(u)==="map",Ae=>{var be=Iu(),Ce=R(be);tc(Ce,{get inscriptions(){return h(j)}}),C(be),$t(1,be,()=>Ft,()=>({duration:500})),$t(2,be,()=>Ft,()=>({duration:250})),z(Ae,be)},Ae=>{var be=Fu(),Ce=K(be);gn(Ce,{get page(){return n()},get count(){return h(f)},get perPage(){return o()},onPageChange:l});var pt=W(Ce,2);fs(pt,()=>h(u),qe=>{var Ve=Lu(),es=R(Ve);ie(es,()=>h(u)==="table",sr=>{lc(sr,{get inscriptions(){return h(T)}})},sr=>{Za(sr,{get inscriptions(){return h(T)}})}),C(Ve),$t(1,Ve,()=>Ft,()=>({duration:500})),$t(2,Ve,()=>Ft,()=>({duration:250})),z(qe,Ve)});var ze=W(pt,2);gn(ze,{get page(){return n()},get count(){return h(f)},get perPage(){return o()},onPageChange:l}),z(Ae,be)}),ks(It,()=>P.sortResultsBy,Ae=>P.sortResultsBy=Ae),z(L,Z)}),C(ke),C(S);var Te=W(S,2);Dc(Te,{get show(){return h(E)},get aggregations(){return h(m)},get sortAggregationsBy(){return P.sortAggregationsBy},set sortAggregationsBy(L){P.sortAggregationsBy=L},get selectedDateRange(){return h(k)},set selectedDateRange(L){Y(k,ue(L))},get selectedFilters(){return h(_)},set selectedFilters(L){Y(_,ue(L))}}),Le("submit",A,D),Le("reset",A,q),Zt(V,s,L=>Ze(i,L)),z(e,b),xe()}var Du=J('<section class="hero svelte-1ou7ebr"><h1 class="svelte-1ou7ebr"> </h1></section> <!>',1);function od(e,t){we(t,!1),Xe();var r=Du(),o=K(r),n=R(o),s=R(n,!0);C(n),C(o);var i=W(o,2);Uu(i,{}),X(()=>re(s,us)),z(e,r),xe()}export{od as component};

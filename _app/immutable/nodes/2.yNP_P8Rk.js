var Fo=Object.defineProperty;var Oi=t=>{throw TypeError(t)};var Do=(t,e,r)=>e in t?Fo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Tt=(t,e,r)=>Do(t,typeof e!="symbol"?e+"":e,r),En=(t,e,r)=>e.has(t)||Oi("Cannot "+r);var _t=(t,e,r)=>(En(t,e,"read from private field"),r?r.call(t):e.get(t)),kt=(t,e,r)=>e.has(t)?Oi("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),nr=(t,e,r,i)=>(En(t,e,"write to private field"),i?i.call(t,r):e.set(t,r),r),Ht=(t,e,r)=>(En(t,e,"access private method"),r);import{z as pn,A as pe,d as It,a as Y,t as ut,c as te,s as gt,B as Uo,y as De,k as ii}from"../chunks/disclose-version.B-t4LT19.js";import"../chunks/legacy.Ch8ywPcB.js";import{ay as Mo,v as si,b as we,r as mn,P as Wo,Y as zi,e as zs,i as $o,s as wt,a$ as Vo,g as P,at as Ho,aa as Zo,au as Kt,q as lt,k as qo,u as oi,b0 as Go,aU as Ci,aV as Xo,F as Gt,J as ft,I as Xt,M as J,O as ze,N as G,G as bt,R as ai,aW as Pn,b1 as Ko,h as Yo,aX as Jo,aY as ne,K as st,n as Vt,aZ as Qo}from"../chunks/runtime.BfEhbvMC.js";import{d as On,a as Ce,s as ce,b as ta,r as qe}from"../chunks/attributes.BCw2CX7M.js";import{i as Cs}from"../chunks/lifecycle.CSO3TT0t.js";import{i as Et}from"../chunks/if.DOEjci8F.js";import{t as ur,s as ea,k as ra,f as Or}from"../chunks/index.yGhBMbYP.js";import{b as na,c as Wt}from"../chunks/this.CG-FXQx-.js";import{i as Is,a as Rt,p as ht,r as Ie,l as ke,s as xe}from"../chunks/props.JFTOXSWA.js";import{b as ae,s as ia,a as ir}from"../chunks/store.D_B2dLr0.js";import{s as ee,e as de,i as me}from"../chunks/snippet.BbkhXZAO.js";import{s as je,i as sa,b as oa,m as aa,c as Zt,t as la,e as ca,h as ua}from"../chunks/config.Dw15K4gZ.js";import{c as Ge,I as js,m as da,g as ha,D as Ii}from"../chunks/maplibre-gl.CdxC5h6n.js";import{B as fa}from"../chunks/BaseLink.DTMFoyh5.js";import{a as pa}from"../chunks/actions.CMoLzesU.js";import{o as Rs,a as ma}from"../chunks/index-client.BrZ_hZ_k.js";import{I as Re}from"../chunks/Icon.DWiui_oa.js";import{b as ga}from"../chunks/paths.BnPqR-S5.js";import{g as va}from"../chunks/entry.O4qPpG9_.js";import{p as _a}from"../chunks/stores.DWuvQeFu.js";import{d as ya,w as ba}from"../chunks/index.SzAeu-8J.js";import{B as le}from"../chunks/button.Db9v3gQZ.js";function $n(t,e,r=e){var i=Mo();pn(t,"input",n=>{var s=n?t.defaultValue:t.value;if(s=Cn(t)?In(s):s,r(s),i&&s!==(s=e())){var o=t.selectionStart,a=t.selectionEnd;t.value=s??"",a!==null&&(t.selectionStart=o,t.selectionEnd=Math.min(a,t.value.length))}}),(si&&t.defaultValue!==t.value||we(e)==null&&t.value)&&r(Cn(t)?In(t.value):t.value),mn(()=>{var n=e();Cn(t)&&n===In(t.value)||t.type==="date"&&!n&&!t.value||n!==t.value&&(t.value=n??"")})}const zn=new Set;function ji(t,e,r,i,n=i){var s=r.getAttribute("type")==="checkbox",o=t;let a=!1;if(e!==null)for(var c of e)o=o[c]??(o[c]=[]);o.push(r),pn(r,"change",()=>{var u=r.__value;s&&(u=Ri(o,u,r.checked)),n(u)},()=>n(s?[]:null)),mn(()=>{var u=i();if(si&&r.defaultChecked!==r.checked){a=!0;return}s?(u=u||[],r.checked=u.includes(r.__value)):r.checked=Is(r.__value,u)}),Wo(()=>{var u=o.indexOf(r);u!==-1&&o.splice(u,1)}),zn.has(o)||(zn.add(o),zi(()=>{o.sort((u,m)=>u.compareDocumentPosition(m)===4?-1:1),zn.delete(o)})),zi(()=>{if(a){var u;if(s)u=Ri(o,u,r.checked);else{var m=o.find(_=>_.checked);u=m==null?void 0:m.__value}n(u)}})}function wa(t,e,r=e){pn(t,"change",i=>{var n=i?t.defaultChecked:t.checked;r(n)}),(si&&t.defaultChecked!==t.checked||we(e)==null)&&r(t.checked),mn(()=>{var i=e();t.checked=!!i})}function Ri(t,e,r){for(var i=new Set,n=0;n<t.length;n+=1)t[n].checked&&i.add(t[n].__value);return r||i.delete(e),Array.from(i)}function Cn(t){var e=t.type;return e==="number"||e==="range"}function In(t){return t===""?null:+t}function Ts(t,e,r){if(t.multiple)return Sa(t,e);for(var i of t.options){var n=dr(i);if(Is(n,e)){i.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function ka(t,e){zs(()=>{var r=new MutationObserver(()=>{var i=t.__value;Ts(t,i)});return r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function xa(t,e,r=e){var i=!0;pn(t,"change",n=>{var s=n?"[selected]":":checked",o;if(t.multiple)o=[].map.call(t.querySelectorAll(s),dr);else{var a=t.querySelector(s)??t.querySelector("option:not([disabled])");o=a&&dr(a)}r(o)}),zs(()=>{var n=e();if(Ts(t,n,i),i&&n===void 0){var s=t.querySelector(":checked");s!==null&&(n=dr(s),r(n))}t.__value=n,i=!1}),ka(t)}function Sa(t,e){for(var r of t.options)r.selected=~e.indexOf(dr(r))}function dr(t){return"__value"in t?t.__value:t.value}function Ti(t,e){var s;var r=(s=t.$$events)==null?void 0:s[e.type],i=$o(r)?r.slice():r==null?[]:[r];for(var n of i)n.call(this,e)}function Aa(t){wt(t,t.v+1)}function Ea(t){let e=0,r=Zo(0),i;return()=>{Vo()&&(P(r),mn(()=>(e===0&&(i=we(()=>t(()=>Aa(r)))),e+=1,()=>{Ho().then(()=>{e-=1,e===0&&(i==null||i(),i=void 0)})})))}}function Pa(t){return typeof t=="function"}function Oa(t){return t!==null&&typeof t=="object"}const za=["string","number","bigint","boolean"];function Vn(t){return t==null||za.includes(typeof t)?!0:Array.isArray(t)?t.every(e=>Vn(e)):typeof t=="object"?Object.getPrototypeOf(t)===Object.prototype:!1}const gr=Symbol("box"),li=Symbol("is-writable");function Ca(t){return Oa(t)&&gr in t}function Ia(t){return pt.isBox(t)&&li in t}function pt(t){let e=Kt(Rt(t));return{[gr]:!0,[li]:!0,get current(){return P(e)},set current(r){wt(e,Rt(r))}}}function ja(t,e){const r=lt(t);return e?{[gr]:!0,[li]:!0,get current(){return P(r)},set current(i){e(i)}}:{[gr]:!0,get current(){return t()}}}function Ra(t){return pt.isBox(t)?t:Pa(t)?pt.with(t):pt(t)}function Ta(t){return Object.entries(t).reduce((e,[r,i])=>pt.isBox(i)?(pt.isWritableBox(i)?Object.defineProperty(e,r,{get(){return i.current},set(n){i.current=n}}):Object.defineProperty(e,r,{get(){return i.current}}),e):Object.assign(e,{[r]:i}),{})}function Ba(t){return pt.isWritableBox(t)?{[gr]:!0,get current(){return t.current}}:t}pt.from=Ra;pt.with=ja;pt.flatten=Ta;pt.readonly=Ba;pt.isBox=Ca;pt.isWritableBox=Ia;function Na(...t){return function(e){var r;for(const i of t)if(i){if(e.defaultPrevented)return;typeof i=="function"?i.call(this,e):(r=i.current)==null||r.call(this,e)}}}var Bs={},Bi=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,La=/\n/g,Fa=/^\s*/,Da=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Ua=/^:\s*/,Ma=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Wa=/^[;\s]*/,$a=/^\s+|\s+$/g,Va=`
`,Ni="/",Li="*",Le="",Ha="comment",Za="declaration",qa=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var r=1,i=1;function n(h){var l=h.match(La);l&&(r+=l.length);var g=h.lastIndexOf(Va);i=~g?h.length-g:i+h.length}function s(){var h={line:r,column:i};return function(l){return l.position=new o(h),u(),l}}function o(h){this.start=h,this.end={line:r,column:i},this.source=e.source}o.prototype.content=t;function a(h){var l=new Error(e.source+":"+r+":"+i+": "+h);if(l.reason=h,l.filename=e.source,l.line=r,l.column=i,l.source=t,!e.silent)throw l}function c(h){var l=h.exec(t);if(l){var g=l[0];return n(g),t=t.slice(g.length),l}}function u(){c(Fa)}function m(h){var l;for(h=h||[];l=_();)l!==!1&&h.push(l);return h}function _(){var h=s();if(!(Ni!=t.charAt(0)||Li!=t.charAt(1))){for(var l=2;Le!=t.charAt(l)&&(Li!=t.charAt(l)||Ni!=t.charAt(l+1));)++l;if(l+=2,Le===t.charAt(l-1))return a("End of comment missing");var g=t.slice(2,l-2);return i+=2,n(g),t=t.slice(l),i+=2,h({type:Ha,comment:g})}}function v(){var h=s(),l=c(Da);if(l){if(_(),!c(Ua))return a("property missing ':'");var g=c(Ma),y=h({type:Za,property:Fi(l[0].replace(Bi,Le)),value:g?Fi(g[0].replace(Bi,Le)):Le});return c(Wa),y}}function f(){var h=[];m(h);for(var l;l=v();)l!==!1&&(h.push(l),m(h));return h}return u(),f()};function Fi(t){return t?t.replace($a,Le):Le}var Ga=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bs,"__esModule",{value:!0});var Di=Bs.default=Ka,Xa=Ga(qa);function Ka(t,e){var r=null;if(!t||typeof t!="string")return r;var i=(0,Xa.default)(t),n=typeof e=="function";return i.forEach(function(s){if(s.type==="declaration"){var o=s.property,a=s.value;n?e(o,a,s):a&&(r=r||{},r[o]=a)}}),r}const Ya=Di.default||Di,Ja=/\d/,Qa=["-","_","/","."];function tl(t=""){if(!Ja.test(t))return t!==t.toLowerCase()}function el(t){const e=[];let r="",i,n;for(const s of t){const o=Qa.includes(s);if(o===!0){e.push(r),r="",i=void 0;continue}const a=tl(s);if(n===!1){if(i===!1&&a===!0){e.push(r),r=s,i=a;continue}if(i===!0&&a===!1&&r.length>1){const c=r.at(-1);e.push(r.slice(0,Math.max(0,r.length-1))),r=c+s,i=a;continue}}r+=s,i=a,n=o}return e.push(r),e}function Ns(t){return t?el(t).map(e=>nl(e)).join(""):""}function rl(t){return il(Ns(t||""))}function nl(t){return t?t[0].toUpperCase()+t.slice(1):""}function il(t){return t?t[0].toLowerCase()+t.slice(1):""}function zr(t){if(!t)return{};const e={};function r(i,n){if(i.startsWith("-moz-")||i.startsWith("-webkit-")||i.startsWith("-ms-")||i.startsWith("-o-")){e[Ns(i)]=n;return}if(i.startsWith("--")){e[i]=n;return}e[rl(i)]=n}return Ya(t,r),e}function ci(...t){return(...e)=>{for(const r of t)typeof r=="function"&&r(...e)}}function sl(t,e){const r=RegExp(t,"g");return i=>{if(typeof i!="string")throw new TypeError(`expected an argument of type string, but got ${typeof i}`);return i.match(r)?i.replace(r,e):i}}const ol=sl(/[A-Z]/,t=>`-${t.toLowerCase()}`);function al(t){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected an argument of type object, but got ${typeof t}`);return Object.keys(t).map(e=>`${ol(e)}: ${t[e]};`).join(`
`)}function Ls(t={}){return al(t).replace(`
`," ")}const ll={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};Ls(ll);function cl(t){var e;return t.length>2&&t.startsWith("on")&&t[2]===((e=t[2])==null?void 0:e.toLowerCase())}function Me(...t){const e={...t[0]};for(let r=1;r<t.length;r++){const i=t[r];for(const n in i){const s=e[n],o=i[n],a=typeof s=="function",c=typeof o=="function";if(a&&cl(n)){const u=s,m=o;e[n]=Na(u,m)}else if(a&&c)e[n]=ci(s,o);else if(n==="class"){const u=Vn(s),m=Vn(o);u&&m?e[n]=On(s,o):u?e[n]=On(s):m&&(e[n]=On(o))}else if(n==="style"){const u=typeof s=="object",m=typeof o=="object",_=typeof s=="string",v=typeof o=="string";if(u&&m)e[n]={...s,...o};else if(u&&v){const f=zr(o);e[n]={...s,...f}}else if(_&&m){const f=zr(s);e[n]={...f,...o}}else if(_&&v){const f=zr(s),h=zr(o);e[n]={...f,...h}}else u?e[n]=s:m?e[n]=o:_?e[n]=s:v&&(e[n]=o)}else e[n]=o!==void 0?o:s}}return typeof e.style=="object"&&(e.style=Ls(e.style).replaceAll(`
`," ")),e.hidden!==!0&&(e.hidden=void 0,delete e.hidden),e.disabled!==!0&&(e.disabled=void 0,delete e.disabled),e}const ul=typeof window<"u"?window:void 0;function dl(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const r=e.shadowRoot.activeElement;if(r===e)break;e=r}return e}var Ye,br;class hl{constructor(e={}){kt(this,Ye);kt(this,br);const{window:r=ul,document:i=r==null?void 0:r.document}=e;r!==void 0&&(nr(this,Ye,i),nr(this,br,Ea(n=>{const s=pe(r,"focusin",n),o=pe(r,"focusout",n);return()=>{s(),o()}})))}get current(){var e;return(e=_t(this,br))==null||e.call(this),_t(this,Ye)?dl(_t(this,Ye)):null}}Ye=new WeakMap,br=new WeakMap;new hl;function fl(t,e){switch(t){case"post":oi(e);break;case"pre":qo(e);break}}function Fs(t,e,r,i={}){const{lazy:n=!1}=i;let s=!n,o=Array.isArray(t)?[]:void 0;fl(e,()=>{const a=Array.isArray(t)?t.map(u=>u()):t();if(!s){s=!0,o=a;return}const c=we(()=>r(a,o));return o=a,c})}function gn(t,e,r){Fs(t,"post",e,r)}function pl(t,e,r){Fs(t,"pre",e,r)}gn.pre=pl;var wr,_e;class Ds{constructor(e){kt(this,wr);kt(this,_e);nr(this,wr,e),nr(this,_e,Symbol(e))}get key(){return _t(this,_e)}exists(){return Go(_t(this,_e))}get(){const e=Ci(_t(this,_e));if(e===void 0)throw new Error(`Context "${_t(this,wr)}" not found`);return e}getOr(e){const r=Ci(_t(this,_e));return r===void 0?e:r}set(e){return Xo(_t(this,_e),e)}}wr=new WeakMap,_e=new WeakMap;function ml(t){oi(()=>()=>{t()})}function Qe({id:t,ref:e,deps:r=()=>!0,onRefChange:i,getRootNode:n}){gn([()=>t.current,r],([s])=>{const o=(n==null?void 0:n())??document,a=o==null?void 0:o.getElementById(s);a?e.current=a:e.current=null,i==null||i(e.current)}),ml(()=>{e.current=null,i==null||i(null)})}function Us(t){oi(()=>we(()=>t()))}function Ms(t){return t?"true":"false"}function vn(t){return t?"":void 0}const ui="ArrowDown",_n="ArrowLeft",yn="ArrowRight",di="ArrowUp",hi="End",Ws="Enter",fi="Home",$s=" ";function gl(t){return window.getComputedStyle(t).getPropertyValue("direction")}function vl(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?_n:yn,vertical:ui}[e]}function _l(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?yn:_n,vertical:di}[e]}function yl(t="ltr",e="horizontal"){return["ltr","rtl"].includes(t)||(t="ltr"),["horizontal","vertical"].includes(e)||(e="horizontal"),{nextKey:vl(t,e),prevKey:_l(t,e)}}function Vs(t){return t instanceof Element||t instanceof SVGElement}globalThis.bitsIdCounter??(globalThis.bitsIdCounter={current:0});function Te(t="bits"){return globalThis.bitsIdCounter.current++,`${t}-${globalThis.bitsIdCounter.current}`}function Hn(){}function bl(t,e){return t>=0&&t<e.length}const wl="data-pagination-root",kl="data-pagination-page",xl="data-pagination-prev",Sl="data-pagination-next";var Fr,Dr,Ur,Mr,Wr,$r,Vr;class Al{constructor(e){Tt(this,"opts");kt(this,Fr,lt(()=>this.opts.count.current===0?1:Math.ceil(this.opts.count.current/this.opts.perPage.current)));kt(this,Dr,lt(()=>{const e=(this.opts.page.current-1)*this.opts.perPage.current,r=Math.min(e+this.opts.perPage.current,this.opts.count.current);return{start:e,end:r}}));kt(this,Ur,lt(()=>Ol({page:this.opts.page.current,totalPages:this.totalPages,siblingCount:this.opts.siblingCount.current})));kt(this,Mr,lt(()=>this.opts.page.current>1));kt(this,Wr,lt(()=>this.opts.page.current<this.totalPages));kt(this,$r,lt(()=>({pages:this.pages,range:this.range,currentPage:this.opts.page.current})));kt(this,Vr,lt(()=>({id:this.opts.id.current,"data-orientation":this.opts.orientation.current,[wl]:""})));this.opts=e,Qe(e)}get totalPages(){return P(_t(this,Fr))}get range(){return P(_t(this,Dr))}get pages(){return P(_t(this,Ur))}setPage(e){this.opts.page.current=e}getPageTriggerNodes(){const e=this.opts.ref.current;return e?Array.from(e.querySelectorAll("[data-pagination-page]")):[]}getButtonNode(e){const r=this.opts.ref.current;if(r)return r.querySelector(`[data-pagination-${e}]`)}get hasPrevPage(){return P(_t(this,Mr))}get hasNextPage(){return P(_t(this,Wr))}prevPage(){this.opts.page.current=Math.max(this.opts.page.current-1,1)}nextPage(){this.opts.page.current=Math.min(this.opts.page.current+1,this.totalPages)}get snippetProps(){return P(_t(this,$r))}get props(){return P(_t(this,Vr))}}Fr=new WeakMap,Dr=new WeakMap,Ur=new WeakMap,Mr=new WeakMap,Wr=new WeakMap,$r=new WeakMap,Vr=new WeakMap;var Hr,Zr;class El{constructor(e,r){Tt(this,"opts");Tt(this,"root");kt(this,Hr,lt(()=>this.opts.page.current.value===this.root.opts.page.current));kt(this,Zr,lt(()=>({id:this.opts.id.current,"aria-label":`Page ${this.opts.page.current.value}`,"data-value":`${this.opts.page.current.value}`,"data-selected":P(_t(this,Hr))?"":void 0,[kl]:"",onclick:this.onclick,onkeydown:this.onkeydown})));this.opts=e,this.root=r,Qe(e),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button===0&&this.root.setPage(this.opts.page.current.value)}onkeydown(e){e.key===$s||e.key===Ws?(e.preventDefault(),this.root.setPage(this.opts.page.current.value)):Hs(e,this.opts.ref.current,this.root)}get props(){return P(_t(this,Zr))}}Hr=new WeakMap,Zr=new WeakMap;var kr,Zn,qr,Gr;class Pl{constructor(e,r){kt(this,kr);Tt(this,"opts");Tt(this,"root");kt(this,qr,lt(()=>this.opts.disabled.current?!0:this.opts.type==="prev"?!this.root.hasPrevPage:this.opts.type==="next"?!this.root.hasNextPage:!1));kt(this,Gr,lt(()=>({id:this.opts.id.current,[xl]:this.opts.type==="prev"?"":void 0,[Sl]:this.opts.type==="next"?"":void 0,disabled:P(_t(this,qr)),onclick:this.onclick,onkeydown:this.onkeydown})));this.opts=e,this.root=r,Qe(e),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button===0&&Ht(this,kr,Zn).call(this)}onkeydown(e){e.key===$s||e.key===Ws?(e.preventDefault(),Ht(this,kr,Zn).call(this)):Hs(e,this.opts.ref.current,this.root)}get props(){return P(_t(this,Gr))}}kr=new WeakSet,Zn=function(){this.opts.type==="prev"?this.root.prevPage():this.root.nextPage()},qr=new WeakMap,Gr=new WeakMap;function Hs(t,e,r){if(!e||!r.opts.ref.current)return;const i=r.getPageTriggerNodes(),n=r.getButtonNode("next"),s=r.getButtonNode("prev");s&&i.unshift(s),n&&i.push(n);const o=i.indexOf(e),a=gl(r.opts.ref.current),{nextKey:c,prevKey:u}=yl(a,r.opts.orientation.current),m=r.opts.loop.current;let v={[c]:o+1,[u]:o-1,[fi]:0,[hi]:i.length-1}[t.key];if(v===void 0)return;t.preventDefault(),v<0&&m?v=i.length-1:v===i.length&&m&&(v=0);const f=i[v];f&&f.focus()}function Ol({page:t=1,totalPages:e,siblingCount:r=1}){const i=[],n=new Set([1,e]),s=3+r,o=e-2-r;if(s>o)for(let m=2;m<=e-1;m++)n.add(m);else if(t<s)for(let m=2;m<=Math.min(s,e);m++)n.add(m);else if(t>o)for(let m=e-1;m>=Math.max(o,2);m--)n.add(m);else for(let m=Math.max(t-r,2);m<=Math.min(t+r,e);m++)n.add(m);function a(m){i.push({type:"page",value:m,key:`page-${m}`})}function c(){const m=Te();i.push({type:"ellipsis",key:`ellipsis-${m}`})}let u=0;for(const m of Array.from(n).sort((_,v)=>_-v))m-u>1&&c(),a(m),u=m;return i}const pi=new Ds("Pagination.Root");function zl(t){return pi.set(new Al(t))}function Cl(t){return new El(t,pi.get())}function Zs(t){return new Pl(t,pi.get())}var Il=ut("<div><!></div>");function jl(t,e){Gt(e,!0);let r=ht(e,"id",19,Te),i=ht(e,"perPage",3,1),n=ht(e,"page",15,1),s=ht(e,"ref",15,null),o=ht(e,"siblingCount",3,1),a=ht(e,"onPageChange",3,Hn),c=ht(e,"loop",3,!1),u=ht(e,"orientation",3,"horizontal"),m=Ie(e,["$$slots","$$events","$$legacy","id","count","perPage","page","ref","siblingCount","onPageChange","loop","orientation","child","children"]);const _=zl({id:pt.with(()=>r()),count:pt.with(()=>e.count),perPage:pt.with(()=>i()),page:pt.with(()=>n(),y=>{var w;n(y),(w=a())==null||w(y)}),loop:pt.with(()=>c()),siblingCount:pt.with(()=>o()),orientation:pt.with(()=>u()),ref:pt.with(()=>s(),y=>s(y))}),v=lt(()=>Me(m,_.props));var f=It(),h=ft(f);{var l=y=>{var w=It(),k=ft(w),z=ai(()=>({props:P(v),..._.snippetProps}));ee(k,()=>e.child,()=>P(z)),Y(y,w)},g=y=>{var w=Il();let k;var z=J(w);ee(z,()=>e.children??ze,()=>_.snippetProps),G(w),bt(()=>k=Ce(w,k,{...P(v)})),Y(y,w)};Et(h,y=>{e.child?y(l):y(g,!1)})}Y(t,f),Xt()}var Rl=ut("<button><!></button>");function Tl(t,e){Gt(e,!0);let r=ht(e,"id",19,Te),i=ht(e,"ref",15,null),n=ht(e,"type",3,"button"),s=ht(e,"disabled",3,!1),o=Ie(e,["$$slots","$$events","$$legacy","id","child","children","ref","type","disabled"]);const a=Zs({type:"prev",id:pt.with(()=>r()),ref:pt.with(()=>i(),f=>i(f)),disabled:pt.with(()=>!!s())}),c=lt(()=>Me(o,a.props,{type:n()}));var u=It(),m=ft(u);{var _=f=>{var h=It(),l=ft(h);ee(l,()=>e.child,()=>({props:P(c)})),Y(f,h)},v=f=>{var h=Rl();let l;var g=J(h);ee(g,()=>e.children??ze),G(h),bt(()=>l=Ce(h,l,{...P(c)})),Y(f,h)};Et(m,f=>{e.child?f(_):f(v,!1)})}Y(t,u),Xt()}var Bl=ut("<button><!></button>");function Nl(t,e){Gt(e,!0);let r=ht(e,"id",19,Te),i=ht(e,"ref",15,null),n=ht(e,"type",3,"button"),s=ht(e,"disabled",3,!1),o=Ie(e,["$$slots","$$events","$$legacy","id","child","children","ref","type","disabled"]);const a=Zs({type:"next",id:pt.with(()=>r()),ref:pt.with(()=>i(),f=>i(f)),disabled:pt.with(()=>!!s())}),c=lt(()=>Me(o,a.props,{type:n()}));var u=It(),m=ft(u);{var _=f=>{var h=It(),l=ft(h);ee(l,()=>e.child,()=>({props:P(c)})),Y(f,h)},v=f=>{var h=Bl();let l;var g=J(h);ee(g,()=>e.children??ze),G(h),bt(()=>l=Ce(h,l,{...P(c)})),Y(f,h)};Et(m,f=>{e.child?f(_):f(v,!1)})}Y(t,u),Xt()}var Ll=ut("<button><!></button>");function Fl(t,e){Gt(e,!0);let r=ht(e,"id",19,Te),i=ht(e,"type",3,"button"),n=ht(e,"ref",15,null),s=ht(e,"disabled",3,!1),o=Ie(e,["$$slots","$$events","$$legacy","id","page","child","children","type","ref","disabled"]);const a=Cl({id:pt.with(()=>r()),page:pt.with(()=>e.page),ref:pt.with(()=>n(),f=>n(f)),disabled:pt.with(()=>!!s())}),c=lt(()=>Me(o,a.props,{type:i()}));var u=It(),m=ft(u);{var _=f=>{var h=It(),l=ft(h);ee(l,()=>e.child,()=>({props:P(c)})),Y(f,h)},v=f=>{var h=Ll();let l;var g=J(h);{var y=k=>{var z=It(),j=ft(z);ee(j,()=>e.children??ze),Y(k,z)},w=k=>{var z=te();bt(()=>gt(z,e.page.value)),Y(k,z)};Et(g,k=>{e.children?k(y):k(w,!1)})}G(h),bt(()=>l=Ce(h,l,{...P(c)})),Y(f,h)};Et(m,f=>{e.child?f(_):f(v,!1)})}Y(t,u),Xt()}function Dl(t,e,r){const i={position:"absolute"};return t==="lr"?(i.left=`${e}%`,i.right=`${r}%`):t==="rl"?(i.right=`${e}%`,i.left=`${r}%`):t==="bt"?(i.bottom=`${e}%`,i.top=`${r}%`):(i.top=`${e}%`,i.bottom=`${r}%`),i}function qs(t,e){const r={position:"absolute"};return t==="lr"?(r.left=`${e}%`,r.translate="-50% 0"):t==="rl"?(r.right=`${e}%`,r.translate="50% 0"):t==="bt"?(r.bottom=`${e}%`,r.translate="0 50%"):(r.top=`${e}%`,r.translate="0 -50%"),r}function Gs(t,e,r){const i={position:"absolute"};return t==="lr"?(i.left=`${e}%`,i.translate=`${r}% 0`):t==="rl"?(i.right=`${e}%`,i.translate=`${-r}% 0`):t==="bt"?(i.bottom=`${e}%`,i.translate=`0 ${-r}%`):(i.top=`${e}%`,i.translate=`0 ${r}%`),i}function Xe(t,e,r,i){const n=(t-(Number.isNaN(e)?0:e))%i;let s=Math.abs(n)*2>=i?t+Math.sign(n)*(i-Math.abs(n)):t-n;Number.isNaN(e)?!Number.isNaN(r)&&s>r&&(s=Math.floor(r/i)*i):s<e?s=e:!Number.isNaN(r)&&s>r&&(s=e+Math.floor((r-e)/i)*i);const o=i.toString(),a=o.indexOf("."),c=a>=0?o.length-a:0;if(c>0){const u=10**c;s=Math.round(s*u)/u}return s}const Ul="data-slider-root",Lr="data-slider-thumb",Ml="data-slider-range",Xs="data-slider-tick";var xr,Xr,Kr,Yr;class Ks{constructor(e){Tt(this,"opts");kt(this,xr,Kt(!1));kt(this,Xr,lt(()=>this.opts.orientation.current==="horizontal"?this.opts.dir.current==="rtl"?"rl":"lr":this.opts.dir.current==="rtl"?"tb":"bt"));kt(this,Kr,lt(()=>{if(!this.opts.disabled.current)return this.opts.orientation.current==="horizontal"?"pan-y":"pan-x"}));Tt(this,"getAllThumbs",()=>{const e=this.opts.ref.current;return e?Array.from(e.querySelectorAll(`[${Lr}]`)):[]});kt(this,Yr,lt(()=>({id:this.opts.id.current,"data-orientation":this.opts.orientation.current,"data-disabled":vn(this.opts.disabled.current),style:{touchAction:P(_t(this,Kr))},[Ul]:""})));this.opts=e,Qe(e)}get isActive(){return P(_t(this,xr))}set isActive(e){wt(_t(this,xr),Rt(e))}get direction(){return P(_t(this,Xr))}get props(){return P(_t(this,Yr))}}xr=new WeakMap,Xr=new WeakMap,Kr=new WeakMap,Yr=new WeakMap;var Jr,Qr,tn,en,rn;class Wl extends Ks{constructor(r){super(r);Tt(this,"opts");Tt(this,"isMulti",!1);Tt(this,"updateValue",r=>{this.opts.value.current=Xe(r,this.opts.min.current,this.opts.max.current,this.opts.step.current)});Tt(this,"handlePointerMove",r=>{if(!this.isActive||this.opts.disabled.current)return;r.preventDefault(),r.stopPropagation();const i=this.opts.ref.current,n=this.getAllThumbs()[0];if(!i||!n)return;n.focus();const{left:s,right:o,top:a,bottom:c}=i.getBoundingClientRect();this.direction==="lr"?this.applyPosition({clientXY:r.clientX,start:s,end:o}):this.direction==="rl"?this.applyPosition({clientXY:r.clientX,start:o,end:s}):this.direction==="bt"?this.applyPosition({clientXY:r.clientY,start:c,end:a}):this.direction==="tb"&&this.applyPosition({clientXY:r.clientY,start:a,end:c})});Tt(this,"handlePointerDown",r=>{if(r.button!==0||this.opts.disabled.current)return;const i=this.opts.ref.current,n=this.getAllThumbs()[0];if(!n||!i)return;const s=r.target;!Vs(s)||!i.contains(s)||(r.preventDefault(),n.focus(),this.isActive=!0,this.handlePointerMove(r))});Tt(this,"handlePointerUp",()=>{this.opts.disabled.current||(this.isActive&&this.opts.onValueCommit.current(we(()=>this.opts.value.current)),this.isActive=!1)});Tt(this,"getPositionFromValue",r=>{const i=this.opts.min.current,n=this.opts.max.current;return(r-i)/(n-i)*100});kt(this,Jr,lt(()=>{const r=this.opts.value.current;return Array.from({length:1},()=>{const i=r,n=this.getPositionFromValue(i??0),s=qs(this.direction,n);return{role:"slider","aria-valuemin":this.opts.min.current,"aria-valuemax":this.opts.max.current,"aria-valuenow":i,"aria-disabled":Ms(this.opts.disabled.current),"aria-orientation":this.opts.orientation.current,"data-value":i,tabindex:this.opts.disabled.current?-1:0,style:s,[Lr]:""}})}));kt(this,Qr,lt(()=>this.thumbsPropsArr.map((r,i)=>i)));kt(this,tn,lt(()=>{const r=this.opts.max.current,i=this.opts.min.current,n=this.opts.step.current,s=r-i;let o=Math.ceil(s/n);s%n==0&&o++;const a=this.opts.value.current;return Array.from({length:o},(c,u)=>{const m=u*(n/s)*100,_=u===0,v=u===o-1,f=_?0:v?-100:-50,h=Gs(this.direction,m,f),l=i+u*n,g=l<=a;return{"data-disabled":vn(this.opts.disabled.current),"data-orientation":this.opts.orientation.current,"data-bounded":g?"":void 0,"data-value":l,style:h,[Xs]:""}})}));kt(this,en,lt(()=>this.ticksPropsArr.map((r,i)=>i)));kt(this,rn,lt(()=>({ticks:this.ticksRenderArr,thumbs:this.thumbsRenderArr})));this.opts=r,Us(()=>ci(pe(document,"pointerdown",this.handlePointerDown),pe(document,"pointerup",this.handlePointerUp),pe(document,"pointermove",this.handlePointerMove),pe(document,"pointerleave",this.handlePointerUp))),gn([()=>this.opts.step.current,()=>this.opts.min.current,()=>this.opts.max.current,()=>this.opts.value.current],([i,n,s,o])=>{const a=u=>Xe(u,n,s,i)===u,c=u=>Xe(u,n,s,i);a(o)||(this.opts.value.current=c(o))})}applyPosition({clientXY:r,start:i,end:n}){const s=this.opts.min.current,o=this.opts.max.current,c=(r-i)/(n-i)*(o-s)+s;if(c<s)this.updateValue(s);else if(c>o)this.updateValue(o);else{const u=this.opts.step.current,m=Math.floor((c-s)/u),_=s+m*u+u/2,v=s+(m+1)*u+u/2,f=c>=_&&c<v?(m+1)*u+s:m*u+s;f<=o&&this.updateValue(f)}}get thumbsPropsArr(){return P(_t(this,Jr))}get thumbsRenderArr(){return P(_t(this,Qr))}get ticksPropsArr(){return P(_t(this,tn))}get ticksRenderArr(){return P(_t(this,en))}get snippetProps(){return P(_t(this,rn))}}Jr=new WeakMap,Qr=new WeakMap,tn=new WeakMap,en=new WeakMap,rn=new WeakMap;var Sr,Ar,nn,sn,on,an,ln,cn;class $l extends Ks{constructor(r){super(r);Tt(this,"opts");Tt(this,"isMulti",!0);kt(this,Sr,Kt(null));kt(this,Ar,Kt(0));kt(this,nn,r=>{const i=this.getAllThumbs();if(!i.length)return;for(const a of i)a.blur();const n=i.map(a=>{if(this.opts.orientation.current==="horizontal"){const{left:c,right:u}=a.getBoundingClientRect();return Math.abs(r.clientX-(c+u)/2)}else{const{top:c,bottom:u}=a.getBoundingClientRect();return Math.abs(r.clientY-(c+u)/2)}}),s=i[n.indexOf(Math.min(...n))],o=i.indexOf(s);return{node:s,idx:o}});Tt(this,"handlePointerMove",r=>{if(!this.isActive||this.opts.disabled.current)return;r.preventDefault(),r.stopPropagation();const i=this.opts.ref.current,n=this.activeThumb;if(!i||!n)return;n.node.focus();const{left:s,right:o,top:a,bottom:c}=i.getBoundingClientRect(),u=this.direction;u==="lr"?this.applyPosition({clientXY:r.clientX,activeThumbIdx:n.idx,start:s,end:o}):u==="rl"?this.applyPosition({clientXY:r.clientX,activeThumbIdx:n.idx,start:o,end:s}):u==="bt"?this.applyPosition({clientXY:r.clientY,activeThumbIdx:n.idx,start:c,end:a}):u==="tb"&&this.applyPosition({clientXY:r.clientY,activeThumbIdx:n.idx,start:a,end:c})});Tt(this,"handlePointerDown",r=>{if(r.button!==0||this.opts.disabled.current)return;const i=this.opts.ref.current,n=_t(this,nn).call(this,r);if(!n||!i)return;const s=r.target;!Vs(s)||!i.contains(s)||(r.preventDefault(),this.activeThumb=n,n.node.focus(),this.isActive=!0,this.handlePointerMove(r))});Tt(this,"handlePointerUp",()=>{this.opts.disabled.current||(this.isActive&&this.opts.onValueCommit.current(we(()=>this.opts.value.current)),this.isActive=!1)});Tt(this,"getPositionFromValue",r=>{const i=this.opts.min.current,n=this.opts.max.current;return(r-i)/(n-i)*100});Tt(this,"getAllThumbs",()=>{const r=this.opts.ref.current;return r?Array.from(r.querySelectorAll(`[${Lr}]`)):[]});Tt(this,"updateValue",(r,i)=>{const n=this.opts.value.current;if(!n.length){this.opts.value.current.push(r);return}if(n[i]===r)return;const o=[...n];if(!bl(i,o))return;const a=o[i]>r?-1:1,c=()=>{var h;const v=i+a;o[i]=o[v],o[v]=r;const f=this.getAllThumbs();f.length&&((h=f[v])==null||h.focus(),this.activeThumb={node:f[v],idx:v})};if(this.opts.autoSort.current&&(a===-1&&r<o[i-1]||a===1&&r>o[i+1])){c(),this.opts.value.current=o;return}const u=this.opts.min.current,m=this.opts.max.current,_=this.opts.step.current;o[i]=Xe(r,u,m,_),this.opts.value.current=o});kt(this,sn,lt(()=>{const r=this.opts.value.current;return Array.from({length:r.length||1},(i,n)=>{const s=we(()=>this.currentThumbIdx);s<r.length&&we(()=>{this.currentThumbIdx=s+1});const o=r[n],a=this.getPositionFromValue(o??0),c=qs(this.direction,a);return{role:"slider","aria-valuemin":this.opts.min.current,"aria-valuemax":this.opts.max.current,"aria-valuenow":o,"aria-disabled":Ms(this.opts.disabled.current),"aria-orientation":this.opts.orientation.current,"data-value":o,tabindex:this.opts.disabled.current?-1:0,style:c,[Lr]:""}})}));kt(this,on,lt(()=>this.thumbsPropsArr.map((r,i)=>i)));kt(this,an,lt(()=>{const r=this.opts.max.current,i=this.opts.min.current,n=this.opts.step.current,s=r-i;let o=Math.ceil(s/n);s%n==0&&o++;const a=this.opts.value.current;return Array.from({length:o},(c,u)=>{const m=u*(n/s)*100,_=u===0,v=u===o-1,f=_?0:v?-100:-50,h=Gs(this.direction,m,f),l=i+u*n,g=a.length===1?l<=a[0]:a[0]<=l&&l<=a[a.length-1];return{"data-disabled":vn(this.opts.disabled.current),"data-orientation":this.opts.orientation.current,"data-bounded":g?"":void 0,"data-value":l,style:h,[Xs]:""}})}));kt(this,ln,lt(()=>this.ticksPropsArr.map((r,i)=>i)));kt(this,cn,lt(()=>({ticks:this.ticksRenderArr,thumbs:this.thumbsRenderArr})));this.opts=r,Us(()=>ci(pe(document,"pointerdown",this.handlePointerDown),pe(document,"pointerup",this.handlePointerUp),pe(document,"pointermove",this.handlePointerMove),pe(document,"pointerleave",this.handlePointerUp))),gn([()=>this.opts.step.current,()=>this.opts.min.current,()=>this.opts.max.current,()=>this.opts.value.current],([i,n,s,o])=>{const a=u=>Xe(u,n,s,i)===u,c=u=>Xe(u,n,s,i);o.some(u=>!a(u))&&(this.opts.value.current=o.map(c))})}get activeThumb(){return P(_t(this,Sr))}set activeThumb(r){wt(_t(this,Sr),Rt(r))}get currentThumbIdx(){return P(_t(this,Ar))}set currentThumbIdx(r){wt(_t(this,Ar),Rt(r))}applyPosition({clientXY:r,activeThumbIdx:i,start:n,end:s}){const o=this.opts.min.current,a=this.opts.max.current,u=(r-n)/(s-n)*(a-o)+o;if(u<o)this.updateValue(o,i);else if(u>a)this.updateValue(a,i);else{const m=this.opts.step.current,_=Math.floor((u-o)/m),v=o+_*m+m/2,f=o+(_+1)*m+m/2,h=u>=v&&u<f?(_+1)*m+o:_*m+o;h<=a&&this.updateValue(h,i)}}get thumbsPropsArr(){return P(_t(this,sn))}get thumbsRenderArr(){return P(_t(this,on))}get ticksPropsArr(){return P(_t(this,an))}get ticksRenderArr(){return P(_t(this,ln))}get snippetProps(){return P(_t(this,cn))}}Sr=new WeakMap,Ar=new WeakMap,nn=new WeakMap,sn=new WeakMap,on=new WeakMap,an=new WeakMap,ln=new WeakMap,cn=new WeakMap;const Vl=[_n,yn,di,ui,fi,hi];var un,dn;class Hl{constructor(e,r){Tt(this,"opts");Tt(this,"root");kt(this,un,lt(()=>{const e=Array.isArray(this.root.opts.value.current)&&this.root.opts.value.current.length>1?this.root.getPositionFromValue(Math.min(...this.root.opts.value.current)??0):0,r=Array.isArray(this.root.opts.value.current)?100-this.root.getPositionFromValue(Math.max(...this.root.opts.value.current)??0):100-this.root.getPositionFromValue(this.root.opts.value.current);return{position:"absolute",...Dl(this.root.direction,e,r)}}));kt(this,dn,lt(()=>({id:this.opts.id.current,"data-orientation":this.root.opts.orientation.current,"data-disabled":vn(this.root.opts.disabled.current),style:this.rangeStyles,[Ml]:""})));this.opts=e,this.root=r,Qe(e)}get rangeStyles(){return P(_t(this,un))}get props(){return P(_t(this,dn))}}un=new WeakMap,dn=new WeakMap;var hn,qt,Qt,fn;class Zl{constructor(e,r){kt(this,qt);Tt(this,"opts");Tt(this,"root");kt(this,hn,lt(()=>this.root.opts.disabled.current||this.opts.disabled.current));kt(this,fn,lt(()=>({...this.root.thumbsPropsArr[this.opts.index.current],id:this.opts.id.current,onkeydown:this.onkeydown})));this.opts=e,this.root=r,Qe(e),this.onkeydown=this.onkeydown.bind(this)}onkeydown(e){if(P(_t(this,hn)))return;const r=this.opts.ref.current;if(!r)return;const i=this.root.getAllThumbs();if(!i.length)return;const n=i.indexOf(r);if(this.root.isMulti&&(this.root.currentThumbIdx=n),!Vl.includes(e.key))return;e.preventDefault();const s=this.root.opts.min.current,o=this.root.opts.max.current,a=this.root.opts.value.current,c=Array.isArray(a)?a[n]:a,u=this.root.opts.orientation.current,m=this.root.direction,_=this.root.opts.step.current;switch(e.key){case fi:Ht(this,qt,Qt).call(this,s);break;case hi:Ht(this,qt,Qt).call(this,o);break;case _n:if(u!=="horizontal")break;if(e.metaKey){const v=m==="rl"?o:s;Ht(this,qt,Qt).call(this,v)}else m==="rl"&&c<o?Ht(this,qt,Qt).call(this,c+_):m==="lr"&&c>s&&Ht(this,qt,Qt).call(this,c-_);break;case yn:if(u!=="horizontal")break;if(e.metaKey){const v=m==="rl"?s:o;Ht(this,qt,Qt).call(this,v)}else m==="rl"&&c>s?Ht(this,qt,Qt).call(this,c-_):m==="lr"&&c<o&&Ht(this,qt,Qt).call(this,c+_);break;case di:if(e.metaKey){const v=m==="tb"?s:o;Ht(this,qt,Qt).call(this,v)}else m==="tb"&&c>s?Ht(this,qt,Qt).call(this,c-_):m!=="tb"&&c<o&&Ht(this,qt,Qt).call(this,c+_);break;case ui:if(e.metaKey){const v=m==="tb"?o:s;Ht(this,qt,Qt).call(this,v)}else m==="tb"&&c<o?Ht(this,qt,Qt).call(this,c+_):m!=="tb"&&c>s&&Ht(this,qt,Qt).call(this,c-_);break}this.root.opts.onValueCommit.current(this.root.opts.value.current)}get props(){return P(_t(this,fn))}}hn=new WeakMap,qt=new WeakSet,Qt=function(e){this.root.isMulti?this.root.updateValue(e,this.opts.index.current):this.root.updateValue(e)},fn=new WeakMap;const mi=new Ds("Slider.Root");function ql(t){const{type:e,...r}=t,i=e==="single"?new Wl(r):new $l(r);return mi.set(i)}function Gl(t){return new Hl(t,mi.get())}function Xl(t){return new Zl(t,mi.get())}var Kl=ut("<span><!></span>");function Yl(t,e){Gt(e,!0);let r=ht(e,"id",19,Te),i=ht(e,"ref",15,null),n=ht(e,"value",15),s=ht(e,"onValueChange",3,Hn),o=ht(e,"onValueCommit",3,Hn),a=ht(e,"disabled",3,!1),c=ht(e,"min",3,0),u=ht(e,"max",3,100),m=ht(e,"step",3,1),_=ht(e,"dir",3,"ltr"),v=ht(e,"autoSort",3,!0),f=ht(e,"orientation",3,"horizontal"),h=Ie(e,["$$slots","$$events","$$legacy","children","child","id","ref","value","type","onValueChange","onValueCommit","disabled","min","max","step","dir","autoSort","orientation"]);n()===void 0&&n(e.type==="single"?0:[]);const l=ql({id:pt.with(()=>r()),ref:pt.with(()=>i(),j=>i(j)),value:pt.with(()=>n(),j=>{n(j),s()(j)}),onValueCommit:pt.with(()=>o()),disabled:pt.with(()=>a()),min:pt.with(()=>c()),max:pt.with(()=>u()),step:pt.with(()=>m()),dir:pt.with(()=>_()),autoSort:pt.with(()=>v()),orientation:pt.with(()=>f()),type:e.type}),g=lt(()=>Me(h,l.props));var y=It(),w=ft(y);{var k=j=>{var B=It(),T=ft(B),Z=ai(()=>({props:P(g),...l.snippetProps}));ee(T,()=>e.child,()=>P(Z)),Y(j,B)},z=j=>{var B=Kl();let T;var Z=J(B);ee(Z,()=>e.children??ze,()=>l.snippetProps),G(B),bt(()=>T=Ce(B,T,{...P(g)})),Y(j,B)};Et(w,j=>{e.child?j(k):j(z,!1)})}Y(t,y),Xt()}var Jl=ut("<span><!></span>");function Ql(t,e){Gt(e,!0);let r=ht(e,"ref",15,null),i=ht(e,"id",19,Te),n=Ie(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const s=Gl({id:pt.with(()=>i()),ref:pt.with(()=>r(),_=>r(_))}),o=lt(()=>Me(n,s.props));var a=It(),c=ft(a);{var u=_=>{var v=It(),f=ft(v);ee(f,()=>e.child,()=>({props:P(o)})),Y(_,v)},m=_=>{var v=Jl();let f;var h=J(v);ee(h,()=>e.children??ze),G(v),bt(()=>f=Ce(v,f,{...P(o)})),Y(_,v)};Et(c,_=>{e.child?_(u):_(m,!1)})}Y(t,a),Xt()}var tc=ut("<span><!></span>");function ec(t,e){Gt(e,!0);let r=ht(e,"ref",15,null),i=ht(e,"id",19,Te),n=ht(e,"disabled",3,!1),s=Ie(e,["$$slots","$$events","$$legacy","children","child","ref","id","index","disabled"]);const o=Xl({id:pt.with(()=>i()),ref:pt.with(()=>r(),v=>r(v)),index:pt.with(()=>e.index),disabled:pt.with(()=>n())}),a=lt(()=>Me(s,o.props));var c=It(),u=ft(c);{var m=v=>{var f=It(),h=ft(f);ee(h,()=>e.child,()=>({props:P(a)})),Y(v,f)},_=v=>{var f=tc();let h;var l=J(f);ee(l,()=>e.children??ze),G(f),bt(()=>h=Ce(f,h,{...P(a)})),Y(v,f)};Et(u,v=>{e.child?v(m):v(_,!1)})}Y(t,c),Xt()}function rc(t,e){const r=ke(e,["children","$$slots","$$events","$$legacy"]);Re(t,xe({name:"arrow-down"},()=>r,{iconNode:[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]],children:(n,s)=>{var o=It(),a=ft(o);je(a,e,"default",{}),Y(n,o)},$$slots:{default:!0}}))}function nc(t,e){const r=ke(e,["children","$$slots","$$events","$$legacy"]);Re(t,xe({name:"arrow-up"},()=>r,{iconNode:[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]],children:(n,s)=>{var o=It(),a=ft(o);je(a,e,"default",{}),Y(n,o)},$$slots:{default:!0}}))}function ic(t,e){const r=ke(e,["children","$$slots","$$events","$$legacy"]);Re(t,xe({name:"chevron-left"},()=>r,{iconNode:[["path",{d:"m15 18-6-6 6-6"}]],children:(n,s)=>{var o=It(),a=ft(o);je(a,e,"default",{}),Y(n,o)},$$slots:{default:!0}}))}function sc(t,e){const r=ke(e,["children","$$slots","$$events","$$legacy"]);Re(t,xe({name:"chevron-right"},()=>r,{iconNode:[["path",{d:"m9 18 6-6-6-6"}]],children:(n,s)=>{var o=It(),a=ft(o);je(a,e,"default",{}),Y(n,o)},$$slots:{default:!0}}))}function oc(t,e){const r=ke(e,["children","$$slots","$$events","$$legacy"]);Re(t,xe({name:"filter"},()=>r,{iconNode:[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}]],children:(n,s)=>{var o=It(),a=ft(o);je(a,e,"default",{}),Y(n,o)},$$slots:{default:!0}}))}function ac(t,e){const r=ke(e,["children","$$slots","$$events","$$legacy"]);Re(t,xe({name:"layout-grid"},()=>r,{iconNode:[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"}]],children:(n,s)=>{var o=It(),a=ft(o);je(a,e,"default",{}),Y(n,o)},$$slots:{default:!0}}))}function lc(t,e){const r=ke(e,["children","$$slots","$$events","$$legacy"]);Re(t,xe({name:"map"},()=>r,{iconNode:[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"}],["path",{d:"M15 5.764v15"}],["path",{d:"M9 3.236v15"}]],children:(n,s)=>{var o=It(),a=ft(o);je(a,e,"default",{}),Y(n,o)},$$slots:{default:!0}}))}function cc(t,e){const r=ke(e,["children","$$slots","$$events","$$legacy"]);Re(t,xe({name:"table"},()=>r,{iconNode:[["path",{d:"M12 3v18"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}]],children:(n,s)=>{var o=It(),a=ft(o);je(a,e,"default",{}),Y(n,o)},$$slots:{default:!0}}))}const uc=""+new URL("../assets/hero.BzsrL4uF.png",import.meta.url).href,dc={"images.ctfassets.net":"contentful","cdn.builder.io":"builder.io","images.prismic.io":"imgix","www.datocms-assets.com":"imgix","cdn.sanity.io":"imgix","images.unsplash.com":"imgix","cdn.shopify.com":"shopify","s7d1.scene7.com":"scene7","ip.keycdn.com":"keycdn","assets.caisy.io":"bunny","images.contentstack.io":"contentstack","ucarecdn.com":"uploadcare","imagedelivery.net":"cloudflare_images"},hc={"imgix.net":"imgix","files.wordpress.com":"wordpress","b-cdn.net":"bunny","storyblok.com":"storyblok","kc-usercontent.com":"kontent.ai","cloudinary.com":"cloudinary","kxcdn.com":"keycdn","imgeng.in":"imageengine","imagekit.io":"imagekit","cloudimg.io":"cloudimage","ucarecdn.com":"uploadcare","supabase.co":"supabase"},fc={"/cdn-cgi/image/":"cloudflare","/cdn-cgi/imagedelivery/":"cloudflare_images","/_next/image":"nextjs","/_next/static":"nextjs","/_vercel/image":"vercel","/is/image":"scene7","/_ipx/":"ipx","/_image":"astro","/.netlify/images":"netlify","/storage/v1/object/public/":"supabase","/storage/v1/render/image/public/":"supabase"},Ke=t=>{if(!t)return t;const e=Number(t);return isNaN(e)?t:Math.round(e)},mt=(t,e,r,i,n)=>{r?(n&&(r=Ke(r)),t.searchParams.set(e,r.toString())):i&&t.searchParams.delete(e)},ie=(t,e,r)=>{t.searchParams.has(e)||t.searchParams.set(e,r.toString())},vr=(t,e)=>{const r=Number(t.searchParams.get(e));return isNaN(r)?void 0:r},Ys=t=>{const{pathname:e,search:r}=t;return`${e}${r}`},gi=t=>t.hostname==="n"?Ys(t):t.toString(),jt=(t,e)=>typeof t=="string"?new URL(t,e??"http://n/"):t,Ui=new Map(Object.entries(dc)),pc=Object.entries(hc);function mc(t){return Js(t)||gc(t)}function Js(t){if(typeof t=="string"&&!t.startsWith("https://"))return!1;const{hostname:e}=jt(t);if(Ui.has(e))return Ui.get(e);for(const[r,i]of pc)if(e.endsWith(`.${r}`))return i;return!1}function gc(t){const{pathname:e}=jt(t);for(const[r,i]of Object.entries(fc))if(e.startsWith(r))return i;return!1}const vc=({url:t,width:e,height:r,format:i})=>{const n=jt(t);return e&&e>4e3&&(r&&(r=Math.round(r*4e3/e)),e=4e3),r&&r>4e3&&(e&&(e=Math.round(e*4e3/r)),r=4e3),mt(n,"w",e,!0,!0),mt(n,"h",r,!0,!0),mt(n,"fm",i),ie(n,"fit","fill"),n},_c=({url:t,width:e,height:r,format:i})=>{const n=jt(t);return mt(n,"width",e,!0,!0),mt(n,"height",r,!0,!0),mt(n,"format",i),e&&r&&(ie(n,"fit","cover"),ie(n,"sharp","true")),n},yc=({url:t,width:e,height:r,format:i})=>{var s;const n=jt(t);if(mt(n,"w",e,!0,!0),mt(n,"h",r,!0,!0),ie(n,"fit","min"),i){n.searchParams.set("fm",i);const o=n.searchParams.get("auto");o==="format"?n.searchParams.delete("auto"):o!=null&&o.includes("format")&&n.searchParams.set("auto",o.split(",").filter(a=>a!=="format").join(","))}else n.searchParams.delete("fm"),(s=n.searchParams.get("auto"))!=null&&s.includes("format")||n.searchParams.append("auto","format");return n},bc=/(.+?)(?:_(?:(pico|icon|thumb|small|compact|medium|large|grande|original|master)|(\d*)x(\d*)))?(?:_crop_([a-z]+))?(\.[a-zA-Z]+)(\.png|\.jpg|\.webp|\.avif)?$/,wc=t=>{const e=jt(t),r=e.pathname.match(bc);if(!r)throw new Error("Invalid Shopify URL");const[,i,n,s,o,a,c,u]=r;e.pathname=`${i}${c}`;const m=s||e.searchParams.get("width"),_=o||e.searchParams.get("height");return e.searchParams.delete("width"),e.searchParams.delete("height"),{base:e.toString(),width:Number(m)||void 0,height:Number(_)||void 0,format:u?u.slice(1):void 0,params:{crop:a,size:n},cdn:"shopify"}},kc=({base:t,width:e,height:r,format:i,params:n})=>{const s=jt(t);return mt(s,"width",e,!0,!0),mt(s,"height",r,!0,!0),mt(s,"crop",n==null?void 0:n.crop),mt(s,"format",i),s},xc=({url:t,width:e,height:r})=>{const i=wc(t);if(!i)return;const n={...i,width:e,height:r};return kc(n)},Sc=({url:t,width:e,height:r})=>{const i=jt(t);return mt(i,"w",e,!0,!0),mt(i,"h",r,!0,!0),ie(i,"crop","1"),i},Ac=({url:t,width:e,height:r})=>{const i=jt(t);return mt(i,"w",e,!0,!0),mt(i,"h",r,!0,!0),mt(i,"q",vr(i,"q"),!0),i},Ec=/https?:\/\/(?<host>[^\/]+)\/(?<cloudName>[^\/]+)\/(?<assetType>image|video|raw)\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)\/?(?<signature>s\-\-[a-zA-Z0-9]+\-\-)?\/?(?<transformations>(?:[^_\/]+_[^,\/]+,?)*)?\/(?:(?<version>v\d+)\/)?(?<idAndFormat>[^\s]+)$/g,Pc=t=>t?Object.fromEntries(t.split(",").map(e=>e.split("_"))):{},Qs=({host:t,cloudName:e,assetType:r,deliveryType:i,signature:n,transformations:s={},version:o,id:a,format:c})=>{c&&(s.f=c);const u=Object.entries(s).map(([_,v])=>`${_}_${v}`).join(",");return`https://${[t,e,r,i,n,u,o,a].filter(Boolean).join("/")}`},to=t=>{const r=[...jt(t).toString().matchAll(Ec)];if(!r.length)throw new Error("Invalid Cloudinary URL");const i=r[0].groups||{},{transformations:n="",idAndFormat:s,...o}=i;delete i.idAndFormat;const a=s.lastIndexOf("."),c=a<0?s:s.slice(0,a),u=a<0?void 0:s.slice(a+1),{w:m,h:_,f:v,...f}=Pc(n),h=v&&v!=="auto"?v:u;return{base:Qs({...o,id:c,transformations:f}),width:Number(m)||void 0,height:Number(_)||void 0,format:h,cdn:"cloudinary",params:{...i,id:i.deliveryType==="fetch"?s:c,format:h,transformations:f}}},Oc=({base:t,width:e,height:r,format:i,params:n})=>{var a;const s=to(t.toString()),o={transformations:{},...s.params,...n,format:i||"auto"};return e&&(o.transformations.w=Ke(e).toString()),r&&(o.transformations.h=Ke(r).toString()),(a=o.transformations).c||(a.c="lfill"),Qs(o)},zc=({url:t,width:e,height:r,format:i="auto"})=>{var o,a;const n=to(t);if(!n)throw new Error("Invalid Cloudinary URL");if(((o=n.params)==null?void 0:o.assetType)!=="image")throw new Error("Cloudinary transformer only supports images");if((a=n.params)!=null&&a.signature)throw new Error("Cloudinary transformer does not support signed URLs");const s={...n,width:e,height:r,format:i};return Oc(s)},Cc=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/image\/(?<transformations>[^\/]+)?\/(?<path>.*)$/g,Ic=t=>Object.fromEntries(t.split(",").map(e=>e.split("="))),eo=({host:t,transformations:e={},path:r})=>{const i=Object.entries(e).map(([s,o])=>`${s}=${o}`).join(",");return`https://${[t,"cdn-cgi","image",i,r].join("/")}`},ro=t=>{const e=jt(t),r=[...e.toString().matchAll(Cc)];if(!r.length)throw new Error("Invalid Cloudflare URL");const i=r[0].groups||{},{transformations:n,...s}=i,{width:o,height:a,f:c,...u}=Ic(n);return eo({...s,transformations:u}),{base:e.toString(),width:Number(o)||void 0,height:Number(a)||void 0,format:c,cdn:"cloudflare",params:{...i,transformations:u}}},jc=({base:t,width:e,height:r,format:i,params:n})=>{var a;const s=ro(t.toString()),o={transformations:{},...s.params,...n};return e&&(o.transformations.width=e==null?void 0:e.toString()),r&&(o.transformations.height=r==null?void 0:r.toString()),i&&(o.transformations.f=i==="jpg"?"jpeg":i),(a=o.transformations).fit||(a.fit="cover"),new URL(eo(o))},Rc=({url:t,width:e,height:r,format:i="auto"})=>{const n=ro(t);if(!n)throw new Error("Invalid Cloudflare URL");const s={...n,width:e,height:r,format:i};return jc(s)},Tc=({url:t,width:e,height:r})=>{const i=jt(t);return mt(i,"width",e,!0,!0),e&&r&&ie(i,"aspect_ratio",`${e}:${r}`),i},Bc=/(?<id>\/f\/\d+\/\d+x\d+\/\w+\/[^\/]+)\/?(?<modifiers>m\/?(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?)?$/g,Nc=/^(?<modifiers>\/(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?\/?)?(?<id>\/f\/.+)$/g,Lc=t=>t?Object.fromEntries(t.split(":").map(e=>{if(!e)return[];const[r,i]=e.split("(");return[r,i.replace(")","")]})):{},Fc=t=>{if(!t)return;const e=Object.entries(t).map(([r,i])=>`${r}(${i??""})`);if(e.length!==0)return`filters:${e.join(":")}`},Dc=t=>{const e=jt(t),r=e.hostname==="img2.storyblok.com"?Nc:Bc,[i]=e.pathname.matchAll(r);if(!i||!i.groups)throw new Error("Invalid Storyblok URL");const{id:n,crop:s,width:o,height:a,filters:c,flipx:u,flipy:m}=i.groups,{format:_,...v}=Lc(c);return e.hostname==="img2.storyblok.com"&&(e.hostname="a.storyblok.com"),{base:e.origin+n,width:Number(o)||void 0,height:Number(a)||void 0,format:_,params:{crop:s,filters:v,flipx:u,flipy:m},cdn:"storyblok"}},Uc=({base:t,width:e=0,height:r=0,format:i,params:n={}})=>{const{crop:s,filters:o,flipx:a="",flipy:c=""}=n,u=`${a}${e}x${c}${r}`;return new URL([t,"m",s,u,Fc(o),i].filter(Boolean).join("/"))},Mc=({url:t,width:e,height:r,format:i})=>{const n=Dc(t);if(n)return i&&(n.params||(n.params={filters:{}}),n.params.filters||(n.params.filters={}),n.params.filters.format=i),Uc({...n,width:e,height:r})},Wc=({url:t,width:e,height:r,format:i})=>{const n=jt(t);return mt(n,"w",e,!0,!0),mt(n,"h",r,!0,!0),mt(n,"fm",i,!0),e&&r&&ie(n,"fit","crop"),n},Mi=t=>{const r=jt(t).searchParams.get("url");if(!r||!r.startsWith("http"))return!1;const i=Js(r);return i?{cdn:i,url:r}:!1},$c=({base:t,width:e,params:{quality:r=75,root:i="_vercel"}={}})=>{const n=new URL("http://n");return n.pathname=`/${i}/image`,n.searchParams.set("url",t.toString()),mt(n,"w",e,!1,!0),ie(n,"q",r),Ys(n)},no=({url:t,width:e,cdn:r})=>{const i=jt(t),n=i.pathname.startsWith("/_next/image")||i.pathname.startsWith("/_vercel/image"),s=n?i.searchParams.get("url"):t.toString();if(s)return mt(i,"w",e,!0,!0),n?gi(i):$c({base:s,width:e,params:{root:r==="nextjs"?"_next":"_vercel"}})},Vc=t=>no({...t,cdn:"nextjs"}),Hc=({url:t,width:e,height:r,format:i})=>{const n=jt(t);return mt(n,"wid",e,!0,!0),mt(n,"hei",r,!0,!0),mt(n,"fmt",i,!0),mt(n,"qlt",vr(n,"qlt"),!0),mt(n,"scl",vr(n,"scl"),!0),ie(n,"fit","crop"),!e&&!r&&ie(n,"scl",1),n},Zc=({url:t,width:e,height:r,format:i})=>{const n=jt(t);return mt(n,"width",e,!0,!0),mt(n,"height",r,!0,!0),mt(n,"format",i,!0),mt(n,"quality",vr(n,"quality"),!0),ie(n,"enlarge",0),n},qc=({url:t,width:e,height:r,format:i})=>{const n=jt(t);return mt(n,"width",e,!0,!0),mt(n,"height",r,!0,!0),mt(n,"format",i),mt(n,"quality",vr(n,"quality"),!0),n},qn={width:"w",height:"h",autoWidthWithFallback:"w_auto",auto_width_fallback:"w_auto",scaleToScreenWidth:"pc",scale_to_screen_width:"pc",crop:"cr",outputFormat:"f",format:"f",fit:"m",fitMethod:"m",compression:"cmpr",sharpness:"s",rotate:"r",inline:"in",keepMeta:"meta",keep_meta:"meta",noOptimization:"pass",no_optimization:"pass",force_download:"dl",max_device_pixel_ratio:"maxdpr",maxDevicePixelRatio:"maxdpr"};function Gc(t){return Object.keys(qn).find(i=>qn[i]===t)||""}function Xc(t){let e=t.toString(),r=[];if(e){let i=e.split("imgeng=");i.length>1&&(r=i[1].split("/"))}return r}function Kc(t){let e=t.toString(),r="";if(e){let i=e.split("imgeng=");i.length>1?r=i[0].slice(0,-1):r=e}return r}const Yc=({url:t,width:e,height:r,format:i})=>{const n=jt(t),s=Kc(n);let o={};const a=n.toString()===s?[]:Xc(n);a.length&&(o=eu(a)),e&&(o.width=e),r&&(o.height=r),i&&(o.format=i),o.hasOwnProperty("fit")||(o={...o,fit:"cropbox"});let c=Jc(o),u=Qc(c),m=u===""?"":s.includes("?")?"&":"?";return`${s}${m}${u}`};function Jc(t){return Object.entries(t).reduce((e,[r,i])=>e+tu(r,i),"")}function Qc(t){return t&&t!==""?`imgeng=${t}`:""}function tu(t,e){let r=qn[t];return r&&(e||e===0)?`/${r}_${e}`:""}function eu(t){let e={};return t.forEach(r=>{let i=r.split("_");if(i.length>1){let n=i[0],s=i[1],o=Gc(n);o&&(e[o]=s)}}),e}const ru=({url:t,width:e,height:r,format:i})=>{const n=jt(t);return mt(n,"width",e,!0,!0),mt(n,"height",r,!0,!0),mt(n,"format",i),n.searchParams.has("format")||ie(n,"auto","webp"),e&&r&&ie(n,"fit","crop"),n},nu=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/imagedelivery\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,iu=/https?:\/\/(?<host>imagedelivery.net)\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,su=t=>{var e;return Object.fromEntries(((e=t==null?void 0:t.split(","))==null?void 0:e.map(r=>r.split("=")))??[])},ou=({host:t,accountHash:e,transformations:r={},imageId:i})=>{const n=Object.entries(r).filter(([o,a])=>!!o&&a!==void 0).map(([o,a])=>`${o}=${a}`).join(",");return`https://${[...t==="imagedelivery.net"?[t]:[t,"cdn-cgi","imagedelivery"],e,i,n].join("/")}`},io=t=>{const e=jt(t),r=[...e.toString().matchAll(nu),...e.toString().matchAll(iu)];if(!r.length)throw new Error("Invalid Cloudflare Images URL");const i=r[0].groups||{},{transformations:n,...s}=i,{w:o,h:a,f:c,...u}=su(n);return{base:e.toString(),width:Number(o)||void 0,height:Number(a)||void 0,format:c,cdn:"cloudflare_images",params:{...s,transformations:u}}},au=({base:t,width:e,height:r,format:i,params:n})=>{var a;const s=io(t.toString()),o={transformations:{},...s.params,...n};return e&&(o.transformations.w=e==null?void 0:e.toString()),r&&(o.transformations.h=r==null?void 0:r.toString()),i&&(o.transformations.f=i),(a=o.transformations).fit||(a.fit="cover"),new URL(ou(o))},lu=({url:t,width:e,height:r,format:i="auto"})=>{const n=io(t);if(!n)throw new Error("Invalid Cloudflare Images URL");const s={...n,width:e,height:r,format:i};return au(s)},cu=t=>{const e=jt(t),[r,...i]=e.pathname.split("/").slice(1),n=Object.fromEntries(r.split(",").map(s=>{const[o,a]=s.split("_");return[o,a]}));if(n.s){const[s,o]=n.s.split("x");n.w||(n.w=s),n.h||(n.h=o)}return{base:i.join("/"),width:Number(n.w)||void 0,height:Number(n.h)||void 0,quality:Number(n.q)||void 0,format:n.f||"auto",params:n,cdn:"ipx"}},Wi=({base:t,width:e,height:r,format:i,params:n})=>{const s=(n==null?void 0:n.modifiers)??{};e&&r?s.s=`${e}x${r}`:e?s.w=`${e}`:r&&(s.h=`${r}`),i&&(s.f=i);const o=n!=null&&n.base.endsWith("/")?n==null?void 0:n.base:`${n==null?void 0:n.base}/`,a=Object.entries(s).map(([m,_])=>`${m}_${_}`).join(","),c=t.toString(),u=c.startsWith("/")?c.slice(1):c;return`${o}${a}/${u}`},uu=t=>{var o,a,c,u;const e=String(t.url),r=jt(e),i=r.pathname.startsWith("/_ipx")&&r.hostname!=="n"?`${r.origin}/_ipx`:"/_ipx",n=((a=(o=t.cdnOptions)==null?void 0:o.ipx)==null?void 0:a.base)??i;if(n&&n!=="/"&&e.startsWith(n)){const m=cu(e.replace(n,""));return Wi({...m,...t,params:{...(c=t.cdnOptions)==null?void 0:c.ipx,base:n}})}return Wi({...t,base:e,params:{...(u=t.cdnOptions)==null?void 0:u.ipx,base:n}})},du=({url:t,width:e,height:r,format:i})=>{const n=jt(t),s=gi(new URL(n.pathname,n.origin)),o={searchParams:new URLSearchParams};return mt(o,"href",s,!0,!0),mt(o,"w",e,!0,!0),mt(o,"h",r,!0,!0),mt(o,"f",i),`/_image?${o.searchParams.toString()}`},hu=new Set(["w","h","q","fm","url","width","height","quality"]),fu=t=>{const e=jt(t),r=Number(e.searchParams.get("w")??e.searchParams.get("width"))??void 0,i=Number(e.searchParams.get("h")??e.searchParams.get("height"))??void 0,n=Number(e.searchParams.get("q")??e.searchParams.get("quality"))||void 0,s=e.searchParams.get("fm")||void 0,o=e.searchParams.get("url")||"",a={quality:n};return e.searchParams.forEach((c,u)=>{hu.has(u)||(a[u]=c)}),e.search="",{base:o,width:r,height:i,format:s,params:a,cdn:"netlify"}},$i=({base:t,width:e,height:r,format:i,params:{site:n,quality:s,...o}={}})=>{const a=jt("/.netlify/images",n);return Object.entries(o).forEach(([c,u])=>mt(a,c,u)),mt(a,"q",s,!0,!0),mt(a,"w",e,!0,!0),mt(a,"h",r,!0,!0),mt(a,"fm",i),ie(a,"fit","cover"),a.searchParams.set("url",t.toString()),gi(a)},pu=t=>{var r,i;const e=jt(t.url);if(e.pathname.startsWith("/.netlify/images")){const{params:n,base:s,format:o}=fu(e);return $i({base:s,format:o,...t,params:{...n,site:e.hostname==="n"?void 0:e.origin}})}return $i({...t,base:t.url,params:{site:(i=(r=t.cdnOptions)==null?void 0:r.netlify)==null?void 0:i.site}})},mu=t=>(t.searchParams.get("tr")||"").split(",").reduce((r,i)=>{const[n,s]=i.split("-");return r[n]=s,r},{}),gu=({url:t,width:e,height:r,format:i})=>{const n=jt(t),s=mu(n);s.w=e&&Math.round(e),s.h=r&&Math.round(r),s.f||(s.f="auto"),i&&(s.f=i);const o=Object.keys(s).map(a=>{const c=s[a];if(c)return`${a}-${c}`}).filter(a=>a).join(",");return n.searchParams.set("tr",o),n},vu=/^https?:\/\/(?<host>[^\/]+)\/(?<uuid>[^\/]+)/g;function so(t){const e=new URL(t),r=e.pathname+e.search+e.hash,i=r.lastIndexOf("http"),n=r.lastIndexOf("/");let s="";return i>=0?s=r.slice(i):n>=0&&(s=r.slice(n+1)),s}function _u(t){return t.startsWith("http")}function yu(t){const e=new URL(t);return{pathname:e.origin+e.pathname||"",search:e.search||"",hash:e.hash||""}}function bu(t){const e=new URL(t),r=so(t),i=_u(r)?yu(r).pathname:r;return e.pathname=e.pathname.replace(i,""),e.search="",e.hash="",e.toString()}const wu=t=>{if(typeof t!="string"||!t)return"";let e=t.trim();return e.startsWith("-/")?e=e.slice(2):e.startsWith("/")&&(e=e.slice(1)),e.endsWith("/")&&(e=e.slice(0,e.length-1)),e};function ku(t){const e=bu(t),r=new URL(e),i=r.pathname.indexOf("/-/");return i===-1?[]:r.pathname.substring(i).split("/-/").filter(Boolean).map(s=>wu(s))}const xu=t=>t.length?t.reduce((e,r)=>{const[i,n]=r.split("/");return{...e,[i]:n}},{}):{},oo=({host:t,uuid:e,operations:r={},filename:i})=>{const n=Object.entries(r).map(([o,a])=>`${o}/${a}`).join("/-/");return`https://${[t,e,n?`-/${n}`:"",i].join("/")}`},ao=t=>{const e=jt(t),r=[...e.toString().matchAll(vu)];if(!r.length)throw new Error("Invalid Uploadcare URL");const i=r[0].groups||{},{...n}=i,s=so(e.toString()),{format:o,...a}=xu(ku(e.toString())),c=o&&o!=="auto"?o:"auto";return{base:oo({...n,filename:s||void 0,operations:{...a,format:c}}),cdn:"uploadcare",params:{...i,filename:s||void 0,operations:{...a,format:c}}}},Su=({base:t,width:e,height:r,params:i})=>{const n=t.toString(),s=ao(n.endsWith("/")?n:`${n}/`),o={operations:{},...s.params,...i};return e&&r?o.operations={...o.operations,resize:`${e}x${r}`}:(e&&(o.operations={...o.operations,resize:`${e}x`}),r&&(o.operations={...o.operations,resize:`x${r}`})),oo(o)},Au=({url:t,width:e,height:r})=>{const i=ao(t);if(!i)throw new Error("Invalid Uploadcare URL");const n={...i,width:e,height:r};return Su(n)},Eu=["origin"],lo="/storage/v1/object/public/",vi="/storage/v1/render/image/public/",Pu=t=>t.pathname.startsWith(vi),co=t=>{const e=jt(t);if(!Pu(e))return{cdn:"supabase",base:e.origin+e.pathname};const i=e.pathname.replace(vi,""),n=e.searchParams.has("quality")?Number(e.searchParams.get("quality")):void 0,s=e.searchParams.has("width")?Number(e.searchParams.get("width")):void 0,o=e.searchParams.has("height")?Number(e.searchParams.get("height")):void 0,a=e.searchParams.has("format")?e.searchParams.get("format"):void 0,c=e.searchParams.has("resize")?e.searchParams.get("resize"):void 0;return{cdn:"supabase",base:e.origin+lo+i,width:s,height:o,format:a,params:{quality:n,resize:c}}},Ou=({base:t,width:e,height:r,format:i,params:n})=>{const s=co(t.toString());t=s.base,e=e||s.width,r=r||s.height,i=i||s.format,n={...s.params,...n};const o=new URLSearchParams;return e&&o.set("width",Ke(e).toString()),r&&o.set("height",Ke(r).toString()),i&&Eu.includes(i)&&o.set("format",i),n!=null&&n.quality&&o.set("quality",Ke(n.quality).toString()),n!=null&&n.resize&&o.set("resize",n.resize),o.toString()===""?t:s.base.replace(lo,vi)+"?"+o.toString()},zu=({url:t,width:e,height:r,format:i,cdnOptions:n})=>{const s=co(t);return Ou({base:s.base,width:e||s.width,height:r||s.height,format:i||s.format,params:(n==null?void 0:n.supabase)||s.params})},Vi={vercel:Mi,nextjs:Mi};function Cu(t,e){if(!(e in Vi))return!1;const r=Vi[e];return r?r(t):!1}function _i(t,e){const r=mc(t)||e;if(!r)return!1;const i=Cu(t,r);return i||{cdn:r,url:t}}const yi=t=>({imgix:yc,contentful:vc,"builder.io":_c,shopify:xc,wordpress:Sc,cloudimage:Ac,cloudinary:zc,bunny:Tc,storyblok:Mc,cloudflare:Rc,vercel:no,nextjs:Vc,scene7:Hc,"kontent.ai":Wc,keycdn:Zc,directus:qc,imageengine:Yc,contentstack:ru,cloudflare_images:lu,ipx:uu,astro:du,netlify:pu,imagekit:gu,uploadcare:Au,supabase:zu})[t];var Iu=(t,e)=>{if(!(!t||!e))switch(e){case"constrained":return`(min-width: ${t}px) ${t}px, 100vw`;case"fixed":return`${t}px`;case"fullWidth":return"100vw";default:return}},sr=t=>t||t===0?`${t}px`:void 0,ju=({width:t,height:e,aspectRatio:r,layout:i,objectFit:n="cover",background:s})=>{const o=[["object-fit",n]];return s!=null&&s.startsWith("https:")||s!=null&&s.startsWith("http:")||s!=null&&s.startsWith("data:")?(o.push(["background-image",`url(${s})`]),o.push(["background-size","cover"]),o.push(["background-repeat","no-repeat"])):o.push(["background",s]),i==="fixed"&&(o.push(["width",sr(t)]),o.push(["height",sr(e)])),i==="constrained"&&(o.push(["max-width",sr(t)]),o.push(["max-height",sr(e)]),o.push(["aspect-ratio",r?`${r}`:void 0]),o.push(["width","100%"])),i==="fullWidth"&&(o.push(["width","100%"]),o.push(["aspect-ratio",r?`${r}`:void 0]),o.push(["height",sr(e)])),Object.fromEntries(o.filter(([,a])=>a))},Ru=[6016,5120,4480,3840,3200,2560,2048,1920,1668,1280,1080,960,828,750,640],Hi=24,Tu=({width:t,layout:e,resolutions:r=Ru})=>{if(e==="fullWidth")return r;if(!t)return[];const i=t*2;return e==="fixed"?[t,i]:e==="constrained"?[t,i,...r.filter(n=>n<i)]:[]},Bu=({src:t,width:e,layout:r="constrained",height:i,aspectRatio:n,breakpoints:s,cdn:o,transformer:a,format:c})=>{const u=_i(t,o);return u&&!a&&(a=yi(u.cdn)),a?(s||(s=Tu({width:e,layout:r})),s.sort((m,_)=>m-_).map(m=>{let _;return i&&n&&(_=Math.round(m/n)),{url:u?u.url:t,width:m,height:_,format:c}})):[]},Nu=t=>{let{src:e,cdn:r,transformer:i}=t;const n=_i(e,r);return n&&!i&&(i=yi(n.cdn)),i?Bu({...t,transformer:i}).map(s=>{const o=i(s);return`${o==null?void 0:o.toString()} ${s.width}w`}).join(`,
`):""};function Lu({width:t,height:e,priority:r,layout:i="constrained",aspectRatio:n,...s}){return t=t&&Number(t)||void 0,e=e&&Number(e)||void 0,r?(s.loading||(s.loading="eager"),s.fetchpriority||(s.fetchpriority="high")):(s.loading||(s.loading="lazy"),s.decoding||(s.decoding="async")),s.alt===""&&(s.role||(s.role="presentation")),n?t?e||(e=Math.round(t/n)):e&&(t=Math.round(e*n)):t&&e&&(n=t/e),{width:t,height:e,aspectRatio:n,layout:i,...s}}function Fu(t){let{src:e,cdn:r,transformer:i,background:n,layout:s,objectFit:o,breakpoints:a,width:c,height:u,aspectRatio:m,unstyled:_,...v}=Lu(t);const f=e?_i(e,r):void 0;let h=e;if(f&&(h=f.url,i||(i=yi(f.cdn))),i&&n==="auto"){const g=m?Math.round(Hi/m):void 0,y=i({url:h,width:Hi,height:g});y&&(n=y.toString())}const l={width:c,height:u,aspectRatio:m,layout:s,objectFit:o,background:n};if(v.sizes||(v.sizes=Iu(c,s)),_||(v.style={...ju(l),...v.style}),i){v.srcset=Nu({src:h,width:c,height:u,aspectRatio:m,layout:s,breakpoints:a,transformer:i,cdn:r});const g=i({url:h,width:c,height:u});g&&(h=g),(s==="fullWidth"||s==="constrained")&&(c=void 0,u=void 0)}return{...v,src:h==null?void 0:h.toString(),width:c,height:u}}function Du(t,e){const r=RegExp(t,"g");return i=>{if(typeof i!="string")throw new TypeError(`expected an argument of type string, but got ${typeof i}`);return i.match(r)?i.replace(r,e):i}}const Uu=Du(/[A-Z]/,t=>`-${t.toLowerCase()}`);function Mu(t,e=Uu){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected an argument of type object, but got ${typeof t}`);return Object.keys(t).map(r=>`${e(r)}: ${t[r]};`).join(`
`)}var Wu=ut("<img>");function $u(t,e){const r=ke(e,["children","$$slots","$$events","$$legacy"]);Gt(e,!1);const i=ne(),n=ne(),s=ne(),o=ne(),a=ne(),c=ne(),u=ne(),m=ne(),_=ne(),v=ne(),f=ne(),h=ne(),l=ne(),g=ne();Pn(()=>(P(i),P(n),Yo(r)),()=>{wt(i,r.style),wt(n,Ko(r,["style"]))}),Pn(()=>(P(s),P(o),P(a),P(c),P(u),P(m),P(_),P(v),P(f),P(h),P(l),P(n)),()=>{(k=>(wt(s,k.alt),wt(o,k.style),wt(a,k.src),wt(c,k.width),wt(u,k.height),wt(m,k.loading),wt(_,k.decoding),wt(v,k.srcset),wt(f,k.role),wt(h,k.sizes),wt(l,k.fetchpriority)))(Fu(P(n)))}),Pn(()=>(P(o),P(i)),()=>{wt(g,[Mu(P(o)||{}),P(i)].filter(Boolean).join(";"))}),Jo(),Cs();var y=Wu();let w;bt((k,z,j,B)=>w=Ce(y,w,{...r,style:P(g),loading:P(m),width:P(c),height:P(u),decoding:P(_),role:P(f),fetchpriority:P(l),alt:k,src:z,srcset:j,sizes:B}),[()=>{var k;return(k=P(s))==null?void 0:k.toString()},()=>{var k;return(k=P(a))==null?void 0:k.toString()},()=>{var k;return(k=P(v))==null?void 0:k.toString()},()=>{var k;return(k=P(h))==null?void 0:k.toString()}],ai),Uo(y),De("load",y,function(k){Ti.call(this,e,k)}),De("error",y,function(k){Ti.call(this,e,k)}),Y(t,y),Xt()}var Vu=ut("<em> </em>"),Hu=ut('<a class="strong"> </a>'),Zu=ut('<span class="strong"> </span>'),qu=ut("<!> <!> ",1),Gu=ut('<li class="badge"><!></li>'),Xu=ut('<div class="inscription-place"><ul class="svelte-4tokn1"></ul></div>');function uo(t,e){Gt(e,!0);let r=lt(()=>{var s,o;return(o=(s=e.inscription)==null?void 0:s.places)==null?void 0:o.slice(0,2)});var i=Xu(),n=J(i);de(n,21,()=>P(r),me,(s,o)=>{var a=Gu(),c=J(a);{var u=m=>{var _=qu(),v=ft(_);{var f=w=>{var k=Vu(),z=J(k,!0);G(k),bt(()=>gt(z,P(o).offset)),Y(w,k)};Et(v,w=>{P(o).offset&&w(f)})}var h=st(v,2);{var l=w=>{var k=Hu(),z=J(k,!0);G(k),bt(()=>{ce(k,"href",P(o).ref),gt(z,P(o)._)}),Y(w,k)},g=w=>{var k=Zu(),z=J(k,!0);G(k),bt(()=>gt(z,P(o)._)),Y(w,k)};Et(h,w=>{P(o).ref?w(l):w(g,!1)})}var y=st(h);bt(()=>gt(y,` (${P(o).type??""})`)),Y(m,_)};Et(c,m=>{P(o)&&m(u)})}G(a),Y(s,a)}),G(n),G(i),Y(t,i),Xt()}function hr(t,e){let r=ht(e,"title",3,""),i=Ie(e,["$$slots","$$events","$$legacy","id","title","children"]);const n=lt(()=>e.children),s=lt(()=>`/inscription/${e.id}`),o=lt(()=>r()||e.id);fa(t,xe({get href(){return P(s)},get title(){return P(o)}},()=>i,{children:(a,c)=>{var u=It(),m=ft(u);ee(m,()=>P(n)??ze),Y(a,u)},$$slots:{default:!0}}))}var Ku=ut('<div class="card-image-placeholder svelte-18utaky"></div>'),Yu=ut("<a> </a>"),Ju=ut("<a> </a>"),Qu=ut('<div class="inscription-card svelte-18utaky"><div class="card-header svelte-18utaky"><!> <div class="card-image svelte-18utaky"><!></div></div> <div class="card-body svelte-18utaky"><div class="inscription-title svelte-18utaky"><!></div> <div class="inscription-date-place"><!> <!></div></div> <div class="card-footer svelte-18utaky"><dl class="svelte-18utaky"><dt class="svelte-18utaky">Status</dt> <dd class="svelte-18utaky"> </dd> <dt class="svelte-18utaky">Type</dt> <dd class="badge strong svelte-18utaky"><!></dd></dl> <dl class="svelte-18utaky"><dt class="svelte-18utaky">Object type</dt> <dd class="badge strong svelte-18utaky"><!></dd> <dt class="svelte-18utaky">Language</dt> <dd class="svelte-18utaky"> </dd></dl></div></div>');function td(t,e){Gt(e,!0);var r=Qu(),i=J(r),n=J(i);hr(n,{get id(){return e.inscription.file},class:"inscription-id",children:(p,F)=>{Vt();var C=te();bt(()=>gt(C,`ID: ${e.inscription.file??""}`)),Y(p,C)},$$slots:{default:!0}});var s=st(n,2),o=J(s);{var a=p=>{hr(p,{get id(){return e.inscription.file},get title(){return e.inscription.title},children:(F,C)=>{$u(F,{get src(){return`${sa}${e.inscription.file??""}/${e.inscription.facsimile.url??""}/${oa}`},get alt(){return e.inscription.facsimile.desc},width:400,height:200})},$$slots:{default:!0}})},c=p=>{var F=Ku();Y(p,F)};Et(o,p=>{e.inscription.facsimile?p(a):p(c,!1)})}G(s),G(i);var u=st(i,2),m=J(u),_=J(m);hr(_,{get id(){return e.inscription.file},get title(){return e.inscription.title},children:(p,F)=>{Vt();var C=te();bt(()=>gt(C,e.inscription.title)),Y(p,C)},$$slots:{default:!0}}),G(m);var v=st(m,2),f=J(v);js(f,{get date(){return e.inscription.date}});var h=st(f,2);uo(h,{get inscription(){return e.inscription}}),G(v),G(u);var l=st(u,2),g=J(l),y=st(J(g),2),w=J(y,!0);G(y);var k=st(y,4),z=J(k);{var j=p=>{var F=Yu(),C=J(F,!0);G(F),bt(()=>{var b;ce(F,"href",e.inscription.type.ref),gt(C,(b=e.inscription.type)==null?void 0:b._)}),Y(p,F)},B=p=>{var F=te();bt(()=>{var C;return gt(F,((C=e.inscription.type)==null?void 0:C._)||"N/A")}),Y(p,F)};Et(z,p=>{var F;(F=e.inscription.type)!=null&&F.ref?p(j):p(B,!1)})}G(k),G(g);var T=st(g,2),Z=st(J(T),2),N=J(Z);{var D=p=>{var F=Ju(),C=J(F,!0);G(F),bt(()=>{var b;ce(F,"href",e.inscription.rawObjectType.ref),gt(C,(b=e.inscription.rawObjectType)==null?void 0:b._)}),Y(p,F)},W=p=>{var F=te();bt(()=>{var C;return gt(F,((C=e.inscription.rawObjectType)==null?void 0:C._)||"N/A")}),Y(p,F)};Et(N,p=>{var F;(F=e.inscription.rawObjectType)!=null&&F.ref?p(D):p(W,!1)})}G(Z);var S=st(Z,4),U=J(S,!0);G(S),G(T),G(l),G(r),bt(()=>{var p,F;gt(w,((p=e.inscription)==null?void 0:p.status)||"N/A"),gt(U,((F=e.inscription.textLang)==null?void 0:F._)||"N/A")}),Y(t,r),Xt()}var ed=ut('<li class="svelte-1ahfstl"><!></li>'),rd=ut('<ol class="inscription-list svelte-1ahfstl"></ol>');function nd(t,e){var r=rd();de(r,21,()=>e.inscriptions,me,(i,n)=>{var s=ed(),o=J(s);td(o,{get inscription(){return P(n)}}),G(s),Y(i,s)}),G(r),Y(t,r)}var id=ut("<span> </span>"),sd=ut('<div role="img"><!></div>'),od=ut('<div class="inscription-map svelte-mhd10g"><!></div>');function ad(t,e){Gt(e,!0);const{Map:r,Marker:i,NavigationControl:n,Popup:s}=da;let o=ht(e,"mapStyle",19,()=>aa),a=ht(e,"show",3,!0),c=Kt(void 0),u=Kt(void 0),m=Kt(Rt([])),_=lt(()=>e.inscriptions.filter(w=>w.geo).reduce((w,k)=>{if(!k.geo||k.geo.length!==2)return w;const z=k.geo.join("_");return w[z]||(w[z]=[]),w[z].push(k),w},{})),v=lt(()=>Object.entries(P(_)).map(([w,k])=>{const z=k[0].geo,j=k.length;let B="single";return j>100?B="lg":j>25?B="md":j>1&&(B="sm"),{coords:[z[1],z[0]],markerSize:B,numberInscriptions:j,inscriptions:k}}));function f(w,{coords:k,inscriptions:z}){const j=new s,B=()=>{const Z=h(z);j.setHTML(Z)};B();const T=new i({element:w}).setLngLat(k).setPopup(j).addTo(P(c));return P(m).push(T),{destroy(){T==null||T.remove(),wt(m,Rt(P(m).filter(Z=>Z!==T)))},update({coords:Z,inscriptions:N}){z=N,B(),T.setLngLat(Z)}}}function h(w){const k=w.reduce((B,T)=>(T.places[0]&&(B[T.places[0]._]||(B[T.places[0]._]=[]),B[T.places[0]._].push(T)),B),{});let z='<div class="tooltip">';const j=Object.entries(k).map(([B,T])=>{let Z=`<dt>${B}</dt>`,N=T.map(D=>`<dd><a href="inscription/${D.file}">${D.title}</a></dd>`).join("");return`${Z}${N}`}).join("");return`${z}<dl>${j}</dl></div>`}Rs(async()=>{wt(c,Rt(new r({container:P(u),style:o(),center:[14.01535,37.59999],zoom:7}))),P(c).addControl(new n({showCompass:!0,showZoom:!0}))}),ma(async()=>{P(c)&&(P(c).remove(),wt(c,void 0),wt(u,void 0))});var l=It(),g=ft(l);{var y=w=>{var k=od(),z=J(k);{var j=B=>{var T=It(),Z=ft(T);de(Z,17,()=>P(v),me,(N,D)=>{var W=sd();let S;var U=J(W);{var p=F=>{var C=id(),b=J(C,!0);G(C),bt(()=>gt(b,P(D).numberInscriptions)),Y(F,C)};Et(U,F=>{P(D).numberInscriptions>1&&F(p)})}G(W),pa(W,(F,C)=>f==null?void 0:f(F,C),()=>({coords:P(D).coords,inscriptions:P(D).inscriptions})),bt(()=>{S=ta(W,1,"marker svelte-mhd10g",null,S,{single:P(D).markerSize==="single",sm:P(D).markerSize==="sm",md:P(D).markerSize==="md",lg:P(D).markerSize==="lg"}),ce(W,"aria-label",`Map marker for ${P(D).inscriptions[0].title}`)}),Y(N,W)}),Y(B,T)};Et(z,B=>{P(c)&&P(v)&&B(j)})}G(k),na(k,B=>wt(u,B),()=>P(u)),Y(w,k)};Et(g,w=>{a()&&w(y)})}Y(t,l),Xt()}var ld=ut('<span class="svelte-15ji1ve">...</span>'),cd=ut('<div class="pagination svelte-15ji1ve"><!> <div class="pages svelte-15ji1ve"></div> <!></div> <p class="svelte-15ji1ve"> </p>',1);function ud(t,e){var r=It(),i=ft(r);{var n=s=>{var o=It(),a=ft(o);Wt(a,()=>jl,(c,u)=>{u(c,{get page(){return e.page},get count(){return e.count},get perPage(){return e.perPage},get onPageChange(){return e.onPageChange},children:(_,v)=>{let f=()=>v==null?void 0:v().pages,h=()=>v==null?void 0:v().range;var l=cd(),g=ft(l),y=J(g);Wt(y,()=>Tl,(B,T)=>{T(B,{"aria-label":"Previous page",children:(Z,N)=>{ic(Z,{})},$$slots:{default:!0}})});var w=st(y,2);de(w,21,f,B=>B.key,(B,T,Z,N)=>{var D=It(),W=ft(D);{var S=p=>{var F=ld();Y(p,F)},U=p=>{var F=It(),C=ft(F);Wt(C,()=>Fl,(b,E)=>{E(b,{get page(){return P(T)},children:(R,V)=>{Vt();var O=te();bt(()=>gt(O,P(T).value)),Y(R,O)},$$slots:{default:!0}})}),Y(p,F)};Et(W,p=>{P(T).type==="ellipsis"?p(S):p(U,!1)})}Y(B,D)}),G(w);var k=st(w,2);Wt(k,()=>Nl,(B,T)=>{T(B,{"aria-label":"Next page",children:(Z,N)=>{sc(Z,{})},$$slots:{default:!0}})}),G(g);var z=st(g,2),j=J(z);G(z),bt(()=>gt(j,`Showing ${h().start+1} - ${h().end??""}`)),Y(_,l)},$$slots:{default:!0}})}),Y(s,o)};Et(i,s=>{e.count>0&&s(n)})}Y(t,r)}var dd=ut('<a class="badge svelte-f0norw"> </a>'),hd=ut('<a class="badge svelte-f0norw"> </a>'),fd=ut('<tr class="svelte-f0norw"><td class="strong svelte-f0norw"><!></td><td class="strong svelte-f0norw"><!></td><td class="svelte-f0norw"><!></td><td class="svelte-f0norw"><!></td><td class="svelte-f0norw"> </td><td class="svelte-f0norw"><!></td><td class="svelte-f0norw"><!></td><td class="svelte-f0norw"> </td><td class="svelte-f0norw"> </td></tr>');function pd(t,e){Gt(e,!0);var r=fd(),i=J(r),n=J(i);hr(n,{get id(){return e.inscription.file},children:(N,D)=>{Vt();var W=te();bt(()=>gt(W,e.inscription.file)),Y(N,W)},$$slots:{default:!0}}),G(i);var s=st(i),o=J(s);hr(o,{get id(){return e.inscription.file},children:(N,D)=>{Vt();var W=te();bt(()=>gt(W,e.inscription.title)),Y(N,W)},$$slots:{default:!0}}),G(s);var a=st(s),c=J(a);js(c,{get date(){return e.inscription.date}}),G(a);var u=st(a),m=J(u);uo(m,{get inscription(){return e.inscription}}),G(u);var _=st(u),v=J(_,!0);G(_);var f=st(_),h=J(f);{var l=N=>{var D=dd(),W=J(D,!0);G(D),bt(()=>{var S;ce(D,"href",e.inscription.type.ref),gt(W,(S=e.inscription.type)==null?void 0:S._)}),Y(N,D)},g=N=>{var D=te();bt(()=>{var W;return gt(D,((W=e.inscription.type)==null?void 0:W._)||"N/A")}),Y(N,D)};Et(h,N=>{var D;(D=e.inscription.type)!=null&&D.ref?N(l):N(g,!1)})}G(f);var y=st(f),w=J(y);{var k=N=>{var D=hd(),W=J(D,!0);G(D),bt(()=>{var S;ce(D,"href",e.inscription.rawObjectType.ref),gt(W,(S=e.inscription.rawObjectType)==null?void 0:S._)}),Y(N,D)},z=N=>{var D=te();bt(()=>{var W;return gt(D,((W=e.inscription.rawObjectType)==null?void 0:W._)||"N/A")}),Y(N,D)};Et(w,N=>{var D;(D=e.inscription.rawObjectType)!=null&&D.ref?N(k):N(z,!1)})}G(y);var j=st(y),B=J(j,!0);G(j);var T=st(j),Z=J(T,!0);G(T),G(r),bt(()=>{var N,D;gt(v,((N=e.inscription)==null?void 0:N.status)||"N/A"),gt(B,((D=e.inscription.textLang)==null?void 0:D._)||"N/A"),gt(Z,e.inscription.settlement||"N/A")}),Y(t,r),Xt()}var md=ut('<table class="svelte-17mzvsk"><thead class="surface-1 svelte-17mzvsk"><tr><th class="surface-4 svelte-17mzvsk">ID</th><th class="surface-4 svelte-17mzvsk">Title</th><th class="surface-4 svelte-17mzvsk">Date</th><th class="surface-4 svelte-17mzvsk">Place</th><th class="surface-4 svelte-17mzvsk">Status</th><th class="surface-4 svelte-17mzvsk">Type</th><th class="surface-4 svelte-17mzvsk">Object type</th><th class="surface-4 svelte-17mzvsk">Language</th><th class="surface-4 svelte-17mzvsk">Settlement</th></tr></thead><tbody></tbody></table>');function gd(t,e){var r=md(),i=st(J(r));de(i,21,()=>e.inscriptions,me,(n,s)=>{pd(n,{get inscription(){return P(s)}})}),G(i),G(r),Y(t,r)}function Cr(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ho={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(i,n,s){function o(u,m){if(!n[u]){if(!i[u]){var _=typeof Cr=="function"&&Cr;if(!m&&_)return _(u,!0);if(a)return a(u,!0);var v=new Error("Cannot find module '"+u+"'");throw v.code="MODULE_NOT_FOUND",v}var f=n[u]={exports:{}};i[u][0].call(f.exports,function(h){var l=i[u][1][h];return o(l||h)},f,f.exports,r,i,n,s)}return n[u].exports}for(var a=typeof Cr=="function"&&Cr,c=0;c<s.length;c++)o(s[c]);return o}({1:[function(r,i,n){var s=r("./utils"),o=r("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(c){for(var u,m,_,v,f,h,l,g=[],y=0,w=c.length,k=w,z=s.getTypeOf(c)!=="string";y<c.length;)k=w-y,_=z?(u=c[y++],m=y<w?c[y++]:0,y<w?c[y++]:0):(u=c.charCodeAt(y++),m=y<w?c.charCodeAt(y++):0,y<w?c.charCodeAt(y++):0),v=u>>2,f=(3&u)<<4|m>>4,h=1<k?(15&m)<<2|_>>6:64,l=2<k?63&_:64,g.push(a.charAt(v)+a.charAt(f)+a.charAt(h)+a.charAt(l));return g.join("")},n.decode=function(c){var u,m,_,v,f,h,l=0,g=0,y="data:";if(c.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var w,k=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===a.charAt(64)&&k--,c.charAt(c.length-2)===a.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=o.uint8array?new Uint8Array(0|k):new Array(0|k);l<c.length;)u=a.indexOf(c.charAt(l++))<<2|(v=a.indexOf(c.charAt(l++)))>>4,m=(15&v)<<4|(f=a.indexOf(c.charAt(l++)))>>2,_=(3&f)<<6|(h=a.indexOf(c.charAt(l++))),w[g++]=u,f!==64&&(w[g++]=m),h!==64&&(w[g++]=_);return w}},{"./support":30,"./utils":32}],2:[function(r,i,n){var s=r("./external"),o=r("./stream/DataWorker"),a=r("./stream/Crc32Probe"),c=r("./stream/DataLengthProbe");function u(m,_,v,f,h){this.compressedSize=m,this.uncompressedSize=_,this.crc32=v,this.compression=f,this.compressedContent=h}u.prototype={getContentWorker:function(){var m=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),_=this;return m.on("end",function(){if(this.streamInfo.data_length!==_.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(m,_,v){return m.pipe(new a).pipe(new c("uncompressedSize")).pipe(_.compressWorker(v)).pipe(new c("compressedSize")).withStreamInfo("compression",_)},i.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,i,n){var s=r("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},n.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,i,n){var s=r("./utils"),o=function(){for(var a,c=[],u=0;u<256;u++){a=u;for(var m=0;m<8;m++)a=1&a?3988292384^a>>>1:a>>>1;c[u]=a}return c}();i.exports=function(a,c){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(u,m,_,v){var f=o,h=v+_;u^=-1;for(var l=v;l<h;l++)u=u>>>8^f[255&(u^m[l])];return-1^u}(0|c,a,a.length,0):function(u,m,_,v){var f=o,h=v+_;u^=-1;for(var l=v;l<h;l++)u=u>>>8^f[255&(u^m.charCodeAt(l))];return-1^u}(0|c,a,a.length,0):0}},{"./utils":32}],5:[function(r,i,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(r,i,n){var s=null;s=typeof Promise<"u"?Promise:r("lie"),i.exports={Promise:s}},{lie:37}],7:[function(r,i,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),a=r("./utils"),c=r("./stream/GenericWorker"),u=s?"uint8array":"array";function m(_,v){c.call(this,"FlateWorker/"+_),this._pako=null,this._pakoAction=_,this._pakoOptions=v,this.meta={}}n.magic="\b\0",a.inherits(m,c),m.prototype.processChunk=function(_){this.meta=_.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(u,_.data),!1)},m.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var _=this;this._pako.onData=function(v){_.push({data:v,meta:_.meta})}},n.compressWorker=function(_){return new m("Deflate",_)},n.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,i,n){function s(f,h){var l,g="";for(l=0;l<h;l++)g+=String.fromCharCode(255&f),f>>>=8;return g}function o(f,h,l,g,y,w){var k,z,j=f.file,B=f.compression,T=w!==u.utf8encode,Z=a.transformTo("string",w(j.name)),N=a.transformTo("string",u.utf8encode(j.name)),D=j.comment,W=a.transformTo("string",w(D)),S=a.transformTo("string",u.utf8encode(D)),U=N.length!==j.name.length,p=S.length!==D.length,F="",C="",b="",E=j.dir,R=j.date,V={crc32:0,compressedSize:0,uncompressedSize:0};h&&!l||(V.crc32=f.crc32,V.compressedSize=f.compressedSize,V.uncompressedSize=f.uncompressedSize);var O=0;h&&(O|=8),T||!U&&!p||(O|=2048);var I=0,it=0;E&&(I|=16),y==="UNIX"?(it=798,I|=function(K,At){var Nt=K;return K||(Nt=At?16893:33204),(65535&Nt)<<16}(j.unixPermissions,E)):(it=20,I|=function(K){return 63&(K||0)}(j.dosPermissions)),k=R.getUTCHours(),k<<=6,k|=R.getUTCMinutes(),k<<=5,k|=R.getUTCSeconds()/2,z=R.getUTCFullYear()-1980,z<<=4,z|=R.getUTCMonth()+1,z<<=5,z|=R.getUTCDate(),U&&(C=s(1,1)+s(m(Z),4)+N,F+="up"+s(C.length,2)+C),p&&(b=s(1,1)+s(m(W),4)+S,F+="uc"+s(b.length,2)+b);var tt="";return tt+=`
\0`,tt+=s(O,2),tt+=B.magic,tt+=s(k,2),tt+=s(z,2),tt+=s(V.crc32,4),tt+=s(V.compressedSize,4),tt+=s(V.uncompressedSize,4),tt+=s(Z.length,2),tt+=s(F.length,2),{fileRecord:_.LOCAL_FILE_HEADER+tt+Z+F,dirRecord:_.CENTRAL_FILE_HEADER+s(it,2)+tt+s(W.length,2)+"\0\0\0\0"+s(I,4)+s(g,4)+Z+F+W}}var a=r("../utils"),c=r("../stream/GenericWorker"),u=r("../utf8"),m=r("../crc32"),_=r("../signature");function v(f,h,l,g){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=h,this.zipPlatform=l,this.encodeFileName=g,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(v,c),v.prototype.push=function(f){var h=f.meta.percent||0,l=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,c.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:l?(h+100*(l-g-1))/l:100}}))},v.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var h=this.streamFiles&&!f.file.dir;if(h){var l=o(f,h,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:l.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(f){this.accumulate=!1;var h=this.streamFiles&&!f.file.dir,l=o(f,h,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(l.dirRecord),h)this.push({data:function(g){return _.DATA_DESCRIPTOR+s(g.crc32,4)+s(g.compressedSize,4)+s(g.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:l.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var f=this.bytesWritten,h=0;h<this.dirRecords.length;h++)this.push({data:this.dirRecords[h],meta:{percent:100}});var l=this.bytesWritten-f,g=function(y,w,k,z,j){var B=a.transformTo("string",j(z));return _.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(y,2)+s(y,2)+s(w,4)+s(k,4)+s(B.length,2)+B}(this.dirRecords.length,l,f,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(f){this._sources.push(f);var h=this;return f.on("data",function(l){h.processChunk(l)}),f.on("end",function(){h.closedSource(h.previous.streamInfo),h._sources.length?h.prepareNextSource():h.end()}),f.on("error",function(l){h.error(l)}),this},v.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(f){var h=this._sources;if(!c.prototype.error.call(this,f))return!1;for(var l=0;l<h.length;l++)try{h[l].error(f)}catch{}return!0},v.prototype.lock=function(){c.prototype.lock.call(this);for(var f=this._sources,h=0;h<f.length;h++)f[h].lock()},i.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,i,n){var s=r("../compressions"),o=r("./ZipFileWorker");n.generateWorker=function(a,c,u){var m=new o(c.streamFiles,u,c.platform,c.encodeFileName),_=0;try{a.forEach(function(v,f){_++;var h=function(w,k){var z=w||k,j=s[z];if(!j)throw new Error(z+" is not a valid compression method !");return j}(f.options.compression,c.compression),l=f.options.compressionOptions||c.compressionOptions||{},g=f.dir,y=f.date;f._compressWorker(h,l).withStreamInfo("file",{name:v,dir:g,date:y,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(m)}),m.entriesCount=_}catch(v){m.error(v)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,i,n){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=r("./external"),i.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,i,n){var s=r("./utils"),o=r("./external"),a=r("./utf8"),c=r("./zipEntries"),u=r("./stream/Crc32Probe"),m=r("./nodejsUtils");function _(v){return new o.Promise(function(f,h){var l=v.decompressed.getContentWorker().pipe(new u);l.on("error",function(g){h(g)}).on("end",function(){l.streamInfo.crc32!==v.decompressed.crc32?h(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}i.exports=function(v,f){var h=this;return f=s.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),m.isNode&&m.isStream(v)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",v,!0,f.optimizedBinaryString,f.base64).then(function(l){var g=new c(f);return g.load(l),g}).then(function(l){var g=[o.Promise.resolve(l)],y=l.files;if(f.checkCRC32)for(var w=0;w<y.length;w++)g.push(_(y[w]));return o.Promise.all(g)}).then(function(l){for(var g=l.shift(),y=g.files,w=0;w<y.length;w++){var k=y[w],z=k.fileNameStr,j=s.resolve(k.fileNameStr);h.file(j,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:f.createFolders}),k.dir||(h.file(j).unsafeOriginalName=z)}return g.zipComment.length&&(h.comment=g.zipComment),h})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,i,n){var s=r("../utils"),o=r("../stream/GenericWorker");function a(c,u){o.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(a,o),a.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(m){u.push({data:m,meta:{percent:0}})}).on("error",function(m){u.isPaused?this.generatedError=m:u.error(m)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,i,n){var s=r("readable-stream").Readable;function o(a,c,u){s.call(this,c),this._helper=a;var m=this;a.on("data",function(_,v){m.push(_)||m._helper.pause(),u&&u(v)}).on("error",function(_){m.emit("error",_)}).on("end",function(){m.push(null)})}r("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},i.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,i,n){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,i,n){function s(j,B,T){var Z,N=a.getTypeOf(B),D=a.extend(T||{},m);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&16384&D.unixPermissions&&(D.dir=!0),D.dosPermissions&&16&D.dosPermissions&&(D.dir=!0),D.dir&&(j=y(j)),D.createFolders&&(Z=g(j))&&w.call(this,Z,!0);var W=N==="string"&&D.binary===!1&&D.base64===!1;T&&T.binary!==void 0||(D.binary=!W),(B instanceof _&&B.uncompressedSize===0||D.dir||!B||B.length===0)&&(D.base64=!1,D.binary=!0,B="",D.compression="STORE",N="string");var S=null;S=B instanceof _||B instanceof c?B:h.isNode&&h.isStream(B)?new l(j,B):a.prepareContent(j,B,D.binary,D.optimizedBinaryString,D.base64);var U=new v(j,S,D);this.files[j]=U}var o=r("./utf8"),a=r("./utils"),c=r("./stream/GenericWorker"),u=r("./stream/StreamHelper"),m=r("./defaults"),_=r("./compressedObject"),v=r("./zipObject"),f=r("./generate"),h=r("./nodejsUtils"),l=r("./nodejs/NodejsStreamInputAdapter"),g=function(j){j.slice(-1)==="/"&&(j=j.substring(0,j.length-1));var B=j.lastIndexOf("/");return 0<B?j.substring(0,B):""},y=function(j){return j.slice(-1)!=="/"&&(j+="/"),j},w=function(j,B){return B=B!==void 0?B:m.createFolders,j=y(j),this.files[j]||s.call(this,j,null,{dir:!0,createFolders:B}),this.files[j]};function k(j){return Object.prototype.toString.call(j)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(j){var B,T,Z;for(B in this.files)Z=this.files[B],(T=B.slice(this.root.length,B.length))&&B.slice(0,this.root.length)===this.root&&j(T,Z)},filter:function(j){var B=[];return this.forEach(function(T,Z){j(T,Z)&&B.push(Z)}),B},file:function(j,B,T){if(arguments.length!==1)return j=this.root+j,s.call(this,j,B,T),this;if(k(j)){var Z=j;return this.filter(function(D,W){return!W.dir&&Z.test(D)})}var N=this.files[this.root+j];return N&&!N.dir?N:null},folder:function(j){if(!j)return this;if(k(j))return this.filter(function(N,D){return D.dir&&j.test(N)});var B=this.root+j,T=w.call(this,B),Z=this.clone();return Z.root=T.name,Z},remove:function(j){j=this.root+j;var B=this.files[j];if(B||(j.slice(-1)!=="/"&&(j+="/"),B=this.files[j]),B&&!B.dir)delete this.files[j];else for(var T=this.filter(function(N,D){return D.name.slice(0,j.length)===j}),Z=0;Z<T.length;Z++)delete this.files[T[Z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(j){var B,T={};try{if((T=a.extend(j||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");a.checkSupport(T.type),T.platform!=="darwin"&&T.platform!=="freebsd"&&T.platform!=="linux"&&T.platform!=="sunos"||(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var Z=T.comment||this.comment||"";B=f.generateWorker(this,T,Z)}catch(N){(B=new c("error")).error(N)}return new u(B,T.type||"string",T.mimeType)},generateAsync:function(j,B){return this.generateInternalStream(j).accumulate(B)},generateNodeStream:function(j,B){return(j=j||{}).type||(j.type="nodebuffer"),this.generateInternalStream(j).toNodejsStream(B)}};i.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,i,n){i.exports=r("stream")},{stream:void 0}],17:[function(r,i,n){var s=r("./DataReader");function o(a){s.call(this,a);for(var c=0;c<this.data.length;c++)a[c]=255&a[c]}r("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var c=a.charCodeAt(0),u=a.charCodeAt(1),m=a.charCodeAt(2),_=a.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===c&&this.data[v+1]===u&&this.data[v+2]===m&&this.data[v+3]===_)return v-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var c=a.charCodeAt(0),u=a.charCodeAt(1),m=a.charCodeAt(2),_=a.charCodeAt(3),v=this.readData(4);return c===v[0]&&u===v[1]&&m===v[2]&&_===v[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},i.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,i,n){var s=r("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var c,u=0;for(this.checkOffset(a),c=this.index+a-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=a,u},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},i.exports=o},{"../utils":32}],19:[function(r,i,n){var s=r("./Uint8ArrayReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},i.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,i,n){var s=r("./DataReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},i.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,i,n){var s=r("./ArrayReader");function o(a){s.call(this,a)}r("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},i.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,i,n){var s=r("../utils"),o=r("../support"),a=r("./ArrayReader"),c=r("./StringReader"),u=r("./NodeBufferReader"),m=r("./Uint8ArrayReader");i.exports=function(_){var v=s.getTypeOf(_);return s.checkSupport(v),v!=="string"||o.uint8array?v==="nodebuffer"?new u(_):o.uint8array?new m(s.transformTo("uint8array",_)):new a(s.transformTo("array",_)):new c(_)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,i,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,i,n){var s=r("./GenericWorker"),o=r("../utils");function a(c){s.call(this,"ConvertWorker to "+c),this.destType=c}o.inherits(a,s),a.prototype.processChunk=function(c){this.push({data:o.transformTo(this.destType,c.data),meta:c.meta})},i.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(r,i,n){var s=r("./GenericWorker"),o=r("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(a,s),a.prototype.processChunk=function(c){this.streamInfo.crc32=o(c.data,this.streamInfo.crc32||0),this.push(c)},i.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,i,n){var s=r("../utils"),o=r("./GenericWorker");function a(c){o.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}s.inherits(a,o),a.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}o.prototype.processChunk.call(this,c)},i.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(r,i,n){var s=r("../utils"),o=r("./GenericWorker");function a(c){o.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(m){u.dataIsReady=!0,u.data=m,u.max=m&&m.length||0,u.type=s.getTypeOf(m),u.isPaused||u._tickAndRepeat()},function(m){u.error(m)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(r,i,n){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var c=0;c<this._listeners[o].length;c++)this._listeners[o][c].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(c){a.processChunk(c)}),o.on("end",function(){a.end()}),o.on("error",function(c){a.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},i.exports=s},{}],29:[function(r,i,n){var s=r("../utils"),o=r("./ConvertWorker"),a=r("./GenericWorker"),c=r("../base64"),u=r("../support"),m=r("../external"),_=null;if(u.nodestream)try{_=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(h,l){return new m.Promise(function(g,y){var w=[],k=h._internalType,z=h._outputType,j=h._mimeType;h.on("data",function(B,T){w.push(B),l&&l(T)}).on("error",function(B){w=[],y(B)}).on("end",function(){try{var B=function(T,Z,N){switch(T){case"blob":return s.newBlob(s.transformTo("arraybuffer",Z),N);case"base64":return c.encode(Z);default:return s.transformTo(T,Z)}}(z,function(T,Z){var N,D=0,W=null,S=0;for(N=0;N<Z.length;N++)S+=Z[N].length;switch(T){case"string":return Z.join("");case"array":return Array.prototype.concat.apply([],Z);case"uint8array":for(W=new Uint8Array(S),N=0;N<Z.length;N++)W.set(Z[N],D),D+=Z[N].length;return W;case"nodebuffer":return Buffer.concat(Z);default:throw new Error("concat : unsupported type '"+T+"'")}}(k,w),j);g(B)}catch(T){y(T)}w=[]}).resume()})}function f(h,l,g){var y=l;switch(l){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=l,this._mimeType=g,s.checkSupport(y),this._worker=h.pipe(new o(y)),h.lock()}catch(w){this._worker=new a("error"),this._worker.error(w)}}f.prototype={accumulate:function(h){return v(this,h)},on:function(h,l){var g=this;return h==="data"?this._worker.on(h,function(y){l.call(g,y.data,y.meta)}):this._worker.on(h,function(){s.delay(l,arguments,g)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(h){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new _(this,{objectMode:this._outputType!=="nodebuffer"},h)}},i.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,i,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var s=new ArrayBuffer(0);try{n.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),n.blob=o.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!r("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(r,i,n){for(var s=r("./utils"),o=r("./support"),a=r("./nodejsUtils"),c=r("./stream/GenericWorker"),u=new Array(256),m=0;m<256;m++)u[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;u[254]=u[254]=1;function _(){c.call(this,"utf-8 decode"),this.leftOver=null}function v(){c.call(this,"utf-8 encode")}n.utf8encode=function(f){return o.nodebuffer?a.newBufferFrom(f,"utf-8"):function(h){var l,g,y,w,k,z=h.length,j=0;for(w=0;w<z;w++)(64512&(g=h.charCodeAt(w)))==55296&&w+1<z&&(64512&(y=h.charCodeAt(w+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),w++),j+=g<128?1:g<2048?2:g<65536?3:4;for(l=o.uint8array?new Uint8Array(j):new Array(j),w=k=0;k<j;w++)(64512&(g=h.charCodeAt(w)))==55296&&w+1<z&&(64512&(y=h.charCodeAt(w+1)))==56320&&(g=65536+(g-55296<<10)+(y-56320),w++),g<128?l[k++]=g:(g<2048?l[k++]=192|g>>>6:(g<65536?l[k++]=224|g>>>12:(l[k++]=240|g>>>18,l[k++]=128|g>>>12&63),l[k++]=128|g>>>6&63),l[k++]=128|63&g);return l}(f)},n.utf8decode=function(f){return o.nodebuffer?s.transformTo("nodebuffer",f).toString("utf-8"):function(h){var l,g,y,w,k=h.length,z=new Array(2*k);for(l=g=0;l<k;)if((y=h[l++])<128)z[g++]=y;else if(4<(w=u[y]))z[g++]=65533,l+=w-1;else{for(y&=w===2?31:w===3?15:7;1<w&&l<k;)y=y<<6|63&h[l++],w--;1<w?z[g++]=65533:y<65536?z[g++]=y:(y-=65536,z[g++]=55296|y>>10&1023,z[g++]=56320|1023&y)}return z.length!==g&&(z.subarray?z=z.subarray(0,g):z.length=g),s.applyFromCharCode(z)}(f=s.transformTo(o.uint8array?"uint8array":"array",f))},s.inherits(_,c),_.prototype.processChunk=function(f){var h=s.transformTo(o.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var l=h;(h=new Uint8Array(l.length+this.leftOver.length)).set(this.leftOver,0),h.set(l,this.leftOver.length)}else h=this.leftOver.concat(h);this.leftOver=null}var g=function(w,k){var z;for((k=k||w.length)>w.length&&(k=w.length),z=k-1;0<=z&&(192&w[z])==128;)z--;return z<0||z===0?k:z+u[w[z]]>k?z:k}(h),y=h;g!==h.length&&(o.uint8array?(y=h.subarray(0,g),this.leftOver=h.subarray(g,h.length)):(y=h.slice(0,g),this.leftOver=h.slice(g,h.length))),this.push({data:n.utf8decode(y),meta:f.meta})},_.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=_,s.inherits(v,c),v.prototype.processChunk=function(f){this.push({data:n.utf8encode(f.data),meta:f.meta})},n.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,i,n){var s=r("./support"),o=r("./base64"),a=r("./nodejsUtils"),c=r("./external");function u(l){return l}function m(l,g){for(var y=0;y<l.length;++y)g[y]=255&l.charCodeAt(y);return g}r("setimmediate"),n.newBlob=function(l,g){n.checkSupport("blob");try{return new Blob([l],{type:g})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(l),y.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(l,g,y){var w=[],k=0,z=l.length;if(z<=y)return String.fromCharCode.apply(null,l);for(;k<z;)g==="array"||g==="nodebuffer"?w.push(String.fromCharCode.apply(null,l.slice(k,Math.min(k+y,z)))):w.push(String.fromCharCode.apply(null,l.subarray(k,Math.min(k+y,z)))),k+=y;return w.join("")},stringifyByChar:function(l){for(var g="",y=0;y<l.length;y++)g+=String.fromCharCode(l[y]);return g},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function v(l){var g=65536,y=n.getTypeOf(l),w=!0;if(y==="uint8array"?w=_.applyCanBeUsed.uint8array:y==="nodebuffer"&&(w=_.applyCanBeUsed.nodebuffer),w)for(;1<g;)try{return _.stringifyByChunk(l,y,g)}catch{g=Math.floor(g/2)}return _.stringifyByChar(l)}function f(l,g){for(var y=0;y<l.length;y++)g[y]=l[y];return g}n.applyFromCharCode=v;var h={};h.string={string:u,array:function(l){return m(l,new Array(l.length))},arraybuffer:function(l){return h.string.uint8array(l).buffer},uint8array:function(l){return m(l,new Uint8Array(l.length))},nodebuffer:function(l){return m(l,a.allocBuffer(l.length))}},h.array={string:v,array:u,arraybuffer:function(l){return new Uint8Array(l).buffer},uint8array:function(l){return new Uint8Array(l)},nodebuffer:function(l){return a.newBufferFrom(l)}},h.arraybuffer={string:function(l){return v(new Uint8Array(l))},array:function(l){return f(new Uint8Array(l),new Array(l.byteLength))},arraybuffer:u,uint8array:function(l){return new Uint8Array(l)},nodebuffer:function(l){return a.newBufferFrom(new Uint8Array(l))}},h.uint8array={string:v,array:function(l){return f(l,new Array(l.length))},arraybuffer:function(l){return l.buffer},uint8array:u,nodebuffer:function(l){return a.newBufferFrom(l)}},h.nodebuffer={string:v,array:function(l){return f(l,new Array(l.length))},arraybuffer:function(l){return h.nodebuffer.uint8array(l).buffer},uint8array:function(l){return f(l,new Uint8Array(l.length))},nodebuffer:u},n.transformTo=function(l,g){if(g=g||"",!l)return g;n.checkSupport(l);var y=n.getTypeOf(g);return h[y][l](g)},n.resolve=function(l){for(var g=l.split("/"),y=[],w=0;w<g.length;w++){var k=g[w];k==="."||k===""&&w!==0&&w!==g.length-1||(k===".."?y.pop():y.push(k))}return y.join("/")},n.getTypeOf=function(l){return typeof l=="string"?"string":Object.prototype.toString.call(l)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(l)?"nodebuffer":s.uint8array&&l instanceof Uint8Array?"uint8array":s.arraybuffer&&l instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(l){if(!s[l.toLowerCase()])throw new Error(l+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(l){var g,y,w="";for(y=0;y<(l||"").length;y++)w+="\\x"+((g=l.charCodeAt(y))<16?"0":"")+g.toString(16).toUpperCase();return w},n.delay=function(l,g,y){setImmediate(function(){l.apply(y||null,g||[])})},n.inherits=function(l,g){function y(){}y.prototype=g.prototype,l.prototype=new y},n.extend=function(){var l,g,y={};for(l=0;l<arguments.length;l++)for(g in arguments[l])Object.prototype.hasOwnProperty.call(arguments[l],g)&&y[g]===void 0&&(y[g]=arguments[l][g]);return y},n.prepareContent=function(l,g,y,w,k){return c.Promise.resolve(g).then(function(z){return s.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1)&&typeof FileReader<"u"?new c.Promise(function(j,B){var T=new FileReader;T.onload=function(Z){j(Z.target.result)},T.onerror=function(Z){B(Z.target.error)},T.readAsArrayBuffer(z)}):z}).then(function(z){var j=n.getTypeOf(z);return j?(j==="arraybuffer"?z=n.transformTo("uint8array",z):j==="string"&&(k?z=o.decode(z):y&&w!==!0&&(z=function(B){return m(B,s.uint8array?new Uint8Array(B.length):new Array(B.length))}(z))),z):c.Promise.reject(new Error("Can't read the data of '"+l+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,i,n){var s=r("./reader/readerFor"),o=r("./utils"),a=r("./signature"),c=r("./zipEntry"),u=r("./support");function m(_){this.files=[],this.loadOptions=_}m.prototype={checkSignature:function(_){if(!this.reader.readAndCheckSignature(_)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(v)+", expected "+o.pretty(_)+")")}},isSignature:function(_,v){var f=this.reader.index;this.reader.setIndex(_);var h=this.reader.readString(4)===v;return this.reader.setIndex(f),h},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var _=this.reader.readData(this.zipCommentLength),v=u.uint8array?"uint8array":"array",f=o.transformTo(v,_);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var _,v,f,h=this.zip64EndOfCentralSize-44;0<h;)_=this.reader.readInt(2),v=this.reader.readInt(4),f=this.reader.readData(v),this.zip64ExtensibleData[_]={id:_,length:v,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var _,v;for(_=0;_<this.files.length;_++)v=this.files[_],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var _;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(_=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(_);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var _=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(_<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(_);var v=_;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(_=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(_),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var h=v-f;if(0<h)this.isSignature(v,a.CENTRAL_FILE_HEADER)||(this.reader.zero=h);else if(h<0)throw new Error("Corrupted zip: missing "+Math.abs(h)+" bytes.")},prepareReader:function(_){this.reader=s(_)},load:function(_){this.prepareReader(_),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,i,n){var s=r("./reader/readerFor"),o=r("./utils"),a=r("./compressedObject"),c=r("./crc32"),u=r("./utf8"),m=r("./compressions"),_=r("./support");function v(f,h){this.options=f,this.loadOptions=h}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var h,l;if(f.skip(22),this.fileNameLength=f.readInt(2),l=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(l),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((h=function(g){for(var y in m)if(Object.prototype.hasOwnProperty.call(m,y)&&m[y].magic===g)return m[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,h,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var h=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(h),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var h,l,g,y=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<y;)h=f.readInt(2),l=f.readInt(2),g=f.readData(l),this.extraFields[h]={id:h,length:l,value:g};f.setIndex(y)},handleUTF8:function(){var f=_.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var h=this.findExtraFieldUnicodePath();if(h!==null)this.fileNameStr=h;else{var l=o.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(l)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var y=o.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var h=s(f.value);return h.readInt(1)!==1||c(this.fileName)!==h.readInt(4)?null:u.utf8decode(h.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var h=s(f.value);return h.readInt(1)!==1||c(this.fileComment)!==h.readInt(4)?null:u.utf8decode(h.readData(f.length-5))}return null}},i.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,i,n){function s(h,l,g){this.name=h,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=l,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var o=r("./stream/StreamHelper"),a=r("./stream/DataWorker"),c=r("./utf8"),u=r("./compressedObject"),m=r("./stream/GenericWorker");s.prototype={internalStream:function(h){var l=null,g="string";try{if(!h)throw new Error("No output type specified.");var y=(g=h.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),l=this._decompressWorker();var w=!this._dataBinary;w&&!y&&(l=l.pipe(new c.Utf8EncodeWorker)),!w&&y&&(l=l.pipe(new c.Utf8DecodeWorker))}catch(k){(l=new m("error")).error(k)}return new o(l,g,"")},async:function(h,l){return this.internalStream(h).accumulate(l)},nodeStream:function(h,l){return this.internalStream(h||"nodebuffer").toNodejsStream(l)},_compressWorker:function(h,l){if(this._data instanceof u&&this._data.compression.magic===h.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(g,h,l)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof m?this._data:new a(this._data)}};for(var _=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<_.length;f++)s.prototype[_[f]]=v;i.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,i,n){(function(s){var o,a,c=s.MutationObserver||s.WebKitMutationObserver;if(c){var u=0,m=new c(h),_=s.document.createTextNode("");m.observe(_,{characterData:!0}),o=function(){_.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var l=s.document.createElement("script");l.onreadystatechange=function(){h(),l.onreadystatechange=null,l.parentNode.removeChild(l),l=null},s.document.documentElement.appendChild(l)}:function(){setTimeout(h,0)};else{var v=new s.MessageChannel;v.port1.onmessage=h,o=function(){v.port2.postMessage(0)}}var f=[];function h(){var l,g;a=!0;for(var y=f.length;y;){for(g=f,f=[],l=-1;++l<y;)g[l]();y=f.length}a=!1}i.exports=function(l){f.push(l)!==1||a||o()}}).call(this,typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,i,n){var s=r("immediate");function o(){}var a={},c=["REJECTED"],u=["FULFILLED"],m=["PENDING"];function _(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,y!==o&&l(this,y)}function v(y,w,k){this.promise=y,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function f(y,w,k){s(function(){var z;try{z=w(k)}catch(j){return a.reject(y,j)}z===y?a.reject(y,new TypeError("Cannot resolve promise with itself")):a.resolve(y,z)})}function h(y){var w=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof w=="function")return function(){w.apply(y,arguments)}}function l(y,w){var k=!1;function z(T){k||(k=!0,a.reject(y,T))}function j(T){k||(k=!0,a.resolve(y,T))}var B=g(function(){w(j,z)});B.status==="error"&&z(B.value)}function g(y,w){var k={};try{k.value=y(w),k.status="success"}catch(z){k.status="error",k.value=z}return k}(i.exports=_).prototype.finally=function(y){if(typeof y!="function")return this;var w=this.constructor;return this.then(function(k){return w.resolve(y()).then(function(){return k})},function(k){return w.resolve(y()).then(function(){throw k})})},_.prototype.catch=function(y){return this.then(null,y)},_.prototype.then=function(y,w){if(typeof y!="function"&&this.state===u||typeof w!="function"&&this.state===c)return this;var k=new this.constructor(o);return this.state!==m?f(k,this.state===u?y:w,this.outcome):this.queue.push(new v(k,y,w)),k},v.prototype.callFulfilled=function(y){a.resolve(this.promise,y)},v.prototype.otherCallFulfilled=function(y){f(this.promise,this.onFulfilled,y)},v.prototype.callRejected=function(y){a.reject(this.promise,y)},v.prototype.otherCallRejected=function(y){f(this.promise,this.onRejected,y)},a.resolve=function(y,w){var k=g(h,w);if(k.status==="error")return a.reject(y,k.value);var z=k.value;if(z)l(y,z);else{y.state=u,y.outcome=w;for(var j=-1,B=y.queue.length;++j<B;)y.queue[j].callFulfilled(w)}return y},a.reject=function(y,w){y.state=c,y.outcome=w;for(var k=-1,z=y.queue.length;++k<z;)y.queue[k].callRejected(w);return y},_.resolve=function(y){return y instanceof this?y:a.resolve(new this(o),y)},_.reject=function(y){var w=new this(o);return a.reject(w,y)},_.all=function(y){var w=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=y.length,z=!1;if(!k)return this.resolve([]);for(var j=new Array(k),B=0,T=-1,Z=new this(o);++T<k;)N(y[T],T);return Z;function N(D,W){w.resolve(D).then(function(S){j[W]=S,++B!==k||z||(z=!0,a.resolve(Z,j))},function(S){z||(z=!0,a.reject(Z,S))})}},_.race=function(y){var w=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=y.length,z=!1;if(!k)return this.resolve([]);for(var j=-1,B=new this(o);++j<k;)T=y[j],w.resolve(T).then(function(Z){z||(z=!0,a.resolve(B,Z))},function(Z){z||(z=!0,a.reject(B,Z))});var T;return B}},{immediate:36}],38:[function(r,i,n){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),i.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,i,n){var s=r("./zlib/deflate"),o=r("./utils/common"),a=r("./utils/strings"),c=r("./zlib/messages"),u=r("./zlib/zstream"),m=Object.prototype.toString,_=0,v=-1,f=0,h=8;function l(y){if(!(this instanceof l))return new l(y);this.options=o.assign({level:v,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},y||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var k=s.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(k!==_)throw new Error(c[k]);if(w.header&&s.deflateSetHeader(this.strm,w.header),w.dictionary){var z;if(z=typeof w.dictionary=="string"?a.string2buf(w.dictionary):m.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(k=s.deflateSetDictionary(this.strm,z))!==_)throw new Error(c[k]);this._dict_set=!0}}function g(y,w){var k=new l(w);if(k.push(y,!0),k.err)throw k.msg||c[k.err];return k.result}l.prototype.push=function(y,w){var k,z,j=this.strm,B=this.options.chunkSize;if(this.ended)return!1;z=w===~~w?w:w===!0?4:0,typeof y=="string"?j.input=a.string2buf(y):m.call(y)==="[object ArrayBuffer]"?j.input=new Uint8Array(y):j.input=y,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new o.Buf8(B),j.next_out=0,j.avail_out=B),(k=s.deflate(j,z))!==1&&k!==_)return this.onEnd(k),!(this.ended=!0);j.avail_out!==0&&(j.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(j.output,j.next_out))):this.onData(o.shrinkBuf(j.output,j.next_out)))}while((0<j.avail_in||j.avail_out===0)&&k!==1);return z===4?(k=s.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===_):z!==2||(this.onEnd(_),!(j.avail_out=0))},l.prototype.onData=function(y){this.chunks.push(y)},l.prototype.onEnd=function(y){y===_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},n.Deflate=l,n.deflate=g,n.deflateRaw=function(y,w){return(w=w||{}).raw=!0,g(y,w)},n.gzip=function(y,w){return(w=w||{}).gzip=!0,g(y,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,i,n){var s=r("./zlib/inflate"),o=r("./utils/common"),a=r("./utils/strings"),c=r("./zlib/constants"),u=r("./zlib/messages"),m=r("./zlib/zstream"),_=r("./zlib/gzheader"),v=Object.prototype.toString;function f(l){if(!(this instanceof f))return new f(l);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},l||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||l&&l.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&!(15&g.windowBits)&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var y=s.inflateInit2(this.strm,g.windowBits);if(y!==c.Z_OK)throw new Error(u[y]);this.header=new _,s.inflateGetHeader(this.strm,this.header)}function h(l,g){var y=new f(g);if(y.push(l,!0),y.err)throw y.msg||u[y.err];return y.result}f.prototype.push=function(l,g){var y,w,k,z,j,B,T=this.strm,Z=this.options.chunkSize,N=this.options.dictionary,D=!1;if(this.ended)return!1;w=g===~~g?g:g===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof l=="string"?T.input=a.binstring2buf(l):v.call(l)==="[object ArrayBuffer]"?T.input=new Uint8Array(l):T.input=l,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new o.Buf8(Z),T.next_out=0,T.avail_out=Z),(y=s.inflate(T,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&N&&(B=typeof N=="string"?a.string2buf(N):v.call(N)==="[object ArrayBuffer]"?new Uint8Array(N):N,y=s.inflateSetDictionary(this.strm,B)),y===c.Z_BUF_ERROR&&D===!0&&(y=c.Z_OK,D=!1),y!==c.Z_STREAM_END&&y!==c.Z_OK)return this.onEnd(y),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&y!==c.Z_STREAM_END&&(T.avail_in!==0||w!==c.Z_FINISH&&w!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=a.utf8border(T.output,T.next_out),z=T.next_out-k,j=a.buf2string(T.output,k),T.next_out=z,T.avail_out=Z-z,z&&o.arraySet(T.output,T.output,k,z,0),this.onData(j)):this.onData(o.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&(D=!0)}while((0<T.avail_in||T.avail_out===0)&&y!==c.Z_STREAM_END);return y===c.Z_STREAM_END&&(w=c.Z_FINISH),w===c.Z_FINISH?(y=s.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===c.Z_OK):w!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(T.avail_out=0))},f.prototype.onData=function(l){this.chunks.push(l)},f.prototype.onEnd=function(l){l===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg},n.Inflate=f,n.inflate=h,n.inflateRaw=function(l,g){return(g=g||{}).raw=!0,h(l,g)},n.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,i,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var m=u.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var _ in m)m.hasOwnProperty(_)&&(c[_]=m[_])}}return c},n.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var o={arraySet:function(c,u,m,_,v){if(u.subarray&&c.subarray)c.set(u.subarray(m,m+_),v);else for(var f=0;f<_;f++)c[v+f]=u[m+f]},flattenChunks:function(c){var u,m,_,v,f,h;for(u=_=0,m=c.length;u<m;u++)_+=c[u].length;for(h=new Uint8Array(_),u=v=0,m=c.length;u<m;u++)f=c[u],h.set(f,v),v+=f.length;return h}},a={arraySet:function(c,u,m,_,v){for(var f=0;f<_;f++)c[v+f]=u[m+f]},flattenChunks:function(c){return[].concat.apply([],c)}};n.setTyped=function(c){c?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(s)},{}],42:[function(r,i,n){var s=r("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var c=new s.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function m(_,v){if(v<65537&&(_.subarray&&a||!_.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(_,v));for(var f="",h=0;h<v;h++)f+=String.fromCharCode(_[h]);return f}c[254]=c[254]=1,n.string2buf=function(_){var v,f,h,l,g,y=_.length,w=0;for(l=0;l<y;l++)(64512&(f=_.charCodeAt(l)))==55296&&l+1<y&&(64512&(h=_.charCodeAt(l+1)))==56320&&(f=65536+(f-55296<<10)+(h-56320),l++),w+=f<128?1:f<2048?2:f<65536?3:4;for(v=new s.Buf8(w),l=g=0;g<w;l++)(64512&(f=_.charCodeAt(l)))==55296&&l+1<y&&(64512&(h=_.charCodeAt(l+1)))==56320&&(f=65536+(f-55296<<10)+(h-56320),l++),f<128?v[g++]=f:(f<2048?v[g++]=192|f>>>6:(f<65536?v[g++]=224|f>>>12:(v[g++]=240|f>>>18,v[g++]=128|f>>>12&63),v[g++]=128|f>>>6&63),v[g++]=128|63&f);return v},n.buf2binstring=function(_){return m(_,_.length)},n.binstring2buf=function(_){for(var v=new s.Buf8(_.length),f=0,h=v.length;f<h;f++)v[f]=_.charCodeAt(f);return v},n.buf2string=function(_,v){var f,h,l,g,y=v||_.length,w=new Array(2*y);for(f=h=0;f<y;)if((l=_[f++])<128)w[h++]=l;else if(4<(g=c[l]))w[h++]=65533,f+=g-1;else{for(l&=g===2?31:g===3?15:7;1<g&&f<y;)l=l<<6|63&_[f++],g--;1<g?w[h++]=65533:l<65536?w[h++]=l:(l-=65536,w[h++]=55296|l>>10&1023,w[h++]=56320|1023&l)}return m(w,h)},n.utf8border=function(_,v){var f;for((v=v||_.length)>_.length&&(v=_.length),f=v-1;0<=f&&(192&_[f])==128;)f--;return f<0||f===0?v:f+c[_[f]]>v?f:v}},{"./common":41}],43:[function(r,i,n){i.exports=function(s,o,a,c){for(var u=65535&s|0,m=s>>>16&65535|0,_=0;a!==0;){for(a-=_=2e3<a?2e3:a;m=m+(u=u+o[c++]|0)|0,--_;);u%=65521,m%=65521}return u|m<<16|0}},{}],44:[function(r,i,n){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,i,n){var s=function(){for(var o,a=[],c=0;c<256;c++){o=c;for(var u=0;u<8;u++)o=1&o?3988292384^o>>>1:o>>>1;a[c]=o}return a}();i.exports=function(o,a,c,u){var m=s,_=u+c;o^=-1;for(var v=u;v<_;v++)o=o>>>8^m[255&(o^a[v])];return-1^o}},{}],46:[function(r,i,n){var s,o=r("../utils/common"),a=r("./trees"),c=r("./adler32"),u=r("./crc32"),m=r("./messages"),_=0,v=4,f=0,h=-2,l=-1,g=4,y=2,w=8,k=9,z=286,j=30,B=19,T=2*z+1,Z=15,N=3,D=258,W=D+N+1,S=42,U=113,p=1,F=2,C=3,b=4;function E(d,q){return d.msg=m[q],q}function R(d){return(d<<1)-(4<d?9:0)}function V(d){for(var q=d.length;0<=--q;)d[q]=0}function O(d){var q=d.state,$=q.pending;$>d.avail_out&&($=d.avail_out),$!==0&&(o.arraySet(d.output,q.pending_buf,q.pending_out,$,d.next_out),d.next_out+=$,q.pending_out+=$,d.total_out+=$,d.avail_out-=$,q.pending-=$,q.pending===0&&(q.pending_out=0))}function I(d,q){a._tr_flush_block(d,0<=d.block_start?d.block_start:-1,d.strstart-d.block_start,q),d.block_start=d.strstart,O(d.strm)}function it(d,q){d.pending_buf[d.pending++]=q}function tt(d,q){d.pending_buf[d.pending++]=q>>>8&255,d.pending_buf[d.pending++]=255&q}function K(d,q){var $,A,x=d.max_chain_length,L=d.strstart,X=d.prev_length,Q=d.nice_match,M=d.strstart>d.w_size-W?d.strstart-(d.w_size-W):0,et=d.window,at=d.w_mask,nt=d.prev,H=d.strstart+D,rt=et[L+X-1],ot=et[L+X];d.prev_length>=d.good_match&&(x>>=2),Q>d.lookahead&&(Q=d.lookahead);do if(et[($=q)+X]===ot&&et[$+X-1]===rt&&et[$]===et[L]&&et[++$]===et[L+1]){L+=2,$++;do;while(et[++L]===et[++$]&&et[++L]===et[++$]&&et[++L]===et[++$]&&et[++L]===et[++$]&&et[++L]===et[++$]&&et[++L]===et[++$]&&et[++L]===et[++$]&&et[++L]===et[++$]&&L<H);if(A=D-(H-L),L=H-D,X<A){if(d.match_start=q,Q<=(X=A))break;rt=et[L+X-1],ot=et[L+X]}}while((q=nt[q&at])>M&&--x!=0);return X<=d.lookahead?X:d.lookahead}function At(d){var q,$,A,x,L,X,Q,M,et,at,nt=d.w_size;do{if(x=d.window_size-d.lookahead-d.strstart,d.strstart>=nt+(nt-W)){for(o.arraySet(d.window,d.window,nt,nt,0),d.match_start-=nt,d.strstart-=nt,d.block_start-=nt,q=$=d.hash_size;A=d.head[--q],d.head[q]=nt<=A?A-nt:0,--$;);for(q=$=nt;A=d.prev[--q],d.prev[q]=nt<=A?A-nt:0,--$;);x+=nt}if(d.strm.avail_in===0)break;if(X=d.strm,Q=d.window,M=d.strstart+d.lookahead,et=x,at=void 0,at=X.avail_in,et<at&&(at=et),$=at===0?0:(X.avail_in-=at,o.arraySet(Q,X.input,X.next_in,at,M),X.state.wrap===1?X.adler=c(X.adler,Q,at,M):X.state.wrap===2&&(X.adler=u(X.adler,Q,at,M)),X.next_in+=at,X.total_in+=at,at),d.lookahead+=$,d.lookahead+d.insert>=N)for(L=d.strstart-d.insert,d.ins_h=d.window[L],d.ins_h=(d.ins_h<<d.hash_shift^d.window[L+1])&d.hash_mask;d.insert&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[L+N-1])&d.hash_mask,d.prev[L&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=L,L++,d.insert--,!(d.lookahead+d.insert<N)););}while(d.lookahead<W&&d.strm.avail_in!==0)}function Nt(d,q){for(var $,A;;){if(d.lookahead<W){if(At(d),d.lookahead<W&&q===_)return p;if(d.lookahead===0)break}if($=0,d.lookahead>=N&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+N-1])&d.hash_mask,$=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),$!==0&&d.strstart-$<=d.w_size-W&&(d.match_length=K(d,$)),d.match_length>=N)if(A=a._tr_tally(d,d.strstart-d.match_start,d.match_length-N),d.lookahead-=d.match_length,d.match_length<=d.max_lazy_match&&d.lookahead>=N){for(d.match_length--;d.strstart++,d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+N-1])&d.hash_mask,$=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart,--d.match_length!=0;);d.strstart++}else d.strstart+=d.match_length,d.match_length=0,d.ins_h=d.window[d.strstart],d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+1])&d.hash_mask;else A=a._tr_tally(d,0,d.window[d.strstart]),d.lookahead--,d.strstart++;if(A&&(I(d,!1),d.strm.avail_out===0))return p}return d.insert=d.strstart<N-1?d.strstart:N-1,q===v?(I(d,!0),d.strm.avail_out===0?C:b):d.last_lit&&(I(d,!1),d.strm.avail_out===0)?p:F}function vt(d,q){for(var $,A,x;;){if(d.lookahead<W){if(At(d),d.lookahead<W&&q===_)return p;if(d.lookahead===0)break}if($=0,d.lookahead>=N&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+N-1])&d.hash_mask,$=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),d.prev_length=d.match_length,d.prev_match=d.match_start,d.match_length=N-1,$!==0&&d.prev_length<d.max_lazy_match&&d.strstart-$<=d.w_size-W&&(d.match_length=K(d,$),d.match_length<=5&&(d.strategy===1||d.match_length===N&&4096<d.strstart-d.match_start)&&(d.match_length=N-1)),d.prev_length>=N&&d.match_length<=d.prev_length){for(x=d.strstart+d.lookahead-N,A=a._tr_tally(d,d.strstart-1-d.prev_match,d.prev_length-N),d.lookahead-=d.prev_length-1,d.prev_length-=2;++d.strstart<=x&&(d.ins_h=(d.ins_h<<d.hash_shift^d.window[d.strstart+N-1])&d.hash_mask,$=d.prev[d.strstart&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=d.strstart),--d.prev_length!=0;);if(d.match_available=0,d.match_length=N-1,d.strstart++,A&&(I(d,!1),d.strm.avail_out===0))return p}else if(d.match_available){if((A=a._tr_tally(d,0,d.window[d.strstart-1]))&&I(d,!1),d.strstart++,d.lookahead--,d.strm.avail_out===0)return p}else d.match_available=1,d.strstart++,d.lookahead--}return d.match_available&&(A=a._tr_tally(d,0,d.window[d.strstart-1]),d.match_available=0),d.insert=d.strstart<N-1?d.strstart:N-1,q===v?(I(d,!0),d.strm.avail_out===0?C:b):d.last_lit&&(I(d,!1),d.strm.avail_out===0)?p:F}function dt(d,q,$,A,x){this.good_length=d,this.max_lazy=q,this.nice_length=$,this.max_chain=A,this.func=x}function ct(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*T),this.dyn_dtree=new o.Buf16(2*(2*j+1)),this.bl_tree=new o.Buf16(2*(2*B+1)),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(Z+1),this.heap=new o.Buf16(2*z+1),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*z+1),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function yt(d){var q;return d&&d.state?(d.total_in=d.total_out=0,d.data_type=y,(q=d.state).pending=0,q.pending_out=0,q.wrap<0&&(q.wrap=-q.wrap),q.status=q.wrap?S:U,d.adler=q.wrap===2?0:1,q.last_flush=_,a._tr_init(q),f):E(d,h)}function xt(d){var q=yt(d);return q===f&&function($){$.window_size=2*$.w_size,V($.head),$.max_lazy_match=s[$.level].max_lazy,$.good_match=s[$.level].good_length,$.nice_match=s[$.level].nice_length,$.max_chain_length=s[$.level].max_chain,$.strstart=0,$.block_start=0,$.lookahead=0,$.insert=0,$.match_length=$.prev_length=N-1,$.match_available=0,$.ins_h=0}(d.state),q}function Pt(d,q,$,A,x,L){if(!d)return h;var X=1;if(q===l&&(q=6),A<0?(X=0,A=-A):15<A&&(X=2,A-=16),x<1||k<x||$!==w||A<8||15<A||q<0||9<q||L<0||g<L)return E(d,h);A===8&&(A=9);var Q=new ct;return(d.state=Q).strm=d,Q.wrap=X,Q.gzhead=null,Q.w_bits=A,Q.w_size=1<<Q.w_bits,Q.w_mask=Q.w_size-1,Q.hash_bits=x+7,Q.hash_size=1<<Q.hash_bits,Q.hash_mask=Q.hash_size-1,Q.hash_shift=~~((Q.hash_bits+N-1)/N),Q.window=new o.Buf8(2*Q.w_size),Q.head=new o.Buf16(Q.hash_size),Q.prev=new o.Buf16(Q.w_size),Q.lit_bufsize=1<<x+6,Q.pending_buf_size=4*Q.lit_bufsize,Q.pending_buf=new o.Buf8(Q.pending_buf_size),Q.d_buf=1*Q.lit_bufsize,Q.l_buf=3*Q.lit_bufsize,Q.level=q,Q.strategy=L,Q.method=$,xt(d)}s=[new dt(0,0,0,0,function(d,q){var $=65535;for($>d.pending_buf_size-5&&($=d.pending_buf_size-5);;){if(d.lookahead<=1){if(At(d),d.lookahead===0&&q===_)return p;if(d.lookahead===0)break}d.strstart+=d.lookahead,d.lookahead=0;var A=d.block_start+$;if((d.strstart===0||d.strstart>=A)&&(d.lookahead=d.strstart-A,d.strstart=A,I(d,!1),d.strm.avail_out===0)||d.strstart-d.block_start>=d.w_size-W&&(I(d,!1),d.strm.avail_out===0))return p}return d.insert=0,q===v?(I(d,!0),d.strm.avail_out===0?C:b):(d.strstart>d.block_start&&(I(d,!1),d.strm.avail_out),p)}),new dt(4,4,8,4,Nt),new dt(4,5,16,8,Nt),new dt(4,6,32,32,Nt),new dt(4,4,16,16,vt),new dt(8,16,32,32,vt),new dt(8,16,128,128,vt),new dt(8,32,128,256,vt),new dt(32,128,258,1024,vt),new dt(32,258,258,4096,vt)],n.deflateInit=function(d,q){return Pt(d,q,w,15,8,0)},n.deflateInit2=Pt,n.deflateReset=xt,n.deflateResetKeep=yt,n.deflateSetHeader=function(d,q){return d&&d.state?d.state.wrap!==2?h:(d.state.gzhead=q,f):h},n.deflate=function(d,q){var $,A,x,L;if(!d||!d.state||5<q||q<0)return d?E(d,h):h;if(A=d.state,!d.output||!d.input&&d.avail_in!==0||A.status===666&&q!==v)return E(d,d.avail_out===0?-5:h);if(A.strm=d,$=A.last_flush,A.last_flush=q,A.status===S)if(A.wrap===2)d.adler=0,it(A,31),it(A,139),it(A,8),A.gzhead?(it(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),it(A,255&A.gzhead.time),it(A,A.gzhead.time>>8&255),it(A,A.gzhead.time>>16&255),it(A,A.gzhead.time>>24&255),it(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),it(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(it(A,255&A.gzhead.extra.length),it(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(d.adler=u(d.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(it(A,0),it(A,0),it(A,0),it(A,0),it(A,0),it(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),it(A,3),A.status=U);else{var X=w+(A.w_bits-8<<4)<<8;X|=(2<=A.strategy||A.level<2?0:A.level<6?1:A.level===6?2:3)<<6,A.strstart!==0&&(X|=32),X+=31-X%31,A.status=U,tt(A,X),A.strstart!==0&&(tt(A,d.adler>>>16),tt(A,65535&d.adler)),d.adler=1}if(A.status===69)if(A.gzhead.extra){for(x=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>x&&(d.adler=u(d.adler,A.pending_buf,A.pending-x,x)),O(d),x=A.pending,A.pending!==A.pending_buf_size));)it(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>x&&(d.adler=u(d.adler,A.pending_buf,A.pending-x,x)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(A.status===73)if(A.gzhead.name){x=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>x&&(d.adler=u(d.adler,A.pending_buf,A.pending-x,x)),O(d),x=A.pending,A.pending===A.pending_buf_size)){L=1;break}L=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,it(A,L)}while(L!==0);A.gzhead.hcrc&&A.pending>x&&(d.adler=u(d.adler,A.pending_buf,A.pending-x,x)),L===0&&(A.gzindex=0,A.status=91)}else A.status=91;if(A.status===91)if(A.gzhead.comment){x=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>x&&(d.adler=u(d.adler,A.pending_buf,A.pending-x,x)),O(d),x=A.pending,A.pending===A.pending_buf_size)){L=1;break}L=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,it(A,L)}while(L!==0);A.gzhead.hcrc&&A.pending>x&&(d.adler=u(d.adler,A.pending_buf,A.pending-x,x)),L===0&&(A.status=103)}else A.status=103;if(A.status===103&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&O(d),A.pending+2<=A.pending_buf_size&&(it(A,255&d.adler),it(A,d.adler>>8&255),d.adler=0,A.status=U)):A.status=U),A.pending!==0){if(O(d),d.avail_out===0)return A.last_flush=-1,f}else if(d.avail_in===0&&R(q)<=R($)&&q!==v)return E(d,-5);if(A.status===666&&d.avail_in!==0)return E(d,-5);if(d.avail_in!==0||A.lookahead!==0||q!==_&&A.status!==666){var Q=A.strategy===2?function(M,et){for(var at;;){if(M.lookahead===0&&(At(M),M.lookahead===0)){if(et===_)return p;break}if(M.match_length=0,at=a._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++,at&&(I(M,!1),M.strm.avail_out===0))return p}return M.insert=0,et===v?(I(M,!0),M.strm.avail_out===0?C:b):M.last_lit&&(I(M,!1),M.strm.avail_out===0)?p:F}(A,q):A.strategy===3?function(M,et){for(var at,nt,H,rt,ot=M.window;;){if(M.lookahead<=D){if(At(M),M.lookahead<=D&&et===_)return p;if(M.lookahead===0)break}if(M.match_length=0,M.lookahead>=N&&0<M.strstart&&(nt=ot[H=M.strstart-1])===ot[++H]&&nt===ot[++H]&&nt===ot[++H]){rt=M.strstart+D;do;while(nt===ot[++H]&&nt===ot[++H]&&nt===ot[++H]&&nt===ot[++H]&&nt===ot[++H]&&nt===ot[++H]&&nt===ot[++H]&&nt===ot[++H]&&H<rt);M.match_length=D-(rt-H),M.match_length>M.lookahead&&(M.match_length=M.lookahead)}if(M.match_length>=N?(at=a._tr_tally(M,1,M.match_length-N),M.lookahead-=M.match_length,M.strstart+=M.match_length,M.match_length=0):(at=a._tr_tally(M,0,M.window[M.strstart]),M.lookahead--,M.strstart++),at&&(I(M,!1),M.strm.avail_out===0))return p}return M.insert=0,et===v?(I(M,!0),M.strm.avail_out===0?C:b):M.last_lit&&(I(M,!1),M.strm.avail_out===0)?p:F}(A,q):s[A.level].func(A,q);if(Q!==C&&Q!==b||(A.status=666),Q===p||Q===C)return d.avail_out===0&&(A.last_flush=-1),f;if(Q===F&&(q===1?a._tr_align(A):q!==5&&(a._tr_stored_block(A,0,0,!1),q===3&&(V(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),O(d),d.avail_out===0))return A.last_flush=-1,f}return q!==v?f:A.wrap<=0?1:(A.wrap===2?(it(A,255&d.adler),it(A,d.adler>>8&255),it(A,d.adler>>16&255),it(A,d.adler>>24&255),it(A,255&d.total_in),it(A,d.total_in>>8&255),it(A,d.total_in>>16&255),it(A,d.total_in>>24&255)):(tt(A,d.adler>>>16),tt(A,65535&d.adler)),O(d),0<A.wrap&&(A.wrap=-A.wrap),A.pending!==0?f:1)},n.deflateEnd=function(d){var q;return d&&d.state?(q=d.state.status)!==S&&q!==69&&q!==73&&q!==91&&q!==103&&q!==U&&q!==666?E(d,h):(d.state=null,q===U?E(d,-3):f):h},n.deflateSetDictionary=function(d,q){var $,A,x,L,X,Q,M,et,at=q.length;if(!d||!d.state||(L=($=d.state).wrap)===2||L===1&&$.status!==S||$.lookahead)return h;for(L===1&&(d.adler=c(d.adler,q,at,0)),$.wrap=0,at>=$.w_size&&(L===0&&(V($.head),$.strstart=0,$.block_start=0,$.insert=0),et=new o.Buf8($.w_size),o.arraySet(et,q,at-$.w_size,$.w_size,0),q=et,at=$.w_size),X=d.avail_in,Q=d.next_in,M=d.input,d.avail_in=at,d.next_in=0,d.input=q,At($);$.lookahead>=N;){for(A=$.strstart,x=$.lookahead-(N-1);$.ins_h=($.ins_h<<$.hash_shift^$.window[A+N-1])&$.hash_mask,$.prev[A&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=A,A++,--x;);$.strstart=A,$.lookahead=N-1,At($)}return $.strstart+=$.lookahead,$.block_start=$.strstart,$.insert=$.lookahead,$.lookahead=0,$.match_length=$.prev_length=N-1,$.match_available=0,d.next_in=Q,d.input=M,d.avail_in=X,$.wrap=L,f},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,i,n){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,i,n){i.exports=function(s,o){var a,c,u,m,_,v,f,h,l,g,y,w,k,z,j,B,T,Z,N,D,W,S,U,p,F;a=s.state,c=s.next_in,p=s.input,u=c+(s.avail_in-5),m=s.next_out,F=s.output,_=m-(o-s.avail_out),v=m+(s.avail_out-257),f=a.dmax,h=a.wsize,l=a.whave,g=a.wnext,y=a.window,w=a.hold,k=a.bits,z=a.lencode,j=a.distcode,B=(1<<a.lenbits)-1,T=(1<<a.distbits)-1;t:do{k<15&&(w+=p[c++]<<k,k+=8,w+=p[c++]<<k,k+=8),Z=z[w&B];e:for(;;){if(w>>>=N=Z>>>24,k-=N,(N=Z>>>16&255)===0)F[m++]=65535&Z;else{if(!(16&N)){if(!(64&N)){Z=z[(65535&Z)+(w&(1<<N)-1)];continue e}if(32&N){a.mode=12;break t}s.msg="invalid literal/length code",a.mode=30;break t}D=65535&Z,(N&=15)&&(k<N&&(w+=p[c++]<<k,k+=8),D+=w&(1<<N)-1,w>>>=N,k-=N),k<15&&(w+=p[c++]<<k,k+=8,w+=p[c++]<<k,k+=8),Z=j[w&T];r:for(;;){if(w>>>=N=Z>>>24,k-=N,!(16&(N=Z>>>16&255))){if(!(64&N)){Z=j[(65535&Z)+(w&(1<<N)-1)];continue r}s.msg="invalid distance code",a.mode=30;break t}if(W=65535&Z,k<(N&=15)&&(w+=p[c++]<<k,(k+=8)<N&&(w+=p[c++]<<k,k+=8)),f<(W+=w&(1<<N)-1)){s.msg="invalid distance too far back",a.mode=30;break t}if(w>>>=N,k-=N,(N=m-_)<W){if(l<(N=W-N)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break t}if(U=y,(S=0)===g){if(S+=h-N,N<D){for(D-=N;F[m++]=y[S++],--N;);S=m-W,U=F}}else if(g<N){if(S+=h+g-N,(N-=g)<D){for(D-=N;F[m++]=y[S++],--N;);if(S=0,g<D){for(D-=N=g;F[m++]=y[S++],--N;);S=m-W,U=F}}}else if(S+=g-N,N<D){for(D-=N;F[m++]=y[S++],--N;);S=m-W,U=F}for(;2<D;)F[m++]=U[S++],F[m++]=U[S++],F[m++]=U[S++],D-=3;D&&(F[m++]=U[S++],1<D&&(F[m++]=U[S++]))}else{for(S=m-W;F[m++]=F[S++],F[m++]=F[S++],F[m++]=F[S++],2<(D-=3););D&&(F[m++]=F[S++],1<D&&(F[m++]=F[S++]))}break}}break}}while(c<u&&m<v);c-=D=k>>3,w&=(1<<(k-=D<<3))-1,s.next_in=c,s.next_out=m,s.avail_in=c<u?u-c+5:5-(c-u),s.avail_out=m<v?v-m+257:257-(m-v),a.hold=w,a.bits=k}},{}],49:[function(r,i,n){var s=r("../utils/common"),o=r("./adler32"),a=r("./crc32"),c=r("./inffast"),u=r("./inftrees"),m=1,_=2,v=0,f=-2,h=1,l=852,g=592;function y(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(S){var U;return S&&S.state?(U=S.state,S.total_in=S.total_out=U.total=0,S.msg="",U.wrap&&(S.adler=1&U.wrap),U.mode=h,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new s.Buf32(l),U.distcode=U.distdyn=new s.Buf32(g),U.sane=1,U.back=-1,v):f}function z(S){var U;return S&&S.state?((U=S.state).wsize=0,U.whave=0,U.wnext=0,k(S)):f}function j(S,U){var p,F;return S&&S.state?(F=S.state,U<0?(p=0,U=-U):(p=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?f:(F.window!==null&&F.wbits!==U&&(F.window=null),F.wrap=p,F.wbits=U,z(S))):f}function B(S,U){var p,F;return S?(F=new w,(S.state=F).window=null,(p=j(S,U))!==v&&(S.state=null),p):f}var T,Z,N=!0;function D(S){if(N){var U;for(T=new s.Buf32(512),Z=new s.Buf32(32),U=0;U<144;)S.lens[U++]=8;for(;U<256;)S.lens[U++]=9;for(;U<280;)S.lens[U++]=7;for(;U<288;)S.lens[U++]=8;for(u(m,S.lens,0,288,T,0,S.work,{bits:9}),U=0;U<32;)S.lens[U++]=5;u(_,S.lens,0,32,Z,0,S.work,{bits:5}),N=!1}S.lencode=T,S.lenbits=9,S.distcode=Z,S.distbits=5}function W(S,U,p,F){var C,b=S.state;return b.window===null&&(b.wsize=1<<b.wbits,b.wnext=0,b.whave=0,b.window=new s.Buf8(b.wsize)),F>=b.wsize?(s.arraySet(b.window,U,p-b.wsize,b.wsize,0),b.wnext=0,b.whave=b.wsize):(F<(C=b.wsize-b.wnext)&&(C=F),s.arraySet(b.window,U,p-F,C,b.wnext),(F-=C)?(s.arraySet(b.window,U,p-F,F,0),b.wnext=F,b.whave=b.wsize):(b.wnext+=C,b.wnext===b.wsize&&(b.wnext=0),b.whave<b.wsize&&(b.whave+=C))),0}n.inflateReset=z,n.inflateReset2=j,n.inflateResetKeep=k,n.inflateInit=function(S){return B(S,15)},n.inflateInit2=B,n.inflate=function(S,U){var p,F,C,b,E,R,V,O,I,it,tt,K,At,Nt,vt,dt,ct,yt,xt,Pt,d,q,$,A,x=0,L=new s.Buf8(4),X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return f;(p=S.state).mode===12&&(p.mode=13),E=S.next_out,C=S.output,V=S.avail_out,b=S.next_in,F=S.input,R=S.avail_in,O=p.hold,I=p.bits,it=R,tt=V,q=v;t:for(;;)switch(p.mode){case h:if(p.wrap===0){p.mode=13;break}for(;I<16;){if(R===0)break t;R--,O+=F[b++]<<I,I+=8}if(2&p.wrap&&O===35615){L[p.check=0]=255&O,L[1]=O>>>8&255,p.check=a(p.check,L,2,0),I=O=0,p.mode=2;break}if(p.flags=0,p.head&&(p.head.done=!1),!(1&p.wrap)||(((255&O)<<8)+(O>>8))%31){S.msg="incorrect header check",p.mode=30;break}if((15&O)!=8){S.msg="unknown compression method",p.mode=30;break}if(I-=4,d=8+(15&(O>>>=4)),p.wbits===0)p.wbits=d;else if(d>p.wbits){S.msg="invalid window size",p.mode=30;break}p.dmax=1<<d,S.adler=p.check=1,p.mode=512&O?10:12,I=O=0;break;case 2:for(;I<16;){if(R===0)break t;R--,O+=F[b++]<<I,I+=8}if(p.flags=O,(255&p.flags)!=8){S.msg="unknown compression method",p.mode=30;break}if(57344&p.flags){S.msg="unknown header flags set",p.mode=30;break}p.head&&(p.head.text=O>>8&1),512&p.flags&&(L[0]=255&O,L[1]=O>>>8&255,p.check=a(p.check,L,2,0)),I=O=0,p.mode=3;case 3:for(;I<32;){if(R===0)break t;R--,O+=F[b++]<<I,I+=8}p.head&&(p.head.time=O),512&p.flags&&(L[0]=255&O,L[1]=O>>>8&255,L[2]=O>>>16&255,L[3]=O>>>24&255,p.check=a(p.check,L,4,0)),I=O=0,p.mode=4;case 4:for(;I<16;){if(R===0)break t;R--,O+=F[b++]<<I,I+=8}p.head&&(p.head.xflags=255&O,p.head.os=O>>8),512&p.flags&&(L[0]=255&O,L[1]=O>>>8&255,p.check=a(p.check,L,2,0)),I=O=0,p.mode=5;case 5:if(1024&p.flags){for(;I<16;){if(R===0)break t;R--,O+=F[b++]<<I,I+=8}p.length=O,p.head&&(p.head.extra_len=O),512&p.flags&&(L[0]=255&O,L[1]=O>>>8&255,p.check=a(p.check,L,2,0)),I=O=0}else p.head&&(p.head.extra=null);p.mode=6;case 6:if(1024&p.flags&&(R<(K=p.length)&&(K=R),K&&(p.head&&(d=p.head.extra_len-p.length,p.head.extra||(p.head.extra=new Array(p.head.extra_len)),s.arraySet(p.head.extra,F,b,K,d)),512&p.flags&&(p.check=a(p.check,F,K,b)),R-=K,b+=K,p.length-=K),p.length))break t;p.length=0,p.mode=7;case 7:if(2048&p.flags){if(R===0)break t;for(K=0;d=F[b+K++],p.head&&d&&p.length<65536&&(p.head.name+=String.fromCharCode(d)),d&&K<R;);if(512&p.flags&&(p.check=a(p.check,F,K,b)),R-=K,b+=K,d)break t}else p.head&&(p.head.name=null);p.length=0,p.mode=8;case 8:if(4096&p.flags){if(R===0)break t;for(K=0;d=F[b+K++],p.head&&d&&p.length<65536&&(p.head.comment+=String.fromCharCode(d)),d&&K<R;);if(512&p.flags&&(p.check=a(p.check,F,K,b)),R-=K,b+=K,d)break t}else p.head&&(p.head.comment=null);p.mode=9;case 9:if(512&p.flags){for(;I<16;){if(R===0)break t;R--,O+=F[b++]<<I,I+=8}if(O!==(65535&p.check)){S.msg="header crc mismatch",p.mode=30;break}I=O=0}p.head&&(p.head.hcrc=p.flags>>9&1,p.head.done=!0),S.adler=p.check=0,p.mode=12;break;case 10:for(;I<32;){if(R===0)break t;R--,O+=F[b++]<<I,I+=8}S.adler=p.check=y(O),I=O=0,p.mode=11;case 11:if(p.havedict===0)return S.next_out=E,S.avail_out=V,S.next_in=b,S.avail_in=R,p.hold=O,p.bits=I,2;S.adler=p.check=1,p.mode=12;case 12:if(U===5||U===6)break t;case 13:if(p.last){O>>>=7&I,I-=7&I,p.mode=27;break}for(;I<3;){if(R===0)break t;R--,O+=F[b++]<<I,I+=8}switch(p.last=1&O,I-=1,3&(O>>>=1)){case 0:p.mode=14;break;case 1:if(D(p),p.mode=20,U!==6)break;O>>>=2,I-=2;break t;case 2:p.mode=17;break;case 3:S.msg="invalid block type",p.mode=30}O>>>=2,I-=2;break;case 14:for(O>>>=7&I,I-=7&I;I<32;){if(R===0)break t;R--,O+=F[b++]<<I,I+=8}if((65535&O)!=(O>>>16^65535)){S.msg="invalid stored block lengths",p.mode=30;break}if(p.length=65535&O,I=O=0,p.mode=15,U===6)break t;case 15:p.mode=16;case 16:if(K=p.length){if(R<K&&(K=R),V<K&&(K=V),K===0)break t;s.arraySet(C,F,b,K,E),R-=K,b+=K,V-=K,E+=K,p.length-=K;break}p.mode=12;break;case 17:for(;I<14;){if(R===0)break t;R--,O+=F[b++]<<I,I+=8}if(p.nlen=257+(31&O),O>>>=5,I-=5,p.ndist=1+(31&O),O>>>=5,I-=5,p.ncode=4+(15&O),O>>>=4,I-=4,286<p.nlen||30<p.ndist){S.msg="too many length or distance symbols",p.mode=30;break}p.have=0,p.mode=18;case 18:for(;p.have<p.ncode;){for(;I<3;){if(R===0)break t;R--,O+=F[b++]<<I,I+=8}p.lens[X[p.have++]]=7&O,O>>>=3,I-=3}for(;p.have<19;)p.lens[X[p.have++]]=0;if(p.lencode=p.lendyn,p.lenbits=7,$={bits:p.lenbits},q=u(0,p.lens,0,19,p.lencode,0,p.work,$),p.lenbits=$.bits,q){S.msg="invalid code lengths set",p.mode=30;break}p.have=0,p.mode=19;case 19:for(;p.have<p.nlen+p.ndist;){for(;dt=(x=p.lencode[O&(1<<p.lenbits)-1])>>>16&255,ct=65535&x,!((vt=x>>>24)<=I);){if(R===0)break t;R--,O+=F[b++]<<I,I+=8}if(ct<16)O>>>=vt,I-=vt,p.lens[p.have++]=ct;else{if(ct===16){for(A=vt+2;I<A;){if(R===0)break t;R--,O+=F[b++]<<I,I+=8}if(O>>>=vt,I-=vt,p.have===0){S.msg="invalid bit length repeat",p.mode=30;break}d=p.lens[p.have-1],K=3+(3&O),O>>>=2,I-=2}else if(ct===17){for(A=vt+3;I<A;){if(R===0)break t;R--,O+=F[b++]<<I,I+=8}I-=vt,d=0,K=3+(7&(O>>>=vt)),O>>>=3,I-=3}else{for(A=vt+7;I<A;){if(R===0)break t;R--,O+=F[b++]<<I,I+=8}I-=vt,d=0,K=11+(127&(O>>>=vt)),O>>>=7,I-=7}if(p.have+K>p.nlen+p.ndist){S.msg="invalid bit length repeat",p.mode=30;break}for(;K--;)p.lens[p.have++]=d}}if(p.mode===30)break;if(p.lens[256]===0){S.msg="invalid code -- missing end-of-block",p.mode=30;break}if(p.lenbits=9,$={bits:p.lenbits},q=u(m,p.lens,0,p.nlen,p.lencode,0,p.work,$),p.lenbits=$.bits,q){S.msg="invalid literal/lengths set",p.mode=30;break}if(p.distbits=6,p.distcode=p.distdyn,$={bits:p.distbits},q=u(_,p.lens,p.nlen,p.ndist,p.distcode,0,p.work,$),p.distbits=$.bits,q){S.msg="invalid distances set",p.mode=30;break}if(p.mode=20,U===6)break t;case 20:p.mode=21;case 21:if(6<=R&&258<=V){S.next_out=E,S.avail_out=V,S.next_in=b,S.avail_in=R,p.hold=O,p.bits=I,c(S,tt),E=S.next_out,C=S.output,V=S.avail_out,b=S.next_in,F=S.input,R=S.avail_in,O=p.hold,I=p.bits,p.mode===12&&(p.back=-1);break}for(p.back=0;dt=(x=p.lencode[O&(1<<p.lenbits)-1])>>>16&255,ct=65535&x,!((vt=x>>>24)<=I);){if(R===0)break t;R--,O+=F[b++]<<I,I+=8}if(dt&&!(240&dt)){for(yt=vt,xt=dt,Pt=ct;dt=(x=p.lencode[Pt+((O&(1<<yt+xt)-1)>>yt)])>>>16&255,ct=65535&x,!(yt+(vt=x>>>24)<=I);){if(R===0)break t;R--,O+=F[b++]<<I,I+=8}O>>>=yt,I-=yt,p.back+=yt}if(O>>>=vt,I-=vt,p.back+=vt,p.length=ct,dt===0){p.mode=26;break}if(32&dt){p.back=-1,p.mode=12;break}if(64&dt){S.msg="invalid literal/length code",p.mode=30;break}p.extra=15&dt,p.mode=22;case 22:if(p.extra){for(A=p.extra;I<A;){if(R===0)break t;R--,O+=F[b++]<<I,I+=8}p.length+=O&(1<<p.extra)-1,O>>>=p.extra,I-=p.extra,p.back+=p.extra}p.was=p.length,p.mode=23;case 23:for(;dt=(x=p.distcode[O&(1<<p.distbits)-1])>>>16&255,ct=65535&x,!((vt=x>>>24)<=I);){if(R===0)break t;R--,O+=F[b++]<<I,I+=8}if(!(240&dt)){for(yt=vt,xt=dt,Pt=ct;dt=(x=p.distcode[Pt+((O&(1<<yt+xt)-1)>>yt)])>>>16&255,ct=65535&x,!(yt+(vt=x>>>24)<=I);){if(R===0)break t;R--,O+=F[b++]<<I,I+=8}O>>>=yt,I-=yt,p.back+=yt}if(O>>>=vt,I-=vt,p.back+=vt,64&dt){S.msg="invalid distance code",p.mode=30;break}p.offset=ct,p.extra=15&dt,p.mode=24;case 24:if(p.extra){for(A=p.extra;I<A;){if(R===0)break t;R--,O+=F[b++]<<I,I+=8}p.offset+=O&(1<<p.extra)-1,O>>>=p.extra,I-=p.extra,p.back+=p.extra}if(p.offset>p.dmax){S.msg="invalid distance too far back",p.mode=30;break}p.mode=25;case 25:if(V===0)break t;if(K=tt-V,p.offset>K){if((K=p.offset-K)>p.whave&&p.sane){S.msg="invalid distance too far back",p.mode=30;break}At=K>p.wnext?(K-=p.wnext,p.wsize-K):p.wnext-K,K>p.length&&(K=p.length),Nt=p.window}else Nt=C,At=E-p.offset,K=p.length;for(V<K&&(K=V),V-=K,p.length-=K;C[E++]=Nt[At++],--K;);p.length===0&&(p.mode=21);break;case 26:if(V===0)break t;C[E++]=p.length,V--,p.mode=21;break;case 27:if(p.wrap){for(;I<32;){if(R===0)break t;R--,O|=F[b++]<<I,I+=8}if(tt-=V,S.total_out+=tt,p.total+=tt,tt&&(S.adler=p.check=p.flags?a(p.check,C,tt,E-tt):o(p.check,C,tt,E-tt)),tt=V,(p.flags?O:y(O))!==p.check){S.msg="incorrect data check",p.mode=30;break}I=O=0}p.mode=28;case 28:if(p.wrap&&p.flags){for(;I<32;){if(R===0)break t;R--,O+=F[b++]<<I,I+=8}if(O!==(4294967295&p.total)){S.msg="incorrect length check",p.mode=30;break}I=O=0}p.mode=29;case 29:q=1;break t;case 30:q=-3;break t;case 31:return-4;case 32:default:return f}return S.next_out=E,S.avail_out=V,S.next_in=b,S.avail_in=R,p.hold=O,p.bits=I,(p.wsize||tt!==S.avail_out&&p.mode<30&&(p.mode<27||U!==4))&&W(S,S.output,S.next_out,tt-S.avail_out)?(p.mode=31,-4):(it-=S.avail_in,tt-=S.avail_out,S.total_in+=it,S.total_out+=tt,p.total+=tt,p.wrap&&tt&&(S.adler=p.check=p.flags?a(p.check,C,tt,S.next_out-tt):o(p.check,C,tt,S.next_out-tt)),S.data_type=p.bits+(p.last?64:0)+(p.mode===12?128:0)+(p.mode===20||p.mode===15?256:0),(it==0&&tt===0||U===4)&&q===v&&(q=-5),q)},n.inflateEnd=function(S){if(!S||!S.state)return f;var U=S.state;return U.window&&(U.window=null),S.state=null,v},n.inflateGetHeader=function(S,U){var p;return S&&S.state&&2&(p=S.state).wrap?((p.head=U).done=!1,v):f},n.inflateSetDictionary=function(S,U){var p,F=U.length;return S&&S.state?(p=S.state).wrap!==0&&p.mode!==11?f:p.mode===11&&o(1,U,F,0)!==p.check?-3:W(S,U,F,F)?(p.mode=31,-4):(p.havedict=1,v):f},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,i,n){var s=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(m,_,v,f,h,l,g,y){var w,k,z,j,B,T,Z,N,D,W=y.bits,S=0,U=0,p=0,F=0,C=0,b=0,E=0,R=0,V=0,O=0,I=null,it=0,tt=new s.Buf16(16),K=new s.Buf16(16),At=null,Nt=0;for(S=0;S<=15;S++)tt[S]=0;for(U=0;U<f;U++)tt[_[v+U]]++;for(C=W,F=15;1<=F&&tt[F]===0;F--);if(F<C&&(C=F),F===0)return h[l++]=20971520,h[l++]=20971520,y.bits=1,0;for(p=1;p<F&&tt[p]===0;p++);for(C<p&&(C=p),S=R=1;S<=15;S++)if(R<<=1,(R-=tt[S])<0)return-1;if(0<R&&(m===0||F!==1))return-1;for(K[1]=0,S=1;S<15;S++)K[S+1]=K[S]+tt[S];for(U=0;U<f;U++)_[v+U]!==0&&(g[K[_[v+U]]++]=U);if(T=m===0?(I=At=g,19):m===1?(I=o,it-=257,At=a,Nt-=257,256):(I=c,At=u,-1),S=p,B=l,E=U=O=0,z=-1,j=(V=1<<(b=C))-1,m===1&&852<V||m===2&&592<V)return 1;for(;;){for(Z=S-E,D=g[U]<T?(N=0,g[U]):g[U]>T?(N=At[Nt+g[U]],I[it+g[U]]):(N=96,0),w=1<<S-E,p=k=1<<b;h[B+(O>>E)+(k-=w)]=Z<<24|N<<16|D|0,k!==0;);for(w=1<<S-1;O&w;)w>>=1;if(w!==0?(O&=w-1,O+=w):O=0,U++,--tt[S]==0){if(S===F)break;S=_[v+g[U]]}if(C<S&&(O&j)!==z){for(E===0&&(E=C),B+=p,R=1<<(b=S-E);b+E<F&&!((R-=tt[b+E])<=0);)b++,R<<=1;if(V+=1<<b,m===1&&852<V||m===2&&592<V)return 1;h[z=O&j]=C<<24|b<<16|B-l|0}}return O!==0&&(h[B+O]=S-E<<24|64<<16|0),y.bits=C,0}},{"../utils/common":41}],51:[function(r,i,n){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,i,n){var s=r("../utils/common"),o=0,a=1;function c(x){for(var L=x.length;0<=--L;)x[L]=0}var u=0,m=29,_=256,v=_+1+m,f=30,h=19,l=2*v+1,g=15,y=16,w=7,k=256,z=16,j=17,B=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],N=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],W=new Array(2*(v+2));c(W);var S=new Array(2*f);c(S);var U=new Array(512);c(U);var p=new Array(256);c(p);var F=new Array(m);c(F);var C,b,E,R=new Array(f);function V(x,L,X,Q,M){this.static_tree=x,this.extra_bits=L,this.extra_base=X,this.elems=Q,this.max_length=M,this.has_stree=x&&x.length}function O(x,L){this.dyn_tree=x,this.max_code=0,this.stat_desc=L}function I(x){return x<256?U[x]:U[256+(x>>>7)]}function it(x,L){x.pending_buf[x.pending++]=255&L,x.pending_buf[x.pending++]=L>>>8&255}function tt(x,L,X){x.bi_valid>y-X?(x.bi_buf|=L<<x.bi_valid&65535,it(x,x.bi_buf),x.bi_buf=L>>y-x.bi_valid,x.bi_valid+=X-y):(x.bi_buf|=L<<x.bi_valid&65535,x.bi_valid+=X)}function K(x,L,X){tt(x,X[2*L],X[2*L+1])}function At(x,L){for(var X=0;X|=1&x,x>>>=1,X<<=1,0<--L;);return X>>>1}function Nt(x,L,X){var Q,M,et=new Array(g+1),at=0;for(Q=1;Q<=g;Q++)et[Q]=at=at+X[Q-1]<<1;for(M=0;M<=L;M++){var nt=x[2*M+1];nt!==0&&(x[2*M]=At(et[nt]++,nt))}}function vt(x){var L;for(L=0;L<v;L++)x.dyn_ltree[2*L]=0;for(L=0;L<f;L++)x.dyn_dtree[2*L]=0;for(L=0;L<h;L++)x.bl_tree[2*L]=0;x.dyn_ltree[2*k]=1,x.opt_len=x.static_len=0,x.last_lit=x.matches=0}function dt(x){8<x.bi_valid?it(x,x.bi_buf):0<x.bi_valid&&(x.pending_buf[x.pending++]=x.bi_buf),x.bi_buf=0,x.bi_valid=0}function ct(x,L,X,Q){var M=2*L,et=2*X;return x[M]<x[et]||x[M]===x[et]&&Q[L]<=Q[X]}function yt(x,L,X){for(var Q=x.heap[X],M=X<<1;M<=x.heap_len&&(M<x.heap_len&&ct(L,x.heap[M+1],x.heap[M],x.depth)&&M++,!ct(L,Q,x.heap[M],x.depth));)x.heap[X]=x.heap[M],X=M,M<<=1;x.heap[X]=Q}function xt(x,L,X){var Q,M,et,at,nt=0;if(x.last_lit!==0)for(;Q=x.pending_buf[x.d_buf+2*nt]<<8|x.pending_buf[x.d_buf+2*nt+1],M=x.pending_buf[x.l_buf+nt],nt++,Q===0?K(x,M,L):(K(x,(et=p[M])+_+1,L),(at=T[et])!==0&&tt(x,M-=F[et],at),K(x,et=I(--Q),X),(at=Z[et])!==0&&tt(x,Q-=R[et],at)),nt<x.last_lit;);K(x,k,L)}function Pt(x,L){var X,Q,M,et=L.dyn_tree,at=L.stat_desc.static_tree,nt=L.stat_desc.has_stree,H=L.stat_desc.elems,rt=-1;for(x.heap_len=0,x.heap_max=l,X=0;X<H;X++)et[2*X]!==0?(x.heap[++x.heap_len]=rt=X,x.depth[X]=0):et[2*X+1]=0;for(;x.heap_len<2;)et[2*(M=x.heap[++x.heap_len]=rt<2?++rt:0)]=1,x.depth[M]=0,x.opt_len--,nt&&(x.static_len-=at[2*M+1]);for(L.max_code=rt,X=x.heap_len>>1;1<=X;X--)yt(x,et,X);for(M=H;X=x.heap[1],x.heap[1]=x.heap[x.heap_len--],yt(x,et,1),Q=x.heap[1],x.heap[--x.heap_max]=X,x.heap[--x.heap_max]=Q,et[2*M]=et[2*X]+et[2*Q],x.depth[M]=(x.depth[X]>=x.depth[Q]?x.depth[X]:x.depth[Q])+1,et[2*X+1]=et[2*Q+1]=M,x.heap[1]=M++,yt(x,et,1),2<=x.heap_len;);x.heap[--x.heap_max]=x.heap[1],function(ot,zt){var Ft,Ot,Bt,Ct,re,se,Yt=zt.dyn_tree,Be=zt.max_code,Se=zt.stat_desc.static_tree,er=zt.stat_desc.has_stree,Ve=zt.stat_desc.extra_bits,Ae=zt.stat_desc.extra_base,oe=zt.stat_desc.max_length,Ee=0;for(Ct=0;Ct<=g;Ct++)ot.bl_count[Ct]=0;for(Yt[2*ot.heap[ot.heap_max]+1]=0,Ft=ot.heap_max+1;Ft<l;Ft++)oe<(Ct=Yt[2*Yt[2*(Ot=ot.heap[Ft])+1]+1]+1)&&(Ct=oe,Ee++),Yt[2*Ot+1]=Ct,Be<Ot||(ot.bl_count[Ct]++,re=0,Ae<=Ot&&(re=Ve[Ot-Ae]),se=Yt[2*Ot],ot.opt_len+=se*(Ct+re),er&&(ot.static_len+=se*(Se[2*Ot+1]+re)));if(Ee!==0){do{for(Ct=oe-1;ot.bl_count[Ct]===0;)Ct--;ot.bl_count[Ct]--,ot.bl_count[Ct+1]+=2,ot.bl_count[oe]--,Ee-=2}while(0<Ee);for(Ct=oe;Ct!==0;Ct--)for(Ot=ot.bl_count[Ct];Ot!==0;)Be<(Bt=ot.heap[--Ft])||(Yt[2*Bt+1]!==Ct&&(ot.opt_len+=(Ct-Yt[2*Bt+1])*Yt[2*Bt],Yt[2*Bt+1]=Ct),Ot--)}}(x,L),Nt(et,rt,x.bl_count)}function d(x,L,X){var Q,M,et=-1,at=L[1],nt=0,H=7,rt=4;for(at===0&&(H=138,rt=3),L[2*(X+1)+1]=65535,Q=0;Q<=X;Q++)M=at,at=L[2*(Q+1)+1],++nt<H&&M===at||(nt<rt?x.bl_tree[2*M]+=nt:M!==0?(M!==et&&x.bl_tree[2*M]++,x.bl_tree[2*z]++):nt<=10?x.bl_tree[2*j]++:x.bl_tree[2*B]++,et=M,rt=(nt=0)===at?(H=138,3):M===at?(H=6,3):(H=7,4))}function q(x,L,X){var Q,M,et=-1,at=L[1],nt=0,H=7,rt=4;for(at===0&&(H=138,rt=3),Q=0;Q<=X;Q++)if(M=at,at=L[2*(Q+1)+1],!(++nt<H&&M===at)){if(nt<rt)for(;K(x,M,x.bl_tree),--nt!=0;);else M!==0?(M!==et&&(K(x,M,x.bl_tree),nt--),K(x,z,x.bl_tree),tt(x,nt-3,2)):nt<=10?(K(x,j,x.bl_tree),tt(x,nt-3,3)):(K(x,B,x.bl_tree),tt(x,nt-11,7));et=M,rt=(nt=0)===at?(H=138,3):M===at?(H=6,3):(H=7,4)}}c(R);var $=!1;function A(x,L,X,Q){tt(x,(u<<1)+(Q?1:0),3),function(M,et,at,nt){dt(M),it(M,at),it(M,~at),s.arraySet(M.pending_buf,M.window,et,at,M.pending),M.pending+=at}(x,L,X)}n._tr_init=function(x){$||(function(){var L,X,Q,M,et,at=new Array(g+1);for(M=Q=0;M<m-1;M++)for(F[M]=Q,L=0;L<1<<T[M];L++)p[Q++]=M;for(p[Q-1]=M,M=et=0;M<16;M++)for(R[M]=et,L=0;L<1<<Z[M];L++)U[et++]=M;for(et>>=7;M<f;M++)for(R[M]=et<<7,L=0;L<1<<Z[M]-7;L++)U[256+et++]=M;for(X=0;X<=g;X++)at[X]=0;for(L=0;L<=143;)W[2*L+1]=8,L++,at[8]++;for(;L<=255;)W[2*L+1]=9,L++,at[9]++;for(;L<=279;)W[2*L+1]=7,L++,at[7]++;for(;L<=287;)W[2*L+1]=8,L++,at[8]++;for(Nt(W,v+1,at),L=0;L<f;L++)S[2*L+1]=5,S[2*L]=At(L,5);C=new V(W,T,_+1,v,g),b=new V(S,Z,0,f,g),E=new V(new Array(0),N,0,h,w)}(),$=!0),x.l_desc=new O(x.dyn_ltree,C),x.d_desc=new O(x.dyn_dtree,b),x.bl_desc=new O(x.bl_tree,E),x.bi_buf=0,x.bi_valid=0,vt(x)},n._tr_stored_block=A,n._tr_flush_block=function(x,L,X,Q){var M,et,at=0;0<x.level?(x.strm.data_type===2&&(x.strm.data_type=function(nt){var H,rt=4093624447;for(H=0;H<=31;H++,rt>>>=1)if(1&rt&&nt.dyn_ltree[2*H]!==0)return o;if(nt.dyn_ltree[18]!==0||nt.dyn_ltree[20]!==0||nt.dyn_ltree[26]!==0)return a;for(H=32;H<_;H++)if(nt.dyn_ltree[2*H]!==0)return a;return o}(x)),Pt(x,x.l_desc),Pt(x,x.d_desc),at=function(nt){var H;for(d(nt,nt.dyn_ltree,nt.l_desc.max_code),d(nt,nt.dyn_dtree,nt.d_desc.max_code),Pt(nt,nt.bl_desc),H=h-1;3<=H&&nt.bl_tree[2*D[H]+1]===0;H--);return nt.opt_len+=3*(H+1)+5+5+4,H}(x),M=x.opt_len+3+7>>>3,(et=x.static_len+3+7>>>3)<=M&&(M=et)):M=et=X+5,X+4<=M&&L!==-1?A(x,L,X,Q):x.strategy===4||et===M?(tt(x,2+(Q?1:0),3),xt(x,W,S)):(tt(x,4+(Q?1:0),3),function(nt,H,rt,ot){var zt;for(tt(nt,H-257,5),tt(nt,rt-1,5),tt(nt,ot-4,4),zt=0;zt<ot;zt++)tt(nt,nt.bl_tree[2*D[zt]+1],3);q(nt,nt.dyn_ltree,H-1),q(nt,nt.dyn_dtree,rt-1)}(x,x.l_desc.max_code+1,x.d_desc.max_code+1,at+1),xt(x,x.dyn_ltree,x.dyn_dtree)),vt(x),Q&&dt(x)},n._tr_tally=function(x,L,X){return x.pending_buf[x.d_buf+2*x.last_lit]=L>>>8&255,x.pending_buf[x.d_buf+2*x.last_lit+1]=255&L,x.pending_buf[x.l_buf+x.last_lit]=255&X,x.last_lit++,L===0?x.dyn_ltree[2*X]++:(x.matches++,L--,x.dyn_ltree[2*(p[X]+_+1)]++,x.dyn_dtree[2*I(L)]++),x.last_lit===x.lit_bufsize-1},n._tr_align=function(x){tt(x,2,3),K(x,k,W),function(L){L.bi_valid===16?(it(L,L.bi_buf),L.bi_buf=0,L.bi_valid=0):8<=L.bi_valid&&(L.pending_buf[L.pending++]=255&L.bi_buf,L.bi_buf>>=8,L.bi_valid-=8)}(x)}},{"../utils/common":41}],53:[function(r,i,n){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,i,n){(function(s){(function(o,a){if(!o.setImmediate){var c,u,m,_,v=1,f={},h=!1,l=o.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(o);g=g&&g.setTimeout?g:o,c={}.toString.call(o.process)==="[object process]"?function(z){process.nextTick(function(){w(z)})}:function(){if(o.postMessage&&!o.importScripts){var z=!0,j=o.onmessage;return o.onmessage=function(){z=!1},o.postMessage("","*"),o.onmessage=j,z}}()?(_="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",k,!1):o.attachEvent("onmessage",k),function(z){o.postMessage(_+z,"*")}):o.MessageChannel?((m=new MessageChannel).port1.onmessage=function(z){w(z.data)},function(z){m.port2.postMessage(z)}):l&&"onreadystatechange"in l.createElement("script")?(u=l.documentElement,function(z){var j=l.createElement("script");j.onreadystatechange=function(){w(z),j.onreadystatechange=null,u.removeChild(j),j=null},u.appendChild(j)}):function(z){setTimeout(w,0,z)},g.setImmediate=function(z){typeof z!="function"&&(z=new Function(""+z));for(var j=new Array(arguments.length-1),B=0;B<j.length;B++)j[B]=arguments[B+1];var T={callback:z,args:j};return f[v]=T,c(v),v++},g.clearImmediate=y}function y(z){delete f[z]}function w(z){if(h)setTimeout(w,0,z);else{var j=f[z];if(j){h=!0;try{(function(B){var T=B.callback,Z=B.args;switch(Z.length){case 0:T();break;case 1:T(Z[0]);break;case 2:T(Z[0],Z[1]);break;case 3:T(Z[0],Z[1],Z[2]);break;default:T.apply(a,Z)}})(j)}finally{y(z),h=!1}}}}function k(z){z.source===o&&typeof z.data=="string"&&z.data.indexOf(_)===0&&w(+z.data.slice(_.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(ho);var vd=ho.exports;const _d=ha(vd);function yd(t,e){const r=`ID,Title,"Not before","No earlier than","No later than",Place,Status,Type,Object type,Language,Settlement
`,i=e.map(s=>[s.file,`"${s.title}"`,s.notBefore,s.notAfter,`"${bd(s)}"`,s.status._,`"${wd(s)}"`,`"${kd(s)}"`,`"${xd(s)}"`,`"${Sd(s)}"`].join(",")).join(`
`),n=document.createElement("a");n.href=`data:text/csv;charset=utf-8,${encodeURIComponent(`"${t}"
${r}${i}`)}`,n.download="inscriptions.csv",n.click(),n.remove()}function bd(t){return t.places.map(e=>{let r="";return e.offset&&(r+=`${e.offset} `),r+=`${e._}`,r+=`(${e.type})`,r}).join(", ")}function wd(t){var e;return((e=t.type)==null?void 0:e._)||"N/A"}function kd(t){var e;return((e=t.rawObjectType)==null?void 0:e._)||"N/A"}function xd(t){var e;return((e=t.textLang)==null?void 0:e._)||"N/A"}function Sd(t){return t.settlement||"N/A"}async function Ad(t,e){const r=new _d;r.file("summary.txt",t);for(const s of e)try{const o=await fetch(`${ga}/api/inscription/${s.file}`);if(!o.ok){console.warn(`Failed to fetch XML for ${s.file}`);continue}const a=await o.text();r.file(`${s.file}.xml`,a)}catch(o){console.error(`Error fetching XML for ${s.file}:`,o)}const i=await r.generateAsync({type:"blob"}),n=document.createElement("a");n.href=URL.createObjectURL(i),n.download="inscriptions.zip",n.click(),n.remove(),URL.revokeObjectURL(n.href)}let Ir=String.fromCharCode,fo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",jr={};function Ed(t,e){if(!jr[t]){jr[t]={};for(let r=0;r<t.length;r++)jr[t][t.charAt(r)]=r}return jr[t][e]}function Pd(t){return t==null?"":zd(t,6,function(e){return fo.charAt(e)})}function Od(t){return t==null?"":t==""?null:Cd((t=t.replace(/ /g,"+")).length,32,function(e){return Ed(fo,t.charAt(e))})}function zd(t,e,r){if(t==null)return"";let i,n,s={},o={},a="",c="",u="",m=2,_=3,v=2,f=[],h=0,l=0,g;for(g=0;g<t.length;g+=1)if(a=t.charAt(g),Object.prototype.hasOwnProperty.call(s,a)||(s[a]=_++,o[a]=!0),c=u+a,Object.prototype.hasOwnProperty.call(s,c))u=c;else{if(Object.prototype.hasOwnProperty.call(o,u)){if(256>u.charCodeAt(0)){for(i=0;i<v;i++)h<<=1,l==e-1?(l=0,f.push(r(h)),h=0):l++;for(i=0,n=u.charCodeAt(0);i<8;i++)h=h<<1|1&n,l==e-1?(l=0,f.push(r(h)),h=0):l++,n>>=1}else{for(i=0,n=1;i<v;i++)h=h<<1|n,l==e-1?(l=0,f.push(r(h)),h=0):l++,n=0;for(i=0,n=u.charCodeAt(0);i<16;i++)h=h<<1|1&n,l==e-1?(l=0,f.push(r(h)),h=0):l++,n>>=1}--m==0&&(m=Math.pow(2,v),v++),delete o[u]}else for(i=0,n=s[u];i<v;i++)h=h<<1|1&n,l==e-1?(l=0,f.push(r(h)),h=0):l++,n>>=1;--m==0&&(m=Math.pow(2,v),v++),s[c]=_++,u=String(a)}if(u!==""){if(Object.prototype.hasOwnProperty.call(o,u)){if(256>u.charCodeAt(0)){for(i=0;i<v;i++)h<<=1,l==e-1?(l=0,f.push(r(h)),h=0):l++;for(i=0,n=u.charCodeAt(0);i<8;i++)h=h<<1|1&n,l==e-1?(l=0,f.push(r(h)),h=0):l++,n>>=1}else{for(i=0,n=1;i<v;i++)h=h<<1|n,l==e-1?(l=0,f.push(r(h)),h=0):l++,n=0;for(i=0,n=u.charCodeAt(0);i<16;i++)h=h<<1|1&n,l==e-1?(l=0,f.push(r(h)),h=0):l++,n>>=1}--m==0&&(m=Math.pow(2,v),v++),delete o[u]}else for(i=0,n=s[u];i<v;i++)h=h<<1|1&n,l==e-1?(l=0,f.push(r(h)),h=0):l++,n>>=1;--m==0&&(m=Math.pow(2,v),v++)}for(i=0,n=2;i<v;i++)h=h<<1|1&n,l==e-1?(l=0,f.push(r(h)),h=0):l++,n>>=1;for(;;){if(h<<=1,l==e-1){f.push(r(h));break}l++}return f.join("")}function Cd(t,e,r){let i=[],n=4,s=4,o=3,a="",c=[],u,m,_,v,f,h,l,g={val:r(0),position:e,index:1};for(u=0;u<3;u+=1)i[u]=u;for(_=0,f=4,h=1;h!=f;)v=g.val&g.position,g.position>>=1,g.position==0&&(g.position=e,g.val=r(g.index++)),_|=(v>0?1:0)*h,h<<=1;switch(_){case 0:for(_=0,f=256,h=1;h!=f;)v=g.val&g.position,g.position>>=1,g.position==0&&(g.position=e,g.val=r(g.index++)),_|=(v>0?1:0)*h,h<<=1;l=Ir(_);break;case 1:for(_=0,f=65536,h=1;h!=f;)v=g.val&g.position,g.position>>=1,g.position==0&&(g.position=e,g.val=r(g.index++)),_|=(v>0?1:0)*h,h<<=1;l=Ir(_);break;case 2:return""}for(i[3]=l,m=l,c.push(l);;){if(g.index>t)return"";for(_=0,f=Math.pow(2,o),h=1;h!=f;)v=g.val&g.position,g.position>>=1,g.position==0&&(g.position=e,g.val=r(g.index++)),_|=(v>0?1:0)*h,h<<=1;switch(l=_){case 0:for(_=0,f=256,h=1;h!=f;)v=g.val&g.position,g.position>>=1,g.position==0&&(g.position=e,g.val=r(g.index++)),_|=(v>0?1:0)*h,h<<=1;i[s++]=Ir(_),l=s-1,n--;break;case 1:for(_=0,f=65536,h=1;h!=f;)v=g.val&g.position,g.position>>=1,g.position==0&&(g.position=e,g.val=r(g.index++)),_|=(v>0?1:0)*h,h<<=1;i[s++]=Ir(_),l=s-1,n--;break;case 2:return c.join("")}if(n==0&&(n=Math.pow(2,o),o++),i[l])a=i[l];else{if(l!==s)return null;a=m+m.charAt(0)}c.push(a),i[s++]=m+a.charAt(0),n--,m=a,n==0&&(n=Math.pow(2,o),o++)}}let po;po=_a;const Id={keepFocus:!0,noScroll:!0,replaceState:!0},jd={keepFocus:!0,noScroll:!0,replaceState:!1};function jn(t,e,r=(i,n)=>JSON.stringify(i)===JSON.stringify(n)){return typeof t=="object"&&typeof e=="object"&&r(t,e)}function Rn({encode:t,decode:e}){function r(i){return{encode:t,decode:e,defaultValue:i}}return r}function Rd(t){return{encode:e=>JSON.stringify(e),decode:e=>{if(e===null)return null;try{return JSON.parse(e)}catch{return null}},defaultValue:t}}function Td(t){return{encode:e=>JSON.stringify(e),decode:e=>{if(e===null)return null;try{return JSON.parse(e)}catch{return null}},defaultValue:t}}function Bd(t){return{encode:e=>Pd(JSON.stringify(e)),decode:e=>{if(!e)return null;try{return JSON.parse(Od(e)??"")}catch{return null}},defaultValue:t}}const or={number:Rn({encode:t=>t.toString(),decode:t=>t?parseFloat(t):null}),boolean:Rn({encode:t=>t+"",decode:t=>t!==null&&t!=="false"}),string:Rn({encode:t=>t??"",decode:t=>t}),object:Rd,array:Td,lz:Bd},Tn=new Set;let Zi;const qi=new Map,Bn={encode:t=>t.toString(),decode:t=>t?t.toString():null};function ar(t,{encode:e=Bn.encode,decode:r=Bn.decode,defaultValue:i}=Bn,{debounceHistory:n=0,pushHistory:s=!0,sort:o=!0,showDefaults:a=!0,equalityFn:c}={}){const u=ba(null);let m=!0,_;function v(h,l){m=!1;const g=window.location.hash,y=k=>{if(h==null)k.delete(t);else{const z=e(h);z==null?k.delete(t):k.set(t,z)}};Tn.add(y),clearTimeout(Zi);const w=new URLSearchParams(window.location.search);Zi=setTimeout(async()=>{Tn.forEach(k=>{k(w)}),clearTimeout(qi.get(t));{u.set(h);async function k(){o&&w.sort(),await va(`?${w}${g}`,s?jd:Id),u.set(null)}l||n===0?k():qi.set(t,setTimeout(k,n))}Tn.clear()})}const{subscribe:f}=ya([po,u],([h,l],g)=>{var k,z,j;if(l!=null)return jn(_,l,c)?void 0:(_=structuredClone(l),g(l));const y=(j=(z=(k=h==null?void 0:h.url)==null?void 0:k.searchParams)==null?void 0:z.get)==null?void 0:j.call(z,t);if(y==null&&i!=null)return a&&v(structuredClone(i),m),jn(_,i,c)?void 0:(_=structuredClone(i),g(structuredClone(i)));const w=r(y);if(!jn(_,w,c))return _=structuredClone(w),g(w)});return{set(h){v(h)},subscribe:f,update:h=>{const l=h(_);v(l)}}}var Nd=ut("&#160;<small> </small>",1),Ld=ut('<span class="slider-track"><!></span> <!>',1),Fd=ut('<h3> <!></h3> <div class="slider"><!></div> <div class="range-inputs svelte-1wxg60f"><label class="svelte-1wxg60f"><span> </span> <input type="number"></label> <label class="svelte-1wxg60f"><span> </span> <input type="number"></label></div>',1);function Gi(t,e){Gt(e,!0);let r=ht(e,"title",3,"Range slider"),i=ht(e,"unit",3,""),n=ht(e,"min",3,0),s=ht(e,"max",3,100),o=ht(e,"step",3,1),a=ht(e,"startLabel",3,"From"),c=ht(e,"endLabel",3,"To"),u=ht(e,"selectedRange",31,()=>Rt([0,0]));var m=Fd(),_=ft(m),v=J(_,!0),f=st(v);{var h=D=>{var W=Nd(),S=st(ft(W)),U=J(S);G(S),bt(()=>gt(U,`(${i()??""})`)),Y(D,W)};Et(f,D=>{i()&&D(h)})}G(_);var l=st(_,2),g=J(l);Wt(g,()=>Yl,(D,W)=>{W(D,{class:"slider-root",get min(){return n()},get max(){return s()},get step(){return o()},type:"multiple",autoSort:!0,get onValueCommit(){return e.rangeChange},get value(){return u()},set value(U){u(U)},children:(U,p)=>{let F=()=>p==null?void 0:p().thumbs;var C=Ld(),b=ft(C),E=J(b);Wt(E,()=>Ql,(V,O)=>{O(V,{class:"slider-range"})}),G(b);var R=st(b,2);de(R,17,F,me,(V,O)=>{var I=It(),it=ft(I);const tt=lt(()=>`${P(O)===0?a():c()}`);Wt(it,()=>ec,(K,At)=>{At(K,{get index(){return P(O)},class:"slider-thumb",get"aria-label"(){return P(tt)}})}),Y(V,I)}),Y(U,C)},$$slots:{default:!0}})}),G(l);var y=st(l,2),w=J(y),k=J(w),z=J(k,!0);G(k);var j=st(k,2);qe(j),j.__input=function(...D){var W;(W=e.rangeChange)==null||W.apply(this,D)},G(w);var B=st(w,2),T=J(B),Z=J(T,!0);G(T);var N=st(T,2);qe(N),N.__input=function(...D){var W;(W=e.rangeChange)==null||W.apply(this,D)},G(B),G(y),bt(()=>{gt(v,r()),gt(z,a()),ce(j,"min",n()),ce(j,"max",s()),gt(Z,c()),ce(N,"min",n()),ce(N,"max",s())}),$n(j,()=>u()[0],D=>u(u()[0]=D,!0)),$n(N,()=>u()[1],D=>u(u()[1]=D,!0)),Y(t,m),Xt()}ii(["input"]);var Dd=(t,e)=>e.sortAggregationsByChange(),Ud=ut('<label><input type="radio" name="sort-aggregations" class="svelte-yedk6x"> </label>'),Md=ut('<li class="svelte-yedk6x"><!></li>'),Wd=ut('<section class="filters-group svelte-yedk6x"><!></section>'),$d=(t,e)=>e.languageConjunctionChange(),Vd=ut('<div class="conjunction-options svelte-yedk6x"><label><input type="checkbox" class="svelte-yedk6x"> Match all selected languages (AND)</label></div>'),Hd=ut('<input type="text" placeholder="Filter options..." class="filter-input svelte-yedk6x">'),Zd=(t,e)=>e.searchFiltersChange(),qd=ut('<li class="svelte-yedk6x"><label class="svelte-yedk6x"><input type="checkbox" class="svelte-yedk6x"> <div class="svelte-yedk6x"><span class="svelte-yedk6x"> </span> <small class="svelte-yedk6x"> </small></div></label></li>'),Gd=ut('<section class="filters-group svelte-yedk6x"><details class="svelte-yedk6x"><summary class="svelte-yedk6x"><h3 class="svelte-yedk6x"> </h3></summary> <div><small> </small> <!> <!> <ul class="svelte-yedk6x"></ul></div></details></section>'),Xd=ut('<section class="filters-group svelte-yedk6x"><!></section>'),Kd=ut("<!> <!>",1),Yd=ut('<aside class="filters surface-1 svelte-yedk6x" tabindex="-1"><section class="filters-header svelte-yedk6x"><h2 class="svelte-yedk6x">Filters</h2> <!></section> <section class="filters-sort svelte-yedk6x"><h3 class="svelte-yedk6x">Sort by</h3> <div class="svelte-yedk6x"></div></section> <section class="filters-by svelte-yedk6x"><div class="svelte-yedk6x"><hgroup class="svelte-yedk6x"><h3 class="svelte-yedk6x">Filter by</h3> <small> </small></hgroup> <!></div> <ul class="svelte-yedk6x"></ul></section> <section class="filters-groups svelte-yedk6x"><!> <!></section></aside>');function Jd(t,e){Gt(e,!0);const r=[],i=[];let n=ht(e,"show",7,!1),s=ht(e,"aggregations",19,()=>({})),o=ht(e,"total",3,0),a=ht(e,"languageConjunction",15,!0),c=ht(e,"sortAggregationsBy",15,"key"),u=ht(e,"selectedDateRange",31,()=>Rt([0,0])),m=ht(e,"selectedLetterHeightRange",31,()=>Rt([0,0])),_=ht(e,"selectedFilters",31,()=>Rt({}));const v=lt(()=>Object.values(_()).some(W=>W.length>0)),f=lt(()=>Object.entries(_()).filter(([W,S])=>S.length>0).flatMap(([W,S])=>S.map(U=>[W,U]))),h=[{label:"Name",value:"key"},{label:"Count",value:"count"}],l=Rt({});let g=Kt(null);function y(W){var S;wt(g,Rt(document.activeElement)),(S=W.currentTarget)==null||S.focus()}function w(){n(!1)}function k(){P(g)&&P(g).focus()}function z(){_(Object.fromEntries(Object.keys(_()).map(W=>[W,[]]))),e.searchFiltersChange()}function j(W,S){_(_()[W]=_()[W].filter(U=>U!==S),!0),e.searchFiltersChange()}function B(W,S){var p;const U=((p=l[S])==null?void 0:p.toLowerCase())||"";return U?W.filter(F=>F.key.toLowerCase().includes(U)):W}function T(W){if(W.indexOf(":::")===-1)return W;const S=W.split(":::"),U=S.length;return c()==="count"?S.pop()||"":`${"+".repeat(U-1)} ${S.pop()}`}var Z=It(),N=ft(Z);{var D=W=>{var S=Yd(),U=J(S),p=st(J(U),2);Wt(p,()=>le,(dt,ct)=>{ct(dt,{class:"close-button",onclick:w,"aria-label":"Close filters",children:(yt,xt)=>{Vt();var Pt=te("×");Y(yt,Pt)},$$slots:{default:!0}})}),G(U);var F=st(U,2),C=st(J(F),2);de(C,21,()=>h,me,(dt,ct)=>{var yt=Ud(),xt=J(yt);qe(xt);var Pt;xt.__change=[Dd,e];var d=st(xt);G(yt),bt(()=>{Pt!==(Pt=P(ct).value)&&(xt.value=(xt.__value=P(ct).value)==null?"":P(ct).value),gt(d,` ${P(ct).label??""}`)}),ji(r,[],xt,()=>(P(ct).value,c()),c),Y(dt,yt)}),G(C),G(F);var b=st(F,2),E=J(b),R=J(E),V=st(J(R),2),O=J(V);G(V),G(R);var I=st(R,2);{var it=dt=>{var ct=It(),yt=ft(ct);Wt(yt,()=>le,(xt,Pt)=>{Pt(xt,{class:"clear-filters-button","aria-label":"Clear all filters",onclick:z,children:(d,q)=>{Vt();var $=te("Clear all filters");Y(d,$)},$$slots:{default:!0}})}),Y(dt,ct)};Et(I,dt=>{P(v)&&dt(it)})}G(E);var tt=st(E,2);de(tt,21,()=>P(f),me,(dt,ct)=>{let yt=()=>P(ct)[0],xt=()=>P(ct)[1];var Pt=Md();const d=lt(()=>xt().replaceAll("_"," ").replaceAll(":::"," "));var q=J(Pt);Wt(q,()=>le,($,A)=>{A($,{class:"remove-filter-button surface-3",get"aria-label"(){return`Remove ${yt()??""} filter with value ${P(d)??""}`},get title(){return`Remove ${yt()??""} filter with value ${P(d)??""}`},onclick:()=>j(yt(),xt()),children:(x,L)=>{Vt();var X=te();bt(()=>gt(X,P(d))),Y(x,X)},$$slots:{default:!0}})}),G(Pt),Y(dt,Pt)}),G(tt),G(b);var K=st(b,2),At=J(K);{var Nt=dt=>{var ct=Wd(),yt=J(ct);Gi(yt,{title:"Date",min:-700,max:1830,step:1,startLabel:"No earlier than",endLabel:"No later than",rangeChange:()=>e.searchFiltersChange(),get selectedRange(){return u()},set selectedRange(xt){u(xt)}}),G(ct),Y(dt,ct)};Et(At,dt=>{var ct;(ct=s())!=null&&ct.notBefore&&dt(Nt)})}var vt=st(At,2);de(vt,17,()=>Object.keys(_()),me,(dt,ct,yt)=>{var xt=Kd(),Pt=ft(xt);{var d=A=>{var x=Gd(),L=J(x),X=J(L),Q=J(X),M=J(Q,!0);G(Q),G(X);var et=st(X,2),at=J(et),nt=J(at);G(at);var H=st(at,2);{var rt=Ot=>{var Bt=Vd(),Ct=J(Bt),re=J(Ct);qe(re),re.__change=[$d,e],Vt(),G(Ct),G(Bt),wa(re,a),Y(Ot,Bt)};Et(H,Ot=>{P(ct)==="language"&&Ot(rt)})}var ot=st(H,2);{var zt=Ot=>{var Bt=Hd();qe(Bt),$n(Bt,()=>l[P(ct)],Ct=>l[P(ct)]=Ct),Y(Ot,Bt)};Et(ot,Ot=>{s()[P(ct)].buckets.length>20&&Ot(zt)})}var Ft=st(ot,2);de(Ft,21,()=>B(s()[P(ct)].buckets,P(ct)),me,(Ot,Bt)=>{var Ct=qd(),re=J(Ct),se=J(re);qe(se);var Yt;se.__change=[Zd,e];var Be=st(se,2),Se=J(Be),er=J(Se,!0);G(Se);var Ve=st(Se,2),Ae=J(Ve);G(Ve),G(Be),G(re),G(Ct),bt((oe,Ee)=>{Yt!==(Yt=P(Bt).key)&&(se.value=(se.__value=P(Bt).key)==null?"":P(Bt).key),se.disabled=P(Bt).doc_count===0,gt(er,oe),gt(Ae,`matches: ${Ee??""}`)},[()=>T(P(Bt).key),()=>P(Bt).doc_count.toLocaleString()]),ji(i,[yt],se,()=>(P(Bt).key,_()[P(ct)]),oe=>_(_()[P(ct)]=oe,!0)),Y(Ot,Ct)}),G(Ft),G(et),G(L),G(x),bt(Ot=>{gt(M,s()[P(ct)].title),gt(nt,`Options: ${Ot??""}`)},[()=>s()[P(ct)].buckets.filter(Ot=>Ot.doc_count>0).length]),Y(A,x)};Et(Pt,A=>{P(ct)in s()&&s()[P(ct)].title&&A(d)})}var q=st(Pt,2);{var $=A=>{var x=Xd(),L=J(x);Gi(L,{title:"Letter height",unit:"mm",min:0,max:100,step:1,startLabel:"At least",endLabel:"At most",rangeChange:()=>e.searchFiltersChange(),get selectedRange(){return m()},set selectedRange(X){m(X)}}),G(x),Y(A,x)};Et(q,A=>{var x;P(ct)=="pigment"&&((x=s())!=null&&x.letterHeightAtLeast)&&A($)})}Y(dt,xt)}),G(K),G(S),bt(dt=>gt(O,`(${dt??""} inscriptions found)`),[()=>o().toLocaleString()]),De("introend",S,y),De("outroend",S,k),ur(3,S,()=>ea,()=>({axis:"x",duration:300})),Y(W,S)};Et(N,W=>{n()&&W(D)})}Y(t,Z),Xt()}ii(["change"]);var Qd=ut(", matching <em> </em>",1),th=ut('<span class="svelte-eb26nt"> <em> </em></span>'),eh=ut('<span class="svelte-eb26nt">letter height: <em> </em></span>'),rh=ut(', filtered by <span class="selected-filters svelte-eb26nt"><!> <!></span>',1),nh=ut('<h2 class="svelte-eb26nt"><em> </em> Inscriptions between <em> </em> – <em> </em> across <em> </em> locations<!><!></h2>');function ih(t,e){Gt(e,!0);let r=lt(()=>Object.values(e.filters).some(g=>g.length>0)||e.letterHeightRange[0]!==e.defaultLetterHeightRange[0]||e.letterHeightRange[1]!==e.defaultLetterHeightRange[1]);var i=nh(),n=J(i),s=J(n,!0);G(n);var o=st(n,2),a=J(o,!0);G(o);var c=st(o,2),u=J(c,!0);G(c);var m=st(c,2),_=J(m,!0);G(m);var v=st(m,2);{var f=g=>{var y=Qd(),w=st(ft(y)),k=J(w,!0);G(w),bt(z=>gt(k,z),[()=>e.query.split(" ").join(", ")]),Y(g,y)};Et(v,g=>{e.query&&g(f)})}var h=st(v);{var l=g=>{var y=rh(),w=st(ft(y)),k=J(w);de(k,17,()=>Object.entries(e.filters).filter(([B,T])=>T.length>0),me,(B,T)=>{let Z=()=>P(T)[0],N=()=>P(T)[1];var D=th(),W=J(D),S=st(W),U=J(S,!0);G(S),G(D),bt(p=>{gt(W,`${Z()??""}: `),gt(U,p)},[()=>N().join(", ").replaceAll("_"," ").replaceAll(":::"," ")]),Y(B,D)});var z=st(k,2);{var j=B=>{var T=eh(),Z=st(J(T)),N=J(Z);G(Z),G(T),bt(()=>gt(N,`${e.letterHeightRange[0]??""}–${e.letterHeightRange[1]??""}mm`)),Y(B,T)};Et(z,B=>{e.letterHeightRange&&B(j)})}G(w),Y(g,y)};Et(h,g=>{P(r)&&g(l)})}G(i),bt((g,y,w,k)=>{gt(s,g),gt(a,y),gt(u,w),gt(_,k)},[()=>e.total.toLocaleString(),()=>e.dateRange[0]>0?`AD ${e.dateRange[0]}`:`${Math.abs(e.dateRange[0])} BC`,()=>e.dateRange[1]>0?`AD ${e.dateRange[1]}`:`${Math.abs(e.dateRange[1])} BC`,()=>e.numberOfLocations.toLocaleString()]),Y(t,i),Xt()}var mo=typeof global=="object"&&global&&global.Object===Object&&global,sh=typeof self=="object"&&self&&self.Object===Object&&self,ge=mo||sh||Function("return this")(),ue=ge.Symbol,go=Object.prototype,oh=go.hasOwnProperty,ah=go.toString,lr=ue?ue.toStringTag:void 0,lh=Object.prototype.toString,ch="[object Null]",uh="[object Undefined]",Xi=ue?ue.toStringTag:void 0;function tr(t){return t==null?t===void 0?uh:ch:Xi&&Xi in Object(t)?function(e){var r=oh.call(e,lr),i=e[lr];try{e[lr]=void 0;var n=!0}catch{}var s=ah.call(e);return n&&(r?e[lr]=i:delete e[lr]),s}(t):function(e){return lh.call(e)}(t)}function Ue(t){return t!=null&&typeof t=="object"}var dh="[object Symbol]";function _r(t){return typeof t=="symbol"||Ue(t)&&tr(t)==dh}function fr(t,e){for(var r=-1,i=t==null?0:t.length,n=Array(i);++r<i;)n[r]=e(t[r],r,t);return n}var he=Array.isArray,hh=1/0,Ki=ue?ue.prototype:void 0,Yi=Ki?Ki.toString:void 0;function vo(t){if(typeof t=="string")return t;if(he(t))return fr(t,vo)+"";if(_r(t))return Yi?Yi.call(t):"";var e=t+"";return e=="0"&&1/t==-hh?"-0":e}function bn(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function wn(t){return t}var fh="[object AsyncFunction]",ph="[object Function]",mh="[object GeneratorFunction]",gh="[object Proxy]";function _o(t){if(!bn(t))return!1;var e=tr(t);return e==ph||e==mh||e==fh||e==gh}var Ji,Nn=ge["__core-js_shared__"],Qi=(Ji=/[^.]+$/.exec(Nn&&Nn.keys&&Nn.keys.IE_PROTO||""))?"Symbol(src)_1."+Ji:"",vh=Function.prototype.toString;function We(t){if(t!=null){try{return vh.call(t)}catch{}try{return t+""}catch{}}return""}var _h=/^\[object .+?Constructor\]$/,yh=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $e(t,e){var r=function(i,n){return i==null?void 0:i[n]}(t,e);return function(i){return!(!bn(i)||(n=i,Qi&&Qi in n))&&(_o(i)?yh:_h).test(We(i));var n}(r)?r:void 0}var ts,Ln,Fn,Gn=$e(ge,"WeakMap"),bh=Date.now,wh=function(){try{var t=$e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),es=wh,kh=es?function(t,e){return es(t,"toString",{configurable:!0,enumerable:!1,value:(r=e,function(){return r}),writable:!0});var r}:wn,xh=(ts=kh,Ln=0,Fn=0,function(){var t=bh(),e=16-(t-Fn);if(Fn=t,e>0){if(++Ln>=800)return arguments[0]}else Ln=0;return ts.apply(void 0,arguments)});function Sh(t){return t!=t}function Ah(t,e){return!(t==null||!t.length)&&function(r,i,n){return i==i?function(s,o,a){for(var c=-1,u=s.length;++c<u;)if(s[c]===o)return c;return-1}(r,i):function(s,o,a,c){for(var u=s.length,m=-1;++m<u;)if(o(s[m],m,s))return m;return-1}(r,Sh)}(t,e)>-1}var Eh=9007199254740991,Ph=/^(?:0|[1-9]\d*)$/;function bi(t,e){var r=typeof t;return!!(e=e??Eh)&&(r=="number"||r!="symbol"&&Ph.test(t))&&t>-1&&t%1==0&&t<e}function wi(t,e){return t===e||t!=t&&e!=e}var rs=Math.max;function yo(t,e){return xh(function(r,i,n){return i=rs(i===void 0?r.length-1:i,0),function(){for(var s=arguments,o=-1,a=rs(s.length-i,0),c=Array(a);++o<a;)c[o]=s[i+o];o=-1;for(var u=Array(i+1);++o<i;)u[o]=s[o];return u[i]=n(c),function(m,_,v){switch(v.length){case 0:return m.call(_);case 1:return m.call(_,v[0]);case 2:return m.call(_,v[0],v[1]);case 3:return m.call(_,v[0],v[1],v[2])}return m.apply(_,v)}(r,this,u)}}(t,e,wn),t+"")}var Oh=9007199254740991;function ki(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Oh}function Er(t){return t!=null&&ki(t.length)&&!_o(t)}function ns(t,e,r){if(!bn(r))return!1;var i=typeof e;return!!(i=="number"?Er(r)&&bi(e,r.length):i=="string"&&e in r)&&wi(r[e],t)}var zh=Object.prototype;function Ch(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||zh)}function is(t){return Ue(t)&&tr(t)=="[object Arguments]"}var bo=Object.prototype,Ih=bo.hasOwnProperty,jh=bo.propertyIsEnumerable,xi=is(function(){return arguments}())?is:function(t){return Ue(t)&&Ih.call(t,"callee")&&!jh.call(t,"callee")},wo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ss=wo&&typeof module=="object"&&module&&!module.nodeType&&module,os=ss&&ss.exports===wo?ge.Buffer:void 0,Xn=(os?os.isBuffer:void 0)||function(){return!1},Lt={};function ko(t){return function(e){return t(e)}}Lt["[object Float32Array]"]=Lt["[object Float64Array]"]=Lt["[object Int8Array]"]=Lt["[object Int16Array]"]=Lt["[object Int32Array]"]=Lt["[object Uint8Array]"]=Lt["[object Uint8ClampedArray]"]=Lt["[object Uint16Array]"]=Lt["[object Uint32Array]"]=!0,Lt["[object Arguments]"]=Lt["[object Array]"]=Lt["[object ArrayBuffer]"]=Lt["[object Boolean]"]=Lt["[object DataView]"]=Lt["[object Date]"]=Lt["[object Error]"]=Lt["[object Function]"]=Lt["[object Map]"]=Lt["[object Number]"]=Lt["[object Object]"]=Lt["[object RegExp]"]=Lt["[object Set]"]=Lt["[object String]"]=Lt["[object WeakMap]"]=!1;var xo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,pr=xo&&typeof module=="object"&&module&&!module.nodeType&&module,Dn=pr&&pr.exports===xo&&mo.process,Je=function(){try{return pr&&pr.require&&pr.require("util").types||Dn&&Dn.binding&&Dn.binding("util")}catch{}}(),as=Je&&Je.isTypedArray,So=as?ko(as):function(t){return Ue(t)&&ki(t.length)&&!!Lt[tr(t)]},Rh=Object.prototype.hasOwnProperty;function Th(t,e){var r=he(t),i=!r&&xi(t),n=!r&&!i&&Xn(t),s=!r&&!i&&!n&&So(t),o=r||i||n||s,a=o?function(m,_){for(var v=-1,f=Array(m);++v<m;)f[v]=_(v);return f}(t.length,String):[],c=a.length;for(var u in t)!Rh.call(t,u)||o&&(u=="length"||n&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||bi(u,c))||a.push(u);return a}function Bh(t,e){return function(r){return t(e(r))}}var Nh=Bh(Object.keys,Object),Lh=Object.prototype.hasOwnProperty;function Si(t){return Er(t)?Th(t):function(e){if(!Ch(e))return Nh(e);var r=[];for(var i in Object(e))Lh.call(e,i)&&i!="constructor"&&r.push(i);return r}(t)}var Fh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dh=/^\w*$/;function Kn(t,e){if(he(t))return!1;var r=typeof t;return!(r!="number"&&r!="symbol"&&r!="boolean"&&t!=null&&!_r(t))||Dh.test(t)||!Fh.test(t)||e!=null&&t in Object(e)}var cr=$e(Object,"create"),Uh=Object.prototype.hasOwnProperty,Mh=Object.prototype.hasOwnProperty;function Fe(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function Rr(t,e){for(var r=t.length;r--;)if(wi(t[r][0],e))return r;return-1}Fe.prototype.clear=function(){this.__data__=cr?cr(null):{},this.size=0},Fe.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Fe.prototype.get=function(t){var e=this.__data__;if(cr){var r=e[t];return r==="__lodash_hash_undefined__"?void 0:r}return Uh.call(e,t)?e[t]:void 0},Fe.prototype.has=function(t){var e=this.__data__;return cr?e[t]!==void 0:Mh.call(e,t)},Fe.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=cr&&e===void 0?"__lodash_hash_undefined__":e,this};var Wh=Array.prototype.splice;function ye(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}ye.prototype.clear=function(){this.__data__=[],this.size=0},ye.prototype.delete=function(t){var e=this.__data__,r=Rr(e,t);return!(r<0||(r==e.length-1?e.pop():Wh.call(e,r,1),--this.size,0))},ye.prototype.get=function(t){var e=this.__data__,r=Rr(e,t);return r<0?void 0:e[r][1]},ye.prototype.has=function(t){return Rr(this.__data__,t)>-1},ye.prototype.set=function(t,e){var r=this.__data__,i=Rr(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this};var yr=$e(ge,"Map");function Tr(t,e){var r,i,n=t.__data__;return((i=typeof(r=e))=="string"||i=="number"||i=="symbol"||i=="boolean"?r!=="__proto__":r===null)?n[typeof e=="string"?"string":"hash"]:n.map}function ve(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}function Ai(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var r=function(){var i=arguments,n=e?e.apply(this,i):i[0],s=r.cache;if(s.has(n))return s.get(n);var o=t.apply(this,i);return r.cache=s.set(n,o)||s,o};return r.cache=new(Ai.Cache||ve),r}ve.prototype.clear=function(){this.size=0,this.__data__={hash:new Fe,map:new(yr||ye),string:new Fe}},ve.prototype.delete=function(t){var e=Tr(this,t).delete(t);return this.size-=e?1:0,e},ve.prototype.get=function(t){return Tr(this,t).get(t)},ve.prototype.has=function(t){return Tr(this,t).has(t)},ve.prototype.set=function(t,e){var r=Tr(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this},Ai.Cache=ve;var Un,Mn,$h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vh=/\\(\\)?/g,Hh=(Un=Ai(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace($h,function(r,i,n,s){e.push(n?s.replace(Vh,"$1"):i||r)}),e},function(t){return Mn.size===500&&Mn.clear(),t}),Mn=Un.cache,Un);function Ao(t,e){return he(t)?t:Kn(t,e)?[t]:Hh(function(r){return r==null?"":vo(r)}(t))}var Zh=1/0;function Nr(t){if(typeof t=="string"||_r(t))return t;var e=t+"";return e=="0"&&1/t==-Zh?"-0":e}function Yn(t,e){for(var r=0,i=(e=Ao(e,t)).length;t!=null&&r<i;)t=t[Nr(e[r++])];return r&&r==i?t:void 0}function Eo(t,e){for(var r=-1,i=e.length,n=t.length;++r<i;)t[n+r]=e[r];return t}var ls=ue?ue.isConcatSpreadable:void 0;function qh(t){return he(t)||xi(t)||!!(ls&&t&&t[ls])}function Gh(t,e,r,i,n){var s=-1,o=t.length;for(r||(r=qh),n||(n=[]);++s<o;){var a=t[s];r(a)?Eo(n,a):n[n.length]=a}return n}function be(t){var e=this.__data__=new ye(t);this.size=e.size}be.prototype.clear=function(){this.__data__=new ye,this.size=0},be.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},be.prototype.get=function(t){return this.__data__.get(t)},be.prototype.has=function(t){return this.__data__.has(t)},be.prototype.set=function(t,e){var r=this.__data__;if(r instanceof ye){var i=r.__data__;if(!yr||i.length<199)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new ve(i)}return r.set(t,e),this.size=r.size,this};var Po=typeof exports=="object"&&exports&&!exports.nodeType&&exports,cs=Po&&typeof module=="object"&&module&&!module.nodeType&&module,us=cs&&cs.exports===Po?ge.Buffer:void 0;us&&us.allocUnsafe;function Xh(){return[]}var Kh=Object.prototype.propertyIsEnumerable,ds=Object.getOwnPropertySymbols,Yh=ds?function(t){return t==null?[]:(t=Object(t),function(e,r){for(var i=-1,n=e==null?0:e.length,s=0,o=[];++i<n;){var a=e[i];Kh.call(t,a)&&(o[s++]=a)}return o}(ds(t)))}:Xh,Jh=Yh;function Qh(t,e,r){var i=e(t);return he(t)?i:Eo(i,r(t))}function hs(t){return Qh(t,Si,Jh)}var Jn=$e(ge,"DataView"),Qn=$e(ge,"Promise"),ti=$e(ge,"Set"),fs="[object Map]",ps="[object Promise]",ms="[object Set]",gs="[object WeakMap]",vs="[object DataView]",tf=We(Jn),ef=We(yr),rf=We(Qn),nf=We(ti),sf=We(Gn),Ne=tr;(Jn&&Ne(new Jn(new ArrayBuffer(1)))!=vs||yr&&Ne(new yr)!=fs||Qn&&Ne(Qn.resolve())!=ps||ti&&Ne(new ti)!=ms||Gn&&Ne(new Gn)!=gs)&&(Ne=function(t){var e=tr(t),r=e=="[object Object]"?t.constructor:void 0,i=r?We(r):"";if(i)switch(i){case tf:return vs;case ef:return fs;case rf:return ps;case nf:return ms;case sf:return gs}return e});var _s=Ne,ys=ge.Uint8Array,bs=ue?ue.prototype:void 0;bs&&bs.valueOf;Je&&Je.isMap;Je&&Je.isSet;function mr(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new ve;++e<r;)this.add(t[e])}function of(t,e){for(var r=-1,i=t==null?0:t.length;++r<i;)if(e(t[r],r,t))return!0;return!1}function ei(t,e){return t.has(e)}mr.prototype.add=mr.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},mr.prototype.has=function(t){return this.__data__.has(t)};var af=1,lf=2;function ws(t,e,r,i,n,s){var o=r&af,a=t.length,c=e.length;if(a!=c&&!(o&&c>a))return!1;var u=s.get(t),m=s.get(e);if(u&&m)return u==e&&m==t;var _=-1,v=!0,f=r&lf?new mr:void 0;for(s.set(t,e),s.set(e,t);++_<a;){var h=t[_],l=e[_];if(i)var g=o?i(l,h,_,e,t,s):i(h,l,_,t,e,s);if(g!==void 0){if(g)continue;v=!1;break}if(f){if(!of(e,function(y,w){if(!ei(f,w)&&(h===y||n(h,y,r,i,s)))return f.push(w)})){v=!1;break}}else if(h!==l&&!n(h,l,r,i,s)){v=!1;break}}return s.delete(t),s.delete(e),v}function cf(t){var e=-1,r=Array(t.size);return t.forEach(function(i,n){r[++e]=[n,i]}),r}function uf(t){var e=-1,r=Array(t.size);return t.forEach(function(i){r[++e]=i}),r}var df=1,hf=2,ff="[object Boolean]",pf="[object Date]",mf="[object Error]",gf="[object Map]",vf="[object Number]",_f="[object RegExp]",yf="[object Set]",bf="[object String]",wf="[object Symbol]",kf="[object ArrayBuffer]",xf="[object DataView]",ks=ue?ue.prototype:void 0,Wn=ks?ks.valueOf:void 0,Sf=1,Af=Object.prototype.hasOwnProperty,Ef=1,xs="[object Arguments]",Ss="[object Array]",Br="[object Object]",As=Object.prototype.hasOwnProperty;function ri(t,e,r,i,n){return t===e||(t==null||e==null||!Ue(t)&&!Ue(e)?t!=t&&e!=e:function(s,o,a,c,u,m){var _=he(s),v=he(o),f=_?Ss:_s(s),h=v?Ss:_s(o),l=(f=f==xs?Br:f)==Br,g=(h=h==xs?Br:h)==Br,y=f==h;if(y&&Xn(s)){if(!Xn(o))return!1;_=!0,l=!1}if(y&&!l)return m||(m=new be),_||So(s)?ws(s,o,a,c,u,m):function(B,T,Z,N,D,W,S){switch(Z){case xf:if(B.byteLength!=T.byteLength||B.byteOffset!=T.byteOffset)return!1;B=B.buffer,T=T.buffer;case kf:return!(B.byteLength!=T.byteLength||!W(new ys(B),new ys(T)));case ff:case pf:case vf:return wi(+B,+T);case mf:return B.name==T.name&&B.message==T.message;case _f:case bf:return B==T+"";case gf:var U=cf;case yf:if(U||(U=uf),B.size!=T.size&&!(N&df))return!1;var p=S.get(B);if(p)return p==T;N|=hf,S.set(B,T);var F=ws(U(B),U(T),N,D,W,S);return S.delete(B),F;case wf:if(Wn)return Wn.call(B)==Wn.call(T)}return!1}(s,o,f,a,c,u,m);if(!(a&Ef)){var w=l&&As.call(s,"__wrapped__"),k=g&&As.call(o,"__wrapped__");if(w||k){var z=w?s.value():s,j=k?o.value():o;return m||(m=new be),u(z,j,a,c,m)}}return!!y&&(m||(m=new be),function(B,T,Z,N,D,W){var S=Z&Sf,U=hs(B),p=U.length;if(p!=hs(T).length&&!S)return!1;for(var F=p;F--;){var C=U[F];if(!(S?C in T:Af.call(T,C)))return!1}var b=W.get(B),E=W.get(T);if(b&&E)return b==T&&E==B;var R=!0;W.set(B,T),W.set(T,B);for(var V=S;++F<p;){var O=B[C=U[F]],I=T[C];if(N)var it=S?N(I,O,C,T,B,W):N(O,I,C,B,T,W);if(!(it===void 0?O===I||D(O,I,Z,N,W):it)){R=!1;break}V||(V=C=="constructor")}if(R&&!V){var tt=B.constructor,K=T.constructor;tt==K||!("constructor"in B)||!("constructor"in T)||typeof tt=="function"&&tt instanceof tt&&typeof K=="function"&&K instanceof K||(R=!1)}return W.delete(B),W.delete(T),R}(s,o,a,c,u,m))}(t,e,r,i,ri,n))}var Pf=1,Of=2;function Es(t){return t==t&&!bn(t)}function Ps(t,e){return function(r){return r!=null&&r[t]===e&&(e!==void 0||t in Object(r))}}function zf(t,e){return t!=null&&e in Object(t)}var Cf=1,If=2;function jf(t){return typeof t=="function"?t:t==null?wn:typeof t=="object"?he(t)?function(s,o){return Kn(s)&&Es(o)?Ps(Nr(s),o):function(a){var c=function(u,m,_){var v=u==null?void 0:Yn(u,m);return v===void 0?void 0:v}(a,s);return c===void 0&&c===o?function(u,m){return u!=null&&function(_,v,f){for(var h=-1,l=(v=Ao(v,_)).length,g=!1;++h<l;){var y=Nr(v[h]);if(!(g=_!=null&&f(_,y)))break;_=_[y]}return g||++h!=l?g:!!(l=_==null?0:_.length)&&ki(l)&&bi(y,l)&&(he(_)||xi(_))}(u,m,zf)}(a,s):ri(o,c,Cf|If)}}(t[0],t[1]):(n=function(s){for(var o=Si(s),a=o.length;a--;){var c=o[a],u=s[c];o[a]=[c,u,Es(u)]}return o}(i=t),n.length==1&&n[0][2]?Ps(n[0][0],n[0][1]):function(s){return s===i||function(o,a,c,u){var m=c.length,_=m;if(o==null)return!_;for(o=Object(o);m--;){var v=c[m];if(v[2]?v[1]!==o[v[0]]:!(v[0]in o))return!1}for(;++m<_;){var f=(v=c[m])[0],h=o[f],l=v[1];if(v[2]){if(h===void 0&&!(f in o))return!1}else{var g=new be;if(!ri(l,h,Pf|Of,void 0,g))return!1}}return!0}(s,0,n)}):Kn(e=t)?(r=Nr(e),function(s){return s==null?void 0:s[r]}):function(s){return function(o){return Yn(o,s)}}(e);var e,r,i,n}var Rf=function(t,e,r){for(var i=-1,n=Object(t),s=r(t),o=s.length;o--;){var a=s[++i];if(e(n[a],a,n)===!1)break}return t};function Tf(t,e){return t&&Rf(t,e,Si)}var Os,Bf=(Os=Tf,function(t,e){if(t==null)return t;if(!Er(t))return Os(t,e);for(var r=t.length,i=-1,n=Object(t);++i<r&&e(n[i],i,n)!==!1;);return t});function Nf(t,e){var r=-1,i=Er(t)?Array(t.length):[];return Bf(t,function(n,s,o){i[++r]=e(n,s,o)}),i}var Lf=Math.min;function Ff(t){return function(e){return Ue(e)&&Er(e)}(t)?t:[]}yo(function(t){var e=fr(t,Ff);return e.length&&e[0]===t[0]?function(r,i,n){for(var s=Ah,o=r[0].length,a=r.length,c=a,u=Array(a),m=1/0,_=[];c--;){var v=r[c];m=Lf(v.length,m),u[c]=o>=120&&v.length>=120?new mr(c&&v):void 0}v=r[0];var f=-1,h=u[0];t:for(;++f<o&&_.length<m;){var l=v[f],g=l;if(l=l!==0?l:0,!(h?ei(h,g):s(_,g,n))){for(c=a;--c;){var y=u[c];if(!(y?ei(y,g):s(r[c],g,n)))continue t}h&&h.push(g),_.push(l)}}return _}(e):[]});function Df(t,e){if(t!==e){var r=t!==void 0,i=t===null,n=t==t,s=_r(t),o=e!==void 0,a=e===null,c=e==e,u=_r(e);if(!a&&!u&&!s&&t>e||s&&o&&c&&!a&&!u||i&&o&&c||!r&&c||!n)return 1;if(!i&&!s&&!u&&t<e||u&&r&&n&&!i&&!s||a&&r&&n||!o&&n||!c)return-1}return 0}function Uf(t,e,r){e=e.length?fr(e,function(n){return he(n)?function(s){return Yn(s,n.length===1?n[0]:n)}:n}):[wn];var i=-1;return e=fr(e,ko(jf)),function(n,s){var o=n.length;for(n.sort(function(a,c){return function(u,m,_){for(var v=-1,f=u.criteria,h=m.criteria,l=f.length,g=_.length;++v<l;){var y=Df(f[v],h[v]);if(y)return v>=g?y:y*(_[v]=="desc"?-1:1)}return u.index-m.index}(a,c,r)});o--;)n[o]=n[o].value;return n}(Nf(t,function(n,s,o){return{criteria:fr(e,function(a){return a(n)}),index:++i,value:n}}))}yo(function(t,e){if(t==null)return[];var r=e.length;return r>1&&ns(t,e[0],e[1])?e=[]:r>2&&ns(e[0],e[1],e[2])&&(e=[e[0]]),Uf(t,Gh(e),[])});function St(t){if(this.words=[],t)if(Symbol&&Symbol.iterator&&t[Symbol.iterator]!==void 0){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.add(r.value),r=e.next()}else for(let e=0;e<t.length;e++)this.add(t[e])}St.fromWords=function(t){const e=Object.create(St.prototype);return e.words=t,e},St.prototype.add=function(t){this.resize(t),this.words[t>>>5]|=1<<t},St.prototype.flip=function(t){this.resize(t),this.words[t>>>5]^=1<<t},St.prototype.clear=function(){this.words.length=0},St.prototype.remove=function(t){this.resize(t),this.words[t>>>5]&=~(1<<t)},St.prototype.isEmpty=function(t){const e=this.words.length;for(let r=0;r<e;r++)if(this.words[r]!==0)return!1;return!0},St.prototype.has=function(t){return(this.words[t>>>5]&1<<t)!=0},St.prototype.checkedAdd=function(t){this.resize(t);const e=this.words[t>>>5],r=e|1<<t;return this.words[t>>>5]=r,(r^e)>>>t},St.prototype.trim=function(t){let e=this.words.length;for(;e>0&&this.words[e-1]===0;)e--;this.words.length=e},St.prototype.resize=function(t){const e=t+32>>>5;for(let r=this.words.length;r<e;r++)this.words[r]=0},St.prototype.hammingWeight=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},St.prototype.hammingWeight4=function(t,e,r,i){return 16843009*((t=(t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)+(e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)+(r=(r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)+(i=(i=(858993459&(i-=i>>>1&1431655765))+(i>>>2&858993459))+(i>>>4)&252645135))>>>24},St.prototype.size=function(){let t=0;const e=this.words.length,r=this.words;for(let i=0;i<e;i++)t+=this.hammingWeight(r[i]);return t},St.prototype.array=function(){const t=new Array(this.size());let e=0;const r=this.words.length;for(let i=0;i<r;++i){let n=this.words[i];for(;n!=0;){const s=n&-n;t[e++]=(i<<5)+this.hammingWeight(s-1|0),n^=s}}return t},St.prototype.forEach=function(t){const e=this.words.length;for(let r=0;r<e;++r){let i=this.words[r];for(;i!=0;){const n=i&-i;t((r<<5)+this.hammingWeight(n-1|0)),i^=n}}},St.prototype[Symbol.iterator]=function(){const t=this.words.length;let e=0,r=this.words[e],i=this.hammingWeight,n=this.words;return{[Symbol.iterator](){return this},next(){for(;e<t;){if(r!==0){const s=r&-r,o=(e<<5)+i(s-1|0);return r^=s,{done:!1,value:o}}e++,e<t&&(r=n[e])}return{done:!0,value:void 0}}}},St.prototype.clone=function(){const t=Object.create(St.prototype);return t.words=this.words.slice(),t},St.prototype.intersects=function(t){const e=Math.min(this.words.length,t.words.length);for(let r=0;r<e;++r)if(this.words[r]&t.words[r])return!0;return!1},St.prototype.intersection=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)this.words[r]&=t.words[r],this.words[r+1]&=t.words[r+1],this.words[r+2]&=t.words[r+2],this.words[r+3]&=t.words[r+3],this.words[r+4]&=t.words[r+4],this.words[r+5]&=t.words[r+5],this.words[r+6]&=t.words[r+6],this.words[r+7]&=t.words[r+7];for(;r<e;++r)this.words[r]&=t.words[r];const i=this.words.length;for(r=e;r<i;++r)this.words[r]=0;return this},St.prototype.intersection_size=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(let i=0;i<e;++i)r+=this.hammingWeight(this.words[i]&t.words[i]);return r},St.prototype.new_intersection=function(t){const e=Object.create(St.prototype),r=Math.min(this.words.length,t.words.length);e.words=new Array(r);let i=0;for(;i+7<r;i+=8)e.words[i]=this.words[i]&t.words[i],e.words[i+1]=this.words[i+1]&t.words[i+1],e.words[i+2]=this.words[i+2]&t.words[i+2],e.words[i+3]=this.words[i+3]&t.words[i+3],e.words[i+4]=this.words[i+4]&t.words[i+4],e.words[i+5]=this.words[i+5]&t.words[i+5],e.words[i+6]=this.words[i+6]&t.words[i+6],e.words[i+7]=this.words[i+7]&t.words[i+7];for(;i<r;++i)e.words[i]=this.words[i]&t.words[i];return e},St.prototype.equals=function(t){const e=Math.min(this.words.length,t.words.length);for(let r=0;r<e;++r)if(this.words[r]!=t.words[r])return!1;if(this.words.length<t.words.length){const r=t.words.length;for(let i=this.words.length;i<r;++i)if(t.words[i]!=0)return!1}else if(t.words.length<this.words.length){const r=this.words.length;for(let i=t.words.length;i<r;++i)if(this.words[i]!=0)return!1}return!0},St.prototype.difference=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)this.words[r]&=~t.words[r],this.words[r+1]&=~t.words[r+1],this.words[r+2]&=~t.words[r+2],this.words[r+3]&=~t.words[r+3],this.words[r+4]&=~t.words[r+4],this.words[r+5]&=~t.words[r+5],this.words[r+6]&=~t.words[r+6],this.words[r+7]&=~t.words[r+7];for(;r<e;++r)this.words[r]&=~t.words[r];return this},St.prototype.new_difference=function(t){return this.clone().difference(t)},St.prototype.difference2=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)t.words[r]=this.words[r]&~t.words[r],t.words[r+1]=this.words[r+1]&~t.words[r+1],t.words[r+2]=this.words[r+2]&~t.words[r+2],t.words[r+3]=this.words[r+3]&~t.words[r+3],t.words[r+4]=this.words[r+4]&~t.words[r+4],t.words[r+5]=this.words[r+5]&~t.words[r+5],t.words[r+6]=this.words[r+6]&~t.words[r+6],t.words[r+7]=this.words[r+7]&~t.words[r+7];for(;r<e;++r)t.words[r]=this.words[r]&~t.words[r];for(r=this.words.length-1;r>=e;--r)t.words[r]=this.words[r];return t.words.length=this.words.length,t},St.prototype.difference_size=function(t){const e=Math.min(this.words.length,t.words.length);let r=0,i=0;for(;i<e;++i)r+=this.hammingWeight(this.words[i]&~t.words[i]);const n=this.words.length;for(;i<n;++i)r+=this.hammingWeight(this.words[i]);return r},St.prototype.change=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)this.words[r]^=t.words[r],this.words[r+1]^=t.words[r+1],this.words[r+2]^=t.words[r+2],this.words[r+3]^=t.words[r+3],this.words[r+4]^=t.words[r+4],this.words[r+5]^=t.words[r+5],this.words[r+6]^=t.words[r+6],this.words[r+7]^=t.words[r+7];for(;r<e;++r)this.words[r]^=t.words[r];for(r=t.words.length-1;r>=e;--r)this.words[r]=t.words[r];return this},St.prototype.new_change=function(t){const e=Object.create(St.prototype),r=Math.max(this.words.length,t.words.length);e.words=new Array(r);const i=Math.min(this.words.length,t.words.length);let n=0;for(;n+7<i;n+=8)e.words[n]=this.words[n]^t.words[n],e.words[n+1]=this.words[n+1]^t.words[n+1],e.words[n+2]=this.words[n+2]^t.words[n+2],e.words[n+3]=this.words[n+3]^t.words[n+3],e.words[n+4]=this.words[n+4]^t.words[n+4],e.words[n+5]=this.words[n+5]^t.words[n+5],e.words[n+6]=this.words[n+6]^t.words[n+6],e.words[n+7]=this.words[n+7]^t.words[n+7];for(;n<i;++n)e.words[n]=this.words[n]^t.words[n];const s=this.words.length;for(n=i;n<s;++n)e.words[n]=this.words[n];const o=t.words.length;for(n=i;n<o;++n)e.words[n]=t.words[n];return e},St.prototype.change_size=function(t){const e=Math.min(this.words.length,t.words.length);let r=0,i=0;for(;i<e;++i)r+=this.hammingWeight(this.words[i]^t.words[i]);const n=this.words.length>t.words.length?this:t,s=n.words.length;for(;i<s;++i)r+=this.hammingWeight(n.words[i]);return r},St.prototype.toString=function(){return"{"+this.array().join(",")+"}"},St.prototype.union=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)this.words[r]|=t.words[r],this.words[r+1]|=t.words[r+1],this.words[r+2]|=t.words[r+2],this.words[r+3]|=t.words[r+3],this.words[r+4]|=t.words[r+4],this.words[r+5]|=t.words[r+5],this.words[r+6]|=t.words[r+6],this.words[r+7]|=t.words[r+7];for(;r<e;++r)this.words[r]|=t.words[r];if(this.words.length<t.words.length){this.resize((t.words.length<<5)-1);const i=t.words.length;for(let n=e;n<i;++n)this.words[n]=t.words[n]}return this},St.prototype.new_union=function(t){const e=Object.create(St.prototype),r=Math.max(this.words.length,t.words.length);e.words=new Array(r);const i=Math.min(this.words.length,t.words.length);let n=0;for(;n+7<i;n+=8)e.words[n]=this.words[n]|t.words[n],e.words[n+1]=this.words[n+1]|t.words[n+1],e.words[n+2]=this.words[n+2]|t.words[n+2],e.words[n+3]=this.words[n+3]|t.words[n+3],e.words[n+4]=this.words[n+4]|t.words[n+4],e.words[n+5]=this.words[n+5]|t.words[n+5],e.words[n+6]=this.words[n+6]|t.words[n+6],e.words[n+7]=this.words[n+7]|t.words[n+7];for(;n<i;++n)e.words[n]=this.words[n]|t.words[n];const s=this.words.length;for(n=i;n<s;++n)e.words[n]=this.words[n];const o=t.words.length;for(n=i;n<o;++n)e.words[n]=t.words[n];return e},St.prototype.union_size=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(let i=0;i<e;++i)r+=this.hammingWeight(this.words[i]|t.words[i]);if(this.words.length<t.words.length){const i=t.words.length;for(let n=this.words.length;n<i;++n)r+=this.hammingWeight(0|t.words[n])}else{const i=this.words.length;for(let n=t.words.length;n<i;++n)r+=this.hammingWeight(0|this.words[n])}return r};(function(t){var e={exports:{}};return function(r,i){(function(){var n,s,o,a,c,u,m,_,v,f,h,l,g,y,w,k,z,j,B,T,Z,N,D,W,S,U,p,F,C=function(b){var E=new C.Index;return E.pipeline.add(C.trimmer,C.stopWordFilter,C.stemmer),b&&b.call(E,E),E};C.version="1.0.0",C.utils={},C.utils.warn=function(b){return function(E){b.console&&console.warn&&console.warn(E)}}(this),C.utils.asString=function(b){return b==null?"":b.toString()},C.EventEmitter=function(){this.events={}},C.EventEmitter.prototype.addListener=function(){var b=Array.prototype.slice.call(arguments),E=b.pop(),R=b;if(typeof E!="function")throw new TypeError("last argument must be a function");R.forEach(function(V){this.hasHandler(V)||(this.events[V]=[]),this.events[V].push(E)},this)},C.EventEmitter.prototype.removeListener=function(b,E){if(this.hasHandler(b)){var R=this.events[b].indexOf(E);this.events[b].splice(R,1),this.events[b].length||delete this.events[b]}},C.EventEmitter.prototype.emit=function(b){if(this.hasHandler(b)){var E=Array.prototype.slice.call(arguments,1);this.events[b].forEach(function(R){R.apply(void 0,E)})}},C.EventEmitter.prototype.hasHandler=function(b){return b in this.events},C.tokenizer=function(b){return arguments.length&&b!=null&&b!=null?Array.isArray(b)?b.map(function(E){return C.utils.asString(E).toLowerCase()}):b.toString().trim().toLowerCase().split(C.tokenizer.separator):[]},C.tokenizer.separator=/[\s\-]+/,C.tokenizer.load=function(b){var E=this.registeredFunctions[b];if(!E)throw new Error("Cannot load un-registered function: "+b);return E},C.tokenizer.label="default",C.tokenizer.registeredFunctions={default:C.tokenizer},C.tokenizer.registerFunction=function(b,E){E in this.registeredFunctions&&C.utils.warn("Overwriting existing tokenizer: "+E),b.label=E,this.registeredFunctions[E]=b},C.Pipeline=function(){this._stack=[]},C.Pipeline.registeredFunctions={},C.Pipeline.registerFunction=function(b,E){E in this.registeredFunctions&&C.utils.warn("Overwriting existing registered function: "+E),b.label=E,C.Pipeline.registeredFunctions[b.label]=b},C.Pipeline.warnIfFunctionNotRegistered=function(b){b.label&&b.label in this.registeredFunctions||C.utils.warn(`Function is not registered with pipeline. This may cause problems when serialising the index.
`,b)},C.Pipeline.load=function(b){var E=new C.Pipeline;return b.forEach(function(R){var V=C.Pipeline.registeredFunctions[R];if(!V)throw new Error("Cannot load un-registered function: "+R);E.add(V)}),E},C.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(b){C.Pipeline.warnIfFunctionNotRegistered(b),this._stack.push(b)},this)},C.Pipeline.prototype.after=function(b,E){C.Pipeline.warnIfFunctionNotRegistered(E);var R=this._stack.indexOf(b);if(R==-1)throw new Error("Cannot find existingFn");this._stack.splice(R+=1,0,E)},C.Pipeline.prototype.before=function(b,E){C.Pipeline.warnIfFunctionNotRegistered(E);var R=this._stack.indexOf(b);if(R==-1)throw new Error("Cannot find existingFn");this._stack.splice(R,0,E)},C.Pipeline.prototype.remove=function(b){var E=this._stack.indexOf(b);E!=-1&&this._stack.splice(E,1)},C.Pipeline.prototype.run=function(b){for(var E=[],R=b.length,V=this._stack.length,O=0;O<R;O++){for(var I=b[O],it=0;it<V&&(I=this._stack[it](I,O,b))!==void 0&&I!=="";it++);I!==void 0&&I!==""&&E.push(I)}return E},C.Pipeline.prototype.reset=function(){this._stack=[]},C.Pipeline.prototype.toJSON=function(){return this._stack.map(function(b){return C.Pipeline.warnIfFunctionNotRegistered(b),b.label})},C.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},C.Vector.Node=function(b,E,R){this.idx=b,this.val=E,this.next=R},C.Vector.prototype.insert=function(b,E){this._magnitude=void 0;var R=this.list;if(!R)return this.list=new C.Vector.Node(b,E,R),this.length++;if(b<R.idx)return this.list=new C.Vector.Node(b,E,R),this.length++;for(var V=R,O=R.next;O!=null;){if(b<O.idx)return V.next=new C.Vector.Node(b,E,O),this.length++;V=O,O=O.next}return V.next=new C.Vector.Node(b,E,O),this.length++},C.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var b,E=this.list,R=0;E;)R+=(b=E.val)*b,E=E.next;return this._magnitude=Math.sqrt(R)},C.Vector.prototype.dot=function(b){for(var E=this.list,R=b.list,V=0;E&&R;)E.idx<R.idx?E=E.next:(E.idx>R.idx||(V+=E.val*R.val,E=E.next),R=R.next);return V},C.Vector.prototype.similarity=function(b){return this.dot(b)/(this.magnitude()*b.magnitude())},C.SortedSet=function(){this.length=0,this.elements=[]},C.SortedSet.load=function(b){var E=new this;return E.elements=b,E.length=b.length,E},C.SortedSet.prototype.add=function(){var b,E;for(b=0;b<arguments.length;b++)~this.indexOf(E=arguments[b])||this.elements.splice(this.locationFor(E),0,E);this.length=this.elements.length},C.SortedSet.prototype.toArray=function(){return this.elements.slice()},C.SortedSet.prototype.map=function(b,E){return this.elements.map(b,E)},C.SortedSet.prototype.forEach=function(b,E){return this.elements.forEach(b,E)},C.SortedSet.prototype.indexOf=function(b){for(var E=0,R=this.elements.length,V=R-E,O=E+Math.floor(V/2),I=this.elements[O];V>1;){if(I===b)return O;I<b&&(E=O),I>b&&(R=O),V=R-E,O=E+Math.floor(V/2),I=this.elements[O]}return I===b?O:-1},C.SortedSet.prototype.locationFor=function(b){for(var E=0,R=this.elements.length,V=R-E,O=E+Math.floor(V/2),I=this.elements[O];V>1;)I<b&&(E=O),I>b&&(R=O),V=R-E,O=E+Math.floor(V/2),I=this.elements[O];return I>b?O:I<b?O+1:void 0},C.SortedSet.prototype.intersect=function(b){for(var E=new C.SortedSet,R=0,V=0,O=this.length,I=b.length,it=this.elements,tt=b.elements;!(R>O-1||V>I-1);)it[R]!==tt[V]?it[R]<tt[V]?R++:it[R]>tt[V]&&V++:(E.add(it[R]),R++,V++);return E},C.SortedSet.prototype.clone=function(){var b=new C.SortedSet;return b.elements=this.toArray(),b.length=b.elements.length,b},C.SortedSet.prototype.union=function(b){var E,R,V;this.length>=b.length?(E=this,R=b):(E=b,R=this),V=E.clone();for(var O=0,I=R.toArray();O<I.length;O++)V.add(I[O]);return V},C.SortedSet.prototype.toJSON=function(){return this.toArray()},C.Index=function(){this._fields=[],this._ref="id",this.pipeline=new C.Pipeline,this.documentStore=new C.Store,this.tokenStore=new C.TokenStore,this.corpusTokens=new C.SortedSet,this.eventEmitter=new C.EventEmitter,this.tokenizerFn=C.tokenizer,this._idfCache={},this.on("add","remove","update",(function(){this._idfCache={}}).bind(this))},C.Index.prototype.on=function(){var b=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,b)},C.Index.prototype.off=function(b,E){return this.eventEmitter.removeListener(b,E)},C.Index.load=function(b){b.version!==C.version&&C.utils.warn("version mismatch: current "+C.version+" importing "+b.version);var E=new this;return E._fields=b.fields,E._ref=b.ref,E.tokenizer(C.tokenizer.load(b.tokenizer)),E.documentStore=C.Store.load(b.documentStore),E.tokenStore=C.TokenStore.load(b.tokenStore),E.corpusTokens=C.SortedSet.load(b.corpusTokens),E.pipeline=C.Pipeline.load(b.pipeline),E},C.Index.prototype.field=function(b,E){return this._fields.push({name:b,boost:(E=E||{}).boost||1}),this},C.Index.prototype.ref=function(b){return this._ref=b,this},C.Index.prototype.tokenizer=function(b){return b.label&&b.label in C.tokenizer.registeredFunctions||C.utils.warn("Function is not a registered tokenizer. This may cause problems when serialising the index"),this.tokenizerFn=b,this},C.Index.prototype.add=function(b,E){var R={},V=new C.SortedSet,O=b[this._ref];E=E===void 0||E,this._fields.forEach(function(yt){var xt=this.pipeline.run(this.tokenizerFn(b[yt.name]));R[yt.name]=xt;for(var Pt=0;Pt<xt.length;Pt++){var d=xt[Pt];V.add(d),this.corpusTokens.add(d)}},this),this.documentStore.set(O,V);for(var I=0;I<V.length;I++){for(var it=V.elements[I],tt=0,K=0;K<this._fields.length;K++){var At=this._fields[K],Nt=R[At.name],vt=Nt.length;if(vt){for(var dt=0,ct=0;ct<vt;ct++)Nt[ct]===it&&dt++;tt+=dt/vt*At.boost}}this.tokenStore.add(it,{ref:O,tf:tt})}E&&this.eventEmitter.emit("add",b,this)},C.Index.prototype.remove=function(b,E){var R=b[this._ref];if(E=E===void 0||E,this.documentStore.has(R)){var V=this.documentStore.get(R);this.documentStore.remove(R),V.forEach(function(O){this.tokenStore.remove(O,R)},this),E&&this.eventEmitter.emit("remove",b,this)}},C.Index.prototype.update=function(b,E){E=E===void 0||E,this.remove(b,!1),this.add(b,!1),E&&this.eventEmitter.emit("update",b,this)},C.Index.prototype.idf=function(b){var E="@"+b;if(Object.prototype.hasOwnProperty.call(this._idfCache,E))return this._idfCache[E];var R=this.tokenStore.count(b),V=1;return R>0&&(V=1+Math.log(this.documentStore.length/R)),this._idfCache[E]=V},C.Index.prototype.search=function(b){var E=this.pipeline.run(this.tokenizerFn(b)),R=new C.Vector,V=[],O=this._fields.reduce(function(I,it){return I+it.boost},0);return E.some(function(I){return this.tokenStore.has(I)},this)?(E.forEach(function(I,it,tt){var K=1/tt.length*this._fields.length*O,At=this,Nt=this.tokenStore.expand(I).reduce(function(vt,dt){var ct=At.corpusTokens.indexOf(dt),yt=At.idf(dt),xt=1,Pt=new C.SortedSet;if(dt!==I){var d=Math.max(3,dt.length-I.length);xt=1/Math.log(d)}ct>-1&&R.insert(ct,K*yt*xt);for(var q=At.tokenStore.get(dt),$=Object.keys(q),A=$.length,x=0;x<A;x++)Pt.add(q[$[x]].ref);return vt.union(Pt)},new C.SortedSet);V.push(Nt)},this),V.reduce(function(I,it){return I.intersect(it)}).map(function(I){return{ref:I,score:R.similarity(this.documentVector(I))}},this).sort(function(I,it){return it.score-I.score})):[]},C.Index.prototype.documentVector=function(b){for(var E=this.documentStore.get(b),R=E.length,V=new C.Vector,O=0;O<R;O++){var I=E.elements[O],it=this.tokenStore.get(I)[b].tf,tt=this.idf(I);V.insert(this.corpusTokens.indexOf(I),it*tt)}return V},C.Index.prototype.toJSON=function(){return{version:C.version,fields:this._fields,ref:this._ref,tokenizer:this.tokenizerFn.label,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},C.Index.prototype.use=function(b){var E=Array.prototype.slice.call(arguments,1);E.unshift(this),b.apply(this,E)},C.Store=function(){this.store={},this.length=0},C.Store.load=function(b){var E=new this;return E.length=b.length,E.store=Object.keys(b.store).reduce(function(R,V){return R[V]=C.SortedSet.load(b.store[V]),R},{}),E},C.Store.prototype.set=function(b,E){this.has(b)||this.length++,this.store[b]=E},C.Store.prototype.get=function(b){return this.store[b]},C.Store.prototype.has=function(b){return b in this.store},C.Store.prototype.remove=function(b){this.has(b)&&(delete this.store[b],this.length--)},C.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},C.stemmer=(n={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},s={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},u="^("+(a="[^aeiou][^aeiouy]*")+")?"+(c=(o="[aeiouy]")+"[aeiou]*")+a+"("+c+")?$",m="^("+a+")?"+c+a+c+a,_="^("+a+")?"+o,v=new RegExp("^("+a+")?"+c+a),f=new RegExp(m),h=new RegExp(u),l=new RegExp(_),g=/^(.+?)(ss|i)es$/,y=/^(.+?)([^s])s$/,w=/^(.+?)eed$/,k=/^(.+?)(ed|ing)$/,z=/.$/,j=/(at|bl|iz)$/,B=new RegExp("([^aeiouylsz])\\1$"),T=new RegExp("^"+a+o+"[^aeiouwxy]$"),Z=/^(.+?[^aeiou])y$/,N=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,D=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,W=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,S=/^(.+?)(s|t)(ion)$/,U=/^(.+?)e$/,p=/ll$/,F=new RegExp("^"+a+o+"[^aeiouwxy]$"),function(b){var E,R,V,O,I,it,tt;if(b.length<3)return b;if((V=b.substr(0,1))=="y"&&(b=V.toUpperCase()+b.substr(1)),I=y,(O=g).test(b)?b=b.replace(O,"$1$2"):I.test(b)&&(b=b.replace(I,"$1$2")),I=k,(O=w).test(b)){var K=O.exec(b);(O=v).test(K[1])&&(b=b.replace(O=z,""))}else I.test(b)&&(K=I.exec(b),(I=l).test(E=K[1])&&(it=B,tt=T,(I=j).test(b=E)?b+="e":it.test(b)?b=b.replace(O=z,""):tt.test(b)&&(b+="e")));return(O=Z).test(b)&&(b=(E=(K=O.exec(b))[1])+"i"),(O=N).test(b)&&(R=(K=O.exec(b))[2],(O=v).test(E=K[1])&&(b=E+n[R])),(O=D).test(b)&&(R=(K=O.exec(b))[2],(O=v).test(E=K[1])&&(b=E+s[R])),I=S,(O=W).test(b)?(K=O.exec(b),(O=f).test(E=K[1])&&(b=E)):I.test(b)&&(K=I.exec(b),(I=f).test(E=K[1]+K[2])&&(b=E)),(O=U).test(b)&&(K=O.exec(b),I=h,it=F,((O=f).test(E=K[1])||I.test(E)&&!it.test(E))&&(b=E)),I=f,(O=p).test(b)&&I.test(b)&&(b=b.replace(O=z,"")),V=="y"&&(b=V.toLowerCase()+b.substr(1)),b}),C.Pipeline.registerFunction(C.stemmer,"stemmer"),C.generateStopWordFilter=function(b){var E=b.reduce(function(R,V){return R[V]=V,R},{});return function(R){if(R&&E[R]!==R)return R}},C.stopWordFilter=C.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),C.Pipeline.registerFunction(C.stopWordFilter,"stopWordFilter"),C.trimmer=function(b){return b.replace(/^\W+/,"").replace(/\W+$/,"")},C.Pipeline.registerFunction(C.trimmer,"trimmer"),C.TokenStore=function(){this.root={docs:{}},this.length=0},C.TokenStore.load=function(b){var E=new this;return E.root=b.root,E.length=b.length,E},C.TokenStore.prototype.add=function(b,E,R){R=R||this.root;var V=b.charAt(0),O=b.slice(1);return V in R||(R[V]={docs:{}}),O.length===0?(R[V].docs[E.ref]=E,void(this.length+=1)):this.add(O,E,R[V])},C.TokenStore.prototype.has=function(b){if(!b)return!1;for(var E=this.root,R=0;R<b.length;R++){if(!E[b.charAt(R)])return!1;E=E[b.charAt(R)]}return!0},C.TokenStore.prototype.getNode=function(b){if(!b)return{};for(var E=this.root,R=0;R<b.length;R++){if(!E[b.charAt(R)])return{};E=E[b.charAt(R)]}return E},C.TokenStore.prototype.get=function(b,E){return this.getNode(b,E).docs||{}},C.TokenStore.prototype.count=function(b,E){return Object.keys(this.get(b,E)).length},C.TokenStore.prototype.remove=function(b,E){if(b){for(var R=this.root,V=0;V<b.length;V++){if(!(b.charAt(V)in R))return;R=R[b.charAt(V)]}delete R.docs[E]}},C.TokenStore.prototype.expand=function(b,E){var R=this.getNode(b);return E=E||[],Object.keys(R.docs||{}).length&&E.push(b),Object.keys(R).forEach(function(V){V!=="docs"&&E.concat(this.expand(b+V,E))},this),E},C.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},r.exports=C})()}(e),e.exports})();const ni={aggregations:{notAfter:{title:"Not after",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},notBefore:{title:"Not before",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},language:{title:"Language",hide_zero_doc_count:!0,size:200,sort:"key",conjunction:!1},languageCert:{title:"Language certainty",hide_zero_doc_count:!0,size:10,sort:"key"},provenance:{title:"Provenance",hide_zero_doc_count:!0,size:200,sort:"key",conjunction:!1},inscriptionType:{title:"Inscription type",hide_zero_doc_count:!0,size:200,sort:"key",conjunction:!1},objectType:{title:"Object type",hide_zero_doc_count:!0,size:200,sort:"key",conjunction:!1},material:{title:"Material",hide_zero_doc_count:!0,size:200,sort:"key",conjunction:!1},technique:{title:"Technique",hide_zero_doc_count:!0,size:200,sort:"key",conjunction:!1},pigment:{title:"Pigment",hide_zero_doc_count:!0,size:200,sort:"key",conjunction:!1},letterHeightAtLeast:{title:"Letter height at least",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},letterHeightAtMost:{title:"Letter height at most",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},condition:{title:"Condition",hide_zero_doc_count:!0,size:100,sort:"key",conjunction:!1},damage:{title:"Damage",hide_zero_doc_count:!0,size:100,sort:"key",conjunction:!1},repository:{title:"Repository",hide_zero_doc_count:!0,size:200,sort:"key",conjunction:!1},publications:{title:"Publication",hide_zero_doc_count:!0,size:2e3,sort:"key",conjunction:!1},status:{title:"Status",hide_zero_doc_count:!0,sort:"key",conjunction:!1}},searchableFields:[],sortings:{file_asc:{field:"file",order:"asc"},file_desc:{field:"file",order:"desc"},notAfter_asc:{field:"notAfter",order:"asc"},notAfter_desc:{field:"notAfter",order:"desc"},notBefore_asc:{field:"notBefore",order:"desc"},notBefore_desc:{field:"notBefore",order:"desc"},title_asc:{field:"title",order:"asc"},title_desc:{field:"title",order:"desc"}}};ni.searchableFields=["file","keywords","title","text",...Object.keys(ni.aggregations)];function Mf(t){return new Worker(""+new URL("../workers/worker-ChG-ggtg.js",import.meta.url).href,{name:t==null?void 0:t.name})}async function Wf(t,e,r,i,n,s){var o,a;t.preventDefault(),ae(r,1),ae(n,((o=t.target)==null?void 0:o.value)??""),s(1,((a=t.target)==null?void 0:a.value)??"")}var $f=ut('<h2 aria-busy="true" class="svelte-2xv06">Loading inscriptions...</h2>'),Vf=ut("<!>View cards",1),Hf=ut("<!>View map",1),Zf=ut("<!>View table",1),qf=ut("<!>CSV",1),Gf=ut("<!>Epidoc",1),Xf=ut("<!>Explore filters",1),Kf=ut('<h3 aria-busy="true">Downloading inscriptions...</h3>'),Yf=ut('<div class="transition-container svelte-2xv06"><!></div>'),Jf=ut('<div class="transition-container svelte-2xv06"><!></div>'),Qf=ut("<!> <!>",1),tp=ut('<!> <section class="reduced-block-margin svelte-2xv06"><!> <!> <!> <!> <!></section> <section class="reduced-block-margin controls svelte-2xv06"><p> </p> <div class="filters-toggle"><!></div> <div class="sort-controls svelte-2xv06"><label for="sort-select">Sort by:</label> <select id="sort-select"><option>File</option><option>Not before</option><option>Not after</option><option>Title</option></select> <!></div></section> <!>',1),ep=ut('<article id="faceted-search"><section><form class="svelte-2xv06"><label class="visually-hidden" for="q">Search query:</label> <input type="text" name="q" id="q" placeholder="Search inscriptions metadata" class="svelte-2xv06"> <!> <!></form></section> <section class="inscriptions svelte-2xv06"><!></section></article> <!>',1);function rp(t,e){Gt(e,!0);const[r,i]=ia(),n=()=>ir(v,"$searchViewParam",r),s=()=>ir(m,"$searchPageParam",r),o=()=>ir(u,"$searchQueryParam",r),a=()=>ir(_,"$searchLimitParam",r),c=()=>ir(f,"$searchFiltersParam",r),u=ar("q",or.string("")),m=ar("page",or.number(1)),_=ar("limit",or.number(Zt.limit)),v=ar("view",or.string("cards")),f=ar("filters",or.object({}));let h=Kt("idle"),l=lt(()=>["idle","load"].includes(P(h))),g=Kt(!1),y=Kt(void 0),w=Kt(Rt({})),k=lt(()=>{var H;return((H=P(w))==null?void 0:H.pagination)??{}}),z=lt(()=>{var H,rt;return((rt=(H=P(w))==null?void 0:H.data)==null?void 0:rt.aggregations)??{}}),j=lt(()=>{var H;return((H=P(k))==null?void 0:H.total)??0}),B=lt(R),T=lt(()=>{var H,rt;return((rt=(H=P(w))==null?void 0:H.data)==null?void 0:rt.items)??[]}),Z=lt(()=>{var H;return n()==="map"?(H=P(T))==null?void 0:H.map(rt=>({file:rt.file,title:rt.title,places:rt.places,geo:rt.geo[0]})):[]}),N=Kt(!1);const D=Rt({sortAggregationsBy:"key",languageConjunction:!0,sortResultsBy:"file",sortResultsOrder:"asc"});let W=Kt(Rt(C())),S=Kt(Rt(b())),U=Kt(Rt(E()));async function p(){P(h)!=="ready"&&(wt(h,"load"),wt(y,Rt(new Mf)),P(y).addEventListener("message",H=>{const{type:rt,data:ot}=H.data;rt==="ready"&&(wt(h,"ready"),F()),rt==="results"&&wt(w,Rt(ot))}),P(y).postMessage({type:"load",data:{sortAggregationsBy:D.sortAggregationsBy}}))}async function F(H,rt,ot){let zt=s(),Ft=o(),Ot=a();if(H&&(zt=H),rt!=null&&(Ft=rt),ot&&(Ot=ot),P(h)==="ready"){const Bt=Object.fromEntries(Object.keys(P(U)).map(Ct=>[Ct,[...P(U)[Ct]]]));P(y).postMessage({type:"search",data:{limit:Ot,page:zt,query:Ft,sort:`${D.sortResultsBy}_${D.sortResultsOrder}`,filters:Bt,dateRange:[...P(W)],letterHeightRange:[...P(S)]}})}}function C(){return[Zt.minDate,Zt.maxDate]}function b(){return[Zt.minLetterHeight,Zt.maxLetterHeight]}function E(){return Object.keys(ni.aggregations).filter(H=>H.indexOf("not")<0).filter(H=>H.indexOf("letterHeight")<0).reduce((H,rt)=>(H[rt]=c()[rt]?[...c()[rt]]:[],H),{})}function R(){var H;return!P(z)||!((H=P(z))!=null&&H.provenance)?0:P(z).provenance.buckets.length}async function V(H){H.preventDefault(),ae(m,1),F()}async function O(H){H.preventDefault(),document.getElementById("q")&&(document.getElementById("q").value=""),ae(u,""),ae(m,1),ae(_,n()==="map"?Zt.maxLimit:Zt.limit),ae(f,""),wt(W,Rt([...C()])),wt(S,Rt([...b()])),wt(U,Rt({...E()})),F(1,"",n()==="map"?Zt.maxLimit:Zt.limit)}async function I(){D.sortAggregationsBy&&P(y)&&P(h)==="ready"&&(P(y).postMessage({type:"load",data:{sortAggregationsBy:D.sortAggregationsBy,languageConjunction:D.languageConjunction}}),F())}async function it(){D.sortAggregationsBy&&P(y)&&P(h)==="ready"&&(P(y).postMessage({type:"load",data:{sortAggregationsBy:D.sortAggregationsBy,languageConjunction:D.languageConjunction}}),F())}async function tt(){ae(m,1);const H=Object.fromEntries(Object.entries(P(U)).filter(([rt,ot])=>ot&&ot.length>0).map(([rt,ot])=>[rt,[...ot]]));ae(f,H),F()}function K(){const H=C(),rt=b();return o()!==""||P(W).some((ot,zt)=>ot!==H[zt])||P(S).some((ot,zt)=>ot!==rt[zt])||Object.keys(P(U)).some(ot=>P(U)[ot].length>0)}async function At(H){let rt=a();H==="map"?rt=Zt.maxLimit:n()==="map"&&(wt(w,Rt({...P(w),data:{...P(w).data,items:[]}})),rt=Zt.limit,ae(m,1)),ae(_,rt),ae(v,H),F(1,o(),rt)}async function Nt(){wt(g,!0),P(y).postMessage({type:"search",data:{limit:Zt.maxLimit,page:1,query:o(),sort:`${D.sortResultsBy}_${D.sortResultsOrder}`,filters:Object.fromEntries(Object.entries(P(U)).filter(([rt,ot])=>ot&&ot.length>0).map(([rt,ot])=>[rt,[...ot]])),dateRange:[...P(W)],letterHeightRange:[...P(S)]}});const H=rt=>{const{type:ot,data:zt}=rt.data;if(ot==="results"){const Ft=vt(zt.data.items);yd(Ft,zt.data.items),P(y).removeEventListener("message",H),wt(g,!1),F()}};P(y).addEventListener("message",H)}function vt(H){let rt=`${H.length.toLocaleString()} Inscriptions between `;if(rt+=`${P(W)[0]>0?`AD ${P(W)[0]}`:`${Math.abs(P(W)[0])} BC`} – `,rt+=`${P(W)[1]>0?`AD ${P(W)[1]}`:`${Math.abs(P(W)[1])} BC`}`,rt+=` across ${P(B).toLocaleString()} locations`,o()&&(rt+=`, matching ${o().split(" ").join(", ")}`),Object.values(P(U)).some(zt=>zt.length>0)){rt+=", filtered by ";const zt=Object.entries(P(U)).filter(([Ft,Ot])=>Ot&&Ot.length>0).map(([Ft,Ot])=>`${Ft}: ${Ot.join(", ").replaceAll("_"," ").replaceAll(":::"," ")}`);rt+=zt.join(", ")}return rt}async function dt(){wt(g,!0),P(y).postMessage({type:"search",data:{limit:Zt.maxLimit,page:1,query:o(),sort:`${D.sortResultsBy}_${D.sortResultsOrder}`,filters:Object.fromEntries(Object.entries(P(U)).filter(([rt,ot])=>ot&&ot.length>0).map(([rt,ot])=>[rt,[...ot]])),dateRange:[...P(W)],letterHeightRange:[...P(S)]}});const H=rt=>{const{type:ot,data:zt}=rt.data;if(ot==="results"){const Ft=vt(zt.data.items);Ad(Ft,zt.data.items),P(y).removeEventListener("message",H),wt(g,!1),F()}};P(y).addEventListener("message",H)}async function ct(){D.sortResultsOrder=D.sortResultsOrder==="asc"?"desc":"asc",F()}async function yt(H){ae(m,H),F(H)}Rs(()=>{p()});var xt=ep();De("keydown",Qo,H=>{var rt;(H.ctrlKey||H.metaKey)&&(H.key==="k"||H.key==="K")&&(H.preventDefault(),wt(N,!P(N))),H.key==="/"&&(H.preventDefault(),(rt=document.getElementById("q"))==null||rt.focus())});var Pt=ft(xt),d=J(Pt),q=J(d),$=st(J(q),2);$.__input=[Wf,s,m,o,u,F];var A=st($,2);const x=lt(()=>!o());Wt(A,()=>le,(H,rt)=>{rt(H,{class:"primary",type:"submit",get disabled(){return P(x)},children:(ot,zt)=>{Vt();var Ft=te("Search");Y(ot,Ft)},$$slots:{default:!0}})});var L=st(A,2);const X=lt(()=>!K());Wt(L,()=>le,(H,rt)=>{rt(H,{class:"secondary",type:"reset",get disabled(){return P(X)},children:(ot,zt)=>{Vt();var Ft=te("Reset");Y(ot,Ft)},$$slots:{default:!0}})}),G(q),G(d);var Q=st(d,2),M=J(Q);{var et=H=>{var rt=$f();Y(H,rt)},at=H=>{var rt=tp(),ot=ft(rt);const zt=lt(()=>[Zt.minDate,Zt.maxDate]),Ft=lt(()=>[Zt.minLetterHeight,Zt.maxLetterHeight]);ih(ot,{get total(){return P(j)},get dateRange(){return P(W)},get defaultDateRange(){return P(zt)},get letterHeightRange(){return P(S)},get defaultLetterHeightRange(){return P(Ft)},get numberOfLocations(){return P(B)},get query(){return o()},get filters(){return P(U)}});var Ot=st(ot,2),Bt=J(Ot);const Ct=lt(()=>`primary ${n()!=="cards"&&"primary-inverse"}`);Wt(Bt,()=>le,(Dt,$t)=>{$t(Dt,{get class(){return P(Ct)},onclick:()=>At("cards"),children:(Jt,Pe)=>{var Ut=Vf(),Mt=ft(Ut);ac(Mt,{}),Vt(),Y(Jt,Ut)},$$slots:{default:!0}})});var re=st(Bt,2);const se=lt(()=>`primary ${n()!=="map"&&"primary-inverse"}`);Wt(re,()=>le,(Dt,$t)=>{$t(Dt,{get class(){return P(se)},onclick:()=>At("map"),children:(Jt,Pe)=>{var Ut=Hf(),Mt=ft(Ut);lc(Mt,{}),Vt(),Y(Jt,Ut)},$$slots:{default:!0}})});var Yt=st(re,2);const Be=lt(()=>`primary ${n()!=="table"&&"primary-inverse"}`);Wt(Yt,()=>le,(Dt,$t)=>{$t(Dt,{get class(){return P(Be)},onclick:()=>At("table"),children:(Jt,Pe)=>{var Ut=Zf(),Mt=ft(Ut);cc(Mt,{}),Vt(),Y(Jt,Ut)},$$slots:{default:!0}})});var Se=st(Yt,2);Wt(Se,()=>le,(Dt,$t)=>{$t(Dt,{class:"secondary","aria-label":"Download inscription data as a CSV file",get disabled(){return P(g)},onclick:Nt,children:(Jt,Pe)=>{var Ut=qf(),Mt=ft(Ut);Ii(Mt,{}),Vt(),Y(Jt,Ut)},$$slots:{default:!0}})});var er=st(Se,2);const Ve=lt(()=>!K()||P(g));Wt(er,()=>le,(Dt,$t)=>{$t(Dt,{class:"secondary","aria-label":"Download inscriptions as XML",get disabled(){return P(Ve)},onclick:dt,children:(Jt,Pe)=>{var Ut=Gf(),Mt=ft(Ut);Ii(Mt,{}),Vt(),Y(Jt,Ut)},$$slots:{default:!0}})}),G(Ot);var Ae=st(Ot,2),oe=J(Ae),Ee=J(oe);G(oe);var kn=st(oe,2),Oo=J(kn);const zo=lt(()=>P(N)?"secondary":"primary");Wt(Oo,()=>le,(Dt,$t)=>{$t(Dt,{get class(){return P(zo)},onclick:()=>wt(N,!P(N)),children:(Jt,Pe)=>{var Ut=Xf(),Mt=ft(Ut);oc(Mt,{}),Vt(),Y(Jt,Ut)},$$slots:{default:!0}})}),G(kn);var Ei=st(kn,2),Pr=st(J(Ei),2),xn=J(Pr);xn.value=(xn.__value="file")==null?"":"file";var Sn=st(xn);Sn.value=(Sn.__value="notBefore")==null?"":"notBefore";var An=st(Sn);An.value=(An.__value="notAfter")==null?"":"notAfter";var Pi=st(An);Pi.value=(Pi.__value="title")==null?"":"title",G(Pr);var Co=st(Pr,2);Wt(Co,()=>le,(Dt,$t)=>{$t(Dt,{class:"order-toggle",onclick:()=>ct(),"aria-label":"Toggle sort order from ascending to descending to no order",children:(Jt,Pe)=>{var Ut=It(),Mt=ft(Ut);{var fe=Oe=>{nc(Oe,{"aria-label":"Ascending"})},He=Oe=>{rc(Oe,{"aria-label":"Descending"})};Et(Mt,Oe=>{D.sortResultsOrder==="asc"?Oe(fe):Oe(He,!1)})}Y(Jt,Ut)},$$slots:{default:!0}})}),G(Ei),G(Ae);var Io=st(Ae,2);{var jo=Dt=>{var $t=Kf();Y(Dt,$t)},Ro=Dt=>{var $t=It(),Jt=ft($t);{var Pe=Mt=>{var fe=Yf(),He=J(fe);ad(He,{get inscriptions(){return P(Z)}}),G(fe),ur(1,fe,()=>Or,()=>({duration:500})),ur(2,fe,()=>Or,()=>({duration:250})),Y(Mt,fe)},Ut=Mt=>{var fe=Qf(),He=ft(fe);ra(He,n,To=>{var rr=Jf(),Bo=J(rr);{var No=Ze=>{gd(Ze,{get inscriptions(){return P(T)}})},Lo=Ze=>{nd(Ze,{get inscriptions(){return P(T)}})};Et(Bo,Ze=>{n()==="table"?Ze(No):Ze(Lo,!1)})}G(rr),ur(1,rr,()=>Or,()=>({duration:500})),ur(2,rr,()=>Or,()=>({duration:250})),Y(To,rr)});var Oe=st(He,2);ud(Oe,{get page(){return s()},get count(){return P(j)},get perPage(){return a()},onPageChange:yt}),Y(Mt,fe)};Et(Jt,Mt=>{n()==="map"?Mt(Pe):Mt(Ut,!1)},!0)}Y(Dt,$t)};Et(Io,Dt=>{P(g)?Dt(jo):Dt(Ro,!1)})}bt(Dt=>gt(Ee,`${Dt??""} Inscriptions`),[()=>P(j).toLocaleString()]),xa(Pr,()=>D.sortResultsBy,Dt=>D.sortResultsBy=Dt),Y(H,rt)};Et(M,H=>{P(l)?H(et):H(at,!1)})}G(Q),G(Pt);var nt=st(Pt,2);Jd(nt,{get show(){return P(N)},get aggregations(){return P(z)},get total(){return P(j)},sortAggregationsByChange:I,languageConjunctionChange:it,searchFiltersChange:tt,get sortAggregationsBy(){return D.sortAggregationsBy},set sortAggregationsBy(H){D.sortAggregationsBy=H},get languageConjunction(){return D.languageConjunction},set languageConjunction(H){D.languageConjunction=H},get selectedDateRange(){return P(W)},set selectedDateRange(H){wt(W,Rt(H))},get selectedLetterHeightRange(){return P(S)},set selectedLetterHeightRange(H){wt(S,Rt(H))},get selectedFilters(){return P(U)},set selectedFilters(H){wt(U,Rt(H))}}),De("submit",q,V),De("reset",q,O),Y(t,xt),Xt(),i()}ii(["input"]);var np=ut('<section class="hero svelte-reraxk"><div class="hero-left svelte-reraxk"><hgroup><h1 class="svelte-reraxk"> </h1> <h2 class="svelte-reraxk"> </h2></hgroup> <a class="discover-link svelte-reraxk" href="#faceted-search"><span class="arrow svelte-reraxk">↓</span> <span class="discover-link-text svelte-reraxk">Discover the inscriptions</span></a></div> <div class="hero-right svelte-reraxk"><picture><img class="svelte-reraxk"></picture></div></section> <div class="hero-spacer svelte-reraxk"></div> <!>',1);function Pp(t,e){Gt(e,!1),Cs();var r=np(),i=ft(r),n=J(i),s=J(n),o=J(s),a=J(o,!0);G(o);var c=st(o,2),u=J(c,!0);G(c),G(s),Vt(2),G(n);var m=st(n,2),_=J(m),v=J(_);ce(v,"src",uc),G(_),G(m),G(i);var f=st(i,4);rp(f,{}),bt(()=>{gt(a,la),gt(u,ca),ce(v,"alt",ua)}),Y(t,r),Xt()}export{Pp as component};

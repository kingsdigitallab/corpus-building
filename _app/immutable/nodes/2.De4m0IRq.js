import{B as Fr,s as ht,e as ne,a as E,t as V,c as Oe,z as We,d as Ie,b as te,C as rs,y as Je}from"../chunks/disclose-version.yxoevJ6J.js";import{i as Ze}from"../chunks/legacy.C6KA_5n4.js";import{aY as ns,a9 as eo,k as to,aG as os,U as en,a8 as xt,aS as ro,aR as no,p as xe,aT as ae,aU as tt,f as G,e as N,r as R,t as K,d as Se,C as je,v as Y,g,aV as ge,aZ as ss,s as B,D as pe,G as is,n as Ee,K as Fe,u as Or,a_ as as,aW as cs}from"../chunks/utils.dzgPpf3o.js";import{i as ls,a as us,s as Ft,b as ds}from"../chunks/config.DdhQxDnJ.js";import{c as oo,l as fe,p as ee,i as se,b as rt,s as nt,a as ue}from"../chunks/props.BxeGn5nG.js";import{I as ot,t as Ot,s as fs,k as hs,f as Wt}from"../chunks/index.T1qW7Adh.js";import{c as ke}from"../chunks/legacy-client.BL3R9HJC.js";import{a as me,c as st,b as it,h as gs,e as Ue,i as Ye,s as De,r as yt}from"../chunks/attributes.DJj9jQYP.js";import{w as ut,n as ps,o as so,m as bt,c as io,b as Qt,d as at,i as et,k as we,f as tn,g as lr,h as ur,j as ms,l as Bt,p as dr,q as rn,B as vs,s as ys,a as Qe}from"../chunks/button.9YizBEC8.js";import{I as ao,m as bs,t as Ut,g as _s,c as Dt}from"../chunks/maplibre-gl.BTuv7Yai.js";import{a as co,c as ws,o as lo}from"../chunks/index-client.DkxbLtkQ.js";import{d as Tt,w as dt,a as fr}from"../chunks/paths.DSN7QYsL.js";import{g as xs}from"../chunks/entry.CjHTBHKR.js";import{p as Ss}from"../chunks/stores.B0iOq2yd.js";function er(e,t,r=t){var o=ns();Fr(e,"input",()=>{var n=sn(e)?an(e.value):e.value;r(n),o&&n!==(n=t())&&(e.value=n??"")}),eo(()=>{var n=t();if(to&&e.defaultValue!==e.value){r(e.value);return}sn(e)&&n===an(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}const hr=new Set;function nn(e,t,r,o,n=o){var s=r.getAttribute("type")==="checkbox",i=e;let c=!1;if(t!==null)for(var d of t)i=i[d]??(i[d]=[]);i.push(r),Fr(r,"change",()=>{var u=r.__value;s&&(u=on(i,u,r.checked)),n(u)},()=>n(s?[]:null)),eo(()=>{var u=o();if(to&&r.defaultChecked!==r.checked){c=!0;return}s?(u=u||[],r.checked=u.includes(r.__value)):r.checked=oo(r.__value,u)}),os(()=>{var u=i.indexOf(r);u!==-1&&i.splice(u,1)}),hr.has(i)||(hr.add(i),en(()=>{i.sort((u,p)=>u.compareDocumentPosition(p)===4?-1:1),hr.delete(i)})),en(()=>{if(c){var u;if(s)u=on(i,u,r.checked);else{var p=i.find(b=>b.checked);u=p==null?void 0:p.__value}n(u)}})}function on(e,t,r){for(var o=new Set,n=0;n<e.length;n+=1)e[n].checked&&o.add(e[n].__value);return r||o.delete(t),Array.from(o)}function sn(e){var t=e.type;return t==="number"||t==="range"}function an(e){return e===""?null:+e}function uo(e,t,r){if(e.multiple)return js(e,t);for(var o of e.options){var n=Pt(o);if(oo(n,t)){o.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function ks(e,t){xt(()=>{var r=new MutationObserver(()=>{var o=e.__value;uo(e,o)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function $s(e,t,r=t){var o=!0;Fr(e,"change",()=>{var n;if(e.multiple)n=[].map.call(e.querySelectorAll(":checked"),Pt);else{var s=e.querySelector(":checked");n=s&&Pt(s)}r(n)}),xt(()=>{var n=t();if(uo(e,n,o),o&&n===void 0){var s=e.querySelector(":checked");s!==null&&(n=Pt(s),r(n))}e.__value=n,o=!1}),ks(e)}function js(e,t){for(var r of e.options)r.selected=~t.indexOf(Pt(r))}function Pt(e){return"__value"in e?e.__value:e.value}const Os=e=>{try{co(e)}catch{return e}},fo=(e,t)=>{const r=ut(e),o=(s,i)=>{r.update(c=>{const d=s(c);let u=d;return t&&(u=t({curr:c,next:d})),i==null||i(u),u})};return{...r,update:o,set:s=>{o(()=>s)}}};let Ps="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",As=(e=21)=>{let t="",r=e;for(;r--;)t+=Ps[Math.random()*64|0];return t};function zs(){return As(10)}function Es(e){return e.reduce((t,r)=>(t[r]=zs(),t),{})}function cn(e,t){let r;const o=Tt(e,s=>{r==null||r(),r=t(s)}).subscribe(ps),n=()=>{o(),r==null||r()};return Os(n),n}function ho(e){const t={};return Object.keys(e).forEach(r=>{const o=r,n=e[o];t[o]=ut(dt(n))}),t}function gr(e,t,r,o){const n=(e-(isNaN(t)?0:t))%o;let s=Math.abs(n)*2>=o?e+Math.sign(n)*(o-Math.abs(n)):e-n;isNaN(t)?!isNaN(r)&&s>r&&(s=Math.floor(r/o)*o):s<t?s=t:!isNaN(r)&&s>r&&(s=t+Math.floor((r-t)/o)*o);const i=o.toString(),c=i.indexOf("."),d=c>=0?i.length-c:0;if(d>0){const u=Math.pow(10,d);s=Math.round(s*u)/u}return s}function Cs({page:e=1,totalPages:t,siblingCount:r=1}){const o=[],n=new Set([1,t]),s=3+r,i=t-2-r;if(s>i)for(let p=2;p<=t-1;p++)n.add(p);else if(e<s)for(let p=2;p<=Math.min(s,t);p++)n.add(p);else if(e>i)for(let p=t-1;p>=Math.max(i,2);p--)n.add(p);else for(let p=Math.max(e-r,2);p<=Math.min(e+r,t);p++)n.add(p);const c=p=>{o.push({type:"page",value:p,key:`page-${p}`})},d=()=>{o.push({type:"ellipsis",key:`ellipsis-${o.length}`})};let u=0;for(const p of Array.from(n).sort((b,_)=>b-_))p-u>1&&d(),c(p),u=p;return o}const Ts={perPage:1,siblingCount:1,defaultPage:1},{name:qt,selector:pr}=io("pagination");function Rs(e){const t={...Ts,...e},r=t.page??dt(t.defaultPage),o=fo(r,t==null?void 0:t.onPageChange),n=ho(so(t,"page","onPageChange","defaultPage")),{perPage:s,siblingCount:i,count:c}=n,d=ut.derived([c,s],([f,$])=>Math.ceil(f/$)),u=Tt([o,s,c],([f,$,C])=>{const j=(f-1)*$,T=Math.min(j+$,C);return{start:j,end:T}}),p=bt(qt(),{returned:()=>({"data-scope":"pagination"})}),b=Tt([o,d,i],([f,$,C])=>Cs({page:f,totalPages:$,siblingCount:C})),_=f=>{const $=f.target;if(!et($))return;const C=$.closest('[data-scope="pagination"]');if(!et(C))return;const j=Array.from(C.querySelectorAll(pr("page"))).filter(w=>et(w)),T=C.querySelector(pr("prev")),P=C.querySelector(pr("next"));et(T)&&j.unshift(T),et(P)&&j.push(P);const x=j.indexOf($);f.key===we.ARROW_LEFT&&x!==0?(f.preventDefault(),j[x-1].focus()):f.key===we.ARROW_RIGHT&&x!==j.length-1?(f.preventDefault(),j[x+1].focus()):f.key===we.HOME?(f.preventDefault(),j[0].focus()):f.key===we.END&&(f.preventDefault(),j[j.length-1].focus())},k=bt(qt("page"),{stores:o,returned:f=>$=>({"aria-label":`Page ${$.value}`,"data-value":$.value,"data-selected":$.value===f?"":void 0}),action:f=>({destroy:Qt(at(f,"click",()=>{const C=f.dataset.value;!C||Number.isNaN(+C)||o.set(Number(C))}),at(f,"keydown",_))})}),h=bt(qt("prev"),{stores:o,returned:f=>({"aria-label":"Previous",disabled:f<=1}),action:f=>({destroy:Qt(at(f,"click",()=>{o.update(C=>Math.max(C-1,1))}),at(f,"keydown",_))})}),v=bt(qt("next"),{stores:[o,d],returned:([f,$])=>({"aria-label":"Next",disabled:f>=$}),action:f=>({destroy:Qt(at(f,"click",()=>{const C=d.get();o.update(j=>Math.min(j+1,C))}),at(f,"keydown",_))})});return{elements:{root:p,pageTrigger:k,prevButton:h,nextButton:v},states:{range:fr(u),page:o,pages:fr(b),totalPages:fr(d)},options:n}}const Ns={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:Vt}=io("slider"),Ms=e=>{const t={...Ns,...e},r=ho(so(t,"value","onValueChange","defaultValue")),{min:o,max:n,step:s,orientation:i,dir:c,disabled:d}=r,u=t.value??dt(t.defaultValue),p=fo(u,t==null?void 0:t.onValueChange),b=ut(dt(!1)),_=ut(dt(0)),k=ut(dt(null)),h=Es(["root"]),v=(w,A)=>{p.update(M=>{if(!M)return[w];if(M[A]===w)return M;const F=[...M],W=F[A]>w?-1:1;function I(){F[A]=F[A+W],F[A+W]=w;const m=f();m&&(m[A+W].focus(),k.set({thumb:m[A+W],index:A+W}))}if(W===-1&&w<F[A-1])return I(),F;if(W===1&&w>F[A+1])return I(),F;const U=o.get(),H=n.get(),Q=s.get();return F[A]=gr(w,U,H,Q),F})},f=()=>{const w=dr(h.root);return w?Array.from(w.querySelectorAll('[data-melt-part="thumb"]')).filter(A=>et(A)):null},$=Tt([o,n],([w,A])=>M=>(M-w)/(A-w)*100),C=ut.derived([i,c],([w,A])=>w==="horizontal"?A==="rtl"?"rl":"lr":A==="rtl"?"tb":"bt"),j=bt(Vt(),{stores:[d,i,c],returned:([w,A,M])=>({dir:M,disabled:lr(w),"data-disabled":lr(w),"data-orientation":A,style:w?void 0:`touch-action: ${A==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":h.root})}),T=bt(Vt("range"),{stores:[p,C,$],returned:([w,A,M])=>{const F=w.length>1?M(Math.min(...w)??0):0,W=100-M(Math.max(...w)??0),I={position:"absolute"};switch(A){case"lr":{I.left=`${F}%`,I.right=`${W}%`;break}case"rl":{I.right=`${F}%`,I.left=`${W}%`;break}case"bt":{I.bottom=`${F}%`,I.top=`${W}%`;break}case"tb":{I.top=`${F}%`,I.bottom=`${W}%`;break}}return{style:ur(I)}}}),P=tn(Vt("thumb"),{stores:[p,$,o,n,d,i,C],returned:([w,A,M,F,W,I,U])=>Array.from({length:w.length||1},(Q,m)=>{_.get()<w.length&&_.update(O=>O+1);const l=w[m],y=`${A(l)}%`,S={position:"absolute"};switch(U){case"lr":{S.left=y,S.translate="-50% 0";break}case"rl":{S.right=y,S.translate="50% 0";break}case"bt":{S.bottom=y,S.translate="0 50%";break}case"tb":{S.top=y,S.translate="0 -50%";break}}return{role:"slider","aria-valuemin":M,"aria-valuemax":F,"aria-valuenow":l,"aria-disabled":lr(W),"aria-orientation":I,"data-melt-part":"thumb","data-value":l,style:ur(S),tabindex:W?-1:0}}),action:w=>({destroy:at(w,"keydown",M=>{if(d.get())return;const F=M.currentTarget;if(!et(F))return;const W=f();if(!(W!=null&&W.length))return;const I=W.indexOf(F);if(_.set(I),![we.ARROW_LEFT,we.ARROW_RIGHT,we.ARROW_UP,we.ARROW_DOWN,we.HOME,we.END].includes(M.key))return;M.preventDefault();const U=o.get(),H=n.get(),Q=s.get(),m=p.get(),a=i.get(),l=C.get(),y=m[I];switch(M.key){case we.HOME:{v(U,I);break}case we.END:{v(H,I);break}case we.ARROW_LEFT:{if(a!=="horizontal")break;M.metaKey?v(l==="rl"?H:U,I):l==="rl"&&y<H?v(y+Q,I):l==="lr"&&y>U&&v(y-Q,I);break}case we.ARROW_RIGHT:{if(a!=="horizontal")break;M.metaKey?v(l==="rl"?U:H,I):l==="rl"&&y>U?v(y-Q,I):l==="lr"&&y<H&&v(y+Q,I);break}case we.ARROW_UP:{M.metaKey?v(l==="tb"?U:H,I):l==="tb"&&y>U?v(y-Q,I):l!=="tb"&&y<H&&v(y+Q,I);break}case we.ARROW_DOWN:{M.metaKey?v(l==="tb"?H:U,I):l==="tb"&&y<H?v(y+Q,I):l!=="tb"&&y>U&&v(y-Q,I);break}}})})}),x=tn(Vt("tick"),{stores:[p,o,n,s,C],returned:([w,A,M,F,W])=>{const I=M-A;let U=Math.ceil(I/F);return I%F==0&&U++,Array.from({length:U},(H,Q)=>{const m=`${Q*(F/(M-A))*100}%`,a=Q===0,l=Q===U-1,y=a?0:l?-100:-50,S={position:"absolute"};switch(W){case"lr":{S.left=m,S.translate=`${y}% 0`;break}case"rl":{S.right=m,S.translate=`${-y}% 0`;break}case"bt":{S.bottom=m,S.translate=`0 ${-y}%`;break}case"tb":{S.top=m,S.translate=`0 ${y}%`;break}}const O=A+Q*F;return{"data-bounded":(w.length===1?O<=w[0]:w[0]<=O&&O<=w[w.length-1])?!0:void 0,"data-value":O,style:ur(S)}})}});return cn([j,o,n,d,i,C,s],([w,A,M,F,W,I,U])=>{if(!ms||F)return;const H=(S,O,z,D)=>{const q=(S-z)/(D-z)*(M-A)+A;if(q<A)v(A,O);else if(q>M)v(M,O);else{const ie=U,de=A,ce=Math.floor((q-de)/ie),he=de+ce*ie+ie/2,be=de+(ce+1)*ie+ie/2,ve=q>=he&&q<be?(ce+1)*ie+de:ce*ie+de;ve<=M&&v(ve,O)}},Q=S=>{const O=f();if(!O)return;O.forEach(q=>q.blur());const z=O.map(q=>{if(W==="horizontal"){const{left:ie,right:de}=q.getBoundingClientRect();return Math.abs(S.clientX-(ie+de)/2)}else{const{top:ie,bottom:de}=q.getBoundingClientRect();return Math.abs(S.clientY-(ie+de)/2)}}),D=O[z.indexOf(Math.min(...z))],re=O.indexOf(D);return{thumb:D,index:re}},m=S=>{if(!b.get())return;S.preventDefault(),S.stopPropagation();const O=dr(w["data-melt-id"]),z=k.get();if(!O||!z)return;z.thumb.focus();const{left:D,right:re,top:q,bottom:ie}=O.getBoundingClientRect();switch(I){case"lr":{H(S.clientX,z.index,D,re);break}case"rl":{H(S.clientX,z.index,re,D);break}case"bt":{H(S.clientY,z.index,ie,q);break}case"tb":{H(S.clientY,z.index,q,ie);break}}},a=S=>{if(S.button!==0)return;const O=dr(w["data-melt-id"]),z=Q(S);if(!z||!O)return;const D=S.target;!et(D)||!O.contains(D)||(S.preventDefault(),k.set(z),z.thumb.focus(),b.set(!0),m(S))},l=()=>{b.set(!1)},y=Qt(Bt(document,"pointerdown",a),Bt(document,"pointerup",l),Bt(document,"pointerleave",l),Bt(document,"pointermove",m));return()=>{y()}}),cn([s,o,n,p],function([A,M,F,W]){const I=H=>gr(H,M,F,A)===H,U=H=>gr(H,M,F,A);W.some(H=>!I(H))&&p.update(H=>H.map(U))}),{elements:{root:j,thumbs:P,range:T,ticks:x},states:{value:p},options:r}};function go(e,t){const r={};return t.forEach(o=>{r[o]={[`data-${e}-${o}`]:""}}),o=>r[o]}function rr(){const e=ws();return t=>{const{originalEvent:r}=t.detail,{cancelable:o}=t,n=r.type;e(n,{originalEvent:r,currentTarget:r.currentTarget},{cancelable:o})||t.preventDefault()}}function po(e){const t={};for(const r in e){const o=e[r];o!==void 0&&(t[r]=o)}return t}function mo(e){return function(t,r){if(r===void 0)return;const o=e[t];o&&o.set(r)}}function vo(){return{NAME:"pagination",PARTS:["root","prev-button","next-button","page"]}}function Is(e){const{NAME:t,PARTS:r}=vo(),o=go(t,r),n={...Rs(po(e)),getAttrs:o};return ro(t,n),{...n,updateOption:mo(n.options)}}function Wr(){const{NAME:e}=vo();return no(e)}var Ls=V("<div><!></div>");function Fs(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]),o=fe(r,["count","page","onPageChange","perPage","siblingCount","asChild","el"]);xe(t,!1);const n=ht(),s=()=>Oe(f,"$root",n),i=()=>Oe($,"$pages",n),c=()=>Oe(C,"$range",n),d=ge();let u=ee(t,"count",8),p=ee(t,"page",28,()=>{}),b=ee(t,"onPageChange",24,()=>{}),_=ee(t,"perPage",24,()=>{}),k=ee(t,"siblingCount",24,()=>{}),h=ee(t,"asChild",8,!1),v=ee(t,"el",28,()=>{});const{elements:{root:f},states:{pages:$,range:C,page:j},getAttrs:T,updateOption:P}=Is({count:u(),perPage:_(),siblingCount:k(),defaultPage:p(),onPageChange:({next:M})=>{var F;return p()!==M&&(p(M),(F=b())==null||F(M)),M}}),x=T("root");ae(()=>je(p()),()=>{p()!==void 0&&j.set(p())}),ae(()=>s(),()=>{Y(d,s())}),ae(()=>g(d),()=>{Object.assign(g(d),x)}),ae(()=>je(u()),()=>{P("count",u())}),ae(()=>je(_()),()=>{P("perPage",_())}),ae(()=>je(k()),()=>{P("siblingCount",k())}),tt(),Ze();var w=ne(),A=G(w);se(A,h,M=>{var F=ne(),W=G(F);me(W,t,"default",{get builder(){return g(d)},get pages(){return i()},get range(){return c()}},null),E(M,F)},M=>{var F=Ls();let W;var I=N(F);me(I,t,"default",{get builder(){return g(d)},get pages(){return i()},get range(){return c()}},null),R(F),rt(F,U=>v(U),()=>v()),st(F,U=>g(d).action(U)),K(()=>W=it(F,W,{...g(d),...o})),E(M,F)}),E(e,w),Se()}var Ws=V("<button><!></button>");function Bs(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]),o=fe(r,["asChild","el"]);xe(t,!1);const n=ht(),s=()=>Oe(u,"$prevButton",n),i=ge();let c=ee(t,"asChild",24,()=>{}),d=ee(t,"el",28,()=>{});const{elements:{prevButton:u},getAttrs:p}=Wr(),b=p("prev-button"),_=rr();ae(()=>s(),()=>{Y(i,s())}),ae(()=>g(i),()=>{Object.assign(g(i),b)}),tt(),Ze();var k=ne(),h=G(k);se(h,c,v=>{var f=ne(),$=G(f);me($,t,"default",{get builder(){return g(i)}},null),E(v,f)},v=>{var f=Ws();let $;var C=N(f);me(C,t,"default",{get builder(){return g(i)}},null),R(f),rt(f,j=>d(j),()=>d()),st(f,j=>g(i).action(j)),xt(()=>We("m-click",f,_)),K(()=>$=it(f,$,{...g(i),type:"button",...o})),E(v,f)}),E(e,k),Se()}var Us=V("<button><!></button>");function Ds(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]),o=fe(r,["asChild","el"]);xe(t,!1);const n=ht(),s=()=>Oe(u,"$nextButton",n),i=ge();let c=ee(t,"asChild",24,()=>{}),d=ee(t,"el",28,()=>{});const{elements:{nextButton:u},getAttrs:p}=Wr(),b=p("next-button"),_=rr();ae(()=>s(),()=>{Y(i,s())}),ae(()=>g(i),()=>{Object.assign(g(i),b)}),tt(),Ze();var k=ne(),h=G(k);se(h,c,v=>{var f=ne(),$=G(f);me($,t,"default",{get builder(){return g(i)}},null),E(v,f)},v=>{var f=Us();let $;var C=N(f);me(C,t,"default",{get builder(){return g(i)}},null),R(f),rt(f,j=>d(j),()=>d()),st(f,j=>g(i).action(j)),xt(()=>We("m-click",f,_)),K(()=>$=it(f,$,{...g(i),type:"button",...o})),E(v,f)}),E(e,k),Se()}var qs=V("<button><!></button>");function Vs(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]),o=fe(r,["asChild","page","el"]);xe(t,!1);const n=ht(),s=()=>Oe(p,"$pageTrigger",n),i=ge();let c=ee(t,"asChild",24,()=>{}),d=ee(t,"page",8),u=ee(t,"el",28,()=>{});const{elements:{pageTrigger:p},getAttrs:b}=Wr(),_=b("page"),k=rr();ae(()=>(s(),je(d())),()=>{Y(i,s()(d()))}),ae(()=>g(i),()=>{Object.assign(g(i),_)}),tt(),Ze();var h=ne(),v=G(h);se(v,c,f=>{var $=ne(),C=G($);me(C,t,"default",{get builder(){return g(i)}},null),E(f,$)},f=>{var $=qs();let C;var j=N($);me(j,t,"default",{get builder(){return g(i)}},T=>{var P=Ie();K(()=>te(P,d().value)),E(T,P)}),R($),rt($,T=>u(T),()=>u()),st($,T=>g(i).action(T)),xt(()=>We("m-click",$,k)),K(()=>C=it($,C,{type:"button",...g(i),...o})),E(f,$)}),E(e,h),Se()}function yo(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function Hs(e){const{NAME:t,PARTS:r}=yo(),o=go(t,r),n={...Ms(po(e)),getAttrs:o};return ro(t,n),{...n,updateOption:mo(n.options)}}function bo(){const{NAME:e}=yo();return no(e)}var Js=V("<span><!></span>");function Gs(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]),o=fe(r,["disabled","min","max","step","orientation","dir","value","onValueChange","asChild","el"]);xe(t,!1);const n=ht(),s=()=>Oe(j,"$root",n),i=()=>Oe(T,"$ticks",n),c=()=>Oe(P,"$thumbs",n),d=ge();let u=ee(t,"disabled",24,()=>{}),p=ee(t,"min",24,()=>{}),b=ee(t,"max",24,()=>{}),_=ee(t,"step",24,()=>{}),k=ee(t,"orientation",24,()=>{}),h=ee(t,"dir",24,()=>{}),v=ee(t,"value",28,()=>{}),f=ee(t,"onValueChange",24,()=>{}),$=ee(t,"asChild",8,!1),C=ee(t,"el",28,()=>{});const{elements:{root:j,ticks:T,thumbs:P},states:{value:x},updateOption:w,getAttrs:A}=Hs({disabled:u(),dir:h(),min:p(),max:b(),step:_(),orientation:k(),defaultValue:v(),onValueChange:({next:I})=>{var U;return v()!==I&&((U=f())==null||U(I),v(I)),I}}),M=A("root");ae(()=>je(v()),()=>{v()!==void 0&&x.set(v())}),ae(()=>je(u()),()=>{w("disabled",u())}),ae(()=>je(p()),()=>{w("min",p())}),ae(()=>je(b()),()=>{w("max",b())}),ae(()=>je(_()),()=>{w("step",_())}),ae(()=>je(k()),()=>{w("orientation",k())}),ae(()=>je(h()),()=>{w("dir",h())}),ae(()=>s(),()=>{Y(d,s())}),ae(()=>g(d),()=>{Object.assign(g(d),M)}),tt(),Ze();var F=ne(),W=G(F);se(W,$,I=>{var U=ne(),H=G(U);me(H,t,"default",{get builder(){return g(d)},get ticks(){return i()},get thumbs(){return c()}},null),E(I,U)},I=>{var U=Js();let H;var Q=N(U);me(Q,t,"default",{get builder(){return g(d)},get ticks(){return i()},get thumbs(){return c()}},null),R(U),rt(U,m=>C(m),()=>C()),st(U,m=>g(d).action(m)),K(()=>H=it(U,H,{...g(d),...o})),E(I,U)}),E(e,F),Se()}var Ks=V("<span></span>");function Xs(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]),o=fe(r,["asChild","el"]);xe(t,!1);const n=ht(),s=()=>Oe(u,"$range",n),i=ge();let c=ee(t,"asChild",8,!1),d=ee(t,"el",28,()=>{});const{elements:{range:u},getAttrs:p}=bo(),b=p("range");ae(()=>s(),()=>{Y(i,s())}),ae(()=>g(i),()=>{Object.assign(g(i),b)}),tt(),Ze();var _=ne(),k=G(_);se(k,c,h=>{var v=ne(),f=G(v);me(f,t,"default",{get builder(){return g(i)}},null),E(h,v)},h=>{var v=Ks();let f;rt(v,$=>d($),()=>d()),st(v,$=>g(i).action($)),K(()=>f=it(v,f,{...g(i),...o})),E(h,v)}),E(e,_),Se()}var Ys=V("<span></span>");function Zs(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]),o=fe(r,["asChild","el","thumb"]);xe(t,!1);const n=ge();let s=ee(t,"asChild",8,!1),i=ee(t,"el",28,()=>{}),c=ee(t,"thumb",8);const{getAttrs:d}=bo(),u=rr(),p=d("thumb");ae(()=>je(c()),()=>{Y(n,c())}),ae(()=>g(n),()=>{Object.assign(g(n),p)}),tt(),Ze();var b=ne(),_=G(b);se(_,s,k=>{var h=ne(),v=G(h);me(v,t,"default",{get builder(){return g(n)}},null),E(k,h)},k=>{var h=Ys();let v;rt(h,f=>i(f),()=>i()),st(h,f=>g(n).action(f)),xt(()=>We("m-keydown",h,u)),K(()=>v=it(h,v,{...g(n),...o})),E(k,h)}),E(e,b),Se()}function Qs(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);ot(e,nt({name:"arrow-down"},()=>r,{iconNode:[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]],children:(n,s)=>{var i=ne(),c=G(i);me(c,t,"default",{},null),E(n,i)},$$slots:{default:!0}}))}function ei(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);ot(e,nt({name:"arrow-up"},()=>r,{iconNode:[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]],children:(n,s)=>{var i=ne(),c=G(i);me(c,t,"default",{},null),E(n,i)},$$slots:{default:!0}}))}function ti(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);ot(e,nt({name:"chevron-left"},()=>r,{iconNode:[["path",{d:"m15 18-6-6 6-6"}]],children:(n,s)=>{var i=ne(),c=G(i);me(c,t,"default",{},null),E(n,i)},$$slots:{default:!0}}))}function ri(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);ot(e,nt({name:"chevron-right"},()=>r,{iconNode:[["path",{d:"m9 18 6-6-6-6"}]],children:(n,s)=>{var i=ne(),c=G(i);me(c,t,"default",{},null),E(n,i)},$$slots:{default:!0}}))}function ni(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);ot(e,nt({name:"filter"},()=>r,{iconNode:[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}]],children:(n,s)=>{var i=ne(),c=G(i);me(c,t,"default",{},null),E(n,i)},$$slots:{default:!0}}))}function oi(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);ot(e,nt({name:"layout-grid"},()=>r,{iconNode:[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"}]],children:(n,s)=>{var i=ne(),c=G(i);me(c,t,"default",{},null),E(n,i)},$$slots:{default:!0}}))}function si(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);ot(e,nt({name:"map"},()=>r,{iconNode:[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"}],["path",{d:"M15 5.764v15"}],["path",{d:"M9 3.236v15"}]],children:(n,s)=>{var i=ne(),c=G(i);me(c,t,"default",{},null),E(n,i)},$$slots:{default:!0}}))}function ii(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);ot(e,nt({name:"table"},()=>r,{iconNode:[["path",{d:"M12 3v18"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}]],children:(n,s)=>{var i=ne(),c=G(i);me(c,t,"default",{},null),E(n,i)},$$slots:{default:!0}}))}const ai={"images.ctfassets.net":"contentful","cdn.builder.io":"builder.io","images.prismic.io":"imgix","www.datocms-assets.com":"imgix","cdn.sanity.io":"imgix","images.unsplash.com":"imgix","cdn.shopify.com":"shopify","s7d1.scene7.com":"scene7","ip.keycdn.com":"keycdn","assets.caisy.io":"bunny","images.contentstack.io":"contentstack","ucarecdn.com":"uploadcare","imagedelivery.net":"cloudflare_images"},ci={"imgix.net":"imgix","files.wordpress.com":"wordpress","b-cdn.net":"bunny","storyblok.com":"storyblok","kc-usercontent.com":"kontent.ai","cloudinary.com":"cloudinary","kxcdn.com":"keycdn","imgeng.in":"imageengine","imagekit.io":"imagekit","cloudimg.io":"cloudimage","ucarecdn.com":"uploadcare","supabase.co":"supabase"},li={"/cdn-cgi/image/":"cloudflare","/cdn-cgi/imagedelivery/":"cloudflare_images","/_next/image":"nextjs","/_next/static":"nextjs","/_vercel/image":"vercel","/is/image":"scene7","/_ipx/":"ipx","/_image":"astro","/.netlify/images":"netlify","/storage/v1/object/public/":"supabase","/storage/v1/render/image/public/":"supabase"},_t=e=>{if(!e)return e;const t=Number(e);return isNaN(t)?e:Math.round(t)},J=(e,t,r,o,n)=>{r?(n&&(r=_t(r)),e.searchParams.set(t,r.toString())):o&&e.searchParams.delete(t)},Pe=(e,t,r)=>{e.searchParams.has(t)||e.searchParams.set(t,r.toString())},Rt=(e,t)=>{const r=Number(e.searchParams.get(t));return isNaN(r)?void 0:r},_o=e=>{const{pathname:t,search:r}=e;return`${t}${r}`},Br=e=>e.hostname==="n"?_o(e):e.toString(),oe=(e,t)=>typeof e=="string"?new URL(e,t??"http://n/"):e,ln=new Map(Object.entries(ai)),ui=Object.entries(ci);function di(e){return wo(e)||fi(e)}function wo(e){if(typeof e=="string"&&!e.startsWith("https://"))return!1;const{hostname:t}=oe(e);if(ln.has(t))return ln.get(t);for(const[r,o]of ui)if(t.endsWith(`.${r}`))return o;return!1}function fi(e){const{pathname:t}=oe(e);for(const[r,o]of Object.entries(li))if(t.startsWith(r))return o;return!1}const hi=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return t&&t>4e3&&(r&&(r=Math.round(r*4e3/t)),t=4e3),r&&r>4e3&&(t&&(t=Math.round(t*4e3/r)),r=4e3),J(n,"w",t,!0,!0),J(n,"h",r,!0,!0),J(n,"fm",o),Pe(n,"fit","fill"),n},gi=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return J(n,"width",t,!0,!0),J(n,"height",r,!0,!0),J(n,"format",o),t&&r&&(Pe(n,"fit","cover"),Pe(n,"sharp","true")),n},pi=({url:e,width:t,height:r,format:o})=>{var s;const n=oe(e);if(J(n,"w",t,!0,!0),J(n,"h",r,!0,!0),Pe(n,"fit","min"),o){n.searchParams.set("fm",o);const i=n.searchParams.get("auto");i==="format"?n.searchParams.delete("auto"):i!=null&&i.includes("format")&&n.searchParams.set("auto",i.split(",").filter(c=>c!=="format").join(","))}else n.searchParams.delete("fm"),(s=n.searchParams.get("auto"))!=null&&s.includes("format")||n.searchParams.append("auto","format");return n},mi=/(.+?)(?:_(?:(pico|icon|thumb|small|compact|medium|large|grande|original|master)|(\d*)x(\d*)))?(?:_crop_([a-z]+))?(\.[a-zA-Z]+)(\.png|\.jpg|\.webp|\.avif)?$/,vi=e=>{const t=oe(e),r=t.pathname.match(mi);if(!r)throw new Error("Invalid Shopify URL");const[,o,n,s,i,c,d,u]=r;t.pathname=`${o}${d}`;const p=s||t.searchParams.get("width"),b=i||t.searchParams.get("height");return t.searchParams.delete("width"),t.searchParams.delete("height"),{base:t.toString(),width:Number(p)||void 0,height:Number(b)||void 0,format:u?u.slice(1):void 0,params:{crop:c,size:n},cdn:"shopify"}},yi=({base:e,width:t,height:r,format:o,params:n})=>{const s=oe(e);return J(s,"width",t,!0,!0),J(s,"height",r,!0,!0),J(s,"crop",n==null?void 0:n.crop),J(s,"format",o),s},bi=({url:e,width:t,height:r})=>{const o=vi(e);if(!o)return;const n={...o,width:t,height:r};return yi(n)},_i=({url:e,width:t,height:r})=>{const o=oe(e);return J(o,"w",t,!0,!0),J(o,"h",r,!0,!0),Pe(o,"crop","1"),o},wi=({url:e,width:t,height:r})=>{const o=oe(e);return J(o,"w",t,!0,!0),J(o,"h",r,!0,!0),J(o,"q",Rt(o,"q"),!0),o},xi=/https?:\/\/(?<host>[^\/]+)\/(?<cloudName>[^\/]+)\/(?<assetType>image|video|raw)\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)\/?(?<signature>s\-\-[a-zA-Z0-9]+\-\-)?\/?(?<transformations>(?:[^_\/]+_[^,\/]+,?)*)?\/(?:(?<version>v\d+)\/)?(?<idAndFormat>[^\s]+)$/g,Si=e=>e?Object.fromEntries(e.split(",").map(t=>t.split("_"))):{},xo=({host:e,cloudName:t,assetType:r,deliveryType:o,signature:n,transformations:s={},version:i,id:c,format:d})=>{d&&(s.f=d);const u=Object.entries(s).map(([b,_])=>`${b}_${_}`).join(",");return`https://${[e,t,r,o,n,u,i,c].filter(Boolean).join("/")}`},So=e=>{const r=[...oe(e).toString().matchAll(xi)];if(!r.length)throw new Error("Invalid Cloudinary URL");const o=r[0].groups||{},{transformations:n="",idAndFormat:s,...i}=o;delete o.idAndFormat;const c=s.lastIndexOf("."),d=c<0?s:s.slice(0,c),u=c<0?void 0:s.slice(c+1),{w:p,h:b,f:_,...k}=Si(n),h=_&&_!=="auto"?_:u;return{base:xo({...i,id:d,transformations:k}),width:Number(p)||void 0,height:Number(b)||void 0,format:h,cdn:"cloudinary",params:{...o,id:o.deliveryType==="fetch"?s:d,format:h,transformations:k}}},ki=({base:e,width:t,height:r,format:o,params:n})=>{var c;const s=So(e.toString()),i={transformations:{},...s.params,...n,format:o||"auto"};return t&&(i.transformations.w=_t(t).toString()),r&&(i.transformations.h=_t(r).toString()),(c=i.transformations).c||(c.c="lfill"),xo(i)},$i=({url:e,width:t,height:r,format:o="auto"})=>{var i,c;const n=So(e);if(!n)throw new Error("Invalid Cloudinary URL");if(((i=n.params)==null?void 0:i.assetType)!=="image")throw new Error("Cloudinary transformer only supports images");if((c=n.params)!=null&&c.signature)throw new Error("Cloudinary transformer does not support signed URLs");const s={...n,width:t,height:r,format:o};return ki(s)},ji=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/image\/(?<transformations>[^\/]+)?\/(?<path>.*)$/g,Oi=e=>Object.fromEntries(e.split(",").map(t=>t.split("="))),ko=({host:e,transformations:t={},path:r})=>{const o=Object.entries(t).map(([s,i])=>`${s}=${i}`).join(",");return`https://${[e,"cdn-cgi","image",o,r].join("/")}`},$o=e=>{const t=oe(e),r=[...t.toString().matchAll(ji)];if(!r.length)throw new Error("Invalid Cloudflare URL");const o=r[0].groups||{},{transformations:n,...s}=o,{width:i,height:c,f:d,...u}=Oi(n);return ko({...s,transformations:u}),{base:t.toString(),width:Number(i)||void 0,height:Number(c)||void 0,format:d,cdn:"cloudflare",params:{...o,transformations:u}}},Pi=({base:e,width:t,height:r,format:o,params:n})=>{var c;const s=$o(e.toString()),i={transformations:{},...s.params,...n};return t&&(i.transformations.width=t==null?void 0:t.toString()),r&&(i.transformations.height=r==null?void 0:r.toString()),o&&(i.transformations.f=o==="jpg"?"jpeg":o),(c=i.transformations).fit||(c.fit="cover"),new URL(ko(i))},Ai=({url:e,width:t,height:r,format:o="auto"})=>{const n=$o(e);if(!n)throw new Error("Invalid Cloudflare URL");const s={...n,width:t,height:r,format:o};return Pi(s)},zi=({url:e,width:t,height:r})=>{const o=oe(e);return J(o,"width",t,!0,!0),t&&r&&Pe(o,"aspect_ratio",`${t}:${r}`),o},Ei=/(?<id>\/f\/\d+\/\d+x\d+\/\w+\/[^\/]+)\/?(?<modifiers>m\/?(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?)?$/g,Ci=/^(?<modifiers>\/(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?\/?)?(?<id>\/f\/.+)$/g,Ti=e=>e?Object.fromEntries(e.split(":").map(t=>{if(!t)return[];const[r,o]=t.split("(");return[r,o.replace(")","")]})):{},Ri=e=>{if(!e)return;const t=Object.entries(e).map(([r,o])=>`${r}(${o??""})`);if(t.length!==0)return`filters:${t.join(":")}`},Ni=e=>{const t=oe(e),r=t.hostname==="img2.storyblok.com"?Ci:Ei,[o]=t.pathname.matchAll(r);if(!o||!o.groups)throw new Error("Invalid Storyblok URL");const{id:n,crop:s,width:i,height:c,filters:d,flipx:u,flipy:p}=o.groups,{format:b,..._}=Ti(d);return t.hostname==="img2.storyblok.com"&&(t.hostname="a.storyblok.com"),{base:t.origin+n,width:Number(i)||void 0,height:Number(c)||void 0,format:b,params:{crop:s,filters:_,flipx:u,flipy:p},cdn:"storyblok"}},Mi=({base:e,width:t=0,height:r=0,format:o,params:n={}})=>{const{crop:s,filters:i,flipx:c="",flipy:d=""}=n,u=`${c}${t}x${d}${r}`;return new URL([e,"m",s,u,Ri(i),o].filter(Boolean).join("/"))},Ii=({url:e,width:t,height:r,format:o})=>{const n=Ni(e);if(n)return o&&(n.params||(n.params={filters:{}}),n.params.filters||(n.params.filters={}),n.params.filters.format=o),Mi({...n,width:t,height:r})},Li=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return J(n,"w",t,!0,!0),J(n,"h",r,!0,!0),J(n,"fm",o,!0),t&&r&&Pe(n,"fit","crop"),n},un=e=>{const r=oe(e).searchParams.get("url");if(!r||!r.startsWith("http"))return!1;const o=wo(r);return o?{cdn:o,url:r}:!1},Fi=({base:e,width:t,params:{quality:r=75,root:o="_vercel"}={}})=>{const n=new URL("http://n");return n.pathname=`/${o}/image`,n.searchParams.set("url",e.toString()),J(n,"w",t,!1,!0),Pe(n,"q",r),_o(n)},jo=({url:e,width:t,cdn:r})=>{const o=oe(e),n=o.pathname.startsWith("/_next/image")||o.pathname.startsWith("/_vercel/image"),s=n?o.searchParams.get("url"):e.toString();if(s)return J(o,"w",t,!0,!0),n?Br(o):Fi({base:s,width:t,params:{root:r==="nextjs"?"_next":"_vercel"}})},Wi=e=>jo({...e,cdn:"nextjs"}),Bi=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return J(n,"wid",t,!0,!0),J(n,"hei",r,!0,!0),J(n,"fmt",o,!0),J(n,"qlt",Rt(n,"qlt"),!0),J(n,"scl",Rt(n,"scl"),!0),Pe(n,"fit","crop"),!t&&!r&&Pe(n,"scl",1),n},Ui=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return J(n,"width",t,!0,!0),J(n,"height",r,!0,!0),J(n,"format",o,!0),J(n,"quality",Rt(n,"quality"),!0),Pe(n,"enlarge",0),n},Di=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return J(n,"width",t,!0,!0),J(n,"height",r,!0,!0),J(n,"format",o),J(n,"quality",Rt(n,"quality"),!0),n},Pr={width:"w",height:"h",autoWidthWithFallback:"w_auto",auto_width_fallback:"w_auto",scaleToScreenWidth:"pc",scale_to_screen_width:"pc",crop:"cr",outputFormat:"f",format:"f",fit:"m",fitMethod:"m",compression:"cmpr",sharpness:"s",rotate:"r",inline:"in",keepMeta:"meta",keep_meta:"meta",noOptimization:"pass",no_optimization:"pass",force_download:"dl",max_device_pixel_ratio:"maxdpr",maxDevicePixelRatio:"maxdpr"};function qi(e){return Object.keys(Pr).find(o=>Pr[o]===e)||""}function Vi(e){let t=e.toString(),r=[];if(t){let o=t.split("imgeng=");o.length>1&&(r=o[1].split("/"))}return r}function Hi(e){let t=e.toString(),r="";if(t){let o=t.split("imgeng=");o.length>1?r=o[0].slice(0,-1):r=t}return r}const Ji=({url:e,width:t,height:r,format:o})=>{const n=oe(e),s=Hi(n);let i={};const c=n.toString()===s?[]:Vi(n);c.length&&(i=Yi(c)),t&&(i.width=t),r&&(i.height=r),o&&(i.format=o),i.hasOwnProperty("fit")||(i={...i,fit:"cropbox"});let d=Gi(i),u=Ki(d),p=u===""?"":s.includes("?")?"&":"?";return`${s}${p}${u}`};function Gi(e){return Object.entries(e).reduce((t,[r,o])=>t+Xi(r,o),"")}function Ki(e){return e&&e!==""?`imgeng=${e}`:""}function Xi(e,t){let r=Pr[e];return r&&(t||t===0)?`/${r}_${t}`:""}function Yi(e){let t={};return e.forEach(r=>{let o=r.split("_");if(o.length>1){let n=o[0],s=o[1],i=qi(n);i&&(t[i]=s)}}),t}const Zi=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return J(n,"width",t,!0,!0),J(n,"height",r,!0,!0),J(n,"format",o),n.searchParams.has("format")||Pe(n,"auto","webp"),t&&r&&Pe(n,"fit","crop"),n},Qi=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/imagedelivery\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,ea=/https?:\/\/(?<host>imagedelivery.net)\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,ta=e=>{var t;return Object.fromEntries(((t=e==null?void 0:e.split(","))==null?void 0:t.map(r=>r.split("=")))??[])},ra=({host:e,accountHash:t,transformations:r={},imageId:o})=>{const n=Object.entries(r).filter(([i,c])=>!!i&&c!==void 0).map(([i,c])=>`${i}=${c}`).join(",");return`https://${[...e==="imagedelivery.net"?[e]:[e,"cdn-cgi","imagedelivery"],t,o,n].join("/")}`},Oo=e=>{const t=oe(e),r=[...t.toString().matchAll(Qi),...t.toString().matchAll(ea)];if(!r.length)throw new Error("Invalid Cloudflare Images URL");const o=r[0].groups||{},{transformations:n,...s}=o,{w:i,h:c,f:d,...u}=ta(n);return{base:t.toString(),width:Number(i)||void 0,height:Number(c)||void 0,format:d,cdn:"cloudflare_images",params:{...s,transformations:u}}},na=({base:e,width:t,height:r,format:o,params:n})=>{var c;const s=Oo(e.toString()),i={transformations:{},...s.params,...n};return t&&(i.transformations.w=t==null?void 0:t.toString()),r&&(i.transformations.h=r==null?void 0:r.toString()),o&&(i.transformations.f=o),(c=i.transformations).fit||(c.fit="cover"),new URL(ra(i))},oa=({url:e,width:t,height:r,format:o="auto"})=>{const n=Oo(e);if(!n)throw new Error("Invalid Cloudflare Images URL");const s={...n,width:t,height:r,format:o};return na(s)},sa=e=>{const t=oe(e),[r,...o]=t.pathname.split("/").slice(1),n=Object.fromEntries(r.split(",").map(s=>{const[i,c]=s.split("_");return[i,c]}));if(n.s){const[s,i]=n.s.split("x");n.w||(n.w=s),n.h||(n.h=i)}return{base:o.join("/"),width:Number(n.w)||void 0,height:Number(n.h)||void 0,quality:Number(n.q)||void 0,format:n.f||"auto",params:n,cdn:"ipx"}},dn=({base:e,width:t,height:r,format:o,params:n})=>{const s=(n==null?void 0:n.modifiers)??{};t&&r?s.s=`${t}x${r}`:t?s.w=`${t}`:r&&(s.h=`${r}`),o&&(s.f=o);const i=n!=null&&n.base.endsWith("/")?n==null?void 0:n.base:`${n==null?void 0:n.base}/`,c=Object.entries(s).map(([p,b])=>`${p}_${b}`).join(","),d=e.toString(),u=d.startsWith("/")?d.slice(1):d;return`${i}${c}/${u}`},ia=e=>{var i,c,d,u;const t=String(e.url),r=oe(t),o=r.pathname.startsWith("/_ipx")&&r.hostname!=="n"?`${r.origin}/_ipx`:"/_ipx",n=((c=(i=e.cdnOptions)==null?void 0:i.ipx)==null?void 0:c.base)??o;if(n&&n!=="/"&&t.startsWith(n)){const p=sa(t.replace(n,""));return dn({...p,...e,params:{...(d=e.cdnOptions)==null?void 0:d.ipx,base:n}})}return dn({...e,base:t,params:{...(u=e.cdnOptions)==null?void 0:u.ipx,base:n}})},aa=({url:e,width:t,height:r,format:o})=>{const n=oe(e),s=Br(new URL(n.pathname,n.origin)),i={searchParams:new URLSearchParams};return J(i,"href",s,!0,!0),J(i,"w",t,!0,!0),J(i,"h",r,!0,!0),J(i,"f",o),`/_image?${i.searchParams.toString()}`},ca=new Set(["w","h","q","fm","url","width","height","quality"]),la=e=>{const t=oe(e),r=Number(t.searchParams.get("w")??t.searchParams.get("width"))??void 0,o=Number(t.searchParams.get("h")??t.searchParams.get("height"))??void 0,n=Number(t.searchParams.get("q")??t.searchParams.get("quality"))||void 0,s=t.searchParams.get("fm")||void 0,i=t.searchParams.get("url")||"",c={quality:n};return t.searchParams.forEach((d,u)=>{ca.has(u)||(c[u]=d)}),t.search="",{base:i,width:r,height:o,format:s,params:c,cdn:"netlify"}},fn=({base:e,width:t,height:r,format:o,params:{site:n,quality:s,...i}={}})=>{const c=oe("/.netlify/images",n);return Object.entries(i).forEach(([d,u])=>J(c,d,u)),J(c,"q",s,!0,!0),J(c,"w",t,!0,!0),J(c,"h",r,!0,!0),J(c,"fm",o),Pe(c,"fit","cover"),c.searchParams.set("url",e.toString()),Br(c)},ua=e=>{var r,o;const t=oe(e.url);if(t.pathname.startsWith("/.netlify/images")){const{params:n,base:s,format:i}=la(t);return fn({base:s,format:i,...e,params:{...n,site:t.hostname==="n"?void 0:t.origin}})}return fn({...e,base:e.url,params:{site:(o=(r=e.cdnOptions)==null?void 0:r.netlify)==null?void 0:o.site}})},da=e=>(e.searchParams.get("tr")||"").split(",").reduce((r,o)=>{const[n,s]=o.split("-");return r[n]=s,r},{}),fa=({url:e,width:t,height:r,format:o})=>{const n=oe(e),s=da(n);s.w=t&&Math.round(t),s.h=r&&Math.round(r),s.f||(s.f="auto"),o&&(s.f=o);const i=Object.keys(s).map(c=>{const d=s[c];if(d)return`${c}-${d}`}).filter(c=>c).join(",");return n.searchParams.set("tr",i),n},ha=/^https?:\/\/(?<host>[^\/]+)\/(?<uuid>[^\/]+)/g;function Po(e){const t=new URL(e),r=t.pathname+t.search+t.hash,o=r.lastIndexOf("http"),n=r.lastIndexOf("/");let s="";return o>=0?s=r.slice(o):n>=0&&(s=r.slice(n+1)),s}function ga(e){return e.startsWith("http")}function pa(e){const t=new URL(e);return{pathname:t.origin+t.pathname||"",search:t.search||"",hash:t.hash||""}}function ma(e){const t=new URL(e),r=Po(e),o=ga(r)?pa(r).pathname:r;return t.pathname=t.pathname.replace(o,""),t.search="",t.hash="",t.toString()}const va=e=>{if(typeof e!="string"||!e)return"";let t=e.trim();return t.startsWith("-/")?t=t.slice(2):t.startsWith("/")&&(t=t.slice(1)),t.endsWith("/")&&(t=t.slice(0,t.length-1)),t};function ya(e){const t=ma(e),r=new URL(t),o=r.pathname.indexOf("/-/");return o===-1?[]:r.pathname.substring(o).split("/-/").filter(Boolean).map(s=>va(s))}const ba=e=>e.length?e.reduce((t,r)=>{const[o,n]=r.split("/");return{...t,[o]:n}},{}):{},Ao=({host:e,uuid:t,operations:r={},filename:o})=>{const n=Object.entries(r).map(([i,c])=>`${i}/${c}`).join("/-/");return`https://${[e,t,n?`-/${n}`:"",o].join("/")}`},zo=e=>{const t=oe(e),r=[...t.toString().matchAll(ha)];if(!r.length)throw new Error("Invalid Uploadcare URL");const o=r[0].groups||{},{...n}=o,s=Po(t.toString()),{format:i,...c}=ba(ya(t.toString())),d=i&&i!=="auto"?i:"auto";return{base:Ao({...n,filename:s||void 0,operations:{...c,format:d}}),cdn:"uploadcare",params:{...o,filename:s||void 0,operations:{...c,format:d}}}},_a=({base:e,width:t,height:r,params:o})=>{const n=e.toString(),s=zo(n.endsWith("/")?n:`${n}/`),i={operations:{},...s.params,...o};return t&&r?i.operations={...i.operations,resize:`${t}x${r}`}:(t&&(i.operations={...i.operations,resize:`${t}x`}),r&&(i.operations={...i.operations,resize:`x${r}`})),Ao(i)},wa=({url:e,width:t,height:r})=>{const o=zo(e);if(!o)throw new Error("Invalid Uploadcare URL");const n={...o,width:t,height:r};return _a(n)},xa=["origin"],Eo="/storage/v1/object/public/",Ur="/storage/v1/render/image/public/",Sa=e=>e.pathname.startsWith(Ur),Co=e=>{const t=oe(e);if(!Sa(t))return{cdn:"supabase",base:t.origin+t.pathname};const o=t.pathname.replace(Ur,""),n=t.searchParams.has("quality")?Number(t.searchParams.get("quality")):void 0,s=t.searchParams.has("width")?Number(t.searchParams.get("width")):void 0,i=t.searchParams.has("height")?Number(t.searchParams.get("height")):void 0,c=t.searchParams.has("format")?t.searchParams.get("format"):void 0,d=t.searchParams.has("resize")?t.searchParams.get("resize"):void 0;return{cdn:"supabase",base:t.origin+Eo+o,width:s,height:i,format:c,params:{quality:n,resize:d}}},ka=({base:e,width:t,height:r,format:o,params:n})=>{const s=Co(e.toString());e=s.base,t=t||s.width,r=r||s.height,o=o||s.format,n={...s.params,...n};const i=new URLSearchParams;return t&&i.set("width",_t(t).toString()),r&&i.set("height",_t(r).toString()),o&&xa.includes(o)&&i.set("format",o),n!=null&&n.quality&&i.set("quality",_t(n.quality).toString()),n!=null&&n.resize&&i.set("resize",n.resize),i.toString()===""?e:s.base.replace(Eo,Ur)+"?"+i.toString()},$a=({url:e,width:t,height:r,format:o,cdnOptions:n})=>{const s=Co(e);return ka({base:s.base,width:t||s.width,height:r||s.height,format:o||s.format,params:(n==null?void 0:n.supabase)||s.params})},hn={vercel:un,nextjs:un};function ja(e,t){if(!(t in hn))return!1;const r=hn[t];return r?r(e):!1}function Dr(e,t){const r=di(e)||t;if(!r)return!1;const o=ja(e,r);return o||{cdn:r,url:e}}const qr=e=>({imgix:pi,contentful:hi,"builder.io":gi,shopify:bi,wordpress:_i,cloudimage:wi,cloudinary:$i,bunny:zi,storyblok:Ii,cloudflare:Ai,vercel:jo,nextjs:Wi,scene7:Bi,"kontent.ai":Li,keycdn:Ui,directus:Di,imageengine:Ji,contentstack:Zi,cloudflare_images:oa,ipx:ia,astro:aa,netlify:ua,imagekit:fa,uploadcare:wa,supabase:$a})[e];var Oa=(e,t)=>{if(!(!e||!t))switch(t){case"constrained":return`(min-width: ${e}px) ${e}px, 100vw`;case"fixed":return`${e}px`;case"fullWidth":return"100vw";default:return}},kt=e=>e||e===0?`${e}px`:void 0,Pa=({width:e,height:t,aspectRatio:r,layout:o,objectFit:n="cover",background:s})=>{const i=[["object-fit",n]];return s!=null&&s.startsWith("https:")||s!=null&&s.startsWith("http:")||s!=null&&s.startsWith("data:")?(i.push(["background-image",`url(${s})`]),i.push(["background-size","cover"]),i.push(["background-repeat","no-repeat"])):i.push(["background",s]),o==="fixed"&&(i.push(["width",kt(e)]),i.push(["height",kt(t)])),o==="constrained"&&(i.push(["max-width",kt(e)]),i.push(["max-height",kt(t)]),i.push(["aspect-ratio",r?`${r}`:void 0]),i.push(["width","100%"])),o==="fullWidth"&&(i.push(["width","100%"]),i.push(["aspect-ratio",r?`${r}`:void 0]),i.push(["height",kt(t)])),Object.fromEntries(i.filter(([,c])=>c))},Aa=[6016,5120,4480,3840,3200,2560,2048,1920,1668,1280,1080,960,828,750,640],gn=24,za=({width:e,layout:t,resolutions:r=Aa})=>{if(t==="fullWidth")return r;if(!e)return[];const o=e*2;return t==="fixed"?[e,o]:t==="constrained"?[e,o,...r.filter(n=>n<o)]:[]},Ea=({src:e,width:t,layout:r="constrained",height:o,aspectRatio:n,breakpoints:s,cdn:i,transformer:c,format:d})=>{const u=Dr(e,i);return u&&!c&&(c=qr(u.cdn)),c?(s||(s=za({width:t,layout:r})),s.sort((p,b)=>p-b).map(p=>{let b;return o&&n&&(b=Math.round(p/n)),{url:u?u.url:e,width:p,height:b,format:d}})):[]},Ca=e=>{let{src:t,cdn:r,transformer:o}=e;const n=Dr(t,r);return n&&!o&&(o=qr(n.cdn)),o?Ea({...e,transformer:o}).map(s=>{const i=o(s);return`${i==null?void 0:i.toString()} ${s.width}w`}).join(`,
`):""};function Ta({width:e,height:t,priority:r,layout:o="constrained",aspectRatio:n,...s}){return e=e&&Number(e)||void 0,t=t&&Number(t)||void 0,r?(s.loading||(s.loading="eager"),s.fetchpriority||(s.fetchpriority="high")):(s.loading||(s.loading="lazy"),s.decoding||(s.decoding="async")),s.alt===""&&(s.role||(s.role="presentation")),n?e?t||(t=Math.round(e/n)):t&&(e=Math.round(t*n)):e&&t&&(n=e/t),{width:e,height:t,aspectRatio:n,layout:o,...s}}function Ra(e){let{src:t,cdn:r,transformer:o,background:n,layout:s,objectFit:i,breakpoints:c,width:d,height:u,aspectRatio:p,unstyled:b,..._}=Ta(e);const k=t?Dr(t,r):void 0;let h=t;if(k&&(h=k.url,o||(o=qr(k.cdn))),o&&n==="auto"){const f=p?Math.round(gn/p):void 0,$=o({url:h,width:gn,height:f});$&&(n=$.toString())}const v={width:d,height:u,aspectRatio:p,layout:s,objectFit:i,background:n};if(_.sizes||(_.sizes=Oa(d,s)),b||(_.style={...Pa(v),..._.style}),o){_.srcset=Ca({src:h,width:d,height:u,aspectRatio:p,layout:s,breakpoints:c,transformer:o,cdn:r});const f=o({url:h,width:d,height:u});f&&(h=f),(s==="fullWidth"||s==="constrained")&&(d=void 0,u=void 0)}return{..._,src:h==null?void 0:h.toString(),width:d,height:u}}function Na(e,t){const r=RegExp(e,"g");return o=>{if(typeof o!="string")throw new TypeError(`expected an argument of type string, but got ${typeof o}`);return o.match(r)?o.replace(r,t):o}}const Ma=Na(/[A-Z]/,e=>`-${e.toLowerCase()}`);function Ia(e,t=Ma){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected an argument of type object, but got ${typeof e}`);return Object.keys(e).map(r=>`${t(r)}: ${e[r]};`).join(`
`)}var La=V("<img>");function Fa(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);xe(t,!1);const o=ge(),n=ge(),s=ge(),i=ge(),c=ge(),d=ge(),u=ge(),p=ge(),b=ge(),_=ge(),k=ge(),h=ge(),v=ge(),f=ge();ae(()=>(g(o),g(n),je(r)),()=>{Y(o,r.style),Y(n,ss(r,["style"]))}),ae(()=>(g(s),g(i),g(c),g(d),g(u),g(p),g(b),g(_),g(k),g(h),g(v),g(n)),()=>{(j=>(Y(s,j.alt),Y(i,j.style),Y(c,j.src),Y(d,j.width),Y(u,j.height),Y(p,j.loading),Y(b,j.decoding),Y(_,j.srcset),Y(k,j.role),Y(h,j.sizes),Y(v,j.fetchpriority)))(Ra(g(n)))}),ae(()=>(g(i),g(o)),()=>{Y(f,[Ia(g(i)||{}),g(o)].filter(Boolean).join(";"))}),tt(),Ze();var $=La();let C;K(()=>{var j,T,P,x;return C=it($,C,{...r,style:g(f),loading:g(p),width:g(d),height:g(u),decoding:g(b),role:g(k),fetchpriority:g(v),alt:(j=g(s))==null?void 0:j.toString(),src:(T=g(c))==null?void 0:T.toString(),srcset:(P=g(_))==null?void 0:P.toString(),sizes:(x=g(h))==null?void 0:x.toString()})}),gs($),rs($),We("load",$,function(j){rn.call(this,t,j)}),We("error",$,function(j){rn.call(this,t,j)}),E(e,$),Se()}var Wa=V("<em> </em>"),Ba=V("<a> </a>"),Ua=V('<span class="svelte-192ea9n"><!> <!> </span>'),Da=V('<div class="inscription-place"></div>');function To(e,t){xe(t,!0);let r=pe(()=>{var n,s;return(s=(n=t.inscription)==null?void 0:n.places)==null?void 0:s.slice(0,2)});var o=Da();Ue(o,21,()=>g(r),Ye,(n,s)=>{var i=ne(),c=G(i);se(c,()=>g(s),d=>{var u=Ua(),p=N(u);se(p,()=>g(s).offset,k=>{var h=Wa(),v=N(h,!0);R(h),K(()=>te(v,g(s).offset)),E(k,h)});var b=B(p,2);se(b,()=>g(s).ref,k=>{var h=Ba(),v=N(h,!0);R(h),K(()=>{De(h,"href",g(s).ref),te(v,g(s)._)}),E(k,h)},k=>{var h=Ie();K(()=>te(h,g(s)._)),E(k,h)});var _=B(b);R(u),K(()=>te(_,` (${g(s).type??""})`)),E(d,u)}),E(n,i)}),R(o),E(e,o),Se()}function At(e,t){let r=ee(t,"title",3,"");const o=pe(()=>t.children);var n=pe(()=>`/inscription/${t.id}`),s=pe(()=>r()||t.id);vs(e,{get href(){return g(n)},get title(){return g(s)},children:(i,c)=>{var d=ne(),u=G(d);ys(u,()=>g(o)??is),E(i,d)},$$slots:{default:!0}})}var qa=V("<dd><a> </a></dd>"),Va=V("<dd> </dd>"),Ha=V("<dd><a> </a></dd>"),Ja=V("<dd> </dd>"),Ga=V('<div class="inscription-card"><!> <div class="inscription-title svelte-1i8xyhq"><!></div> <div class="inscription-date-place"><!> <!></div> <dl class="svelte-1i8xyhq"><dt class="svelte-1i8xyhq">ID</dt> <dd><small><!></small></dd> <dt class="svelte-1i8xyhq">Status</dt> <dd> </dd> <dt class="svelte-1i8xyhq">Type</dt> <!> <dt class="svelte-1i8xyhq">Object type</dt> <!> <dt class="svelte-1i8xyhq">Language</dt> <dd> </dd></dl></div>');function Ka(e,t){xe(t,!0);var r=Ga(),o=N(r);se(o,()=>t.inscription.facsimile,j=>{At(j,{get id(){return t.inscription.file},get title(){return t.inscription.title},children:(T,P)=>{Fa(T,{get src(){return`${ls}${t.inscription.file??""}/${t.inscription.facsimile.url??""}/${us}`},get alt(){return t.inscription.facsimile.desc},width:400,height:200})},$$slots:{default:!0}})});var n=B(o,2),s=N(n);At(s,{get id(){return t.inscription.file},get title(){return t.inscription.title},children:(j,T)=>{Ee();var P=Ie();K(()=>te(P,t.inscription.title)),E(j,P)},$$slots:{default:!0}}),R(n);var i=B(n,2),c=N(i);ao(c,{get inscription(){return t.inscription}});var d=B(c,2);To(d,{get inscription(){return t.inscription}}),R(i);var u=B(i,2),p=B(N(u),2),b=N(p),_=N(b);At(_,{get id(){return t.inscription.file},children:(j,T)=>{Ee();var P=Ie();K(()=>te(P,t.inscription.file)),E(j,P)},$$slots:{default:!0}}),R(b),R(p);var k=B(p,4),h=N(k,!0);R(k);var v=B(k,4);se(v,()=>{var j;return(j=t.inscription.type)==null?void 0:j.ref},j=>{var T=qa(),P=N(T),x=N(P,!0);R(P),R(T),K(()=>{var w;De(P,"href",t.inscription.type.ref),te(x,(w=t.inscription.type)==null?void 0:w._)}),E(j,T)},j=>{var T=Va(),P=N(T,!0);R(T),K(()=>{var x;return te(P,((x=t.inscription.type)==null?void 0:x._)||"N/A")}),E(j,T)});var f=B(v,4);se(f,()=>{var j;return(j=t.inscription.objectType)==null?void 0:j.ref},j=>{var T=Ha(),P=N(T),x=N(P,!0);R(P),R(T),K(()=>{var w;De(P,"href",t.inscription.objectType.ref),te(x,(w=t.inscription.objectType)==null?void 0:w._)}),E(j,T)},j=>{var T=Ja(),P=N(T,!0);R(T),K(()=>{var x;return te(P,((x=t.inscription.objectType)==null?void 0:x._)||"N/A")}),E(j,T)});var $=B(f,4),C=N($,!0);R($),R(u),R(r),K(()=>{var j;te(h,t.inscription.status),te(C,((j=t.inscription.textLang)==null?void 0:j._)||"N/A")}),E(e,r),Se()}var Xa=V('<li class="svelte-p3hpfg"><!></li>'),Ya=V('<ol class="inscription-list svelte-p3hpfg"></ol>');function Za(e,t){var r=Ya();Ue(r,21,()=>t.inscriptions,Ye,(o,n)=>{var s=Xa(),i=N(s);Ka(i,{get inscription(){return g(n)}}),R(s),E(o,s)}),R(r),E(e,r)}var Qa=V("<span> </span>"),ec=V('<div class="marker svelte-mhd10g" role="img"><!></div>'),tc=V('<div class="inscription-map svelte-mhd10g"><!></div>');function rc(e,t){xe(t,!0);const{Map:r,Marker:o,NavigationControl:n,Popup:s}=bs;let i=ee(t,"show",3,!0),c=Fe(void 0),d=Fe(void 0),u=Fe(ue([])),p=pe(()=>t.inscriptions.filter(f=>f.geo).reduce((f,$)=>{if(!$.geo||$.geo.length!==2)return f;const C=$.geo.join("_");return f[C]||(f[C]=[]),f[C].push($),f},{})),b=pe(()=>Object.entries(g(p)).map(([f,$])=>{const C=$[0].geo,j=$.length;let T="single";return j>100?T="lg":j>25?T="md":j>1&&(T="sm"),{coords:[C[1],C[0]],markerSize:T,numberInscriptions:j,inscriptions:$}}));function _(f,{coords:$,inscriptions:C}){const j=new s,T=()=>{const x=k(C);j.setHTML(x)};T();const P=new o({element:f}).setLngLat($).setPopup(j).addTo(g(c));return g(u).push(P),{destroy(){P==null||P.remove(),Y(u,ue(g(u).filter(x=>x!==P)))},update({coords:x,inscriptions:w}){C=w,T(),P.setLngLat(x)}}}function k(f){const $=f.reduce((T,P)=>(P.places[0]&&(T[P.places[0]._]||(T[P.places[0]._]=[]),T[P.places[0]._].push(P)),T),{});let C='<div class="tooltip">';const j=Object.entries($).map(([T,P])=>{let x=`<dt>${T}</dt>`,w=P.map(A=>`<dd><a href="inscription/${A.file}">${A.title}</a></dd>`).join("");return`${x}${w}`}).join("");return`${C}<dl>${j}</dl></div>`}lo(async()=>{Y(c,ue(new r({container:g(d),style:"https://api.maptiler.com/maps/positron/style.json?key=brTBbnRxuiKp6PgjwFPr",center:[14.01535,37.59999],zoom:7}))),g(c).addControl(new n({showCompass:!0,showZoom:!0}))}),co(async()=>{g(c)&&(g(c).remove(),Y(c,void 0),Y(d,void 0))});var h=ne(),v=G(h);se(v,i,f=>{var $=tc(),C=N($);se(C,()=>g(c)&&g(b),j=>{var T=ne(),P=G(T);Ue(P,17,()=>g(b),Ye,(x,w)=>{var A=ec(),M=N(A);se(M,()=>g(w).numberInscriptions>1,F=>{var W=Qa(),I=N(W,!0);R(W),K(()=>te(I,g(w).numberInscriptions)),E(F,W)}),R(A),st(A,(F,W)=>_(F,W),()=>({coords:g(w).coords,inscriptions:g(w).inscriptions})),K(()=>{De(A,"aria-label",`Map marker for ${g(w).inscriptions[0].title}`),Ut(A,"single",g(w).markerSize==="single"),Ut(A,"sm",g(w).markerSize==="sm"),Ut(A,"md",g(w).markerSize==="md"),Ut(A,"lg",g(w).markerSize==="lg")}),E(x,A)}),E(j,T)}),R($),rt($,j=>Y(d,j),()=>g(d)),E(f,$)}),E(e,h),Se()}var nc=V("<span>...</span>"),oc=V('<div class="pagination svelte-1pdb2ke"><!> <div class="pages svelte-1pdb2ke"></div> <!></div> <p class="svelte-1pdb2ke"> </p>',1);function pn(e,t){var r=ne(),o=G(r);se(o,()=>t.count>0,n=>{var s=ne(),i=G(s);ke(i,()=>Fs,(c,d)=>{d(c,{get page(){return t.page},get count(){return t.count},get perPage(){return t.perPage},get onPageChange(){return t.onPageChange},children:(p,b)=>{let _=()=>b==null?void 0:b().pages,k=()=>b==null?void 0:b().range;var h=oc(),v=G(h),f=N(v);ke(f,()=>Bs,(x,w)=>{w(x,{children:(A,M)=>{ti(A,{})},$$slots:{default:!0}})});var $=B(f,2);Ue($,21,_,x=>x.key,(x,w)=>{var A=ne(),M=G(A);se(M,()=>g(w).type==="ellipsis",F=>{var W=nc();E(F,W)},F=>{var W=ne(),I=G(W);ke(I,()=>Vs,(U,H)=>{H(U,{get page(){return g(w)},children:(Q,m)=>{Ee();var a=Ie();K(()=>te(a,g(w).value)),E(Q,a)},$$slots:{default:!0}})}),E(F,W)}),E(x,A)}),R($);var j=B($,2);ke(j,()=>Ds,(x,w)=>{w(x,{children:(A,M)=>{ri(A,{})},$$slots:{default:!0}})}),R(v);var T=B(v,2),P=N(T);R(T),K(()=>te(P,`Showing ${k().start+1} - ${k().end??""}`)),E(p,h)},$$slots:{default:!0}})}),E(n,s)}),E(e,r)}var sc=V("<a> </a>"),ic=V("<a> </a>"),ac=V("<tr><td><!></td><td><!></td><td><!></td><td><!></td><td> </td><td><!></td><td><!></td><td> </td><td> </td></tr>");function cc(e,t){xe(t,!0);var r=ac(),o=N(r),n=N(o);At(n,{get id(){return t.inscription.file},children:(P,x)=>{Ee();var w=Ie();K(()=>te(w,t.inscription.file)),E(P,w)},$$slots:{default:!0}}),R(o);var s=B(o),i=N(s);At(i,{get id(){return t.inscription.file},children:(P,x)=>{Ee();var w=Ie();K(()=>te(w,t.inscription.title)),E(P,w)},$$slots:{default:!0}}),R(s);var c=B(s),d=N(c);ao(d,{get inscription(){return t.inscription}}),R(c);var u=B(c),p=N(u);To(p,{get inscription(){return t.inscription}}),R(u);var b=B(u),_=N(b,!0);R(b);var k=B(b),h=N(k);se(h,()=>{var P;return(P=t.inscription.type)==null?void 0:P.ref},P=>{var x=sc(),w=N(x,!0);R(x),K(()=>{var A;De(x,"href",t.inscription.type.ref),te(w,(A=t.inscription.type)==null?void 0:A._)}),E(P,x)},P=>{var x=Ie();K(()=>{var w;return te(x,((w=t.inscription.type)==null?void 0:w._)||"N/A")}),E(P,x)}),R(k);var v=B(k),f=N(v);se(f,()=>{var P;return(P=t.inscription.objectType)==null?void 0:P.ref},P=>{var x=ic(),w=N(x,!0);R(x),K(()=>{var A;De(x,"href",t.inscription.objectType.ref),te(w,(A=t.inscription.objectType)==null?void 0:A._)}),E(P,x)},P=>{var x=Ie();K(()=>{var w;return te(x,((w=t.inscription.objectType)==null?void 0:w._)||"N/A")}),E(P,x)}),R(v);var $=B(v),C=N($,!0);R($);var j=B($),T=N(j,!0);R(j),R(r),K(()=>{var P;te(_,t.inscription.status),te(C,((P=t.inscription.textLang)==null?void 0:P._)||"N/A"),te(T,t.inscription.settlement||"N/A")}),E(e,r),Se()}var lc=V('<table class="svelte-g7in6g"><thead><tr><th>ID</th><th>Title</th><th>Date</th><th>Place</th><th>Status</th><th>Type</th><th>Object type</th><th>Language</th><th>Settlement</th></tr></thead><!></table>');function uc(e,t){var r=lc(),o=B(N(r));Ue(o,17,()=>t.inscriptions,Ye,(n,s)=>{cc(n,{get inscription(){return g(s)}})}),R(r),E(e,r)}let Ht=String.fromCharCode,Ro="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",Jt={};function dc(e,t){if(!Jt[e]){Jt[e]={};for(let r=0;r<e.length;r++)Jt[e][e.charAt(r)]=r}return Jt[e][t]}function fc(e){return e==null?"":gc(e,6,function(t){return Ro.charAt(t)})}function hc(e){return e==null?"":e==""?null:pc((e=e.replace(/ /g,"+")).length,32,function(t){return dc(Ro,e.charAt(t))})}function gc(e,t,r){if(e==null)return"";let o,n,s={},i={},c="",d="",u="",p=2,b=3,_=2,k=[],h=0,v=0,f;for(f=0;f<e.length;f+=1)if(c=e.charAt(f),Object.prototype.hasOwnProperty.call(s,c)||(s[c]=b++,i[c]=!0),d=u+c,Object.prototype.hasOwnProperty.call(s,d))u=d;else{if(Object.prototype.hasOwnProperty.call(i,u)){if(256>u.charCodeAt(0)){for(o=0;o<_;o++)h<<=1,v==t-1?(v=0,k.push(r(h)),h=0):v++;for(o=0,n=u.charCodeAt(0);o<8;o++)h=h<<1|1&n,v==t-1?(v=0,k.push(r(h)),h=0):v++,n>>=1}else{for(o=0,n=1;o<_;o++)h=h<<1|n,v==t-1?(v=0,k.push(r(h)),h=0):v++,n=0;for(o=0,n=u.charCodeAt(0);o<16;o++)h=h<<1|1&n,v==t-1?(v=0,k.push(r(h)),h=0):v++,n>>=1}--p==0&&(p=Math.pow(2,_),_++),delete i[u]}else for(o=0,n=s[u];o<_;o++)h=h<<1|1&n,v==t-1?(v=0,k.push(r(h)),h=0):v++,n>>=1;--p==0&&(p=Math.pow(2,_),_++),s[d]=b++,u=String(c)}if(u!==""){if(Object.prototype.hasOwnProperty.call(i,u)){if(256>u.charCodeAt(0)){for(o=0;o<_;o++)h<<=1,v==t-1?(v=0,k.push(r(h)),h=0):v++;for(o=0,n=u.charCodeAt(0);o<8;o++)h=h<<1|1&n,v==t-1?(v=0,k.push(r(h)),h=0):v++,n>>=1}else{for(o=0,n=1;o<_;o++)h=h<<1|n,v==t-1?(v=0,k.push(r(h)),h=0):v++,n=0;for(o=0,n=u.charCodeAt(0);o<16;o++)h=h<<1|1&n,v==t-1?(v=0,k.push(r(h)),h=0):v++,n>>=1}--p==0&&(p=Math.pow(2,_),_++),delete i[u]}else for(o=0,n=s[u];o<_;o++)h=h<<1|1&n,v==t-1?(v=0,k.push(r(h)),h=0):v++,n>>=1;--p==0&&(p=Math.pow(2,_),_++)}for(o=0,n=2;o<_;o++)h=h<<1|1&n,v==t-1?(v=0,k.push(r(h)),h=0):v++,n>>=1;for(;;){if(h<<=1,v==t-1){k.push(r(h));break}v++}return k.join("")}function pc(e,t,r){let o=[],n=4,s=4,i=3,c="",d=[],u,p,b,_,k,h,v,f={val:r(0),position:t,index:1};for(u=0;u<3;u+=1)o[u]=u;for(b=0,k=4,h=1;h!=k;)_=f.val&f.position,f.position>>=1,f.position==0&&(f.position=t,f.val=r(f.index++)),b|=(_>0?1:0)*h,h<<=1;switch(b){case 0:for(b=0,k=256,h=1;h!=k;)_=f.val&f.position,f.position>>=1,f.position==0&&(f.position=t,f.val=r(f.index++)),b|=(_>0?1:0)*h,h<<=1;v=Ht(b);break;case 1:for(b=0,k=65536,h=1;h!=k;)_=f.val&f.position,f.position>>=1,f.position==0&&(f.position=t,f.val=r(f.index++)),b|=(_>0?1:0)*h,h<<=1;v=Ht(b);break;case 2:return""}for(o[3]=v,p=v,d.push(v);;){if(f.index>e)return"";for(b=0,k=Math.pow(2,i),h=1;h!=k;)_=f.val&f.position,f.position>>=1,f.position==0&&(f.position=t,f.val=r(f.index++)),b|=(_>0?1:0)*h,h<<=1;switch(v=b){case 0:for(b=0,k=256,h=1;h!=k;)_=f.val&f.position,f.position>>=1,f.position==0&&(f.position=t,f.val=r(f.index++)),b|=(_>0?1:0)*h,h<<=1;o[s++]=Ht(b),v=s-1,n--;break;case 1:for(b=0,k=65536,h=1;h!=k;)_=f.val&f.position,f.position>>=1,f.position==0&&(f.position=t,f.val=r(f.index++)),b|=(_>0?1:0)*h,h<<=1;o[s++]=Ht(b),v=s-1,n--;break;case 2:return d.join("")}if(n==0&&(n=Math.pow(2,i),i++),o[v])c=o[v];else{if(v!==s)return null;c=p+p.charAt(0)}d.push(c),o[s++]=p+c.charAt(0),n--,p=c,n==0&&(n=Math.pow(2,i),i++)}}let No;No=Ss;const mc={keepFocus:!0,noScroll:!0,replaceState:!0},vc={keepFocus:!0,noScroll:!0,replaceState:!1};function mr(e,t,r=(o,n)=>JSON.stringify(o)===JSON.stringify(n)){return typeof e=="object"&&typeof t=="object"&&r(e,t)}const Gt={object:e=>({encode:t=>JSON.stringify(t),decode:t=>{if(t===null)return null;try{return JSON.parse(t)}catch{return null}},defaultValue:e}),array:e=>({encode:t=>JSON.stringify(t),decode:t=>{if(t===null)return null;try{return JSON.parse(t)}catch{return null}},defaultValue:e}),number:e=>({encode:t=>t.toString(),decode:t=>t?parseFloat(t):null,defaultValue:e}),boolean:e=>({encode:t=>t+"",decode:t=>t!==null&&t!=="false",defaultValue:e}),string:e=>({encode:t=>t??"",decode:t=>t,defaultValue:e}),lz:e=>({encode:t=>fc(JSON.stringify(t)),decode:t=>{if(!t)return null;try{return JSON.parse(hc(t)??"")}catch{return null}},defaultValue:e})},vr=new Set;let mn;const vn=new Map,yr={encode:e=>e.toString(),decode:e=>e?e.toString():null};function Kt(e,{encode:t=yr.encode,decode:r=yr.decode,defaultValue:o}=yr,{debounceHistory:n=0,pushHistory:s=!0,sort:i=!0,showDefaults:c=!0,equalityFn:d}={}){const u=dt(null);let p=!0,b;function _(h,v){p=!1;const f=window.location.hash,$=j=>{if(h==null)j.delete(e);else{const T=t(h);T==null?j.delete(e):j.set(e,T)}};vr.add($),clearTimeout(mn);const C=new URLSearchParams(window.location.search);mn=setTimeout(async()=>{vr.forEach(j=>{j(C)}),clearTimeout(vn.get(e));{u.set(h);async function j(){i&&C.sort(),await xs(`?${C}${f}`,s?vc:mc),u.set(null)}v||n===0?j():vn.set(e,setTimeout(j,n))}vr.clear()})}const{subscribe:k}=Tt([No,u],([h,v],f)=>{var j,T,P;if(v!=null)return mr(b,v,d)?void 0:(b=structuredClone(v),f(v));const $=(P=(T=(j=h==null?void 0:h.url)==null?void 0:j.searchParams)==null?void 0:T.get)==null?void 0:P.call(T,e);if($==null&&o!=null)return c&&_(o,p),mr(b,o,d)?void 0:(b=structuredClone(o),f(o));const C=r($);if(!mr(b,C,d))return b=structuredClone(C),f(C)});return{set(h){_(h)},subscribe:k,update:h=>{const v=h(b);_(v)}}}var yc="Expected a function",yn=NaN,bc="[object Symbol]",_c=/^\s+|\s+$/g,wc=/^[-+]0x[0-9a-f]+$/i,xc=/^0b[01]+$/i,Sc=/^0o[0-7]+$/i,kc=parseInt,$c=typeof Dt=="object"&&Dt&&Dt.Object===Object&&Dt,jc=typeof self=="object"&&self&&self.Object===Object&&self,Oc=$c||jc||Function("return this")(),Pc=Object.prototype,Ac=Pc.toString,zc=Math.max,Ec=Math.min,br=function(){return Oc.Date.now()};function Cc(e,t,r){var o,n,s,i,c,d,u=0,p=!1,b=!1,_=!0;if(typeof e!="function")throw new TypeError(yc);t=bn(t)||0,Ar(r)&&(p=!!r.leading,b="maxWait"in r,s=b?zc(bn(r.maxWait)||0,t):s,_="trailing"in r?!!r.trailing:_);function k(x){var w=o,A=n;return o=n=void 0,u=x,i=e.apply(A,w),i}function h(x){return u=x,c=setTimeout($,t),p?k(x):i}function v(x){var w=x-d,A=x-u,M=t-w;return b?Ec(M,s-A):M}function f(x){var w=x-d,A=x-u;return d===void 0||w>=t||w<0||b&&A>=s}function $(){var x=br();if(f(x))return C(x);c=setTimeout($,v(x))}function C(x){return c=void 0,_&&o?k(x):(o=n=void 0,i)}function j(){c!==void 0&&clearTimeout(c),u=0,o=d=n=c=void 0}function T(){return c===void 0?i:C(br())}function P(){var x=br(),w=f(x);if(o=arguments,n=this,d=x,w){if(c===void 0)return h(d);if(b)return c=setTimeout($,t),k(d)}return c===void 0&&(c=setTimeout($,t)),i}return P.cancel=j,P.flush=T,P}function Ar(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Tc(e){return!!e&&typeof e=="object"}function Rc(e){return typeof e=="symbol"||Tc(e)&&Ac.call(e)==bc}function bn(e){if(typeof e=="number")return e;if(Rc(e))return yn;if(Ar(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ar(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(_c,"");var r=xc.test(e);return r||Sc.test(e)?kc(e.slice(2),r?2:8):wc.test(e)?yn:+e}var Nc=Cc;const Mc=_s(Nc);var Ic=V('<label class="svelte-1sigsrd"><input type="radio" name="sort-aggregations"> </label>'),Lc=V('<span class="slider-track"><!></span> <!>',1),Fc=V('<section class="filter-group svelte-1sigsrd"><h3 class="svelte-1sigsrd">Date</h3> <div class="slider"><!></div> <div class="date-inputs svelte-1sigsrd"><label>Not before <input type="number"></label> <span>–</span> <label><input type="number"> Not after</label></div></section>'),Wc=V('<input type="text" placeholder="Filter options..." class="filter-input svelte-1sigsrd">'),Bc=V('<li><label><input type="checkbox"> </label></li>'),Uc=V('<section class="filter-group svelte-1sigsrd"><h3 class="svelte-1sigsrd"> </h3> <!> <ul class="svelte-1sigsrd"></ul></section>'),Dc=V('<aside class="filters svelte-1sigsrd" tabindex="-1"><!> <section class="svelte-1sigsrd"><h2 class="svelte-1sigsrd">Filters</h2> <section class="filters-options svelte-1sigsrd"><h3 class="svelte-1sigsrd">Options</h3> <form><fieldset class="svelte-1sigsrd"><legend>Sort filters by</legend> <!></fieldset></form></section> <section class="filters-groups svelte-1sigsrd"><!> <!></section></section></aside>');function qc(e,t){xe(t,!0);const r=[],o=[];let n=ee(t,"show",7,!1),s=ee(t,"aggregations",19,()=>({})),i=ee(t,"sortAggregationsBy",15,"key"),c=ee(t,"selectedDateRange",31,()=>ue([-700,1830])),d=ee(t,"selectedFilters",31,()=>ue({}));const u=[{label:"Value",value:"key"},{label:"Count",value:"count"}];let p=Fe(ue(c()));const b=Mc(P=>{c(P)},300);Or(()=>{b([...g(p)])});let _=ue({}),k=Fe(null);function h(P){var x;Y(k,ue(document.activeElement)),(x=P.currentTarget)==null||x.focus()}function v(){n(!1)}function f(){g(k)&&g(k).focus()}function $(P,x){var A;const w=((A=_[x])==null?void 0:A.toLowerCase())||"";return w?P.filter(M=>M.key.toLowerCase().includes(w)):P}function C(P){if(P.indexOf(":::")==-1)return P;const x=P.split(":::"),w=x.length;return i()==="count"?x.pop()||"":`${"+".repeat(w-1)} ${x.pop()}`}var j=ne(),T=G(j);se(T,n,P=>{var x=Dc(),w=N(x);ke(w,()=>Qe,(m,a)=>{a(m,{class:"close-button",onclick:v,"aria-label":"Close filters",children:(l,y)=>{Ee();var S=Ie("×");E(l,S)},$$slots:{default:!0}})});var A=B(w,2),M=B(N(A),2),F=B(N(M),2),W=N(F),I=B(N(W),2);Ue(I,17,()=>u,Ye,(m,a)=>{var l=Ic(),y=N(l);yt(y);var S,O=B(y);R(l),K(()=>{S!==(S=g(a).value)&&(y.value=(y.__value=g(a).value)==null?"":g(a).value),te(O,` ${g(a).label??""}`)}),nn(r,[],y,()=>(g(a).value,i()),i),E(m,l)}),R(W),R(F),R(M);var U=B(M,2),H=N(U);se(H,()=>{var m;return(m=s())==null?void 0:m.notBefore},m=>{var a=Fc(),l=B(N(a),2),y=N(l);ke(y,()=>Gs,(q,ie)=>{ie(q,{class:"slider-root",min:-700,max:1830,step:1,get value(){return g(p)},set value(de){Y(p,ue(de))},children:as,$$slots:{default:(de,ce)=>{const he=pe(()=>ce.thumbs);var be=Lc(),ve=G(be),$e=N(ve);ke($e,()=>Xs,(Te,L)=>{L(Te,{class:"slider-range"})}),R(ve);var Ce=B(ve,2);Ue(Ce,17,()=>g(he),Ye,(Te,L,X)=>{var ye=ne(),Re=G(ye);ke(Re,()=>Zs,(Ne,mt)=>{mt(Ne,{get thumb(){return g(L)},class:"slider-thumb","aria-label":`${X===0?"Not before":"Not after"}`})}),E(Te,ye)}),E(de,be)}}})}),R(l);var S=B(l,2),O=N(S),z=B(N(O));yt(z),De(z,"min",-700),De(z,"max",1811),R(O);var D=B(O,4),re=N(D);yt(re),De(re,"min",-675),De(re,"max",1830),Ee(),R(D),R(S),R(a),er(z,()=>g(p)[0],q=>g(p)[0]=q),er(re,()=>g(p)[1],q=>g(p)[1]=q),E(m,a)});var Q=B(H,2);Ue(Q,17,()=>Object.keys(d()),Ye,(m,a,l)=>{var y=ne(),S=G(y);se(S,()=>g(a)in s()&&s()[g(a)].title,O=>{var z=Uc(),D=N(z),re=N(D);R(D);var q=B(D,2);se(q,()=>s()[g(a)].buckets.length>20,de=>{var ce=Wc();yt(ce),er(ce,()=>_[g(a)],he=>_[g(a)]=he),E(de,ce)});var ie=B(q,2);Ue(ie,21,()=>$(s()[g(a)].buckets,g(a)),Ye,(de,ce)=>{var he=Bc(),be=N(he),ve=N(be);yt(ve);var $e,Ce=B(ve);K(()=>te(Ce,` ${C(g(ce).key)??""} (${g(ce).doc_count??""})`)),R(be),R(he),K(()=>{$e!==($e=g(ce).key)&&(ve.value=(ve.__value=g(ce).key)==null?"":g(ce).key)}),nn(o,[l],ve,()=>(g(ce).key,d()[g(a)]),Te=>d(d()[g(a)]=Te,!0)),E(de,he)}),R(ie),R(z),K(()=>te(re,`${s()[g(a)].title??""} (${s()[g(a)].buckets.length??""})`)),E(O,z)}),E(m,y)}),R(U),R(A),R(x),We("introend",x,h),We("outroend",x,f),Ot(3,x,()=>fs,()=>({axis:"x",duration:300})),E(P,x)}),E(e,j),Se()}var Vc=V(", matching <em> </em>",1),Hc=V('<span class="svelte-eb26nt"> <em> </em></span>'),Jc=V(', filtered by <span class="selected-filters svelte-eb26nt"></span>',1),Gc=V('<h2 class="svelte-eb26nt"><em> </em> Inscriptions between <em> </em> – <em> </em> across <em> </em> locations<!><!></h2>');function Kc(e,t){xe(t,!0);let r=pe(()=>Object.values(t.filters).some(h=>h.length>0));var o=Gc(),n=N(o),s=N(n,!0);K(()=>te(s,t.total.toLocaleString())),R(n);var i=B(n,2),c=N(i,!0);K(()=>te(c,t.dateRange[0]>0?`AD ${t.dateRange[0]}`:`${Math.abs(t.dateRange[0])} BC`)),R(i);var d=B(i,2),u=N(d,!0);K(()=>te(u,t.dateRange[1]>0?`AD ${t.dateRange[1]}`:`${Math.abs(t.dateRange[1])} BC`)),R(d);var p=B(d,2),b=N(p,!0);K(()=>te(b,t.numberOfLocations.toLocaleString())),R(p);var _=B(p,2);se(_,()=>t.query,h=>{var v=Vc(),f=B(G(v)),$=N(f,!0);K(()=>te($,t.query.split(" ").join(", "))),R(f),E(h,v)});var k=B(_);se(k,()=>g(r),h=>{var v=Jc(),f=B(G(v));Ue(f,21,()=>Object.entries(t.filters).filter(([$,C])=>C.length>0),Ye,($,C)=>{let j=()=>g(C)[0],T=()=>g(C)[1];var P=Hc(),x=N(P),w=B(x),A=N(w,!0);K(()=>te(A,T().join(", ").replaceAll("_"," ").replaceAll(":::"," "))),R(w),R(P),K(()=>te(x,`${j()??""}: `)),E($,P)}),R(f),E(h,v)}),R(o),E(e,o),Se()}var Mo=typeof global=="object"&&global&&global.Object===Object&&global,Xc=typeof self=="object"&&self&&self.Object===Object&&self,qe=Mo||Xc||Function("return this")(),Le=qe.Symbol,Io=Object.prototype,Yc=Io.hasOwnProperty,Zc=Io.toString,$t=Le?Le.toStringTag:void 0,Qc=Object.prototype.toString,el="[object Null]",tl="[object Undefined]",_n=Le?Le.toStringTag:void 0;function St(e){return e==null?e===void 0?tl:el:_n&&_n in Object(e)?function(t){var r=Yc.call(t,$t),o=t[$t];try{t[$t]=void 0;var n=!0}catch{}var s=Zc.call(t);return n&&(r?t[$t]=o:delete t[$t]),s}(e):function(t){return Qc.call(t)}(e)}function ft(e){return e!=null&&typeof e=="object"}var rl="[object Symbol]";function Nt(e){return typeof e=="symbol"||ft(e)&&St(e)==rl}function zt(e,t){for(var r=-1,o=e==null?0:e.length,n=Array(o);++r<o;)n[r]=t(e[r],r,e);return n}var Be=Array.isArray,nl=1/0,wn=Le?Le.prototype:void 0,xn=wn?wn.toString:void 0;function Lo(e){if(typeof e=="string")return e;if(Be(e))return zt(e,Lo)+"";if(Nt(e))return xn?xn.call(e):"";var t=e+"";return t=="0"&&1/e==-nl?"-0":t}function nr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function or(e){return e}var ol="[object AsyncFunction]",sl="[object Function]",il="[object GeneratorFunction]",al="[object Proxy]";function Fo(e){if(!nr(e))return!1;var t=St(e);return t==sl||t==il||t==ol||t==al}var Sn,_r=qe["__core-js_shared__"],kn=(Sn=/[^.]+$/.exec(_r&&_r.keys&&_r.keys.IE_PROTO||""))?"Symbol(src)_1."+Sn:"",cl=Function.prototype.toString;function gt(e){if(e!=null){try{return cl.call(e)}catch{}try{return e+""}catch{}}return""}var ll=/^\[object .+?Constructor\]$/,ul=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function pt(e,t){var r=function(o,n){return o==null?void 0:o[n]}(e,t);return function(o){return!(!nr(o)||(n=o,kn&&kn in n))&&(Fo(o)?ul:ll).test(gt(o));var n}(r)?r:void 0}var $n,wr,xr,zr=pt(qe,"WeakMap"),dl=Date.now,fl=function(){try{var e=pt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),jn=fl,hl=jn?function(e,t){return jn(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:or,gl=($n=hl,wr=0,xr=0,function(){var e=dl(),t=16-(e-xr);if(xr=e,t>0){if(++wr>=800)return arguments[0]}else wr=0;return $n.apply(void 0,arguments)});function pl(e){return e!=e}function ml(e,t){return!(e==null||!e.length)&&function(r,o,n){return o==o?function(s,i,c){for(var d=-1,u=s.length;++d<u;)if(s[d]===i)return d;return-1}(r,o):function(s,i,c,d){for(var u=s.length,p=-1;++p<u;)if(i(s[p],p,s))return p;return-1}(r,pl)}(e,t)>-1}var vl=9007199254740991,yl=/^(?:0|[1-9]\d*)$/;function Vr(e,t){var r=typeof e;return!!(t=t??vl)&&(r=="number"||r!="symbol"&&yl.test(e))&&e>-1&&e%1==0&&e<t}function Hr(e,t){return e===t||e!=e&&t!=t}var On=Math.max;function Wo(e,t){return gl(function(r,o,n){return o=On(o===void 0?r.length-1:o,0),function(){for(var s=arguments,i=-1,c=On(s.length-o,0),d=Array(c);++i<c;)d[i]=s[o+i];i=-1;for(var u=Array(o+1);++i<o;)u[i]=s[i];return u[o]=n(d),function(p,b,_){switch(_.length){case 0:return p.call(b);case 1:return p.call(b,_[0]);case 2:return p.call(b,_[0],_[1]);case 3:return p.call(b,_[0],_[1],_[2])}return p.apply(b,_)}(r,this,u)}}(e,t,or),e+"")}var bl=9007199254740991;function Jr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=bl}function It(e){return e!=null&&Jr(e.length)&&!Fo(e)}function Pn(e,t,r){if(!nr(r))return!1;var o=typeof t;return!!(o=="number"?It(r)&&Vr(t,r.length):o=="string"&&t in r)&&Hr(r[t],e)}var _l=Object.prototype;function wl(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||_l)}function An(e){return ft(e)&&St(e)=="[object Arguments]"}var Bo=Object.prototype,xl=Bo.hasOwnProperty,Sl=Bo.propertyIsEnumerable,Gr=An(function(){return arguments}())?An:function(e){return ft(e)&&xl.call(e,"callee")&&!Sl.call(e,"callee")},Uo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,zn=Uo&&typeof module=="object"&&module&&!module.nodeType&&module,En=zn&&zn.exports===Uo?qe.Buffer:void 0,Er=(En?En.isBuffer:void 0)||function(){return!1},le={};function Do(e){return function(t){return e(t)}}le["[object Float32Array]"]=le["[object Float64Array]"]=le["[object Int8Array]"]=le["[object Int16Array]"]=le["[object Int32Array]"]=le["[object Uint8Array]"]=le["[object Uint8ClampedArray]"]=le["[object Uint16Array]"]=le["[object Uint32Array]"]=!0,le["[object Arguments]"]=le["[object Array]"]=le["[object ArrayBuffer]"]=le["[object Boolean]"]=le["[object DataView]"]=le["[object Date]"]=le["[object Error]"]=le["[object Function]"]=le["[object Map]"]=le["[object Number]"]=le["[object Object]"]=le["[object RegExp]"]=le["[object Set]"]=le["[object String]"]=le["[object WeakMap]"]=!1;var qo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Et=qo&&typeof module=="object"&&module&&!module.nodeType&&module,Sr=Et&&Et.exports===qo&&Mo.process,wt=function(){try{return Et&&Et.require&&Et.require("util").types||Sr&&Sr.binding&&Sr.binding("util")}catch{}}(),Cn=wt&&wt.isTypedArray,Vo=Cn?Do(Cn):function(e){return ft(e)&&Jr(e.length)&&!!le[St(e)]},kl=Object.prototype.hasOwnProperty;function $l(e,t){var r=Be(e),o=!r&&Gr(e),n=!r&&!o&&Er(e),s=!r&&!o&&!n&&Vo(e),i=r||o||n||s,c=i?function(p,b){for(var _=-1,k=Array(p);++_<p;)k[_]=b(_);return k}(e.length,String):[],d=c.length;for(var u in e)!kl.call(e,u)||i&&(u=="length"||n&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Vr(u,d))||c.push(u);return c}function jl(e,t){return function(r){return e(t(r))}}var Ol=jl(Object.keys,Object),Pl=Object.prototype.hasOwnProperty;function Kr(e){return It(e)?$l(e):function(t){if(!wl(t))return Ol(t);var r=[];for(var o in Object(t))Pl.call(t,o)&&o!="constructor"&&r.push(o);return r}(e)}var Al=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zl=/^\w*$/;function Cr(e,t){if(Be(e))return!1;var r=typeof e;return!(r!="number"&&r!="symbol"&&r!="boolean"&&e!=null&&!Nt(e))||zl.test(e)||!Al.test(e)||t!=null&&e in Object(t)}var jt=pt(Object,"create"),El=Object.prototype.hasOwnProperty,Cl=Object.prototype.hasOwnProperty;function lt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}function Xt(e,t){for(var r=e.length;r--;)if(Hr(e[r][0],t))return r;return-1}lt.prototype.clear=function(){this.__data__=jt?jt(null):{},this.size=0},lt.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},lt.prototype.get=function(e){var t=this.__data__;if(jt){var r=t[e];return r==="__lodash_hash_undefined__"?void 0:r}return El.call(t,e)?t[e]:void 0},lt.prototype.has=function(e){var t=this.__data__;return jt?t[e]!==void 0:Cl.call(t,e)},lt.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=jt&&t===void 0?"__lodash_hash_undefined__":t,this};var Tl=Array.prototype.splice;function Ke(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}Ke.prototype.clear=function(){this.__data__=[],this.size=0},Ke.prototype.delete=function(e){var t=this.__data__,r=Xt(t,e);return!(r<0||(r==t.length-1?t.pop():Tl.call(t,r,1),--this.size,0))},Ke.prototype.get=function(e){var t=this.__data__,r=Xt(t,e);return r<0?void 0:t[r][1]},Ke.prototype.has=function(e){return Xt(this.__data__,e)>-1},Ke.prototype.set=function(e,t){var r=this.__data__,o=Xt(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this};var Mt=pt(qe,"Map");function Yt(e,t){var r,o,n=e.__data__;return((o=typeof(r=t))=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null)?n[typeof t=="string"?"string":"hash"]:n.map}function Ge(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}function Xr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var r=function(){var o=arguments,n=t?t.apply(this,o):o[0],s=r.cache;if(s.has(n))return s.get(n);var i=e.apply(this,o);return r.cache=s.set(n,i)||s,i};return r.cache=new(Xr.Cache||Ge),r}Ge.prototype.clear=function(){this.size=0,this.__data__={hash:new lt,map:new(Mt||Ke),string:new lt}},Ge.prototype.delete=function(e){var t=Yt(this,e).delete(e);return this.size-=t?1:0,t},Ge.prototype.get=function(e){return Yt(this,e).get(e)},Ge.prototype.has=function(e){return Yt(this,e).has(e)},Ge.prototype.set=function(e,t){var r=Yt(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this},Xr.Cache=Ge;var kr,$r,Rl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nl=/\\(\\)?/g,Ml=(kr=Xr(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Rl,function(r,o,n,s){t.push(n?s.replace(Nl,"$1"):o||r)}),t},function(e){return $r.size===500&&$r.clear(),e}),$r=kr.cache,kr);function Ho(e,t){return Be(e)?e:Cr(e,t)?[e]:Ml(function(r){return r==null?"":Lo(r)}(e))}var Il=1/0;function tr(e){if(typeof e=="string"||Nt(e))return e;var t=e+"";return t=="0"&&1/e==-Il?"-0":t}function Tr(e,t){for(var r=0,o=(t=Ho(t,e)).length;e!=null&&r<o;)e=e[tr(t[r++])];return r&&r==o?e:void 0}function Jo(e,t){for(var r=-1,o=t.length,n=e.length;++r<o;)e[n+r]=t[r];return e}var Tn=Le?Le.isConcatSpreadable:void 0;function Ll(e){return Be(e)||Gr(e)||!!(Tn&&e&&e[Tn])}function Fl(e,t,r,o,n){var s=-1,i=e.length;for(r||(r=Ll),n||(n=[]);++s<i;){var c=e[s];r(c)?Jo(n,c):n[n.length]=c}return n}function Xe(e){var t=this.__data__=new Ke(e);this.size=t.size}Xe.prototype.clear=function(){this.__data__=new Ke,this.size=0},Xe.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Xe.prototype.get=function(e){return this.__data__.get(e)},Xe.prototype.has=function(e){return this.__data__.has(e)},Xe.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Ke){var o=r.__data__;if(!Mt||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ge(o)}return r.set(e,t),this.size=r.size,this};var Go=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Rn=Go&&typeof module=="object"&&module&&!module.nodeType&&module,Nn=Rn&&Rn.exports===Go?qe.Buffer:void 0;Nn&&Nn.allocUnsafe;function Wl(){return[]}var Bl=Object.prototype.propertyIsEnumerable,Mn=Object.getOwnPropertySymbols,Ul=Mn?function(e){return e==null?[]:(e=Object(e),function(t,r){for(var o=-1,n=t==null?0:t.length,s=0,i=[];++o<n;){var c=t[o];Bl.call(e,c)&&(i[s++]=c)}return i}(Mn(e)))}:Wl,Dl=Ul;function ql(e,t,r){var o=t(e);return Be(e)?o:Jo(o,r(e))}function In(e){return ql(e,Kr,Dl)}var Rr=pt(qe,"DataView"),Nr=pt(qe,"Promise"),Mr=pt(qe,"Set"),Ln="[object Map]",Fn="[object Promise]",Wn="[object Set]",Bn="[object WeakMap]",Un="[object DataView]",Vl=gt(Rr),Hl=gt(Mt),Jl=gt(Nr),Gl=gt(Mr),Kl=gt(zr),ct=St;(Rr&&ct(new Rr(new ArrayBuffer(1)))!=Un||Mt&&ct(new Mt)!=Ln||Nr&&ct(Nr.resolve())!=Fn||Mr&&ct(new Mr)!=Wn||zr&&ct(new zr)!=Bn)&&(ct=function(e){var t=St(e),r=t=="[object Object]"?e.constructor:void 0,o=r?gt(r):"";if(o)switch(o){case Vl:return Un;case Hl:return Ln;case Jl:return Fn;case Gl:return Wn;case Kl:return Bn}return t});var Dn=ct,qn=qe.Uint8Array,Vn=Le?Le.prototype:void 0;Vn&&Vn.valueOf;wt&&wt.isMap;wt&&wt.isSet;function Ct(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Ge;++t<r;)this.add(e[t])}function Xl(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}function Ir(e,t){return e.has(t)}Ct.prototype.add=Ct.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ct.prototype.has=function(e){return this.__data__.has(e)};var Yl=1,Zl=2;function Hn(e,t,r,o,n,s){var i=r&Yl,c=e.length,d=t.length;if(c!=d&&!(i&&d>c))return!1;var u=s.get(e),p=s.get(t);if(u&&p)return u==t&&p==e;var b=-1,_=!0,k=r&Zl?new Ct:void 0;for(s.set(e,t),s.set(t,e);++b<c;){var h=e[b],v=t[b];if(o)var f=i?o(v,h,b,t,e,s):o(h,v,b,e,t,s);if(f!==void 0){if(f)continue;_=!1;break}if(k){if(!Xl(t,function($,C){if(!Ir(k,C)&&(h===$||n(h,$,r,o,s)))return k.push(C)})){_=!1;break}}else if(h!==v&&!n(h,v,r,o,s)){_=!1;break}}return s.delete(e),s.delete(t),_}function Ql(e){var t=-1,r=Array(e.size);return e.forEach(function(o,n){r[++t]=[n,o]}),r}function eu(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}var tu=1,ru=2,nu="[object Boolean]",ou="[object Date]",su="[object Error]",iu="[object Map]",au="[object Number]",cu="[object RegExp]",lu="[object Set]",uu="[object String]",du="[object Symbol]",fu="[object ArrayBuffer]",hu="[object DataView]",Jn=Le?Le.prototype:void 0,jr=Jn?Jn.valueOf:void 0,gu=1,pu=Object.prototype.hasOwnProperty,mu=1,Gn="[object Arguments]",Kn="[object Array]",Zt="[object Object]",Xn=Object.prototype.hasOwnProperty;function Lr(e,t,r,o,n){return e===t||(e==null||t==null||!ft(e)&&!ft(t)?e!=e&&t!=t:function(s,i,c,d,u,p){var b=Be(s),_=Be(i),k=b?Kn:Dn(s),h=_?Kn:Dn(i),v=(k=k==Gn?Zt:k)==Zt,f=(h=h==Gn?Zt:h)==Zt,$=k==h;if($&&Er(s)){if(!Er(i))return!1;b=!0,v=!1}if($&&!v)return p||(p=new Xe),b||Vo(s)?Hn(s,i,c,d,u,p):function(x,w,A,M,F,W,I){switch(A){case hu:if(x.byteLength!=w.byteLength||x.byteOffset!=w.byteOffset)return!1;x=x.buffer,w=w.buffer;case fu:return!(x.byteLength!=w.byteLength||!W(new qn(x),new qn(w)));case nu:case ou:case au:return Hr(+x,+w);case su:return x.name==w.name&&x.message==w.message;case cu:case uu:return x==w+"";case iu:var U=Ql;case lu:if(U||(U=eu),x.size!=w.size&&!(M&tu))return!1;var H=I.get(x);if(H)return H==w;M|=ru,I.set(x,w);var Q=Hn(U(x),U(w),M,F,W,I);return I.delete(x),Q;case du:if(jr)return jr.call(x)==jr.call(w)}return!1}(s,i,k,c,d,u,p);if(!(c&mu)){var C=v&&Xn.call(s,"__wrapped__"),j=f&&Xn.call(i,"__wrapped__");if(C||j){var T=C?s.value():s,P=j?i.value():i;return p||(p=new Xe),u(T,P,c,d,p)}}return!!$&&(p||(p=new Xe),function(x,w,A,M,F,W){var I=A&gu,U=In(x),H=U.length;if(H!=In(w).length&&!I)return!1;for(var Q=H;Q--;){var m=U[Q];if(!(I?m in w:pu.call(w,m)))return!1}var a=W.get(x),l=W.get(w);if(a&&l)return a==w&&l==x;var y=!0;W.set(x,w),W.set(w,x);for(var S=I;++Q<H;){var O=x[m=U[Q]],z=w[m];if(M)var D=I?M(z,O,m,w,x,W):M(O,z,m,x,w,W);if(!(D===void 0?O===z||F(O,z,A,M,W):D)){y=!1;break}S||(S=m=="constructor")}if(y&&!S){var re=x.constructor,q=w.constructor;re==q||!("constructor"in x)||!("constructor"in w)||typeof re=="function"&&re instanceof re&&typeof q=="function"&&q instanceof q||(y=!1)}return W.delete(x),W.delete(w),y}(s,i,c,d,u,p))}(e,t,r,o,Lr,n))}var vu=1,yu=2;function Yn(e){return e==e&&!nr(e)}function Zn(e,t){return function(r){return r!=null&&r[e]===t&&(t!==void 0||e in Object(r))}}function bu(e,t){return e!=null&&t in Object(e)}var _u=1,wu=2;function xu(e){return typeof e=="function"?e:e==null?or:typeof e=="object"?Be(e)?function(s,i){return Cr(s)&&Yn(i)?Zn(tr(s),i):function(c){var d=function(u,p,b){var _=u==null?void 0:Tr(u,p);return _===void 0?void 0:_}(c,s);return d===void 0&&d===i?function(u,p){return u!=null&&function(b,_,k){for(var h=-1,v=(_=Ho(_,b)).length,f=!1;++h<v;){var $=tr(_[h]);if(!(f=b!=null&&k(b,$)))break;b=b[$]}return f||++h!=v?f:!!(v=b==null?0:b.length)&&Jr(v)&&Vr($,v)&&(Be(b)||Gr(b))}(u,p,bu)}(c,s):Lr(i,d,_u|wu)}}(e[0],e[1]):(n=function(s){for(var i=Kr(s),c=i.length;c--;){var d=i[c],u=s[d];i[c]=[d,u,Yn(u)]}return i}(o=e),n.length==1&&n[0][2]?Zn(n[0][0],n[0][1]):function(s){return s===o||function(i,c,d,u){var p=d.length,b=p;if(i==null)return!b;for(i=Object(i);p--;){var _=d[p];if(_[2]?_[1]!==i[_[0]]:!(_[0]in i))return!1}for(;++p<b;){var k=(_=d[p])[0],h=i[k],v=_[1];if(_[2]){if(h===void 0&&!(k in i))return!1}else{var f=new Xe;if(!Lr(v,h,vu|yu,void 0,f))return!1}}return!0}(s,0,n)}):Cr(t=e)?(r=tr(t),function(s){return s==null?void 0:s[r]}):function(s){return function(i){return Tr(i,s)}}(t);var t,r,o,n}var Su=function(e,t,r){for(var o=-1,n=Object(e),s=r(e),i=s.length;i--;){var c=s[++o];if(t(n[c],c,n)===!1)break}return e};function ku(e,t){return e&&Su(e,t,Kr)}var Qn,$u=(Qn=ku,function(e,t){if(e==null)return e;if(!It(e))return Qn(e,t);for(var r=e.length,o=-1,n=Object(e);++o<r&&t(n[o],o,n)!==!1;);return e});function ju(e,t){var r=-1,o=It(e)?Array(e.length):[];return $u(e,function(n,s,i){o[++r]=t(n,s,i)}),o}var Ou=Math.min;function Pu(e){return function(t){return ft(t)&&It(t)}(e)?e:[]}Wo(function(e){var t=zt(e,Pu);return t.length&&t[0]===e[0]?function(r,o,n){for(var s=ml,i=r[0].length,c=r.length,d=c,u=Array(c),p=1/0,b=[];d--;){var _=r[d];p=Ou(_.length,p),u[d]=i>=120&&_.length>=120?new Ct(d&&_):void 0}_=r[0];var k=-1,h=u[0];e:for(;++k<i&&b.length<p;){var v=_[k],f=v;if(v=v!==0?v:0,!(h?Ir(h,f):s(b,f,n))){for(d=c;--d;){var $=u[d];if(!($?Ir($,f):s(r[d],f,n)))continue e}h&&h.push(f),b.push(v)}}return b}(t):[]});function Au(e,t){if(e!==t){var r=e!==void 0,o=e===null,n=e==e,s=Nt(e),i=t!==void 0,c=t===null,d=t==t,u=Nt(t);if(!c&&!u&&!s&&e>t||s&&i&&d&&!c&&!u||o&&i&&d||!r&&d||!n)return 1;if(!o&&!s&&!u&&e<t||u&&r&&n&&!o&&!s||c&&r&&n||!i&&n||!d)return-1}return 0}function zu(e,t,r){t=t.length?zt(t,function(n){return Be(n)?function(s){return Tr(s,n.length===1?n[0]:n)}:n}):[or];var o=-1;return t=zt(t,Do(xu)),function(n,s){var i=n.length;for(n.sort(function(c,d){return function(u,p,b){for(var _=-1,k=u.criteria,h=p.criteria,v=k.length,f=b.length;++_<v;){var $=Au(k[_],h[_]);if($)return _>=f?$:$*(b[_]=="desc"?-1:1)}return u.index-p.index}(c,d,r)});i--;)n[i]=n[i].value;return n}(ju(e,function(n,s,i){return{criteria:zt(t,function(c){return c(n)}),index:++o,value:n}}))}Wo(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Pn(e,t[0],t[1])?t=[]:r>2&&Pn(t[0],t[1],t[2])&&(t=[t[0]]),zu(e,Fl(t),[])});function Z(e){if(this.words=[],e)if(Symbol&&Symbol.iterator&&e[Symbol.iterator]!==void 0){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.add(r.value),r=t.next()}else for(let t=0;t<e.length;t++)this.add(e[t])}Z.fromWords=function(e){const t=Object.create(Z.prototype);return t.words=e,t},Z.prototype.add=function(e){this.resize(e),this.words[e>>>5]|=1<<e},Z.prototype.flip=function(e){this.resize(e),this.words[e>>>5]^=1<<e},Z.prototype.clear=function(){this.words.length=0},Z.prototype.remove=function(e){this.resize(e),this.words[e>>>5]&=~(1<<e)},Z.prototype.isEmpty=function(e){const t=this.words.length;for(let r=0;r<t;r++)if(this.words[r]!==0)return!1;return!0},Z.prototype.has=function(e){return(this.words[e>>>5]&1<<e)!=0},Z.prototype.checkedAdd=function(e){this.resize(e);const t=this.words[e>>>5],r=t|1<<e;return this.words[e>>>5]=r,(r^t)>>>e},Z.prototype.trim=function(e){let t=this.words.length;for(;t>0&&this.words[t-1]===0;)t--;this.words.length=t},Z.prototype.resize=function(e){const t=e+32>>>5;for(let r=this.words.length;r<t;r++)this.words[r]=0},Z.prototype.hammingWeight=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},Z.prototype.hammingWeight4=function(e,t,r,o){return 16843009*((e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)+(t=(t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)+(r=(r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)+(o=(o=(858993459&(o-=o>>>1&1431655765))+(o>>>2&858993459))+(o>>>4)&252645135))>>>24},Z.prototype.size=function(){let e=0;const t=this.words.length,r=this.words;for(let o=0;o<t;o++)e+=this.hammingWeight(r[o]);return e},Z.prototype.array=function(){const e=new Array(this.size());let t=0;const r=this.words.length;for(let o=0;o<r;++o){let n=this.words[o];for(;n!=0;){const s=n&-n;e[t++]=(o<<5)+this.hammingWeight(s-1|0),n^=s}}return e},Z.prototype.forEach=function(e){const t=this.words.length;for(let r=0;r<t;++r){let o=this.words[r];for(;o!=0;){const n=o&-o;e((r<<5)+this.hammingWeight(n-1|0)),o^=n}}},Z.prototype[Symbol.iterator]=function(){const e=this.words.length;let t=0,r=this.words[t],o=this.hammingWeight,n=this.words;return{[Symbol.iterator](){return this},next(){for(;t<e;){if(r!==0){const s=r&-r,i=(t<<5)+o(s-1|0);return r^=s,{done:!1,value:i}}t++,t<e&&(r=n[t])}return{done:!0,value:void 0}}}},Z.prototype.clone=function(){const e=Object.create(Z.prototype);return e.words=this.words.slice(),e},Z.prototype.intersects=function(e){const t=Math.min(this.words.length,e.words.length);for(let r=0;r<t;++r)if(this.words[r]&e.words[r])return!0;return!1},Z.prototype.intersection=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)this.words[r]&=e.words[r],this.words[r+1]&=e.words[r+1],this.words[r+2]&=e.words[r+2],this.words[r+3]&=e.words[r+3],this.words[r+4]&=e.words[r+4],this.words[r+5]&=e.words[r+5],this.words[r+6]&=e.words[r+6],this.words[r+7]&=e.words[r+7];for(;r<t;++r)this.words[r]&=e.words[r];const o=this.words.length;for(r=t;r<o;++r)this.words[r]=0;return this},Z.prototype.intersection_size=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(let o=0;o<t;++o)r+=this.hammingWeight(this.words[o]&e.words[o]);return r},Z.prototype.new_intersection=function(e){const t=Object.create(Z.prototype),r=Math.min(this.words.length,e.words.length);t.words=new Array(r);let o=0;for(;o+7<r;o+=8)t.words[o]=this.words[o]&e.words[o],t.words[o+1]=this.words[o+1]&e.words[o+1],t.words[o+2]=this.words[o+2]&e.words[o+2],t.words[o+3]=this.words[o+3]&e.words[o+3],t.words[o+4]=this.words[o+4]&e.words[o+4],t.words[o+5]=this.words[o+5]&e.words[o+5],t.words[o+6]=this.words[o+6]&e.words[o+6],t.words[o+7]=this.words[o+7]&e.words[o+7];for(;o<r;++o)t.words[o]=this.words[o]&e.words[o];return t},Z.prototype.equals=function(e){const t=Math.min(this.words.length,e.words.length);for(let r=0;r<t;++r)if(this.words[r]!=e.words[r])return!1;if(this.words.length<e.words.length){const r=e.words.length;for(let o=this.words.length;o<r;++o)if(e.words[o]!=0)return!1}else if(e.words.length<this.words.length){const r=this.words.length;for(let o=e.words.length;o<r;++o)if(this.words[o]!=0)return!1}return!0},Z.prototype.difference=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)this.words[r]&=~e.words[r],this.words[r+1]&=~e.words[r+1],this.words[r+2]&=~e.words[r+2],this.words[r+3]&=~e.words[r+3],this.words[r+4]&=~e.words[r+4],this.words[r+5]&=~e.words[r+5],this.words[r+6]&=~e.words[r+6],this.words[r+7]&=~e.words[r+7];for(;r<t;++r)this.words[r]&=~e.words[r];return this},Z.prototype.new_difference=function(e){return this.clone().difference(e)},Z.prototype.difference2=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)e.words[r]=this.words[r]&~e.words[r],e.words[r+1]=this.words[r+1]&~e.words[r+1],e.words[r+2]=this.words[r+2]&~e.words[r+2],e.words[r+3]=this.words[r+3]&~e.words[r+3],e.words[r+4]=this.words[r+4]&~e.words[r+4],e.words[r+5]=this.words[r+5]&~e.words[r+5],e.words[r+6]=this.words[r+6]&~e.words[r+6],e.words[r+7]=this.words[r+7]&~e.words[r+7];for(;r<t;++r)e.words[r]=this.words[r]&~e.words[r];for(r=this.words.length-1;r>=t;--r)e.words[r]=this.words[r];return e.words.length=this.words.length,e},Z.prototype.difference_size=function(e){const t=Math.min(this.words.length,e.words.length);let r=0,o=0;for(;o<t;++o)r+=this.hammingWeight(this.words[o]&~e.words[o]);const n=this.words.length;for(;o<n;++o)r+=this.hammingWeight(this.words[o]);return r},Z.prototype.change=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)this.words[r]^=e.words[r],this.words[r+1]^=e.words[r+1],this.words[r+2]^=e.words[r+2],this.words[r+3]^=e.words[r+3],this.words[r+4]^=e.words[r+4],this.words[r+5]^=e.words[r+5],this.words[r+6]^=e.words[r+6],this.words[r+7]^=e.words[r+7];for(;r<t;++r)this.words[r]^=e.words[r];for(r=e.words.length-1;r>=t;--r)this.words[r]=e.words[r];return this},Z.prototype.new_change=function(e){const t=Object.create(Z.prototype),r=Math.max(this.words.length,e.words.length);t.words=new Array(r);const o=Math.min(this.words.length,e.words.length);let n=0;for(;n+7<o;n+=8)t.words[n]=this.words[n]^e.words[n],t.words[n+1]=this.words[n+1]^e.words[n+1],t.words[n+2]=this.words[n+2]^e.words[n+2],t.words[n+3]=this.words[n+3]^e.words[n+3],t.words[n+4]=this.words[n+4]^e.words[n+4],t.words[n+5]=this.words[n+5]^e.words[n+5],t.words[n+6]=this.words[n+6]^e.words[n+6],t.words[n+7]=this.words[n+7]^e.words[n+7];for(;n<o;++n)t.words[n]=this.words[n]^e.words[n];const s=this.words.length;for(n=o;n<s;++n)t.words[n]=this.words[n];const i=e.words.length;for(n=o;n<i;++n)t.words[n]=e.words[n];return t},Z.prototype.change_size=function(e){const t=Math.min(this.words.length,e.words.length);let r=0,o=0;for(;o<t;++o)r+=this.hammingWeight(this.words[o]^e.words[o]);const n=this.words.length>e.words.length?this:e,s=n.words.length;for(;o<s;++o)r+=this.hammingWeight(n.words[o]);return r},Z.prototype.toString=function(){return"{"+this.array().join(",")+"}"},Z.prototype.union=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)this.words[r]|=e.words[r],this.words[r+1]|=e.words[r+1],this.words[r+2]|=e.words[r+2],this.words[r+3]|=e.words[r+3],this.words[r+4]|=e.words[r+4],this.words[r+5]|=e.words[r+5],this.words[r+6]|=e.words[r+6],this.words[r+7]|=e.words[r+7];for(;r<t;++r)this.words[r]|=e.words[r];if(this.words.length<e.words.length){this.resize((e.words.length<<5)-1);const o=e.words.length;for(let n=t;n<o;++n)this.words[n]=e.words[n]}return this},Z.prototype.new_union=function(e){const t=Object.create(Z.prototype),r=Math.max(this.words.length,e.words.length);t.words=new Array(r);const o=Math.min(this.words.length,e.words.length);let n=0;for(;n+7<o;n+=8)t.words[n]=this.words[n]|e.words[n],t.words[n+1]=this.words[n+1]|e.words[n+1],t.words[n+2]=this.words[n+2]|e.words[n+2],t.words[n+3]=this.words[n+3]|e.words[n+3],t.words[n+4]=this.words[n+4]|e.words[n+4],t.words[n+5]=this.words[n+5]|e.words[n+5],t.words[n+6]=this.words[n+6]|e.words[n+6],t.words[n+7]=this.words[n+7]|e.words[n+7];for(;n<o;++n)t.words[n]=this.words[n]|e.words[n];const s=this.words.length;for(n=o;n<s;++n)t.words[n]=this.words[n];const i=e.words.length;for(n=o;n<i;++n)t.words[n]=e.words[n];return t},Z.prototype.union_size=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(let o=0;o<t;++o)r+=this.hammingWeight(this.words[o]|e.words[o]);if(this.words.length<e.words.length){const o=e.words.length;for(let n=this.words.length;n<o;++n)r+=this.hammingWeight(0|e.words[n])}else{const o=this.words.length;for(let n=e.words.length;n<o;++n)r+=this.hammingWeight(0|this.words[n])}return r};(function(e){var t={exports:{}};return function(r,o){(function(){var n,s,i,c,d,u,p,b,_,k,h,v,f,$,C,j,T,P,x,w,A,M,F,W,I,U,H,Q,m=function(a){var l=new m.Index;return l.pipeline.add(m.trimmer,m.stopWordFilter,m.stemmer),a&&a.call(l,l),l};m.version="1.0.0",m.utils={},m.utils.warn=function(a){return function(l){a.console&&console.warn&&console.warn(l)}}(this),m.utils.asString=function(a){return a==null?"":a.toString()},m.EventEmitter=function(){this.events={}},m.EventEmitter.prototype.addListener=function(){var a=Array.prototype.slice.call(arguments),l=a.pop(),y=a;if(typeof l!="function")throw new TypeError("last argument must be a function");y.forEach(function(S){this.hasHandler(S)||(this.events[S]=[]),this.events[S].push(l)},this)},m.EventEmitter.prototype.removeListener=function(a,l){if(this.hasHandler(a)){var y=this.events[a].indexOf(l);this.events[a].splice(y,1),this.events[a].length||delete this.events[a]}},m.EventEmitter.prototype.emit=function(a){if(this.hasHandler(a)){var l=Array.prototype.slice.call(arguments,1);this.events[a].forEach(function(y){y.apply(void 0,l)})}},m.EventEmitter.prototype.hasHandler=function(a){return a in this.events},m.tokenizer=function(a){return arguments.length&&a!=null&&a!=null?Array.isArray(a)?a.map(function(l){return m.utils.asString(l).toLowerCase()}):a.toString().trim().toLowerCase().split(m.tokenizer.separator):[]},m.tokenizer.separator=/[\s\-]+/,m.tokenizer.load=function(a){var l=this.registeredFunctions[a];if(!l)throw new Error("Cannot load un-registered function: "+a);return l},m.tokenizer.label="default",m.tokenizer.registeredFunctions={default:m.tokenizer},m.tokenizer.registerFunction=function(a,l){l in this.registeredFunctions&&m.utils.warn("Overwriting existing tokenizer: "+l),a.label=l,this.registeredFunctions[l]=a},m.Pipeline=function(){this._stack=[]},m.Pipeline.registeredFunctions={},m.Pipeline.registerFunction=function(a,l){l in this.registeredFunctions&&m.utils.warn("Overwriting existing registered function: "+l),a.label=l,m.Pipeline.registeredFunctions[a.label]=a},m.Pipeline.warnIfFunctionNotRegistered=function(a){a.label&&a.label in this.registeredFunctions||m.utils.warn(`Function is not registered with pipeline. This may cause problems when serialising the index.
`,a)},m.Pipeline.load=function(a){var l=new m.Pipeline;return a.forEach(function(y){var S=m.Pipeline.registeredFunctions[y];if(!S)throw new Error("Cannot load un-registered function: "+y);l.add(S)}),l},m.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(a){m.Pipeline.warnIfFunctionNotRegistered(a),this._stack.push(a)},this)},m.Pipeline.prototype.after=function(a,l){m.Pipeline.warnIfFunctionNotRegistered(l);var y=this._stack.indexOf(a);if(y==-1)throw new Error("Cannot find existingFn");this._stack.splice(y+=1,0,l)},m.Pipeline.prototype.before=function(a,l){m.Pipeline.warnIfFunctionNotRegistered(l);var y=this._stack.indexOf(a);if(y==-1)throw new Error("Cannot find existingFn");this._stack.splice(y,0,l)},m.Pipeline.prototype.remove=function(a){var l=this._stack.indexOf(a);l!=-1&&this._stack.splice(l,1)},m.Pipeline.prototype.run=function(a){for(var l=[],y=a.length,S=this._stack.length,O=0;O<y;O++){for(var z=a[O],D=0;D<S&&(z=this._stack[D](z,O,a))!==void 0&&z!=="";D++);z!==void 0&&z!==""&&l.push(z)}return l},m.Pipeline.prototype.reset=function(){this._stack=[]},m.Pipeline.prototype.toJSON=function(){return this._stack.map(function(a){return m.Pipeline.warnIfFunctionNotRegistered(a),a.label})},m.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},m.Vector.Node=function(a,l,y){this.idx=a,this.val=l,this.next=y},m.Vector.prototype.insert=function(a,l){this._magnitude=void 0;var y=this.list;if(!y)return this.list=new m.Vector.Node(a,l,y),this.length++;if(a<y.idx)return this.list=new m.Vector.Node(a,l,y),this.length++;for(var S=y,O=y.next;O!=null;){if(a<O.idx)return S.next=new m.Vector.Node(a,l,O),this.length++;S=O,O=O.next}return S.next=new m.Vector.Node(a,l,O),this.length++},m.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var a,l=this.list,y=0;l;)y+=(a=l.val)*a,l=l.next;return this._magnitude=Math.sqrt(y)},m.Vector.prototype.dot=function(a){for(var l=this.list,y=a.list,S=0;l&&y;)l.idx<y.idx?l=l.next:(l.idx>y.idx||(S+=l.val*y.val,l=l.next),y=y.next);return S},m.Vector.prototype.similarity=function(a){return this.dot(a)/(this.magnitude()*a.magnitude())},m.SortedSet=function(){this.length=0,this.elements=[]},m.SortedSet.load=function(a){var l=new this;return l.elements=a,l.length=a.length,l},m.SortedSet.prototype.add=function(){var a,l;for(a=0;a<arguments.length;a++)~this.indexOf(l=arguments[a])||this.elements.splice(this.locationFor(l),0,l);this.length=this.elements.length},m.SortedSet.prototype.toArray=function(){return this.elements.slice()},m.SortedSet.prototype.map=function(a,l){return this.elements.map(a,l)},m.SortedSet.prototype.forEach=function(a,l){return this.elements.forEach(a,l)},m.SortedSet.prototype.indexOf=function(a){for(var l=0,y=this.elements.length,S=y-l,O=l+Math.floor(S/2),z=this.elements[O];S>1;){if(z===a)return O;z<a&&(l=O),z>a&&(y=O),S=y-l,O=l+Math.floor(S/2),z=this.elements[O]}return z===a?O:-1},m.SortedSet.prototype.locationFor=function(a){for(var l=0,y=this.elements.length,S=y-l,O=l+Math.floor(S/2),z=this.elements[O];S>1;)z<a&&(l=O),z>a&&(y=O),S=y-l,O=l+Math.floor(S/2),z=this.elements[O];return z>a?O:z<a?O+1:void 0},m.SortedSet.prototype.intersect=function(a){for(var l=new m.SortedSet,y=0,S=0,O=this.length,z=a.length,D=this.elements,re=a.elements;!(y>O-1||S>z-1);)D[y]!==re[S]?D[y]<re[S]?y++:D[y]>re[S]&&S++:(l.add(D[y]),y++,S++);return l},m.SortedSet.prototype.clone=function(){var a=new m.SortedSet;return a.elements=this.toArray(),a.length=a.elements.length,a},m.SortedSet.prototype.union=function(a){var l,y,S;this.length>=a.length?(l=this,y=a):(l=a,y=this),S=l.clone();for(var O=0,z=y.toArray();O<z.length;O++)S.add(z[O]);return S},m.SortedSet.prototype.toJSON=function(){return this.toArray()},m.Index=function(){this._fields=[],this._ref="id",this.pipeline=new m.Pipeline,this.documentStore=new m.Store,this.tokenStore=new m.TokenStore,this.corpusTokens=new m.SortedSet,this.eventEmitter=new m.EventEmitter,this.tokenizerFn=m.tokenizer,this._idfCache={},this.on("add","remove","update",(function(){this._idfCache={}}).bind(this))},m.Index.prototype.on=function(){var a=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,a)},m.Index.prototype.off=function(a,l){return this.eventEmitter.removeListener(a,l)},m.Index.load=function(a){a.version!==m.version&&m.utils.warn("version mismatch: current "+m.version+" importing "+a.version);var l=new this;return l._fields=a.fields,l._ref=a.ref,l.tokenizer(m.tokenizer.load(a.tokenizer)),l.documentStore=m.Store.load(a.documentStore),l.tokenStore=m.TokenStore.load(a.tokenStore),l.corpusTokens=m.SortedSet.load(a.corpusTokens),l.pipeline=m.Pipeline.load(a.pipeline),l},m.Index.prototype.field=function(a,l){return this._fields.push({name:a,boost:(l=l||{}).boost||1}),this},m.Index.prototype.ref=function(a){return this._ref=a,this},m.Index.prototype.tokenizer=function(a){return a.label&&a.label in m.tokenizer.registeredFunctions||m.utils.warn("Function is not a registered tokenizer. This may cause problems when serialising the index"),this.tokenizerFn=a,this},m.Index.prototype.add=function(a,l){var y={},S=new m.SortedSet,O=a[this._ref];l=l===void 0||l,this._fields.forEach(function(ve){var $e=this.pipeline.run(this.tokenizerFn(a[ve.name]));y[ve.name]=$e;for(var Ce=0;Ce<$e.length;Ce++){var Te=$e[Ce];S.add(Te),this.corpusTokens.add(Te)}},this),this.documentStore.set(O,S);for(var z=0;z<S.length;z++){for(var D=S.elements[z],re=0,q=0;q<this._fields.length;q++){var ie=this._fields[q],de=y[ie.name],ce=de.length;if(ce){for(var he=0,be=0;be<ce;be++)de[be]===D&&he++;re+=he/ce*ie.boost}}this.tokenStore.add(D,{ref:O,tf:re})}l&&this.eventEmitter.emit("add",a,this)},m.Index.prototype.remove=function(a,l){var y=a[this._ref];if(l=l===void 0||l,this.documentStore.has(y)){var S=this.documentStore.get(y);this.documentStore.remove(y),S.forEach(function(O){this.tokenStore.remove(O,y)},this),l&&this.eventEmitter.emit("remove",a,this)}},m.Index.prototype.update=function(a,l){l=l===void 0||l,this.remove(a,!1),this.add(a,!1),l&&this.eventEmitter.emit("update",a,this)},m.Index.prototype.idf=function(a){var l="@"+a;if(Object.prototype.hasOwnProperty.call(this._idfCache,l))return this._idfCache[l];var y=this.tokenStore.count(a),S=1;return y>0&&(S=1+Math.log(this.documentStore.length/y)),this._idfCache[l]=S},m.Index.prototype.search=function(a){var l=this.pipeline.run(this.tokenizerFn(a)),y=new m.Vector,S=[],O=this._fields.reduce(function(z,D){return z+D.boost},0);return l.some(function(z){return this.tokenStore.has(z)},this)?(l.forEach(function(z,D,re){var q=1/re.length*this._fields.length*O,ie=this,de=this.tokenStore.expand(z).reduce(function(ce,he){var be=ie.corpusTokens.indexOf(he),ve=ie.idf(he),$e=1,Ce=new m.SortedSet;if(he!==z){var Te=Math.max(3,he.length-z.length);$e=1/Math.log(Te)}be>-1&&y.insert(be,q*ve*$e);for(var L=ie.tokenStore.get(he),X=Object.keys(L),ye=X.length,Re=0;Re<ye;Re++)Ce.add(L[X[Re]].ref);return ce.union(Ce)},new m.SortedSet);S.push(de)},this),S.reduce(function(z,D){return z.intersect(D)}).map(function(z){return{ref:z,score:y.similarity(this.documentVector(z))}},this).sort(function(z,D){return D.score-z.score})):[]},m.Index.prototype.documentVector=function(a){for(var l=this.documentStore.get(a),y=l.length,S=new m.Vector,O=0;O<y;O++){var z=l.elements[O],D=this.tokenStore.get(z)[a].tf,re=this.idf(z);S.insert(this.corpusTokens.indexOf(z),D*re)}return S},m.Index.prototype.toJSON=function(){return{version:m.version,fields:this._fields,ref:this._ref,tokenizer:this.tokenizerFn.label,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},m.Index.prototype.use=function(a){var l=Array.prototype.slice.call(arguments,1);l.unshift(this),a.apply(this,l)},m.Store=function(){this.store={},this.length=0},m.Store.load=function(a){var l=new this;return l.length=a.length,l.store=Object.keys(a.store).reduce(function(y,S){return y[S]=m.SortedSet.load(a.store[S]),y},{}),l},m.Store.prototype.set=function(a,l){this.has(a)||this.length++,this.store[a]=l},m.Store.prototype.get=function(a){return this.store[a]},m.Store.prototype.has=function(a){return a in this.store},m.Store.prototype.remove=function(a){this.has(a)&&(delete this.store[a],this.length--)},m.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},m.stemmer=(n={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},s={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},u="^("+(c="[^aeiou][^aeiouy]*")+")?"+(d=(i="[aeiouy]")+"[aeiou]*")+c+"("+d+")?$",p="^("+c+")?"+d+c+d+c,b="^("+c+")?"+i,_=new RegExp("^("+c+")?"+d+c),k=new RegExp(p),h=new RegExp(u),v=new RegExp(b),f=/^(.+?)(ss|i)es$/,$=/^(.+?)([^s])s$/,C=/^(.+?)eed$/,j=/^(.+?)(ed|ing)$/,T=/.$/,P=/(at|bl|iz)$/,x=new RegExp("([^aeiouylsz])\\1$"),w=new RegExp("^"+c+i+"[^aeiouwxy]$"),A=/^(.+?[^aeiou])y$/,M=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,F=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,W=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,I=/^(.+?)(s|t)(ion)$/,U=/^(.+?)e$/,H=/ll$/,Q=new RegExp("^"+c+i+"[^aeiouwxy]$"),function(a){var l,y,S,O,z,D,re;if(a.length<3)return a;if((S=a.substr(0,1))=="y"&&(a=S.toUpperCase()+a.substr(1)),z=$,(O=f).test(a)?a=a.replace(O,"$1$2"):z.test(a)&&(a=a.replace(z,"$1$2")),z=j,(O=C).test(a)){var q=O.exec(a);(O=_).test(q[1])&&(a=a.replace(O=T,""))}else z.test(a)&&(q=z.exec(a),(z=v).test(l=q[1])&&(D=x,re=w,(z=P).test(a=l)?a+="e":D.test(a)?a=a.replace(O=T,""):re.test(a)&&(a+="e")));return(O=A).test(a)&&(a=(l=(q=O.exec(a))[1])+"i"),(O=M).test(a)&&(y=(q=O.exec(a))[2],(O=_).test(l=q[1])&&(a=l+n[y])),(O=F).test(a)&&(y=(q=O.exec(a))[2],(O=_).test(l=q[1])&&(a=l+s[y])),z=I,(O=W).test(a)?(q=O.exec(a),(O=k).test(l=q[1])&&(a=l)):z.test(a)&&(q=z.exec(a),(z=k).test(l=q[1]+q[2])&&(a=l)),(O=U).test(a)&&(q=O.exec(a),z=h,D=Q,((O=k).test(l=q[1])||z.test(l)&&!D.test(l))&&(a=l)),z=k,(O=H).test(a)&&z.test(a)&&(a=a.replace(O=T,"")),S=="y"&&(a=S.toLowerCase()+a.substr(1)),a}),m.Pipeline.registerFunction(m.stemmer,"stemmer"),m.generateStopWordFilter=function(a){var l=a.reduce(function(y,S){return y[S]=S,y},{});return function(y){if(y&&l[y]!==y)return y}},m.stopWordFilter=m.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),m.Pipeline.registerFunction(m.stopWordFilter,"stopWordFilter"),m.trimmer=function(a){return a.replace(/^\W+/,"").replace(/\W+$/,"")},m.Pipeline.registerFunction(m.trimmer,"trimmer"),m.TokenStore=function(){this.root={docs:{}},this.length=0},m.TokenStore.load=function(a){var l=new this;return l.root=a.root,l.length=a.length,l},m.TokenStore.prototype.add=function(a,l,y){y=y||this.root;var S=a.charAt(0),O=a.slice(1);return S in y||(y[S]={docs:{}}),O.length===0?(y[S].docs[l.ref]=l,void(this.length+=1)):this.add(O,l,y[S])},m.TokenStore.prototype.has=function(a){if(!a)return!1;for(var l=this.root,y=0;y<a.length;y++){if(!l[a.charAt(y)])return!1;l=l[a.charAt(y)]}return!0},m.TokenStore.prototype.getNode=function(a){if(!a)return{};for(var l=this.root,y=0;y<a.length;y++){if(!l[a.charAt(y)])return{};l=l[a.charAt(y)]}return l},m.TokenStore.prototype.get=function(a,l){return this.getNode(a,l).docs||{}},m.TokenStore.prototype.count=function(a,l){return Object.keys(this.get(a,l)).length},m.TokenStore.prototype.remove=function(a,l){if(a){for(var y=this.root,S=0;S<a.length;S++){if(!(a.charAt(S)in y))return;y=y[a.charAt(S)]}delete y.docs[l]}},m.TokenStore.prototype.expand=function(a,l){var y=this.getNode(a);return l=l||[],Object.keys(y.docs||{}).length&&l.push(a),Object.keys(y).forEach(function(S){S!=="docs"&&l.concat(this.expand(a+S,l))},this),l},m.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},r.exports=m})()}(t),t.exports})();const Eu={aggregations:{notAfter:{title:"Not after",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},notBefore:{title:"Not before",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},language:{title:"Language",hide_zero_doc_count:!0,size:200,sort:"key"},provenance:{title:"Provenance",hide_zero_doc_count:!0,size:200,sort:"key"},inscriptionType:{title:"Inscription type",hide_zero_doc_count:!0,size:200,sort:"key"},objectType:{title:"Object type",hide_zero_doc_count:!0,size:200,sort:"key"},material:{title:"Material",hide_zero_doc_count:!0,size:200,sort:"key"},technique:{title:"Technique",hide_zero_doc_count:!0,size:200,sort:"key"},pigment:{title:"Pigment",hide_zero_doc_count:!0,size:200,sort:"key"},damage:{title:"Damage",hide_zero_doc_count:!0,size:100,sort:"key"},repository:{title:"Repository",hide_zero_doc_count:!0,size:200,sort:"key"},publicationAuthors:{title:"Publication author",hide_zero_doc_count:!0,size:1e3,sort:"key"},publicationYears:{title:"Publication year",hide_zero_doc_count:!0,size:1e3,sort:"key"},status:{title:"Status",hide_zero_doc_count:!0,sort:"key"}},searchableFields:["keywords","title","text"],sortings:{file_asc:{field:"file",order:"asc"},file_desc:{field:"file",order:"desc"},notAfter_asc:{field:"notAfter",order:"asc"},notAfter_desc:{field:"notAfter",order:"desc"},notBefore_asc:{field:"notBefore",order:"desc"},notBefore_desc:{field:"notBefore",order:"desc"},title_asc:{field:"title",order:"asc"},title_desc:{field:"title",order:"desc"}}};function Cu(e){return new Worker(""+new URL("../workers/worker-CO3zT39d.js",import.meta.url).href,{name:e==null?void 0:e.name})}var Tu=V("<!>Filters",1),Ru=V('<h2 aria-busy="true" class="svelte-16zqrgi">Loading inscriptions...</h2>'),Nu=V("<!>View cards",1),Mu=V("<!>View map",1),Iu=V("<!>View table",1),Lu=V('<div class="transition-container svelte-16zqrgi"><!></div>'),Fu=V('<div class="transition-container svelte-16zqrgi"><!></div>'),Wu=V("<!> <!> <!>",1),Bu=V('<!> <section class="controls svelte-16zqrgi"><div class="toggles svelte-16zqrgi"><!> <!> <!></div> <div class="sort-controls svelte-16zqrgi"><label for="sort-select">Sort by:</label> <select id="sort-select"><option>File</option><option>Not before</option><option>Not after</option><option>Title</option></select> <!></div></section> <!>',1),Uu=V('<article><section><form class="svelte-16zqrgi"><label class="visually-hidden" for="q">Search query:</label> <input type="text" name="q" id="q" placeholder="Search inscriptions metadata" class="svelte-16zqrgi"> <!> <!></form> <div class="filters-toggle svelte-16zqrgi"><!></div></section> <section class="inscriptions svelte-16zqrgi"><!></section></article> <!>',1);function Du(e,t){xe(t,!0);const r=ht(),o=()=>Oe(p,"$searchView",r),n=()=>Oe(u,"$searchLimit",r),s=()=>Oe(d,"$searchPage",r),i=()=>Oe(c,"$searchQuery",r),c=Kt("q",Gt.string("")),d=Kt("page",Gt.number(1)),u=Kt("limit",Gt.number(Ft.limit)),p=Kt("view",Gt.string("cards"));let b=Fe("idle"),_=pe(()=>["idle","load"].includes(g(b))),k=Fe(void 0),h=Fe(ue({})),v=pe(()=>{var L;return((L=g(h))==null?void 0:L.pagination)??{}}),f=pe(()=>{var L,X;return((X=(L=g(h))==null?void 0:L.data)==null?void 0:X.aggregations)??{}}),$=pe(()=>{var L;return((L=g(v))==null?void 0:L.total)??0}),C=pe(U),j=pe(()=>{var L,X;return((X=(L=g(h))==null?void 0:L.data)==null?void 0:X.items)??[]}),T=pe(()=>{var L;return o()==="map"?(L=g(j))==null?void 0:L.map(X=>({file:X.file,title:X.title,places:X.places,geo:X.geo[0]})):[]}),P=Fe(!1),x=ue({sortAggregationsBy:"key",sortResultsBy:"file",sortResultsOrder:"asc"}),w=Fe(ue(W())),A=Fe(ue(I()));async function M(){g(b)!=="ready"&&(Y(b,"load"),Y(k,ue(new Cu)),g(k).addEventListener("message",L=>{const{type:X,data:ye}=L.data;X==="ready"&&Y(b,"ready"),X==="results"&&Y(h,ue(ye))}),g(k).postMessage({type:"load",data:{sortAggregationsBy:x.sortAggregationsBy}}))}Or(()=>{F()});async function F(){if(g(b)==="ready"){const L=Object.fromEntries(Object.keys(g(A)).map(X=>[X,[...g(A)[X]]]));g(k).postMessage({type:"search",data:{limit:n(),page:s(),query:i(),sort:`${x.sortResultsBy}_${x.sortResultsOrder}`,filters:L,dateRange:[...g(w)]}})}}function W(){return[-700,1830]}function I(){return Object.keys(Eu.aggregations).filter(L=>L.indexOf("not")<0).reduce((L,X)=>(L[X]=[],L),{})}function U(){var L;return!g(f)||!((L=g(f))!=null&&L.provenance)?0:g(f).provenance.buckets.length}async function H(L){L.preventDefault()}async function Q(L){L.preventDefault(),Je(c,""),Je(d,1),Je(u,ue(Ft.limit)),Y(w,ue(W())),Y(A,ue(I()))}function m(){const L=W();return i()!==""||g(w).some((X,ye)=>X!==L[ye])||Object.keys(g(A)).some(X=>g(A)[X].length>0)}Or(()=>{x.sortAggregationsBy&&g(k)&&g(b)==="ready"&&(g(k).postMessage({type:"load",data:{sortAggregationsBy:x.sortAggregationsBy}}),F())});async function a(L){L==="map"?Je(u,ue(Ft.maxLimit)):o()==="map"&&(Y(h,ue({...g(h),data:{...g(h).data,items:[]}})),Je(u,ue(Ft.limit)),Je(d,1)),Je(p,ue(L))}async function l(){x.sortResultsOrder=x.sortResultsOrder==="asc"?"desc":"asc"}async function y(L){Je(d,ue(L))}lo(()=>{M()});var S=Uu();We("keydown",cs,L=>{var X;(L.ctrlKey||L.metaKey)&&(L.key==="k"||L.key==="K")&&(L.preventDefault(),Y(P,!g(P))),L.key==="/"&&(L.preventDefault(),(X=document.getElementById("q"))==null||X.focus())});var O=G(S),z=N(O),D=N(z),re=B(N(D),2);yt(re);var q=B(re,2),ie=pe(()=>!i());ke(q,()=>Qe,(L,X)=>{X(L,{class:"surface-4",type:"submit",get disabled(){return g(ie)},children:(ye,Re)=>{Ee();var Ne=Ie("Search");E(ye,Ne)},$$slots:{default:!0}})});var de=B(q,2),ce=pe(()=>!m());ke(de,()=>Qe,(L,X)=>{X(L,{class:"surface-1",type:"reset",get disabled(){return g(ce)},children:(ye,Re)=>{Ee();var Ne=Ie("Reset");E(ye,Ne)},$$slots:{default:!0}})}),R(D);var he=B(D,2),be=N(he),ve=pe(()=>g(P)?"surface-4":"surface-1");ke(be,()=>Qe,(L,X)=>{X(L,{get class(){return g(ve)},onclick:()=>Y(P,!g(P)),children:(ye,Re)=>{var Ne=Tu(),mt=G(Ne);ni(mt,{}),Ee(),E(ye,Ne)},$$slots:{default:!0}})}),R(he),R(z);var $e=B(z,2),Ce=N($e);se(Ce,()=>g(_),L=>{var X=Ru();E(L,X)},L=>{var X=Bu(),ye=G(X);Kc(ye,{get total(){return g($)},get dateRange(){return g(w)},get numberOfLocations(){return g(C)},get query(){return i()},get filters(){return g(A)}});var Re=B(ye,2),Ne=N(Re),mt=N(Ne),Ko=pe(()=>`${o()==="cards"?"surface-4":"surface-1"}`);ke(mt,()=>Qe,(Ae,_e)=>{_e(Ae,{get class(){return g(Ko)},onclick:()=>a("cards"),children:(Me,vt)=>{var ze=Nu(),Ve=G(ze);oi(Ve,{}),Ee(),E(Me,ze)},$$slots:{default:!0}})});var Yr=B(mt,2),Xo=pe(()=>`${o()==="map"?"surface-4":"surface-1"}`);ke(Yr,()=>Qe,(Ae,_e)=>{_e(Ae,{get class(){return g(Xo)},onclick:()=>a("map"),children:(Me,vt)=>{var ze=Mu(),Ve=G(ze);si(Ve,{}),Ee(),E(Me,ze)},$$slots:{default:!0}})});var Yo=B(Yr,2),Zo=pe(()=>`${o()==="table"?"surface-4":"surface-1"}`);ke(Yo,()=>Qe,(Ae,_e)=>{_e(Ae,{get class(){return g(Zo)},onclick:()=>a("table"),children:(Me,vt)=>{var ze=Iu(),Ve=G(ze);ii(Ve,{}),Ee(),E(Me,ze)},$$slots:{default:!0}})}),R(Ne);var Zr=B(Ne,2),Lt=B(N(Zr),2),sr=N(Lt);sr.value=(sr.__value="file")==null?"":"file";var ir=B(sr);ir.value=(ir.__value="notBefore")==null?"":"notBefore";var ar=B(ir);ar.value=(ar.__value="notAfter")==null?"":"notAfter";var Qr=B(ar);Qr.value=(Qr.__value="title")==null?"":"title",R(Lt);var Qo=B(Lt,2);ke(Qo,()=>Qe,(Ae,_e)=>{_e(Ae,{class:"order-toggle",onclick:()=>l(),"aria-label":"Toggle sort order from ascending to descending to no order",children:(Me,vt)=>{var ze=ne(),Ve=G(ze);se(Ve,()=>x.sortResultsOrder==="asc",He=>{ei(He,{"aria-label":"Ascending"})},He=>{Qs(He,{"aria-label":"Descending"})}),E(Me,ze)},$$slots:{default:!0}})}),R(Zr),R(Re);var es=B(Re,2);se(es,()=>o()==="map",Ae=>{var _e=Lu(),Me=N(_e);rc(Me,{get inscriptions(){return g(T)}}),R(_e),Ot(1,_e,()=>Wt,()=>({duration:500})),Ot(2,_e,()=>Wt,()=>({duration:250})),E(Ae,_e)},Ae=>{var _e=Wu(),Me=G(_e);pn(Me,{get page(){return s()},get count(){return g($)},get perPage(){return n()},onPageChange:y});var vt=B(Me,2);hs(vt,o,Ve=>{var He=Fu(),ts=N(He);se(ts,()=>o()==="table",cr=>{uc(cr,{get inscriptions(){return g(j)}})},cr=>{Za(cr,{get inscriptions(){return g(j)}})}),R(He),Ot(1,He,()=>Wt,()=>({duration:500})),Ot(2,He,()=>Wt,()=>({duration:250})),E(Ve,He)});var ze=B(vt,2);pn(ze,{get page(){return s()},get count(){return g($)},get perPage(){return n()},onPageChange:y}),E(Ae,_e)}),$s(Lt,()=>x.sortResultsBy,Ae=>x.sortResultsBy=Ae),E(L,X)}),R($e),R(O);var Te=B(O,2);qc(Te,{get show(){return g(P)},get aggregations(){return g(f)},get sortAggregationsBy(){return x.sortAggregationsBy},set sortAggregationsBy(L){x.sortAggregationsBy=L},get selectedDateRange(){return g(w)},set selectedDateRange(L){Y(w,ue(L))},get selectedFilters(){return g(A)},set selectedFilters(L){Y(A,ue(L))}}),We("submit",D,H),We("reset",D,Q),er(re,i,L=>Je(c,L)),E(e,S),Se()}var qu=V('<section class="hero svelte-1ou7ebr"><h1 class="svelte-1ou7ebr"> </h1></section> <!>',1);function sd(e,t){xe(t,!1),Ze();var r=qu(),o=G(r),n=N(o),s=N(n,!0);R(n),R(o);var i=B(o,2);Du(i,{}),K(()=>te(s,ds)),E(e,r),Se()}export{sd as component};

import{s as ke,r as Le,c as Se,o as Te,n as Ie}from"../chunks/scheduler.Cp4baeFQ.js";import{S as Me,i as Ne,e as _,l as w,s as B,c as d,a as k,m as A,d as c,b as U,g as te,n as D,f as G,h as l,x as me,y as $,o as F,t as ee,k as Oe,j as re,q as De,r as we,u as Ae,v as Pe,w as Re,p as Be}from"../chunks/index.jyCh-qzj.js";import{e as ve}from"../chunks/each.D6YF6ztN.js";import{p as Ue}from"../chunks/stores.BWO1KPiM.js";import{B as He}from"../chunks/BaseLink.o7cGTmNx.js";import{d as je}from"../chunks/config.IvP0r31I.js";function ge(s,e,t){const o=s.slice();return o[13]=e[t],o}function be(s){let e,t,o,v=s[1].length+"",a,h,b,g=s[3].split(" ").join(", ")+"",p;return{c(){e=_("h3"),t=w("Displaying "),o=_("em"),a=w(v),h=w(` inscriptions matching
					`),b=_("em"),p=w(g)},l(r){e=d(r,"H3",{});var f=k(e);t=A(f,"Displaying "),o=d(f,"EM",{});var u=k(o);a=A(u,v),u.forEach(c),h=A(f,` inscriptions matching
					`),b=d(f,"EM",{});var n=k(b);p=A(n,g),n.forEach(c),f.forEach(c)},m(r,f){G(r,e,f),l(e,t),l(e,o),l(o,a),l(e,h),l(e,b),l(b,p)},p(r,f){f&2&&v!==(v=r[1].length+"")&&F(a,v),f&8&&g!==(g=r[3].split(" ").join(", ")+"")&&F(p,g)},d(r){r&&c(e)}}}function qe(s){let e,t=s[13].file+"",o,v,a,h=s[13].title+"",b,g,p,r=s[13].status+"",f;return{c(){e=_("small"),o=w(t),v=B(),a=_("span"),b=w(h),g=B(),p=_("small"),f=w(r)},l(u){e=d(u,"SMALL",{});var n=k(e);o=A(n,t),n.forEach(c),v=U(u),a=d(u,"SPAN",{});var L=k(a);b=A(L,h),L.forEach(c),g=U(u),p=d(u,"SMALL",{});var P=k(p);f=A(P,r),P.forEach(c)},m(u,n){G(u,e,n),l(e,o),G(u,v,n),G(u,a,n),l(a,b),G(u,g,n),G(u,p,n),l(p,f)},p(u,n){n&32&&t!==(t=u[13].file+"")&&F(o,t),n&32&&h!==(h=u[13].title+"")&&F(b,h),n&32&&r!==(r=u[13].status+"")&&F(f,r)},d(u){u&&(c(e),c(v),c(a),c(g),c(p))}}}function Ee(s){var q,Q;let e,t,o,v,a,h,b="Settlement",g,p=(((q=s[13].repository)==null?void 0:q._)||"N/A")+"",r,f,u="Language",n,L=(((Q=s[13].textLang)==null?void 0:Q._)||"N/A")+"",P,S,N;return o=new He({props:{href:"inscription/"+s[13].file,$$slots:{default:[qe]},$$scope:{ctx:s}}}),{c(){e=_("li"),t=_("p"),we(o.$$.fragment),v=B(),a=_("dl"),h=_("dt"),h.textContent=b,g=_("dd"),r=w(p),f=_("dt"),f.textContent=u,n=_("dd"),P=w(L),S=B(),this.h()},l(y){e=d(y,"LI",{});var T=k(e);t=d(T,"P",{class:!0});var H=k(t);Ae(o.$$.fragment,H),H.forEach(c),v=U(T),a=d(T,"DL",{});var R=k(a);h=d(R,"DT",{class:!0,"data-svelte-h":!0}),te(h)!=="svelte-upur71"&&(h.textContent=b),g=d(R,"DD",{});var O=k(g);r=A(O,p),O.forEach(c),f=d(R,"DT",{class:!0,"data-svelte-h":!0}),te(f)!=="svelte-1aab11o"&&(f.textContent=u),n=d(R,"DD",{});var j=k(n);P=A(j,L),j.forEach(c),R.forEach(c),S=U(T),T.forEach(c),this.h()},h(){D(t,"class","title svelte-sulyb9"),D(h,"class","svelte-sulyb9"),D(f,"class","svelte-sulyb9")},m(y,T){G(y,e,T),l(e,t),Pe(o,t,null),l(e,v),l(e,a),l(a,h),l(a,g),l(g,r),l(a,f),l(a,n),l(n,P),l(e,S),N=!0},p(y,T){var R,O;const H={};T&32&&(H.href="inscription/"+y[13].file),T&65568&&(H.$$scope={dirty:T,ctx:y}),o.$set(H),(!N||T&32)&&p!==(p=(((R=y[13].repository)==null?void 0:R._)||"N/A")+"")&&F(r,p),(!N||T&32)&&L!==(L=(((O=y[13].textLang)==null?void 0:O._)||"N/A")+"")&&F(P,L)},i(y){N||(ee(o.$$.fragment,y),N=!0)},o(y){re(o.$$.fragment,y),N=!1},d(y){y&&c(e),Re(o)}}}function ye(s){let e,t="Load More Inscriptions",o,v;return{c(){e=_("button"),e.textContent=t},l(a){e=d(a,"BUTTON",{"data-svelte-h":!0}),te(e)!=="svelte-1j8c85t"&&(e.textContent=t)},m(a,h){G(a,e,h),o||(v=$(e,"click",s[8]),o=!0)},p:Ie,d(a){a&&c(e),o=!1,v()}}}function Ge(s){let e,t,o,v=s[0].corpus.length.toLocaleString()+"",a,h,b,g,p=je+"",r,f,u,n,L,P,S,N,q,Q,y,T,H,R,O,j,V,ie="Inscriptions",le,se,W,oe,z,J,ne,ue,I=s[2]&&be(s),K=ve(s[5]),C=[];for(let i=0;i<K.length;i+=1)C[i]=Ee(ge(s,K,i));const Ce=i=>re(C[i],1,1,()=>{C[i]=null});let M=s[4]&&ye(s);return{c(){e=_("article"),t=_("hgroup"),o=_("h1"),a=w(v),h=w(" Inscriptions over x years across x locations"),b=B(),g=_("p"),r=w(p),f=B(),u=_("section"),n=_("form"),L=_("input"),P=B(),S=_("button"),N=w("Search"),Q=B(),y=_("button"),T=w("Reset"),R=B(),O=_("section"),j=_("hgroup"),V=_("h2"),V.textContent=ie,le=B(),I&&I.c(),se=B(),W=_("ol");for(let i=0;i<C.length;i+=1)C[i].c();oe=B(),z=_("section"),M&&M.c(),this.h()},l(i){e=d(i,"ARTICLE",{});var m=k(e);t=d(m,"HGROUP",{class:!0});var E=k(t);o=d(E,"H1",{});var X=k(o);a=A(X,v),h=A(X," Inscriptions over x years across x locations"),X.forEach(c),b=U(E),g=d(E,"P",{});var ce=k(g);r=A(ce,p),ce.forEach(c),E.forEach(c),f=U(m),u=d(m,"SECTION",{class:!0});var fe=k(u);n=d(fe,"FORM",{class:!0});var Y=k(n);L=d(Y,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),P=U(Y),S=d(Y,"BUTTON",{type:!0});var he=k(S);N=A(he,"Search"),he.forEach(c),Q=U(Y),y=d(Y,"BUTTON",{type:!0});var pe=k(y);T=A(pe,"Reset"),pe.forEach(c),Y.forEach(c),fe.forEach(c),R=U(m),O=d(m,"SECTION",{class:!0});var Z=k(O);j=d(Z,"HGROUP",{});var x=k(j);V=d(x,"H2",{"data-svelte-h":!0}),te(V)!=="svelte-n49mf5"&&(V.textContent=ie),le=U(x),I&&I.l(x),x.forEach(c),se=U(Z),W=d(Z,"OL",{});var _e=k(W);for(let ae=0;ae<C.length;ae+=1)C[ae].l(_e);_e.forEach(c),Z.forEach(c),oe=U(m),z=d(m,"SECTION",{class:!0});var de=k(z);M&&M.l(de),de.forEach(c),m.forEach(c),this.h()},h(){D(t,"class","hero svelte-sulyb9"),D(L,"type","text"),D(L,"name","keywords"),D(L,"id","keywords"),D(L,"placeholder","Search inscriptions metadata"),D(S,"type","submit"),S.value="Search",S.disabled=q=!s[3],D(y,"type","reset"),y.value="Reset",y.disabled=H=!s[3],D(n,"class","svelte-sulyb9"),D(u,"class","svelte-sulyb9"),D(O,"class","svelte-sulyb9"),D(z,"class","svelte-sulyb9")},m(i,m){G(i,e,m),l(e,t),l(t,o),l(o,a),l(o,h),l(t,b),l(t,g),l(g,r),l(e,f),l(e,u),l(u,n),l(n,L),me(L,s[3]),l(n,P),l(n,S),l(S,N),l(n,Q),l(n,y),l(y,T),l(e,R),l(e,O),l(O,j),l(j,V),l(j,le),I&&I.m(j,null),l(O,se),l(O,W);for(let E=0;E<C.length;E+=1)C[E]&&C[E].m(W,null);l(e,oe),l(e,z),M&&M.m(z,null),J=!0,ne||(ue=[$(L,"input",s[10]),$(n,"submit",s[7]),$(n,"reset",s[6])],ne=!0)},p(i,[m]){if((!J||m&1)&&v!==(v=i[0].corpus.length.toLocaleString()+"")&&F(a,v),m&8&&L.value!==i[3]&&me(L,i[3]),(!J||m&8&&q!==(q=!i[3]))&&(S.disabled=q),(!J||m&8&&H!==(H=!i[3]))&&(y.disabled=H),i[2]?I?I.p(i,m):(I=be(i),I.c(),I.m(j,null)):I&&(I.d(1),I=null),m&32){K=ve(i[5]);let E;for(E=0;E<K.length;E+=1){const X=ge(i,K,E);C[E]?(C[E].p(X,m),ee(C[E],1)):(C[E]=Ee(X),C[E].c(),ee(C[E],1),C[E].m(W,null))}for(Be(),E=K.length;E<C.length;E+=1)Ce(E);Oe()}i[4]?M?M.p(i,m):(M=ye(i),M.c(),M.m(z,null)):M&&(M.d(1),M=null)},i(i){if(!J){for(let m=0;m<K.length;m+=1)ee(C[m]);J=!0}},o(i){C=C.filter(Boolean);for(let m=0;m<C.length;m+=1)re(C[m]);J=!1},d(i){i&&c(e),I&&I.d(),De(C,i),M&&M.d(),ne=!1,Le(ue)}}}function Fe(s,e,t){let o,v,a;Se(s,Ue,S=>t(12,a=S));let{data:h}=e,b=h.corpus,g=!1,p="",r=50,f=r;function u(){t(1,b=h.corpus),t(2,g=!1),t(3,p=""),t(9,r=50),f=r}function n(){if(t(2,g=!0),t(9,r=50),f=r,!p){t(1,b=h.corpus);return}t(1,b=h.corpus.filter(S=>!p||p.split(" ").map(N=>N.toLowerCase()).every(N=>S.keywords.some(q=>q.includes(N)))))}function L(){t(9,r=Math.min(b.length,r+f))}Te(()=>{t(3,p=a.url.searchParams.get("keywords")||"")});function P(){p=this.value,t(3,p)}return s.$$set=S=>{"data"in S&&t(0,h=S.data)},s.$$.update=()=>{s.$$.dirty&514&&t(5,o=b.slice(0,r)),s.$$.dirty&514&&t(4,v=b.length>r)},[h,b,g,p,v,o,u,n,L,r,P]}class Xe extends Me{constructor(e){super(),Ne(this,e,Fe,Ge,ke,{data:0})}}export{Xe as component};

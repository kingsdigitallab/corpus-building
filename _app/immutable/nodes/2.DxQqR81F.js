import{B as Fr,s as ft,e as ne,a as z,t as V,c as Ce,z as Fe,d as Re,b as te,C as ts,y as Ze}from"../chunks/disclose-version.yxoevJ6J.js";import{i as Xe}from"../chunks/legacy.C6KA_5n4.js";import{aY as rs,a9 as eo,k as to,aG as ns,U as en,a8 as wt,aS as ro,aR as no,p as Se,aT as ae,aU as et,f as G,e as R,r as C,t as X,d as ke,C as je,v as Z,g as h,aV as he,aZ as os,s as W,D as ge,G as ss,n as Ee,K as Le,u as Or,a_ as is,aW as as}from"../chunks/utils.dzgPpf3o.js";import{i as cs,a as ls,s as Lt,b as us}from"../chunks/config.DdhQxDnJ.js";import{c as oo,l as fe,p as ee,i as se,b as tt,s as rt,a as de}from"../chunks/props.BxeGn5nG.js";import{I as nt,t as jt,s as ds,k as fs,f as Ft}from"../chunks/index.EQ-ORnMi.js";import{c as $e}from"../chunks/legacy-client.BL3R9HJC.js";import{a as ve,c as ot,b as st,h as hs,e as Be,i as Ke,s as Ue,r as vt}from"../chunks/attributes.DJj9jQYP.js";import{w as lt,n as gs,o as so,m as yt,c as io,b as Xt,d as it,i as Qe,k as xe,f as tn,g as ar,h as cr,j as ps,l as Wt,p as lr,q as rn,B as ms,s as vs,a as Ye}from"../chunks/button.CyD5QJ_B.js";import{I as ao,m as ys,t as Bt,g as bs,c as Ut}from"../chunks/maplibre-gl.BTuv7Yai.js";import{a as co,c as _s,o as lo}from"../chunks/index-client.DkxbLtkQ.js";import{d as Ct,w as ut,a as ur}from"../chunks/paths.CVwc5BiB.js";import{g as ws}from"../chunks/entry.U5R-O_3M.js";import{p as xs}from"../chunks/stores.LDHkGUbe.js";function Zt(e,t,r=t){var o=rs();Fr(e,"input",()=>{var n=sn(e)?an(e.value):e.value;r(n),o&&n!==(n=t())&&(e.value=n??"")}),eo(()=>{var n=t();if(to&&e.defaultValue!==e.value){r(e.value);return}sn(e)&&n===an(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}const dr=new Set;function nn(e,t,r,o,n=o){var s=r.getAttribute("type")==="checkbox",i=e;let c=!1;if(t!==null)for(var d of t)i=i[d]??(i[d]=[]);i.push(r),Fr(r,"change",()=>{var u=r.__value;s&&(u=on(i,u,r.checked)),n(u)},()=>n(s?[]:null)),eo(()=>{var u=o();if(to&&r.defaultChecked!==r.checked){c=!0;return}s?(u=u||[],r.checked=u.includes(r.__value)):r.checked=oo(r.__value,u)}),ns(()=>{var u=i.indexOf(r);u!==-1&&i.splice(u,1)}),dr.has(i)||(dr.add(i),en(()=>{i.sort((u,p)=>u.compareDocumentPosition(p)===4?-1:1),dr.delete(i)})),en(()=>{if(c){var u;if(s)u=on(i,u,r.checked);else{var p=i.find(w=>w.checked);u=p==null?void 0:p.__value}n(u)}})}function on(e,t,r){for(var o=new Set,n=0;n<e.length;n+=1)e[n].checked&&o.add(e[n].__value);return r||o.delete(t),Array.from(o)}function sn(e){var t=e.type;return t==="number"||t==="range"}function an(e){return e===""?null:+e}function uo(e,t,r){if(e.multiple)return $s(e,t);for(var o of e.options){var n=Ot(o);if(oo(n,t)){o.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function Ss(e,t){wt(()=>{var r=new MutationObserver(()=>{var o=e.__value;uo(e,o)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function ks(e,t,r=t){var o=!0;Fr(e,"change",()=>{var n;if(e.multiple)n=[].map.call(e.querySelectorAll(":checked"),Ot);else{var s=e.querySelector(":checked");n=s&&Ot(s)}r(n)}),wt(()=>{var n=t();if(uo(e,n,o),o&&n===void 0){var s=e.querySelector(":checked");s!==null&&(n=Ot(s),r(n))}e.__value=n,o=!1}),Ss(e)}function $s(e,t){for(var r of e.options)r.selected=~t.indexOf(Ot(r))}function Ot(e){return"__value"in e?e.__value:e.value}const js=e=>{try{co(e)}catch{return e}},fo=(e,t)=>{const r=lt(e),o=(s,i)=>{r.update(c=>{const d=s(c);let u=d;return t&&(u=t({curr:c,next:d})),i==null||i(u),u})};return{...r,update:o,set:s=>{o(()=>s)}}};let Os="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Ps=(e=21)=>{let t="",r=e;for(;r--;)t+=Os[Math.random()*64|0];return t};function As(){return Ps(10)}function zs(e){return e.reduce((t,r)=>(t[r]=As(),t),{})}function cn(e,t){let r;const o=Ct(e,s=>{r==null||r(),r=t(s)}).subscribe(gs),n=()=>{o(),r==null||r()};return js(n),n}function ho(e){const t={};return Object.keys(e).forEach(r=>{const o=r,n=e[o];t[o]=lt(ut(n))}),t}function fr(e,t,r,o){const n=(e-(isNaN(t)?0:t))%o;let s=Math.abs(n)*2>=o?e+Math.sign(n)*(o-Math.abs(n)):e-n;isNaN(t)?!isNaN(r)&&s>r&&(s=Math.floor(r/o)*o):s<t?s=t:!isNaN(r)&&s>r&&(s=t+Math.floor((r-t)/o)*o);const i=o.toString(),c=i.indexOf("."),d=c>=0?i.length-c:0;if(d>0){const u=Math.pow(10,d);s=Math.round(s*u)/u}return s}function Es({page:e=1,totalPages:t,siblingCount:r=1}){const o=[],n=new Set([1,t]),s=3+r,i=t-2-r;if(s>i)for(let p=2;p<=t-1;p++)n.add(p);else if(e<s)for(let p=2;p<=Math.min(s,t);p++)n.add(p);else if(e>i)for(let p=t-1;p>=Math.max(i,2);p--)n.add(p);else for(let p=Math.max(e-r,2);p<=Math.min(e+r,t);p++)n.add(p);const c=p=>{o.push({type:"page",value:p,key:`page-${p}`})},d=()=>{o.push({type:"ellipsis",key:`ellipsis-${o.length}`})};let u=0;for(const p of Array.from(n).sort((w,y)=>w-y))p-u>1&&d(),c(p),u=p;return o}const Cs={perPage:1,siblingCount:1,defaultPage:1},{name:Dt,selector:hr}=io("pagination");function Ts(e){const t={...Cs,...e},r=t.page??ut(t.defaultPage),o=fo(r,t==null?void 0:t.onPageChange),n=ho(so(t,"page","onPageChange","defaultPage")),{perPage:s,siblingCount:i,count:c}=n,d=lt.derived([c,s],([f,$])=>Math.ceil(f/$)),u=Ct([o,s,c],([f,$,E])=>{const j=(f-1)*$,T=Math.min(j+$,E);return{start:j,end:T}}),p=yt(Dt(),{returned:()=>({"data-scope":"pagination"})}),w=Ct([o,d,i],([f,$,E])=>Es({page:f,totalPages:$,siblingCount:E})),y=f=>{const $=f.target;if(!Qe($))return;const E=$.closest('[data-scope="pagination"]');if(!Qe(E))return;const j=Array.from(E.querySelectorAll(hr("page"))).filter(_=>Qe(_)),T=E.querySelector(hr("prev")),P=E.querySelector(hr("next"));Qe(T)&&j.unshift(T),Qe(P)&&j.push(P);const x=j.indexOf($);f.key===xe.ARROW_LEFT&&x!==0?(f.preventDefault(),j[x-1].focus()):f.key===xe.ARROW_RIGHT&&x!==j.length-1?(f.preventDefault(),j[x+1].focus()):f.key===xe.HOME?(f.preventDefault(),j[0].focus()):f.key===xe.END&&(f.preventDefault(),j[j.length-1].focus())},k=yt(Dt("page"),{stores:o,returned:f=>$=>({"aria-label":`Page ${$.value}`,"data-value":$.value,"data-selected":$.value===f?"":void 0}),action:f=>({destroy:Xt(it(f,"click",()=>{const E=f.dataset.value;!E||Number.isNaN(+E)||o.set(Number(E))}),it(f,"keydown",y))})}),g=yt(Dt("prev"),{stores:o,returned:f=>({"aria-label":"Previous",disabled:f<=1}),action:f=>({destroy:Xt(it(f,"click",()=>{o.update(E=>Math.max(E-1,1))}),it(f,"keydown",y))})}),m=yt(Dt("next"),{stores:[o,d],returned:([f,$])=>({"aria-label":"Next",disabled:f>=$}),action:f=>({destroy:Xt(it(f,"click",()=>{const E=d.get();o.update(j=>Math.min(j+1,E))}),it(f,"keydown",y))})});return{elements:{root:p,pageTrigger:k,prevButton:g,nextButton:m},states:{range:ur(u),page:o,pages:ur(w),totalPages:ur(d)},options:n}}const Ns={defaultValue:[],min:0,max:100,step:1,orientation:"horizontal",dir:"ltr",disabled:!1},{name:qt}=io("slider"),Rs=e=>{const t={...Ns,...e},r=ho(so(t,"value","onValueChange","defaultValue")),{min:o,max:n,step:s,orientation:i,dir:c,disabled:d}=r,u=t.value??ut(t.defaultValue),p=fo(u,t==null?void 0:t.onValueChange),w=lt(ut(!1)),y=lt(ut(0)),k=lt(ut(null)),g=zs(["root"]),m=(_,N)=>{p.update(M=>{if(!M)return[_];if(M[N]===_)return M;const L=[...M],B=L[N]>_?-1:1;function F(){L[N]=L[N+B],L[N+B]=_;const v=f();v&&(v[N+B].focus(),k.set({thumb:v[N+B],index:N+B}))}if(B===-1&&_<L[N-1])return F(),L;if(B===1&&_>L[N+1])return F(),L;const U=o.get(),H=n.get(),Q=s.get();return L[N]=fr(_,U,H,Q),L})},f=()=>{const _=lr(g.root);return _?Array.from(_.querySelectorAll('[data-melt-part="thumb"]')).filter(N=>Qe(N)):null},$=Ct([o,n],([_,N])=>M=>(M-_)/(N-_)*100),E=lt.derived([i,c],([_,N])=>_==="horizontal"?N==="rtl"?"rl":"lr":N==="rtl"?"tb":"bt"),j=yt(qt(),{stores:[d,i,c],returned:([_,N,M])=>({dir:M,disabled:ar(_),"data-disabled":ar(_),"data-orientation":N,style:_?void 0:`touch-action: ${N==="horizontal"?"pan-y":"pan-x"}`,"data-melt-id":g.root})}),T=yt(qt("range"),{stores:[p,E,$],returned:([_,N,M])=>{const L=_.length>1?M(Math.min(..._)??0):0,B=100-M(Math.max(..._)??0),F={position:"absolute"};switch(N){case"lr":{F.left=`${L}%`,F.right=`${B}%`;break}case"rl":{F.right=`${L}%`,F.left=`${B}%`;break}case"bt":{F.bottom=`${L}%`,F.top=`${B}%`;break}case"tb":{F.top=`${L}%`,F.bottom=`${B}%`;break}}return{style:cr(F)}}}),P=tn(qt("thumb"),{stores:[p,$,o,n,d,i,E],returned:([_,N,M,L,B,F,U])=>Array.from({length:_.length||1},(Q,v)=>{y.get()<_.length&&y.update(O=>O+1);const l=_[v],b=`${N(l)}%`,S={position:"absolute"};switch(U){case"lr":{S.left=b,S.translate="-50% 0";break}case"rl":{S.right=b,S.translate="50% 0";break}case"bt":{S.bottom=b,S.translate="0 50%";break}case"tb":{S.top=b,S.translate="0 -50%";break}}return{role:"slider","aria-valuemin":M,"aria-valuemax":L,"aria-valuenow":l,"aria-disabled":ar(B),"aria-orientation":F,"data-melt-part":"thumb","data-value":l,style:cr(S),tabindex:B?-1:0}}),action:_=>({destroy:it(_,"keydown",M=>{if(d.get())return;const L=M.currentTarget;if(!Qe(L))return;const B=f();if(!(B!=null&&B.length))return;const F=B.indexOf(L);if(y.set(F),![xe.ARROW_LEFT,xe.ARROW_RIGHT,xe.ARROW_UP,xe.ARROW_DOWN,xe.HOME,xe.END].includes(M.key))return;M.preventDefault();const U=o.get(),H=n.get(),Q=s.get(),v=p.get(),a=i.get(),l=E.get(),b=v[F];switch(M.key){case xe.HOME:{m(U,F);break}case xe.END:{m(H,F);break}case xe.ARROW_LEFT:{if(a!=="horizontal")break;M.metaKey?m(l==="rl"?H:U,F):l==="rl"&&b<H?m(b+Q,F):l==="lr"&&b>U&&m(b-Q,F);break}case xe.ARROW_RIGHT:{if(a!=="horizontal")break;M.metaKey?m(l==="rl"?U:H,F):l==="rl"&&b>U?m(b-Q,F):l==="lr"&&b<H&&m(b+Q,F);break}case xe.ARROW_UP:{M.metaKey?m(l==="tb"?U:H,F):l==="tb"&&b>U?m(b-Q,F):l!=="tb"&&b<H&&m(b+Q,F);break}case xe.ARROW_DOWN:{M.metaKey?m(l==="tb"?H:U,F):l==="tb"&&b<H?m(b+Q,F):l!=="tb"&&b>U&&m(b-Q,F);break}}})})}),x=tn(qt("tick"),{stores:[p,o,n,s,E],returned:([_,N,M,L,B])=>{const F=M-N;let U=Math.ceil(F/L);return F%L==0&&U++,Array.from({length:U},(H,Q)=>{const v=`${Q*(L/(M-N))*100}%`,a=Q===0,l=Q===U-1,b=a?0:l?-100:-50,S={position:"absolute"};switch(B){case"lr":{S.left=v,S.translate=`${b}% 0`;break}case"rl":{S.right=v,S.translate=`${-b}% 0`;break}case"bt":{S.bottom=v,S.translate=`0 ${-b}%`;break}case"tb":{S.top=v,S.translate=`0 ${b}%`;break}}const O=N+Q*L;return{"data-bounded":(_.length===1?O<=_[0]:_[0]<=O&&O<=_[_.length-1])?!0:void 0,"data-value":O,style:cr(S)}})}});return cn([j,o,n,d,i,E,s],([_,N,M,L,B,F,U])=>{if(!ps||L)return;const H=(S,O,A,q)=>{const D=(S-A)/(q-A)*(M-N)+N;if(D<N)m(N,O);else if(D>M)m(M,O);else{const ie=U,ue=N,ce=Math.floor((D-ue)/ie),pe=ue+ce*ie+ie/2,be=ue+(ce+1)*ie+ie/2,me=D>=pe&&D<be?(ce+1)*ie+ue:ce*ie+ue;me<=M&&m(me,O)}},Q=S=>{const O=f();if(!O)return;O.forEach(D=>D.blur());const A=O.map(D=>{if(B==="horizontal"){const{left:ie,right:ue}=D.getBoundingClientRect();return Math.abs(S.clientX-(ie+ue)/2)}else{const{top:ie,bottom:ue}=D.getBoundingClientRect();return Math.abs(S.clientY-(ie+ue)/2)}}),q=O[A.indexOf(Math.min(...A))],re=O.indexOf(q);return{thumb:q,index:re}},v=S=>{if(!w.get())return;S.preventDefault(),S.stopPropagation();const O=lr(_["data-melt-id"]),A=k.get();if(!O||!A)return;A.thumb.focus();const{left:q,right:re,top:D,bottom:ie}=O.getBoundingClientRect();switch(F){case"lr":{H(S.clientX,A.index,q,re);break}case"rl":{H(S.clientX,A.index,re,q);break}case"bt":{H(S.clientY,A.index,ie,D);break}case"tb":{H(S.clientY,A.index,D,ie);break}}},a=S=>{if(S.button!==0)return;const O=lr(_["data-melt-id"]),A=Q(S);if(!A||!O)return;const q=S.target;!Qe(q)||!O.contains(q)||(S.preventDefault(),k.set(A),A.thumb.focus(),w.set(!0),v(S))},l=()=>{w.set(!1)},b=Xt(Wt(document,"pointerdown",a),Wt(document,"pointerup",l),Wt(document,"pointerleave",l),Wt(document,"pointermove",v));return()=>{b()}}),cn([s,o,n,p],function([N,M,L,B]){const F=H=>fr(H,M,L,N)===H,U=H=>fr(H,M,L,N);B.some(H=>!F(H))&&p.update(H=>H.map(U))}),{elements:{root:j,thumbs:P,range:T,ticks:x},states:{value:p},options:r}};function go(e,t){const r={};return t.forEach(o=>{r[o]={[`data-${e}-${o}`]:""}}),o=>r[o]}function Qt(){const e=_s();return t=>{const{originalEvent:r}=t.detail,{cancelable:o}=t,n=r.type;e(n,{originalEvent:r,currentTarget:r.currentTarget},{cancelable:o})||t.preventDefault()}}function po(e){const t={};for(const r in e){const o=e[r];o!==void 0&&(t[r]=o)}return t}function mo(e){return function(t,r){if(r===void 0)return;const o=e[t];o&&o.set(r)}}function vo(){return{NAME:"pagination",PARTS:["root","prev-button","next-button","page"]}}function Ms(e){const{NAME:t,PARTS:r}=vo(),o=go(t,r),n={...Ts(po(e)),getAttrs:o};return ro(t,n),{...n,updateOption:mo(n.options)}}function Wr(){const{NAME:e}=vo();return no(e)}var Is=V("<div><!></div>");function Ls(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]),o=fe(r,["count","page","onPageChange","perPage","siblingCount","asChild","el"]);Se(t,!1);const n=ft(),s=()=>Ce(f,"$root",n),i=()=>Ce($,"$pages",n),c=()=>Ce(E,"$range",n),d=he();let u=ee(t,"count",8),p=ee(t,"page",28,()=>{}),w=ee(t,"onPageChange",24,()=>{}),y=ee(t,"perPage",24,()=>{}),k=ee(t,"siblingCount",24,()=>{}),g=ee(t,"asChild",8,!1),m=ee(t,"el",28,()=>{});const{elements:{root:f},states:{pages:$,range:E,page:j},getAttrs:T,updateOption:P}=Ms({count:u(),perPage:y(),siblingCount:k(),defaultPage:p(),onPageChange:({next:M})=>{var L;return p()!==M&&(p(M),(L=w())==null||L(M)),M}}),x=T("root");ae(()=>je(p()),()=>{p()!==void 0&&j.set(p())}),ae(()=>s(),()=>{Z(d,s())}),ae(()=>h(d),()=>{Object.assign(h(d),x)}),ae(()=>je(u()),()=>{P("count",u())}),ae(()=>je(y()),()=>{P("perPage",y())}),ae(()=>je(k()),()=>{P("siblingCount",k())}),et(),Xe();var _=ne(),N=G(_);se(N,g,M=>{var L=ne(),B=G(L);ve(B,t,"default",{get builder(){return h(d)},get pages(){return i()},get range(){return c()}},null),z(M,L)},M=>{var L=Is();let B;var F=R(L);ve(F,t,"default",{get builder(){return h(d)},get pages(){return i()},get range(){return c()}},null),C(L),tt(L,U=>m(U),()=>m()),ot(L,U=>h(d).action(U)),X(()=>B=st(L,B,{...h(d),...o})),z(M,L)}),z(e,_),ke()}var Fs=V("<button><!></button>");function Ws(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]),o=fe(r,["asChild","el"]);Se(t,!1);const n=ft(),s=()=>Ce(u,"$prevButton",n),i=he();let c=ee(t,"asChild",24,()=>{}),d=ee(t,"el",28,()=>{});const{elements:{prevButton:u},getAttrs:p}=Wr(),w=p("prev-button"),y=Qt();ae(()=>s(),()=>{Z(i,s())}),ae(()=>h(i),()=>{Object.assign(h(i),w)}),et(),Xe();var k=ne(),g=G(k);se(g,c,m=>{var f=ne(),$=G(f);ve($,t,"default",{get builder(){return h(i)}},null),z(m,f)},m=>{var f=Fs();let $;var E=R(f);ve(E,t,"default",{get builder(){return h(i)}},null),C(f),tt(f,j=>d(j),()=>d()),ot(f,j=>h(i).action(j)),wt(()=>Fe("m-click",f,y)),X(()=>$=st(f,$,{...h(i),type:"button",...o})),z(m,f)}),z(e,k),ke()}var Bs=V("<button><!></button>");function Us(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]),o=fe(r,["asChild","el"]);Se(t,!1);const n=ft(),s=()=>Ce(u,"$nextButton",n),i=he();let c=ee(t,"asChild",24,()=>{}),d=ee(t,"el",28,()=>{});const{elements:{nextButton:u},getAttrs:p}=Wr(),w=p("next-button"),y=Qt();ae(()=>s(),()=>{Z(i,s())}),ae(()=>h(i),()=>{Object.assign(h(i),w)}),et(),Xe();var k=ne(),g=G(k);se(g,c,m=>{var f=ne(),$=G(f);ve($,t,"default",{get builder(){return h(i)}},null),z(m,f)},m=>{var f=Bs();let $;var E=R(f);ve(E,t,"default",{get builder(){return h(i)}},null),C(f),tt(f,j=>d(j),()=>d()),ot(f,j=>h(i).action(j)),wt(()=>Fe("m-click",f,y)),X(()=>$=st(f,$,{...h(i),type:"button",...o})),z(m,f)}),z(e,k),ke()}var Ds=V("<button><!></button>");function qs(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]),o=fe(r,["asChild","page","el"]);Se(t,!1);const n=ft(),s=()=>Ce(p,"$pageTrigger",n),i=he();let c=ee(t,"asChild",24,()=>{}),d=ee(t,"page",8),u=ee(t,"el",28,()=>{});const{elements:{pageTrigger:p},getAttrs:w}=Wr(),y=w("page"),k=Qt();ae(()=>(s(),je(d())),()=>{Z(i,s()(d()))}),ae(()=>h(i),()=>{Object.assign(h(i),y)}),et(),Xe();var g=ne(),m=G(g);se(m,c,f=>{var $=ne(),E=G($);ve(E,t,"default",{get builder(){return h(i)}},null),z(f,$)},f=>{var $=Ds();let E;var j=R($);ve(j,t,"default",{get builder(){return h(i)}},T=>{var P=Re();X(()=>te(P,d().value)),z(T,P)}),C($),tt($,T=>u(T),()=>u()),ot($,T=>h(i).action(T)),wt(()=>Fe("m-click",$,k)),X(()=>E=st($,E,{type:"button",...h(i),...o})),z(f,$)}),z(e,g),ke()}function yo(){return{NAME:"slider",PARTS:["root","input","range","thumb","tick"]}}function Vs(e){const{NAME:t,PARTS:r}=yo(),o=go(t,r),n={...Rs(po(e)),getAttrs:o};return ro(t,n),{...n,updateOption:mo(n.options)}}function bo(){const{NAME:e}=yo();return no(e)}var Hs=V("<span><!></span>");function Js(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]),o=fe(r,["disabled","min","max","step","orientation","dir","value","onValueChange","asChild","el"]);Se(t,!1);const n=ft(),s=()=>Ce(j,"$root",n),i=()=>Ce(T,"$ticks",n),c=()=>Ce(P,"$thumbs",n),d=he();let u=ee(t,"disabled",24,()=>{}),p=ee(t,"min",24,()=>{}),w=ee(t,"max",24,()=>{}),y=ee(t,"step",24,()=>{}),k=ee(t,"orientation",24,()=>{}),g=ee(t,"dir",24,()=>{}),m=ee(t,"value",28,()=>{}),f=ee(t,"onValueChange",24,()=>{}),$=ee(t,"asChild",8,!1),E=ee(t,"el",28,()=>{});const{elements:{root:j,ticks:T,thumbs:P},states:{value:x},updateOption:_,getAttrs:N}=Vs({disabled:u(),dir:g(),min:p(),max:w(),step:y(),orientation:k(),defaultValue:m(),onValueChange:({next:F})=>{var U;return m()!==F&&((U=f())==null||U(F),m(F)),F}}),M=N("root");ae(()=>je(m()),()=>{m()!==void 0&&x.set(m())}),ae(()=>je(u()),()=>{_("disabled",u())}),ae(()=>je(p()),()=>{_("min",p())}),ae(()=>je(w()),()=>{_("max",w())}),ae(()=>je(y()),()=>{_("step",y())}),ae(()=>je(k()),()=>{_("orientation",k())}),ae(()=>je(g()),()=>{_("dir",g())}),ae(()=>s(),()=>{Z(d,s())}),ae(()=>h(d),()=>{Object.assign(h(d),M)}),et(),Xe();var L=ne(),B=G(L);se(B,$,F=>{var U=ne(),H=G(U);ve(H,t,"default",{get builder(){return h(d)},get ticks(){return i()},get thumbs(){return c()}},null),z(F,U)},F=>{var U=Hs();let H;var Q=R(U);ve(Q,t,"default",{get builder(){return h(d)},get ticks(){return i()},get thumbs(){return c()}},null),C(U),tt(U,v=>E(v),()=>E()),ot(U,v=>h(d).action(v)),X(()=>H=st(U,H,{...h(d),...o})),z(F,U)}),z(e,L),ke()}var Gs=V("<span></span>");function Ks(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]),o=fe(r,["asChild","el"]);Se(t,!1);const n=ft(),s=()=>Ce(u,"$range",n),i=he();let c=ee(t,"asChild",8,!1),d=ee(t,"el",28,()=>{});const{elements:{range:u},getAttrs:p}=bo(),w=p("range");ae(()=>s(),()=>{Z(i,s())}),ae(()=>h(i),()=>{Object.assign(h(i),w)}),et(),Xe();var y=ne(),k=G(y);se(k,c,g=>{var m=ne(),f=G(m);ve(f,t,"default",{get builder(){return h(i)}},null),z(g,m)},g=>{var m=Gs();let f;tt(m,$=>d($),()=>d()),ot(m,$=>h(i).action($)),X(()=>f=st(m,f,{...h(i),...o})),z(g,m)}),z(e,y),ke()}var Xs=V("<span></span>");function Zs(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]),o=fe(r,["asChild","el","thumb"]);Se(t,!1);const n=he();let s=ee(t,"asChild",8,!1),i=ee(t,"el",28,()=>{}),c=ee(t,"thumb",8);const{getAttrs:d}=bo(),u=Qt(),p=d("thumb");ae(()=>je(c()),()=>{Z(n,c())}),ae(()=>h(n),()=>{Object.assign(h(n),p)}),et(),Xe();var w=ne(),y=G(w);se(y,s,k=>{var g=ne(),m=G(g);ve(m,t,"default",{get builder(){return h(n)}},null),z(k,g)},k=>{var g=Xs();let m;tt(g,f=>i(f),()=>i()),ot(g,f=>h(n).action(f)),wt(()=>Fe("m-keydown",g,u)),X(()=>m=st(g,m,{...h(n),...o})),z(k,g)}),z(e,w),ke()}function Ys(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);nt(e,rt({name:"arrow-down"},()=>r,{iconNode:[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]],children:(n,s)=>{var i=ne(),c=G(i);ve(c,t,"default",{},null),z(n,i)},$$slots:{default:!0}}))}function Qs(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);nt(e,rt({name:"arrow-up"},()=>r,{iconNode:[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]],children:(n,s)=>{var i=ne(),c=G(i);ve(c,t,"default",{},null),z(n,i)},$$slots:{default:!0}}))}function ei(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);nt(e,rt({name:"chevron-left"},()=>r,{iconNode:[["path",{d:"m15 18-6-6 6-6"}]],children:(n,s)=>{var i=ne(),c=G(i);ve(c,t,"default",{},null),z(n,i)},$$slots:{default:!0}}))}function ti(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);nt(e,rt({name:"chevron-right"},()=>r,{iconNode:[["path",{d:"m9 18 6-6-6-6"}]],children:(n,s)=>{var i=ne(),c=G(i);ve(c,t,"default",{},null),z(n,i)},$$slots:{default:!0}}))}function ri(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);nt(e,rt({name:"filter"},()=>r,{iconNode:[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}]],children:(n,s)=>{var i=ne(),c=G(i);ve(c,t,"default",{},null),z(n,i)},$$slots:{default:!0}}))}function ni(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);nt(e,rt({name:"layout-grid"},()=>r,{iconNode:[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"}]],children:(n,s)=>{var i=ne(),c=G(i);ve(c,t,"default",{},null),z(n,i)},$$slots:{default:!0}}))}function oi(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);nt(e,rt({name:"map"},()=>r,{iconNode:[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"}],["path",{d:"M15 5.764v15"}],["path",{d:"M9 3.236v15"}]],children:(n,s)=>{var i=ne(),c=G(i);ve(c,t,"default",{},null),z(n,i)},$$slots:{default:!0}}))}function si(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);nt(e,rt({name:"table"},()=>r,{iconNode:[["path",{d:"M12 3v18"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}]],children:(n,s)=>{var i=ne(),c=G(i);ve(c,t,"default",{},null),z(n,i)},$$slots:{default:!0}}))}const ii={"images.ctfassets.net":"contentful","cdn.builder.io":"builder.io","images.prismic.io":"imgix","www.datocms-assets.com":"imgix","cdn.sanity.io":"imgix","images.unsplash.com":"imgix","cdn.shopify.com":"shopify","s7d1.scene7.com":"scene7","ip.keycdn.com":"keycdn","assets.caisy.io":"bunny","images.contentstack.io":"contentstack","ucarecdn.com":"uploadcare","imagedelivery.net":"cloudflare_images"},ai={"imgix.net":"imgix","files.wordpress.com":"wordpress","b-cdn.net":"bunny","storyblok.com":"storyblok","kc-usercontent.com":"kontent.ai","cloudinary.com":"cloudinary","kxcdn.com":"keycdn","imgeng.in":"imageengine","imagekit.io":"imagekit","cloudimg.io":"cloudimage","ucarecdn.com":"uploadcare","supabase.co":"supabase"},ci={"/cdn-cgi/image/":"cloudflare","/cdn-cgi/imagedelivery/":"cloudflare_images","/_next/image":"nextjs","/_next/static":"nextjs","/_vercel/image":"vercel","/is/image":"scene7","/_ipx/":"ipx","/_image":"astro","/.netlify/images":"netlify","/storage/v1/object/public/":"supabase","/storage/v1/render/image/public/":"supabase"},bt=e=>{if(!e)return e;const t=Number(e);return isNaN(t)?e:Math.round(t)},J=(e,t,r,o,n)=>{r?(n&&(r=bt(r)),e.searchParams.set(t,r.toString())):o&&e.searchParams.delete(t)},Oe=(e,t,r)=>{e.searchParams.has(t)||e.searchParams.set(t,r.toString())},Tt=(e,t)=>{const r=Number(e.searchParams.get(t));return isNaN(r)?void 0:r},_o=e=>{const{pathname:t,search:r}=e;return`${t}${r}`},Br=e=>e.hostname==="n"?_o(e):e.toString(),oe=(e,t)=>typeof e=="string"?new URL(e,t??"http://n/"):e,ln=new Map(Object.entries(ii)),li=Object.entries(ai);function ui(e){return wo(e)||di(e)}function wo(e){if(typeof e=="string"&&!e.startsWith("https://"))return!1;const{hostname:t}=oe(e);if(ln.has(t))return ln.get(t);for(const[r,o]of li)if(t.endsWith(`.${r}`))return o;return!1}function di(e){const{pathname:t}=oe(e);for(const[r,o]of Object.entries(ci))if(t.startsWith(r))return o;return!1}const fi=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return t&&t>4e3&&(r&&(r=Math.round(r*4e3/t)),t=4e3),r&&r>4e3&&(t&&(t=Math.round(t*4e3/r)),r=4e3),J(n,"w",t,!0,!0),J(n,"h",r,!0,!0),J(n,"fm",o),Oe(n,"fit","fill"),n},hi=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return J(n,"width",t,!0,!0),J(n,"height",r,!0,!0),J(n,"format",o),t&&r&&(Oe(n,"fit","cover"),Oe(n,"sharp","true")),n},gi=({url:e,width:t,height:r,format:o})=>{var s;const n=oe(e);if(J(n,"w",t,!0,!0),J(n,"h",r,!0,!0),Oe(n,"fit","min"),o){n.searchParams.set("fm",o);const i=n.searchParams.get("auto");i==="format"?n.searchParams.delete("auto"):i!=null&&i.includes("format")&&n.searchParams.set("auto",i.split(",").filter(c=>c!=="format").join(","))}else n.searchParams.delete("fm"),(s=n.searchParams.get("auto"))!=null&&s.includes("format")||n.searchParams.append("auto","format");return n},pi=/(.+?)(?:_(?:(pico|icon|thumb|small|compact|medium|large|grande|original|master)|(\d*)x(\d*)))?(?:_crop_([a-z]+))?(\.[a-zA-Z]+)(\.png|\.jpg|\.webp|\.avif)?$/,mi=e=>{const t=oe(e),r=t.pathname.match(pi);if(!r)throw new Error("Invalid Shopify URL");const[,o,n,s,i,c,d,u]=r;t.pathname=`${o}${d}`;const p=s||t.searchParams.get("width"),w=i||t.searchParams.get("height");return t.searchParams.delete("width"),t.searchParams.delete("height"),{base:t.toString(),width:Number(p)||void 0,height:Number(w)||void 0,format:u?u.slice(1):void 0,params:{crop:c,size:n},cdn:"shopify"}},vi=({base:e,width:t,height:r,format:o,params:n})=>{const s=oe(e);return J(s,"width",t,!0,!0),J(s,"height",r,!0,!0),J(s,"crop",n==null?void 0:n.crop),J(s,"format",o),s},yi=({url:e,width:t,height:r})=>{const o=mi(e);if(!o)return;const n={...o,width:t,height:r};return vi(n)},bi=({url:e,width:t,height:r})=>{const o=oe(e);return J(o,"w",t,!0,!0),J(o,"h",r,!0,!0),Oe(o,"crop","1"),o},_i=({url:e,width:t,height:r})=>{const o=oe(e);return J(o,"w",t,!0,!0),J(o,"h",r,!0,!0),J(o,"q",Tt(o,"q"),!0),o},wi=/https?:\/\/(?<host>[^\/]+)\/(?<cloudName>[^\/]+)\/(?<assetType>image|video|raw)\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)\/?(?<signature>s\-\-[a-zA-Z0-9]+\-\-)?\/?(?<transformations>(?:[^_\/]+_[^,\/]+,?)*)?\/(?:(?<version>v\d+)\/)?(?<idAndFormat>[^\s]+)$/g,xi=e=>e?Object.fromEntries(e.split(",").map(t=>t.split("_"))):{},xo=({host:e,cloudName:t,assetType:r,deliveryType:o,signature:n,transformations:s={},version:i,id:c,format:d})=>{d&&(s.f=d);const u=Object.entries(s).map(([w,y])=>`${w}_${y}`).join(",");return`https://${[e,t,r,o,n,u,i,c].filter(Boolean).join("/")}`},So=e=>{const r=[...oe(e).toString().matchAll(wi)];if(!r.length)throw new Error("Invalid Cloudinary URL");const o=r[0].groups||{},{transformations:n="",idAndFormat:s,...i}=o;delete o.idAndFormat;const c=s.lastIndexOf("."),d=c<0?s:s.slice(0,c),u=c<0?void 0:s.slice(c+1),{w:p,h:w,f:y,...k}=xi(n),g=y&&y!=="auto"?y:u;return{base:xo({...i,id:d,transformations:k}),width:Number(p)||void 0,height:Number(w)||void 0,format:g,cdn:"cloudinary",params:{...o,id:o.deliveryType==="fetch"?s:d,format:g,transformations:k}}},Si=({base:e,width:t,height:r,format:o,params:n})=>{var c;const s=So(e.toString()),i={transformations:{},...s.params,...n,format:o||"auto"};return t&&(i.transformations.w=bt(t).toString()),r&&(i.transformations.h=bt(r).toString()),(c=i.transformations).c||(c.c="lfill"),xo(i)},ki=({url:e,width:t,height:r,format:o="auto"})=>{var i,c;const n=So(e);if(!n)throw new Error("Invalid Cloudinary URL");if(((i=n.params)==null?void 0:i.assetType)!=="image")throw new Error("Cloudinary transformer only supports images");if((c=n.params)!=null&&c.signature)throw new Error("Cloudinary transformer does not support signed URLs");const s={...n,width:t,height:r,format:o};return Si(s)},$i=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/image\/(?<transformations>[^\/]+)?\/(?<path>.*)$/g,ji=e=>Object.fromEntries(e.split(",").map(t=>t.split("="))),ko=({host:e,transformations:t={},path:r})=>{const o=Object.entries(t).map(([s,i])=>`${s}=${i}`).join(",");return`https://${[e,"cdn-cgi","image",o,r].join("/")}`},$o=e=>{const t=oe(e),r=[...t.toString().matchAll($i)];if(!r.length)throw new Error("Invalid Cloudflare URL");const o=r[0].groups||{},{transformations:n,...s}=o,{width:i,height:c,f:d,...u}=ji(n);return ko({...s,transformations:u}),{base:t.toString(),width:Number(i)||void 0,height:Number(c)||void 0,format:d,cdn:"cloudflare",params:{...o,transformations:u}}},Oi=({base:e,width:t,height:r,format:o,params:n})=>{var c;const s=$o(e.toString()),i={transformations:{},...s.params,...n};return t&&(i.transformations.width=t==null?void 0:t.toString()),r&&(i.transformations.height=r==null?void 0:r.toString()),o&&(i.transformations.f=o==="jpg"?"jpeg":o),(c=i.transformations).fit||(c.fit="cover"),new URL(ko(i))},Pi=({url:e,width:t,height:r,format:o="auto"})=>{const n=$o(e);if(!n)throw new Error("Invalid Cloudflare URL");const s={...n,width:t,height:r,format:o};return Oi(s)},Ai=({url:e,width:t,height:r})=>{const o=oe(e);return J(o,"width",t,!0,!0),t&&r&&Oe(o,"aspect_ratio",`${t}:${r}`),o},zi=/(?<id>\/f\/\d+\/\d+x\d+\/\w+\/[^\/]+)\/?(?<modifiers>m\/?(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?)?$/g,Ei=/^(?<modifiers>\/(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?\/?)?(?<id>\/f\/.+)$/g,Ci=e=>e?Object.fromEntries(e.split(":").map(t=>{if(!t)return[];const[r,o]=t.split("(");return[r,o.replace(")","")]})):{},Ti=e=>{if(!e)return;const t=Object.entries(e).map(([r,o])=>`${r}(${o??""})`);if(t.length!==0)return`filters:${t.join(":")}`},Ni=e=>{const t=oe(e),r=t.hostname==="img2.storyblok.com"?Ei:zi,[o]=t.pathname.matchAll(r);if(!o||!o.groups)throw new Error("Invalid Storyblok URL");const{id:n,crop:s,width:i,height:c,filters:d,flipx:u,flipy:p}=o.groups,{format:w,...y}=Ci(d);return t.hostname==="img2.storyblok.com"&&(t.hostname="a.storyblok.com"),{base:t.origin+n,width:Number(i)||void 0,height:Number(c)||void 0,format:w,params:{crop:s,filters:y,flipx:u,flipy:p},cdn:"storyblok"}},Ri=({base:e,width:t=0,height:r=0,format:o,params:n={}})=>{const{crop:s,filters:i,flipx:c="",flipy:d=""}=n,u=`${c}${t}x${d}${r}`;return new URL([e,"m",s,u,Ti(i),o].filter(Boolean).join("/"))},Mi=({url:e,width:t,height:r,format:o})=>{const n=Ni(e);if(n)return o&&(n.params||(n.params={filters:{}}),n.params.filters||(n.params.filters={}),n.params.filters.format=o),Ri({...n,width:t,height:r})},Ii=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return J(n,"w",t,!0,!0),J(n,"h",r,!0,!0),J(n,"fm",o,!0),t&&r&&Oe(n,"fit","crop"),n},un=e=>{const r=oe(e).searchParams.get("url");if(!r||!r.startsWith("http"))return!1;const o=wo(r);return o?{cdn:o,url:r}:!1},Li=({base:e,width:t,params:{quality:r=75,root:o="_vercel"}={}})=>{const n=new URL("http://n");return n.pathname=`/${o}/image`,n.searchParams.set("url",e.toString()),J(n,"w",t,!1,!0),Oe(n,"q",r),_o(n)},jo=({url:e,width:t,cdn:r})=>{const o=oe(e),n=o.pathname.startsWith("/_next/image")||o.pathname.startsWith("/_vercel/image"),s=n?o.searchParams.get("url"):e.toString();if(s)return J(o,"w",t,!0,!0),n?Br(o):Li({base:s,width:t,params:{root:r==="nextjs"?"_next":"_vercel"}})},Fi=e=>jo({...e,cdn:"nextjs"}),Wi=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return J(n,"wid",t,!0,!0),J(n,"hei",r,!0,!0),J(n,"fmt",o,!0),J(n,"qlt",Tt(n,"qlt"),!0),J(n,"scl",Tt(n,"scl"),!0),Oe(n,"fit","crop"),!t&&!r&&Oe(n,"scl",1),n},Bi=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return J(n,"width",t,!0,!0),J(n,"height",r,!0,!0),J(n,"format",o,!0),J(n,"quality",Tt(n,"quality"),!0),Oe(n,"enlarge",0),n},Ui=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return J(n,"width",t,!0,!0),J(n,"height",r,!0,!0),J(n,"format",o),J(n,"quality",Tt(n,"quality"),!0),n},Pr={width:"w",height:"h",autoWidthWithFallback:"w_auto",auto_width_fallback:"w_auto",scaleToScreenWidth:"pc",scale_to_screen_width:"pc",crop:"cr",outputFormat:"f",format:"f",fit:"m",fitMethod:"m",compression:"cmpr",sharpness:"s",rotate:"r",inline:"in",keepMeta:"meta",keep_meta:"meta",noOptimization:"pass",no_optimization:"pass",force_download:"dl",max_device_pixel_ratio:"maxdpr",maxDevicePixelRatio:"maxdpr"};function Di(e){return Object.keys(Pr).find(o=>Pr[o]===e)||""}function qi(e){let t=e.toString(),r=[];if(t){let o=t.split("imgeng=");o.length>1&&(r=o[1].split("/"))}return r}function Vi(e){let t=e.toString(),r="";if(t){let o=t.split("imgeng=");o.length>1?r=o[0].slice(0,-1):r=t}return r}const Hi=({url:e,width:t,height:r,format:o})=>{const n=oe(e),s=Vi(n);let i={};const c=n.toString()===s?[]:qi(n);c.length&&(i=Xi(c)),t&&(i.width=t),r&&(i.height=r),o&&(i.format=o),i.hasOwnProperty("fit")||(i={...i,fit:"cropbox"});let d=Ji(i),u=Gi(d),p=u===""?"":s.includes("?")?"&":"?";return`${s}${p}${u}`};function Ji(e){return Object.entries(e).reduce((t,[r,o])=>t+Ki(r,o),"")}function Gi(e){return e&&e!==""?`imgeng=${e}`:""}function Ki(e,t){let r=Pr[e];return r&&(t||t===0)?`/${r}_${t}`:""}function Xi(e){let t={};return e.forEach(r=>{let o=r.split("_");if(o.length>1){let n=o[0],s=o[1],i=Di(n);i&&(t[i]=s)}}),t}const Zi=({url:e,width:t,height:r,format:o})=>{const n=oe(e);return J(n,"width",t,!0,!0),J(n,"height",r,!0,!0),J(n,"format",o),n.searchParams.has("format")||Oe(n,"auto","webp"),t&&r&&Oe(n,"fit","crop"),n},Yi=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/imagedelivery\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,Qi=/https?:\/\/(?<host>imagedelivery.net)\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,ea=e=>{var t;return Object.fromEntries(((t=e==null?void 0:e.split(","))==null?void 0:t.map(r=>r.split("=")))??[])},ta=({host:e,accountHash:t,transformations:r={},imageId:o})=>{const n=Object.entries(r).filter(([i,c])=>!!i&&c!==void 0).map(([i,c])=>`${i}=${c}`).join(",");return`https://${[...e==="imagedelivery.net"?[e]:[e,"cdn-cgi","imagedelivery"],t,o,n].join("/")}`},Oo=e=>{const t=oe(e),r=[...t.toString().matchAll(Yi),...t.toString().matchAll(Qi)];if(!r.length)throw new Error("Invalid Cloudflare Images URL");const o=r[0].groups||{},{transformations:n,...s}=o,{w:i,h:c,f:d,...u}=ea(n);return{base:t.toString(),width:Number(i)||void 0,height:Number(c)||void 0,format:d,cdn:"cloudflare_images",params:{...s,transformations:u}}},ra=({base:e,width:t,height:r,format:o,params:n})=>{var c;const s=Oo(e.toString()),i={transformations:{},...s.params,...n};return t&&(i.transformations.w=t==null?void 0:t.toString()),r&&(i.transformations.h=r==null?void 0:r.toString()),o&&(i.transformations.f=o),(c=i.transformations).fit||(c.fit="cover"),new URL(ta(i))},na=({url:e,width:t,height:r,format:o="auto"})=>{const n=Oo(e);if(!n)throw new Error("Invalid Cloudflare Images URL");const s={...n,width:t,height:r,format:o};return ra(s)},oa=e=>{const t=oe(e),[r,...o]=t.pathname.split("/").slice(1),n=Object.fromEntries(r.split(",").map(s=>{const[i,c]=s.split("_");return[i,c]}));if(n.s){const[s,i]=n.s.split("x");n.w||(n.w=s),n.h||(n.h=i)}return{base:o.join("/"),width:Number(n.w)||void 0,height:Number(n.h)||void 0,quality:Number(n.q)||void 0,format:n.f||"auto",params:n,cdn:"ipx"}},dn=({base:e,width:t,height:r,format:o,params:n})=>{const s=(n==null?void 0:n.modifiers)??{};t&&r?s.s=`${t}x${r}`:t?s.w=`${t}`:r&&(s.h=`${r}`),o&&(s.f=o);const i=n!=null&&n.base.endsWith("/")?n==null?void 0:n.base:`${n==null?void 0:n.base}/`,c=Object.entries(s).map(([p,w])=>`${p}_${w}`).join(","),d=e.toString(),u=d.startsWith("/")?d.slice(1):d;return`${i}${c}/${u}`},sa=e=>{var i,c,d,u;const t=String(e.url),r=oe(t),o=r.pathname.startsWith("/_ipx")&&r.hostname!=="n"?`${r.origin}/_ipx`:"/_ipx",n=((c=(i=e.cdnOptions)==null?void 0:i.ipx)==null?void 0:c.base)??o;if(n&&n!=="/"&&t.startsWith(n)){const p=oa(t.replace(n,""));return dn({...p,...e,params:{...(d=e.cdnOptions)==null?void 0:d.ipx,base:n}})}return dn({...e,base:t,params:{...(u=e.cdnOptions)==null?void 0:u.ipx,base:n}})},ia=({url:e,width:t,height:r,format:o})=>{const n=oe(e),s=Br(new URL(n.pathname,n.origin)),i={searchParams:new URLSearchParams};return J(i,"href",s,!0,!0),J(i,"w",t,!0,!0),J(i,"h",r,!0,!0),J(i,"f",o),`/_image?${i.searchParams.toString()}`},aa=new Set(["w","h","q","fm","url","width","height","quality"]),ca=e=>{const t=oe(e),r=Number(t.searchParams.get("w")??t.searchParams.get("width"))??void 0,o=Number(t.searchParams.get("h")??t.searchParams.get("height"))??void 0,n=Number(t.searchParams.get("q")??t.searchParams.get("quality"))||void 0,s=t.searchParams.get("fm")||void 0,i=t.searchParams.get("url")||"",c={quality:n};return t.searchParams.forEach((d,u)=>{aa.has(u)||(c[u]=d)}),t.search="",{base:i,width:r,height:o,format:s,params:c,cdn:"netlify"}},fn=({base:e,width:t,height:r,format:o,params:{site:n,quality:s,...i}={}})=>{const c=oe("/.netlify/images",n);return Object.entries(i).forEach(([d,u])=>J(c,d,u)),J(c,"q",s,!0,!0),J(c,"w",t,!0,!0),J(c,"h",r,!0,!0),J(c,"fm",o),Oe(c,"fit","cover"),c.searchParams.set("url",e.toString()),Br(c)},la=e=>{var r,o;const t=oe(e.url);if(t.pathname.startsWith("/.netlify/images")){const{params:n,base:s,format:i}=ca(t);return fn({base:s,format:i,...e,params:{...n,site:t.hostname==="n"?void 0:t.origin}})}return fn({...e,base:e.url,params:{site:(o=(r=e.cdnOptions)==null?void 0:r.netlify)==null?void 0:o.site}})},ua=e=>(e.searchParams.get("tr")||"").split(",").reduce((r,o)=>{const[n,s]=o.split("-");return r[n]=s,r},{}),da=({url:e,width:t,height:r,format:o})=>{const n=oe(e),s=ua(n);s.w=t&&Math.round(t),s.h=r&&Math.round(r),s.f||(s.f="auto"),o&&(s.f=o);const i=Object.keys(s).map(c=>{const d=s[c];if(d)return`${c}-${d}`}).filter(c=>c).join(",");return n.searchParams.set("tr",i),n},fa=/^https?:\/\/(?<host>[^\/]+)\/(?<uuid>[^\/]+)/g;function Po(e){const t=new URL(e),r=t.pathname+t.search+t.hash,o=r.lastIndexOf("http"),n=r.lastIndexOf("/");let s="";return o>=0?s=r.slice(o):n>=0&&(s=r.slice(n+1)),s}function ha(e){return e.startsWith("http")}function ga(e){const t=new URL(e);return{pathname:t.origin+t.pathname||"",search:t.search||"",hash:t.hash||""}}function pa(e){const t=new URL(e),r=Po(e),o=ha(r)?ga(r).pathname:r;return t.pathname=t.pathname.replace(o,""),t.search="",t.hash="",t.toString()}const ma=e=>{if(typeof e!="string"||!e)return"";let t=e.trim();return t.startsWith("-/")?t=t.slice(2):t.startsWith("/")&&(t=t.slice(1)),t.endsWith("/")&&(t=t.slice(0,t.length-1)),t};function va(e){const t=pa(e),r=new URL(t),o=r.pathname.indexOf("/-/");return o===-1?[]:r.pathname.substring(o).split("/-/").filter(Boolean).map(s=>ma(s))}const ya=e=>e.length?e.reduce((t,r)=>{const[o,n]=r.split("/");return{...t,[o]:n}},{}):{},Ao=({host:e,uuid:t,operations:r={},filename:o})=>{const n=Object.entries(r).map(([i,c])=>`${i}/${c}`).join("/-/");return`https://${[e,t,n?`-/${n}`:"",o].join("/")}`},zo=e=>{const t=oe(e),r=[...t.toString().matchAll(fa)];if(!r.length)throw new Error("Invalid Uploadcare URL");const o=r[0].groups||{},{...n}=o,s=Po(t.toString()),{format:i,...c}=ya(va(t.toString())),d=i&&i!=="auto"?i:"auto";return{base:Ao({...n,filename:s||void 0,operations:{...c,format:d}}),cdn:"uploadcare",params:{...o,filename:s||void 0,operations:{...c,format:d}}}},ba=({base:e,width:t,height:r,params:o})=>{const n=e.toString(),s=zo(n.endsWith("/")?n:`${n}/`),i={operations:{},...s.params,...o};return t&&r?i.operations={...i.operations,resize:`${t}x${r}`}:(t&&(i.operations={...i.operations,resize:`${t}x`}),r&&(i.operations={...i.operations,resize:`x${r}`})),Ao(i)},_a=({url:e,width:t,height:r})=>{const o=zo(e);if(!o)throw new Error("Invalid Uploadcare URL");const n={...o,width:t,height:r};return ba(n)},wa=["origin"],Eo="/storage/v1/object/public/",Ur="/storage/v1/render/image/public/",xa=e=>e.pathname.startsWith(Ur),Co=e=>{const t=oe(e);if(!xa(t))return{cdn:"supabase",base:t.origin+t.pathname};const o=t.pathname.replace(Ur,""),n=t.searchParams.has("quality")?Number(t.searchParams.get("quality")):void 0,s=t.searchParams.has("width")?Number(t.searchParams.get("width")):void 0,i=t.searchParams.has("height")?Number(t.searchParams.get("height")):void 0,c=t.searchParams.has("format")?t.searchParams.get("format"):void 0,d=t.searchParams.has("resize")?t.searchParams.get("resize"):void 0;return{cdn:"supabase",base:t.origin+Eo+o,width:s,height:i,format:c,params:{quality:n,resize:d}}},Sa=({base:e,width:t,height:r,format:o,params:n})=>{const s=Co(e.toString());e=s.base,t=t||s.width,r=r||s.height,o=o||s.format,n={...s.params,...n};const i=new URLSearchParams;return t&&i.set("width",bt(t).toString()),r&&i.set("height",bt(r).toString()),o&&wa.includes(o)&&i.set("format",o),n!=null&&n.quality&&i.set("quality",bt(n.quality).toString()),n!=null&&n.resize&&i.set("resize",n.resize),i.toString()===""?e:s.base.replace(Eo,Ur)+"?"+i.toString()},ka=({url:e,width:t,height:r,format:o,cdnOptions:n})=>{const s=Co(e);return Sa({base:s.base,width:t||s.width,height:r||s.height,format:o||s.format,params:(n==null?void 0:n.supabase)||s.params})},hn={vercel:un,nextjs:un};function $a(e,t){if(!(t in hn))return!1;const r=hn[t];return r?r(e):!1}function Dr(e,t){const r=ui(e)||t;if(!r)return!1;const o=$a(e,r);return o||{cdn:r,url:e}}const qr=e=>({imgix:gi,contentful:fi,"builder.io":hi,shopify:yi,wordpress:bi,cloudimage:_i,cloudinary:ki,bunny:Ai,storyblok:Mi,cloudflare:Pi,vercel:jo,nextjs:Fi,scene7:Wi,"kontent.ai":Ii,keycdn:Bi,directus:Ui,imageengine:Hi,contentstack:Zi,cloudflare_images:na,ipx:sa,astro:ia,netlify:la,imagekit:da,uploadcare:_a,supabase:ka})[e];var ja=(e,t)=>{if(!(!e||!t))switch(t){case"constrained":return`(min-width: ${e}px) ${e}px, 100vw`;case"fixed":return`${e}px`;case"fullWidth":return"100vw";default:return}},St=e=>e||e===0?`${e}px`:void 0,Oa=({width:e,height:t,aspectRatio:r,layout:o,objectFit:n="cover",background:s})=>{const i=[["object-fit",n]];return s!=null&&s.startsWith("https:")||s!=null&&s.startsWith("http:")||s!=null&&s.startsWith("data:")?(i.push(["background-image",`url(${s})`]),i.push(["background-size","cover"]),i.push(["background-repeat","no-repeat"])):i.push(["background",s]),o==="fixed"&&(i.push(["width",St(e)]),i.push(["height",St(t)])),o==="constrained"&&(i.push(["max-width",St(e)]),i.push(["max-height",St(t)]),i.push(["aspect-ratio",r?`${r}`:void 0]),i.push(["width","100%"])),o==="fullWidth"&&(i.push(["width","100%"]),i.push(["aspect-ratio",r?`${r}`:void 0]),i.push(["height",St(t)])),Object.fromEntries(i.filter(([,c])=>c))},Pa=[6016,5120,4480,3840,3200,2560,2048,1920,1668,1280,1080,960,828,750,640],gn=24,Aa=({width:e,layout:t,resolutions:r=Pa})=>{if(t==="fullWidth")return r;if(!e)return[];const o=e*2;return t==="fixed"?[e,o]:t==="constrained"?[e,o,...r.filter(n=>n<o)]:[]},za=({src:e,width:t,layout:r="constrained",height:o,aspectRatio:n,breakpoints:s,cdn:i,transformer:c,format:d})=>{const u=Dr(e,i);return u&&!c&&(c=qr(u.cdn)),c?(s||(s=Aa({width:t,layout:r})),s.sort((p,w)=>p-w).map(p=>{let w;return o&&n&&(w=Math.round(p/n)),{url:u?u.url:e,width:p,height:w,format:d}})):[]},Ea=e=>{let{src:t,cdn:r,transformer:o}=e;const n=Dr(t,r);return n&&!o&&(o=qr(n.cdn)),o?za({...e,transformer:o}).map(s=>{const i=o(s);return`${i==null?void 0:i.toString()} ${s.width}w`}).join(`,
`):""};function Ca({width:e,height:t,priority:r,layout:o="constrained",aspectRatio:n,...s}){return e=e&&Number(e)||void 0,t=t&&Number(t)||void 0,r?(s.loading||(s.loading="eager"),s.fetchpriority||(s.fetchpriority="high")):(s.loading||(s.loading="lazy"),s.decoding||(s.decoding="async")),s.alt===""&&(s.role||(s.role="presentation")),n?e?t||(t=Math.round(e/n)):t&&(e=Math.round(t*n)):e&&t&&(n=e/t),{width:e,height:t,aspectRatio:n,layout:o,...s}}function Ta(e){let{src:t,cdn:r,transformer:o,background:n,layout:s,objectFit:i,breakpoints:c,width:d,height:u,aspectRatio:p,unstyled:w,...y}=Ca(e);const k=t?Dr(t,r):void 0;let g=t;if(k&&(g=k.url,o||(o=qr(k.cdn))),o&&n==="auto"){const f=p?Math.round(gn/p):void 0,$=o({url:g,width:gn,height:f});$&&(n=$.toString())}const m={width:d,height:u,aspectRatio:p,layout:s,objectFit:i,background:n};if(y.sizes||(y.sizes=ja(d,s)),w||(y.style={...Oa(m),...y.style}),o){y.srcset=Ea({src:g,width:d,height:u,aspectRatio:p,layout:s,breakpoints:c,transformer:o,cdn:r});const f=o({url:g,width:d,height:u});f&&(g=f),(s==="fullWidth"||s==="constrained")&&(d=void 0,u=void 0)}return{...y,src:g==null?void 0:g.toString(),width:d,height:u}}function Na(e,t){const r=RegExp(e,"g");return o=>{if(typeof o!="string")throw new TypeError(`expected an argument of type string, but got ${typeof o}`);return o.match(r)?o.replace(r,t):o}}const Ra=Na(/[A-Z]/,e=>`-${e.toLowerCase()}`);function Ma(e,t=Ra){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected an argument of type object, but got ${typeof e}`);return Object.keys(e).map(r=>`${t(r)}: ${e[r]};`).join(`
`)}var Ia=V("<img>");function La(e,t){const r=fe(t,["children","$$slots","$$events","$$legacy"]);Se(t,!1);const o=he(),n=he(),s=he(),i=he(),c=he(),d=he(),u=he(),p=he(),w=he(),y=he(),k=he(),g=he(),m=he(),f=he();ae(()=>(h(o),h(n),je(r)),()=>{Z(o,r.style),Z(n,os(r,["style"]))}),ae(()=>(h(s),h(i),h(c),h(d),h(u),h(p),h(w),h(y),h(k),h(g),h(m),h(n)),()=>{(j=>(Z(s,j.alt),Z(i,j.style),Z(c,j.src),Z(d,j.width),Z(u,j.height),Z(p,j.loading),Z(w,j.decoding),Z(y,j.srcset),Z(k,j.role),Z(g,j.sizes),Z(m,j.fetchpriority)))(Ta(h(n)))}),ae(()=>(h(i),h(o)),()=>{Z(f,[Ma(h(i)||{}),h(o)].filter(Boolean).join(";"))}),et(),Xe();var $=Ia();let E;X(()=>{var j,T,P,x;return E=st($,E,{...r,style:h(f),loading:h(p),width:h(d),height:h(u),decoding:h(w),role:h(k),fetchpriority:h(m),alt:(j=h(s))==null?void 0:j.toString(),src:(T=h(c))==null?void 0:T.toString(),srcset:(P=h(y))==null?void 0:P.toString(),sizes:(x=h(g))==null?void 0:x.toString()})}),hs($),ts($),Fe("load",$,function(j){rn.call(this,t,j)}),Fe("error",$,function(j){rn.call(this,t,j)}),z(e,$),ke()}var Fa=V("<em> </em>"),Wa=V("<a> </a>"),Ba=V('<span class="svelte-192ea9n"><!> <!> </span>'),Ua=V('<div class="inscription-place"></div>');function To(e,t){Se(t,!0);let r=ge(()=>{var n,s;return(s=(n=t.inscription)==null?void 0:n.places)==null?void 0:s.slice(0,2)});var o=Ua();Be(o,21,()=>h(r),Ke,(n,s)=>{var i=ne(),c=G(i);se(c,()=>h(s),d=>{var u=Ba(),p=R(u);se(p,()=>h(s).offset,k=>{var g=Fa(),m=R(g,!0);C(g),X(()=>te(m,h(s).offset)),z(k,g)});var w=W(p,2);se(w,()=>h(s).ref,k=>{var g=Wa(),m=R(g,!0);C(g),X(()=>{Ue(g,"href",h(s).ref),te(m,h(s)._)}),z(k,g)},k=>{var g=Re();X(()=>te(g,h(s)._)),z(k,g)});var y=W(w);C(u),X(()=>te(y,` (${h(s).type??""})`)),z(d,u)}),z(n,i)}),C(o),z(e,o),ke()}function Pt(e,t){let r=ee(t,"title",3,"");const o=ge(()=>t.children);var n=ge(()=>`/inscription/${t.id}`),s=ge(()=>r()||t.id);ms(e,{get href(){return h(n)},get title(){return h(s)},children:(i,c)=>{var d=ne(),u=G(d);vs(u,()=>h(o)??ss),z(i,d)},$$slots:{default:!0}})}var Da=V("<dd><a> </a></dd>"),qa=V("<dd> </dd>"),Va=V("<dd><a> </a></dd>"),Ha=V("<dd> </dd>"),Ja=V('<div class="inscription-card"><!> <div class="inscription-title svelte-1i8xyhq"><!></div> <div class="inscription-date-place"><!> <!></div> <dl class="svelte-1i8xyhq"><dt class="svelte-1i8xyhq">ID</dt> <dd><small><!></small></dd> <dt class="svelte-1i8xyhq">Status</dt> <dd> </dd> <dt class="svelte-1i8xyhq">Type</dt> <!> <dt class="svelte-1i8xyhq">Object type</dt> <!> <dt class="svelte-1i8xyhq">Language</dt> <dd> </dd></dl></div>');function Ga(e,t){Se(t,!0);var r=Ja(),o=R(r);se(o,()=>t.inscription.facsimile,j=>{Pt(j,{get id(){return t.inscription.file},get title(){return t.inscription.title},children:(T,P)=>{La(T,{get src(){return`${cs}${t.inscription.file??""}/${t.inscription.facsimile.url??""}/${ls}`},get alt(){return t.inscription.facsimile.desc},width:400,height:200})},$$slots:{default:!0}})});var n=W(o,2),s=R(n);Pt(s,{get id(){return t.inscription.file},get title(){return t.inscription.title},children:(j,T)=>{Ee();var P=Re();X(()=>te(P,t.inscription.title)),z(j,P)},$$slots:{default:!0}}),C(n);var i=W(n,2),c=R(i);ao(c,{get inscription(){return t.inscription}});var d=W(c,2);To(d,{get inscription(){return t.inscription}}),C(i);var u=W(i,2),p=W(R(u),2),w=R(p),y=R(w);Pt(y,{get id(){return t.inscription.file},children:(j,T)=>{Ee();var P=Re();X(()=>te(P,t.inscription.file)),z(j,P)},$$slots:{default:!0}}),C(w),C(p);var k=W(p,4),g=R(k,!0);C(k);var m=W(k,4);se(m,()=>{var j;return(j=t.inscription.type)==null?void 0:j.ref},j=>{var T=Da(),P=R(T),x=R(P,!0);C(P),C(T),X(()=>{var _;Ue(P,"href",t.inscription.type.ref),te(x,(_=t.inscription.type)==null?void 0:_._)}),z(j,T)},j=>{var T=qa(),P=R(T,!0);C(T),X(()=>{var x;return te(P,((x=t.inscription.type)==null?void 0:x._)||"N/A")}),z(j,T)});var f=W(m,4);se(f,()=>{var j;return(j=t.inscription.objectType)==null?void 0:j.ref},j=>{var T=Va(),P=R(T),x=R(P,!0);C(P),C(T),X(()=>{var _;Ue(P,"href",t.inscription.objectType.ref),te(x,(_=t.inscription.objectType)==null?void 0:_._)}),z(j,T)},j=>{var T=Ha(),P=R(T,!0);C(T),X(()=>{var x;return te(P,((x=t.inscription.objectType)==null?void 0:x._)||"N/A")}),z(j,T)});var $=W(f,4),E=R($,!0);C($),C(u),C(r),X(()=>{var j;te(g,t.inscription.status),te(E,((j=t.inscription.textLang)==null?void 0:j._)||"N/A")}),z(e,r),ke()}var Ka=V('<li class="svelte-p3hpfg"><!></li>'),Xa=V('<ol class="inscription-list svelte-p3hpfg"></ol>');function Za(e,t){var r=Xa();Be(r,21,()=>t.inscriptions,Ke,(o,n)=>{var s=Ka(),i=R(s);Ga(i,{get inscription(){return h(n)}}),C(s),z(o,s)}),C(r),z(e,r)}var Ya=V("<span> </span>"),Qa=V('<div class="marker svelte-mhd10g" role="img"><!></div>'),ec=V('<div class="inscription-map svelte-mhd10g"><!></div>');function tc(e,t){Se(t,!0);const{Map:r,Marker:o,NavigationControl:n,Popup:s}=ys;let i=ee(t,"show",3,!0),c=Le(void 0),d=Le(void 0),u=ge(()=>t.inscriptions.filter(m=>m.geo).reduce((m,f)=>{if(!f.geo||f.geo.length!==2)return m;const $=f.geo.join("_");return m[$]||(m[$]=[]),m[$].push(f),m},{})),p=ge(()=>Object.entries(h(u)).map(([m,f])=>{const $=f[0].geo,E=f.length;let j="single";return E>100?j="lg":E>25?j="md":E>1&&(j="sm"),{coords:[$[1],$[0]],markerSize:j,numberInscriptions:E,inscriptions:f}}));function w(m,{coords:f,inscriptions:$}){const E=y($),j=new o({element:m}).setLngLat(f).setPopup(new s().setHTML(E)).addTo(h(c));return{destroy(){j==null||j.remove()}}}function y(m){const f=m.reduce((j,T)=>(T.places[0]&&(j[T.places[0]._]||(j[T.places[0]._]=[]),j[T.places[0]._].push(T)),j),{});let $='<div class="tooltip">';const E=Object.entries(f).map(([j,T])=>{let P=`<dt>${j}</dt>`,x=T.map(_=>`<dd><a href="inscription/${_.file}">${_.title}</a></dd>`).join("");return`${P}${x}`}).join("");return`${$}<dl>${E}</dl></div>`}lo(async()=>{Z(c,de(new r({container:h(d),style:"https://api.maptiler.com/maps/positron/style.json?key=brTBbnRxuiKp6PgjwFPr",center:[14.01535,37.59999],zoom:7}))),h(c).addControl(new n({showCompass:!0,showZoom:!0}))}),co(async()=>{h(c)&&(h(c).remove(),Z(c,void 0),Z(d,void 0))});var k=ne(),g=G(k);se(g,i,m=>{var f=ec(),$=R(f);se($,()=>h(c)&&h(p),E=>{var j=ne(),T=G(j);Be(T,17,()=>h(p),Ke,(P,x)=>{var _=Qa(),N=R(_);se(N,()=>h(x).numberInscriptions>1,M=>{var L=Ya(),B=R(L,!0);C(L),X(()=>te(B,h(x).numberInscriptions)),z(M,L)}),C(_),ot(_,(M,L)=>w(M,L),()=>({coords:h(x).coords,inscriptions:h(x).inscriptions})),X(()=>{Ue(_,"aria-label",`Map marker for ${h(x).inscriptions[0].title}`),Bt(_,"single",h(x).markerSize==="single"),Bt(_,"sm",h(x).markerSize==="sm"),Bt(_,"md",h(x).markerSize==="md"),Bt(_,"lg",h(x).markerSize==="lg")}),z(P,_)}),z(E,j)}),C(f),tt(f,E=>Z(d,E),()=>h(d)),z(m,f)}),z(e,k),ke()}var rc=V("<span>...</span>"),nc=V('<div class="pagination svelte-1pdb2ke"><!> <div class="pages svelte-1pdb2ke"></div> <!></div> <p class="svelte-1pdb2ke"> </p>',1);function pn(e,t){var r=ne(),o=G(r);se(o,()=>t.count>0,n=>{var s=ne(),i=G(s);$e(i,()=>Ls,(c,d)=>{d(c,{get page(){return t.page},get count(){return t.count},get perPage(){return t.perPage},get onPageChange(){return t.onPageChange},children:(p,w)=>{let y=()=>w==null?void 0:w().pages,k=()=>w==null?void 0:w().range;var g=nc(),m=G(g),f=R(m);$e(f,()=>Ws,(x,_)=>{_(x,{children:(N,M)=>{ei(N,{})},$$slots:{default:!0}})});var $=W(f,2);Be($,21,y,x=>x.key,(x,_)=>{var N=ne(),M=G(N);se(M,()=>h(_).type==="ellipsis",L=>{var B=rc();z(L,B)},L=>{var B=ne(),F=G(B);$e(F,()=>qs,(U,H)=>{H(U,{get page(){return h(_)},children:(Q,v)=>{Ee();var a=Re();X(()=>te(a,h(_).value)),z(Q,a)},$$slots:{default:!0}})}),z(L,B)}),z(x,N)}),C($);var j=W($,2);$e(j,()=>Us,(x,_)=>{_(x,{children:(N,M)=>{ti(N,{})},$$slots:{default:!0}})}),C(m);var T=W(m,2),P=R(T);C(T),X(()=>te(P,`Showing ${k().start+1} - ${k().end??""}`)),z(p,g)},$$slots:{default:!0}})}),z(n,s)}),z(e,r)}var oc=V("<a> </a>"),sc=V("<a> </a>"),ic=V("<tr><td><!></td><td><!></td><td><!></td><td><!></td><td> </td><td><!></td><td><!></td><td> </td><td> </td></tr>");function ac(e,t){Se(t,!0);var r=ic(),o=R(r),n=R(o);Pt(n,{get id(){return t.inscription.file},children:(P,x)=>{Ee();var _=Re();X(()=>te(_,t.inscription.file)),z(P,_)},$$slots:{default:!0}}),C(o);var s=W(o),i=R(s);Pt(i,{get id(){return t.inscription.file},children:(P,x)=>{Ee();var _=Re();X(()=>te(_,t.inscription.title)),z(P,_)},$$slots:{default:!0}}),C(s);var c=W(s),d=R(c);ao(d,{get inscription(){return t.inscription}}),C(c);var u=W(c),p=R(u);To(p,{get inscription(){return t.inscription}}),C(u);var w=W(u),y=R(w,!0);C(w);var k=W(w),g=R(k);se(g,()=>{var P;return(P=t.inscription.type)==null?void 0:P.ref},P=>{var x=oc(),_=R(x,!0);C(x),X(()=>{var N;Ue(x,"href",t.inscription.type.ref),te(_,(N=t.inscription.type)==null?void 0:N._)}),z(P,x)},P=>{var x=Re();X(()=>{var _;return te(x,((_=t.inscription.type)==null?void 0:_._)||"N/A")}),z(P,x)}),C(k);var m=W(k),f=R(m);se(f,()=>{var P;return(P=t.inscription.objectType)==null?void 0:P.ref},P=>{var x=sc(),_=R(x,!0);C(x),X(()=>{var N;Ue(x,"href",t.inscription.objectType.ref),te(_,(N=t.inscription.objectType)==null?void 0:N._)}),z(P,x)},P=>{var x=Re();X(()=>{var _;return te(x,((_=t.inscription.objectType)==null?void 0:_._)||"N/A")}),z(P,x)}),C(m);var $=W(m),E=R($,!0);C($);var j=W($),T=R(j,!0);C(j),C(r),X(()=>{var P;te(y,t.inscription.status),te(E,((P=t.inscription.textLang)==null?void 0:P._)||"N/A"),te(T,t.inscription.settlement||"N/A")}),z(e,r),ke()}var cc=V('<table class="svelte-g7in6g"><thead><tr><th>ID</th><th>Title</th><th>Date</th><th>Place</th><th>Status</th><th>Type</th><th>Object type</th><th>Language</th><th>Settlement</th></tr></thead><!></table>');function lc(e,t){var r=cc(),o=W(R(r));Be(o,17,()=>t.inscriptions,Ke,(n,s)=>{ac(n,{get inscription(){return h(s)}})}),C(r),z(e,r)}let Vt=String.fromCharCode,No="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",Ht={};function uc(e,t){if(!Ht[e]){Ht[e]={};for(let r=0;r<e.length;r++)Ht[e][e.charAt(r)]=r}return Ht[e][t]}function dc(e){return e==null?"":hc(e,6,function(t){return No.charAt(t)})}function fc(e){return e==null?"":e==""?null:gc((e=e.replace(/ /g,"+")).length,32,function(t){return uc(No,e.charAt(t))})}function hc(e,t,r){if(e==null)return"";let o,n,s={},i={},c="",d="",u="",p=2,w=3,y=2,k=[],g=0,m=0,f;for(f=0;f<e.length;f+=1)if(c=e.charAt(f),Object.prototype.hasOwnProperty.call(s,c)||(s[c]=w++,i[c]=!0),d=u+c,Object.prototype.hasOwnProperty.call(s,d))u=d;else{if(Object.prototype.hasOwnProperty.call(i,u)){if(256>u.charCodeAt(0)){for(o=0;o<y;o++)g<<=1,m==t-1?(m=0,k.push(r(g)),g=0):m++;for(o=0,n=u.charCodeAt(0);o<8;o++)g=g<<1|1&n,m==t-1?(m=0,k.push(r(g)),g=0):m++,n>>=1}else{for(o=0,n=1;o<y;o++)g=g<<1|n,m==t-1?(m=0,k.push(r(g)),g=0):m++,n=0;for(o=0,n=u.charCodeAt(0);o<16;o++)g=g<<1|1&n,m==t-1?(m=0,k.push(r(g)),g=0):m++,n>>=1}--p==0&&(p=Math.pow(2,y),y++),delete i[u]}else for(o=0,n=s[u];o<y;o++)g=g<<1|1&n,m==t-1?(m=0,k.push(r(g)),g=0):m++,n>>=1;--p==0&&(p=Math.pow(2,y),y++),s[d]=w++,u=String(c)}if(u!==""){if(Object.prototype.hasOwnProperty.call(i,u)){if(256>u.charCodeAt(0)){for(o=0;o<y;o++)g<<=1,m==t-1?(m=0,k.push(r(g)),g=0):m++;for(o=0,n=u.charCodeAt(0);o<8;o++)g=g<<1|1&n,m==t-1?(m=0,k.push(r(g)),g=0):m++,n>>=1}else{for(o=0,n=1;o<y;o++)g=g<<1|n,m==t-1?(m=0,k.push(r(g)),g=0):m++,n=0;for(o=0,n=u.charCodeAt(0);o<16;o++)g=g<<1|1&n,m==t-1?(m=0,k.push(r(g)),g=0):m++,n>>=1}--p==0&&(p=Math.pow(2,y),y++),delete i[u]}else for(o=0,n=s[u];o<y;o++)g=g<<1|1&n,m==t-1?(m=0,k.push(r(g)),g=0):m++,n>>=1;--p==0&&(p=Math.pow(2,y),y++)}for(o=0,n=2;o<y;o++)g=g<<1|1&n,m==t-1?(m=0,k.push(r(g)),g=0):m++,n>>=1;for(;;){if(g<<=1,m==t-1){k.push(r(g));break}m++}return k.join("")}function gc(e,t,r){let o=[],n=4,s=4,i=3,c="",d=[],u,p,w,y,k,g,m,f={val:r(0),position:t,index:1};for(u=0;u<3;u+=1)o[u]=u;for(w=0,k=4,g=1;g!=k;)y=f.val&f.position,f.position>>=1,f.position==0&&(f.position=t,f.val=r(f.index++)),w|=(y>0?1:0)*g,g<<=1;switch(w){case 0:for(w=0,k=256,g=1;g!=k;)y=f.val&f.position,f.position>>=1,f.position==0&&(f.position=t,f.val=r(f.index++)),w|=(y>0?1:0)*g,g<<=1;m=Vt(w);break;case 1:for(w=0,k=65536,g=1;g!=k;)y=f.val&f.position,f.position>>=1,f.position==0&&(f.position=t,f.val=r(f.index++)),w|=(y>0?1:0)*g,g<<=1;m=Vt(w);break;case 2:return""}for(o[3]=m,p=m,d.push(m);;){if(f.index>e)return"";for(w=0,k=Math.pow(2,i),g=1;g!=k;)y=f.val&f.position,f.position>>=1,f.position==0&&(f.position=t,f.val=r(f.index++)),w|=(y>0?1:0)*g,g<<=1;switch(m=w){case 0:for(w=0,k=256,g=1;g!=k;)y=f.val&f.position,f.position>>=1,f.position==0&&(f.position=t,f.val=r(f.index++)),w|=(y>0?1:0)*g,g<<=1;o[s++]=Vt(w),m=s-1,n--;break;case 1:for(w=0,k=65536,g=1;g!=k;)y=f.val&f.position,f.position>>=1,f.position==0&&(f.position=t,f.val=r(f.index++)),w|=(y>0?1:0)*g,g<<=1;o[s++]=Vt(w),m=s-1,n--;break;case 2:return d.join("")}if(n==0&&(n=Math.pow(2,i),i++),o[m])c=o[m];else{if(m!==s)return null;c=p+p.charAt(0)}d.push(c),o[s++]=p+c.charAt(0),n--,p=c,n==0&&(n=Math.pow(2,i),i++)}}let Ro;Ro=xs;const pc={keepFocus:!0,noScroll:!0,replaceState:!0},mc={keepFocus:!0,noScroll:!0,replaceState:!1};function gr(e,t,r=(o,n)=>JSON.stringify(o)===JSON.stringify(n)){return typeof e=="object"&&typeof t=="object"&&r(e,t)}const pr={object:e=>({encode:t=>JSON.stringify(t),decode:t=>{if(t===null)return null;try{return JSON.parse(t)}catch{return null}},defaultValue:e}),array:e=>({encode:t=>JSON.stringify(t),decode:t=>{if(t===null)return null;try{return JSON.parse(t)}catch{return null}},defaultValue:e}),number:e=>({encode:t=>t.toString(),decode:t=>t?parseFloat(t):null,defaultValue:e}),boolean:e=>({encode:t=>t+"",decode:t=>t!==null&&t!=="false",defaultValue:e}),string:e=>({encode:t=>t??"",decode:t=>t,defaultValue:e}),lz:e=>({encode:t=>dc(JSON.stringify(t)),decode:t=>{if(!t)return null;try{return JSON.parse(fc(t)??"")}catch{return null}},defaultValue:e})},mr=new Set;let mn;const vn=new Map,vr={encode:e=>e.toString(),decode:e=>e?e.toString():null};function yr(e,{encode:t=vr.encode,decode:r=vr.decode,defaultValue:o}=vr,{debounceHistory:n=0,pushHistory:s=!0,sort:i=!0,showDefaults:c=!0,equalityFn:d}={}){const u=ut(null);let p=!0,w;function y(g,m){p=!1;const f=window.location.hash,$=j=>{if(g==null)j.delete(e);else{const T=t(g);T==null?j.delete(e):j.set(e,T)}};mr.add($),clearTimeout(mn);const E=new URLSearchParams(window.location.search);mn=setTimeout(async()=>{mr.forEach(j=>{j(E)}),clearTimeout(vn.get(e));{u.set(g);async function j(){i&&E.sort(),await ws(`?${E}${f}`,s?mc:pc),u.set(null)}m||n===0?j():vn.set(e,setTimeout(j,n))}mr.clear()})}const{subscribe:k}=Ct([Ro,u],([g,m],f)=>{var j,T,P;if(m!=null)return gr(w,m,d)?void 0:(w=structuredClone(m),f(m));const $=(P=(T=(j=g==null?void 0:g.url)==null?void 0:j.searchParams)==null?void 0:T.get)==null?void 0:P.call(T,e);if($==null&&o!=null)return c&&y(o,p),gr(w,o,d)?void 0:(w=structuredClone(o),f(o));const E=r($);if(!gr(w,E,d))return w=structuredClone(E),f(E)});return{set(g){y(g)},subscribe:k,update:g=>{const m=g(w);y(m)}}}var vc="Expected a function",yn=NaN,yc="[object Symbol]",bc=/^\s+|\s+$/g,_c=/^[-+]0x[0-9a-f]+$/i,wc=/^0b[01]+$/i,xc=/^0o[0-7]+$/i,Sc=parseInt,kc=typeof Ut=="object"&&Ut&&Ut.Object===Object&&Ut,$c=typeof self=="object"&&self&&self.Object===Object&&self,jc=kc||$c||Function("return this")(),Oc=Object.prototype,Pc=Oc.toString,Ac=Math.max,zc=Math.min,br=function(){return jc.Date.now()};function Ec(e,t,r){var o,n,s,i,c,d,u=0,p=!1,w=!1,y=!0;if(typeof e!="function")throw new TypeError(vc);t=bn(t)||0,Ar(r)&&(p=!!r.leading,w="maxWait"in r,s=w?Ac(bn(r.maxWait)||0,t):s,y="trailing"in r?!!r.trailing:y);function k(x){var _=o,N=n;return o=n=void 0,u=x,i=e.apply(N,_),i}function g(x){return u=x,c=setTimeout($,t),p?k(x):i}function m(x){var _=x-d,N=x-u,M=t-_;return w?zc(M,s-N):M}function f(x){var _=x-d,N=x-u;return d===void 0||_>=t||_<0||w&&N>=s}function $(){var x=br();if(f(x))return E(x);c=setTimeout($,m(x))}function E(x){return c=void 0,y&&o?k(x):(o=n=void 0,i)}function j(){c!==void 0&&clearTimeout(c),u=0,o=d=n=c=void 0}function T(){return c===void 0?i:E(br())}function P(){var x=br(),_=f(x);if(o=arguments,n=this,d=x,_){if(c===void 0)return g(d);if(w)return c=setTimeout($,t),k(d)}return c===void 0&&(c=setTimeout($,t)),i}return P.cancel=j,P.flush=T,P}function Ar(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Cc(e){return!!e&&typeof e=="object"}function Tc(e){return typeof e=="symbol"||Cc(e)&&Pc.call(e)==yc}function bn(e){if(typeof e=="number")return e;if(Tc(e))return yn;if(Ar(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ar(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(bc,"");var r=wc.test(e);return r||xc.test(e)?Sc(e.slice(2),r?2:8):_c.test(e)?yn:+e}var Nc=Ec;const Rc=bs(Nc);var Mc=V('<label class="svelte-1hy35c0"><input type="radio" name="sort-aggregations"> </label>'),Ic=V('<span class="slider-track"><!></span> <!>',1),Lc=V('<section class="filter-group svelte-1hy35c0"><h3 class="svelte-1hy35c0">Date</h3> <div class="slider"><!></div> <div class="date-inputs svelte-1hy35c0"><label>Not before <input type="number"></label> <span>–</span> <label><input type="number"> Not after</label></div></section>'),Fc=V('<input type="text" placeholder="Filter options..." class="filter-input svelte-1hy35c0">'),Wc=V('<li><label><input type="checkbox"> </label></li>'),Bc=V('<section class="filter-group svelte-1hy35c0"><h3 class="svelte-1hy35c0"> </h3> <!> <ul class="svelte-1hy35c0"></ul></section>'),Uc=V('<aside class="filters svelte-1hy35c0" tabindex="-1"><!> <section class="svelte-1hy35c0"><h2 class="svelte-1hy35c0">Filters</h2> <section class="filters-options svelte-1hy35c0"><h3 class="svelte-1hy35c0">Options</h3> <form><fieldset class="svelte-1hy35c0"><legend>Sort filters by</legend> <!></fieldset></form></section> <section class="filters-groups svelte-1hy35c0"><!> <!></section></section></aside>');function Dc(e,t){Se(t,!0);const r=[],o=[];let n=ee(t,"show",7,!1),s=ee(t,"aggregations",19,()=>({})),i=ee(t,"sortAggregationsBy",15,"key"),c=ee(t,"selectedDateRange",31,()=>de([-700,1830])),d=ee(t,"selectedFilters",31,()=>de({}));const u=[{label:"Value",value:"key"},{label:"Count",value:"count"}];let p=Le(de(c()));const w=Rc(P=>{c(P)},300);Or(()=>{w([...h(p)])});let y=de({}),k=Le(null);function g(P){var x;Z(k,de(document.activeElement)),(x=P.currentTarget)==null||x.focus()}function m(){n(!1)}function f(){h(k)&&h(k).focus()}function $(P,x){var N;const _=((N=y[x])==null?void 0:N.toLowerCase())||"";return _?P.filter(M=>M.key.toLowerCase().includes(_)):P}function E(P){if(P.indexOf(":::")==-1)return P;const x=P.split(":::"),_=x.length;return i()==="count"?x.pop()||"":`${"+".repeat(_-1)} ${x.pop()}`}var j=ne(),T=G(j);se(T,n,P=>{var x=Uc(),_=R(x);$e(_,()=>Ye,(v,a)=>{a(v,{class:"close-button",onclick:m,"aria-label":"Close filters",children:(l,b)=>{Ee();var S=Re("×");z(l,S)},$$slots:{default:!0}})});var N=W(_,2),M=W(R(N),2),L=W(R(M),2),B=R(L),F=W(R(B),2);Be(F,17,()=>u,Ke,(v,a)=>{var l=Mc(),b=R(l);vt(b);var S,O=W(b);C(l),X(()=>{S!==(S=h(a).value)&&(b.value=(b.__value=h(a).value)==null?"":h(a).value),te(O,` ${h(a).label??""}`)}),nn(r,[],b,()=>(h(a).value,i()),i),z(v,l)}),C(B),C(L),C(M);var U=W(M,2),H=R(U);se(H,()=>{var v;return(v=s())==null?void 0:v.notBefore},v=>{var a=Lc(),l=W(R(a),2),b=R(l);$e(b,()=>Js,(D,ie)=>{ie(D,{class:"slider-root",min:-700,max:1830,step:1,get value(){return h(p)},set value(ue){Z(p,de(ue))},children:is,$$slots:{default:(ue,ce)=>{const pe=ge(()=>ce.thumbs);var be=Ic(),me=G(be),Pe=R(me);$e(Pe,()=>Ks,(I,K)=>{K(I,{class:"slider-range"})}),C(me);var Te=W(me,2);Be(Te,17,()=>h(pe),Ke,(I,K,ye)=>{var Ie=ne(),_e=G(Ie);$e(_e,()=>Zs,(pt,rr)=>{rr(pt,{get thumb(){return h(K)},class:"slider-thumb","aria-label":`${ye===0?"Not before":"Not after"}`})}),z(I,Ie)}),z(ue,be)}}})}),C(l);var S=W(l,2),O=R(S),A=W(R(O));vt(A),Ue(A,"min",-700),Ue(A,"max",1811),C(O);var q=W(O,4),re=R(q);vt(re),Ue(re,"min",-675),Ue(re,"max",1830),Ee(),C(q),C(S),C(a),Zt(A,()=>h(p)[0],D=>h(p)[0]=D),Zt(re,()=>h(p)[1],D=>h(p)[1]=D),z(v,a)});var Q=W(H,2);Be(Q,17,()=>Object.keys(d()),Ke,(v,a,l)=>{var b=ne(),S=G(b);se(S,()=>h(a)in s()&&s()[h(a)].title,O=>{var A=Bc(),q=R(A),re=R(q);C(q);var D=W(q,2);se(D,()=>s()[h(a)].buckets.length>20,ue=>{var ce=Fc();vt(ce),Zt(ce,()=>y[h(a)],pe=>y[h(a)]=pe),z(ue,ce)});var ie=W(D,2);Be(ie,21,()=>$(s()[h(a)].buckets,h(a)),Ke,(ue,ce)=>{var pe=Wc(),be=R(pe),me=R(be);vt(me);var Pe,Te=W(me);X(()=>te(Te,` ${E(h(ce).key)??""} (${h(ce).doc_count??""})`)),C(be),C(pe),X(()=>{Pe!==(Pe=h(ce).key)&&(me.value=(me.__value=h(ce).key)==null?"":h(ce).key)}),nn(o,[l],me,()=>(h(ce).key,d()[h(a)]),I=>d(d()[h(a)]=I,!0)),z(ue,pe)}),C(ie),C(A),X(()=>te(re,`${s()[h(a)].title??""} (${s()[h(a)].buckets.length??""})`)),z(O,A)}),z(v,b)}),C(U),C(N),C(x),Fe("introend",x,g),Fe("outroend",x,f),jt(3,x,()=>ds,()=>({axis:"x"})),z(P,x)}),z(e,j),ke()}var qc=V(", matching <em> </em>",1),Vc=V('<span class="svelte-eb26nt"> <em> </em></span>'),Hc=V(', filtered by <span class="selected-filters svelte-eb26nt"></span>',1),Jc=V('<h2 class="svelte-eb26nt"><em> </em> Inscriptions between <em> </em> – <em> </em> across <em> </em> locations<!><!></h2>');function Gc(e,t){Se(t,!0);let r=ge(()=>Object.values(t.filters).some(g=>g.length>0));var o=Jc(),n=R(o),s=R(n,!0);X(()=>te(s,t.total.toLocaleString())),C(n);var i=W(n,2),c=R(i,!0);X(()=>te(c,t.dateRange[0]>0?`AD ${t.dateRange[0]}`:`${Math.abs(t.dateRange[0])} BC`)),C(i);var d=W(i,2),u=R(d,!0);X(()=>te(u,t.dateRange[1]>0?`AD ${t.dateRange[1]}`:`${Math.abs(t.dateRange[1])} BC`)),C(d);var p=W(d,2),w=R(p,!0);X(()=>te(w,t.numberOfLocations.toLocaleString())),C(p);var y=W(p,2);se(y,()=>t.query,g=>{var m=qc(),f=W(G(m)),$=R(f,!0);X(()=>te($,t.query.split(" ").join(", "))),C(f),z(g,m)});var k=W(y);se(k,()=>h(r),g=>{var m=Hc(),f=W(G(m));Be(f,21,()=>Object.entries(t.filters).filter(([$,E])=>E.length>0),Ke,($,E)=>{let j=()=>h(E)[0],T=()=>h(E)[1];var P=Vc(),x=R(P),_=W(x),N=R(_,!0);X(()=>te(N,T().join(", ").replaceAll("_"," ").replaceAll(":::"," "))),C(_),C(P),X(()=>te(x,`${j()??""}: `)),z($,P)}),C(f),z(g,m)}),C(o),z(e,o),ke()}var Mo=typeof global=="object"&&global&&global.Object===Object&&global,Kc=typeof self=="object"&&self&&self.Object===Object&&self,De=Mo||Kc||Function("return this")(),Me=De.Symbol,Io=Object.prototype,Xc=Io.hasOwnProperty,Zc=Io.toString,kt=Me?Me.toStringTag:void 0,Yc=Object.prototype.toString,Qc="[object Null]",el="[object Undefined]",_n=Me?Me.toStringTag:void 0;function xt(e){return e==null?e===void 0?el:Qc:_n&&_n in Object(e)?function(t){var r=Xc.call(t,kt),o=t[kt];try{t[kt]=void 0;var n=!0}catch{}var s=Zc.call(t);return n&&(r?t[kt]=o:delete t[kt]),s}(e):function(t){return Yc.call(t)}(e)}function dt(e){return e!=null&&typeof e=="object"}var tl="[object Symbol]";function Nt(e){return typeof e=="symbol"||dt(e)&&xt(e)==tl}function At(e,t){for(var r=-1,o=e==null?0:e.length,n=Array(o);++r<o;)n[r]=t(e[r],r,e);return n}var We=Array.isArray,rl=1/0,wn=Me?Me.prototype:void 0,xn=wn?wn.toString:void 0;function Lo(e){if(typeof e=="string")return e;if(We(e))return At(e,Lo)+"";if(Nt(e))return xn?xn.call(e):"";var t=e+"";return t=="0"&&1/e==-rl?"-0":t}function er(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function tr(e){return e}var nl="[object AsyncFunction]",ol="[object Function]",sl="[object GeneratorFunction]",il="[object Proxy]";function Fo(e){if(!er(e))return!1;var t=xt(e);return t==ol||t==sl||t==nl||t==il}var Sn,_r=De["__core-js_shared__"],kn=(Sn=/[^.]+$/.exec(_r&&_r.keys&&_r.keys.IE_PROTO||""))?"Symbol(src)_1."+Sn:"",al=Function.prototype.toString;function ht(e){if(e!=null){try{return al.call(e)}catch{}try{return e+""}catch{}}return""}var cl=/^\[object .+?Constructor\]$/,ll=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function gt(e,t){var r=function(o,n){return o==null?void 0:o[n]}(e,t);return function(o){return!(!er(o)||(n=o,kn&&kn in n))&&(Fo(o)?ll:cl).test(ht(o));var n}(r)?r:void 0}var $n,wr,xr,zr=gt(De,"WeakMap"),ul=Date.now,dl=function(){try{var e=gt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),jn=dl,fl=jn?function(e,t){return jn(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:tr,hl=($n=fl,wr=0,xr=0,function(){var e=ul(),t=16-(e-xr);if(xr=e,t>0){if(++wr>=800)return arguments[0]}else wr=0;return $n.apply(void 0,arguments)});function gl(e){return e!=e}function pl(e,t){return!(e==null||!e.length)&&function(r,o,n){return o==o?function(s,i,c){for(var d=-1,u=s.length;++d<u;)if(s[d]===i)return d;return-1}(r,o):function(s,i,c,d){for(var u=s.length,p=-1;++p<u;)if(i(s[p],p,s))return p;return-1}(r,gl)}(e,t)>-1}var ml=9007199254740991,vl=/^(?:0|[1-9]\d*)$/;function Vr(e,t){var r=typeof e;return!!(t=t??ml)&&(r=="number"||r!="symbol"&&vl.test(e))&&e>-1&&e%1==0&&e<t}function Hr(e,t){return e===t||e!=e&&t!=t}var On=Math.max;function Wo(e,t){return hl(function(r,o,n){return o=On(o===void 0?r.length-1:o,0),function(){for(var s=arguments,i=-1,c=On(s.length-o,0),d=Array(c);++i<c;)d[i]=s[o+i];i=-1;for(var u=Array(o+1);++i<o;)u[i]=s[i];return u[o]=n(d),function(p,w,y){switch(y.length){case 0:return p.call(w);case 1:return p.call(w,y[0]);case 2:return p.call(w,y[0],y[1]);case 3:return p.call(w,y[0],y[1],y[2])}return p.apply(w,y)}(r,this,u)}}(e,t,tr),e+"")}var yl=9007199254740991;function Jr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=yl}function Mt(e){return e!=null&&Jr(e.length)&&!Fo(e)}function Pn(e,t,r){if(!er(r))return!1;var o=typeof t;return!!(o=="number"?Mt(r)&&Vr(t,r.length):o=="string"&&t in r)&&Hr(r[t],e)}var bl=Object.prototype;function _l(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||bl)}function An(e){return dt(e)&&xt(e)=="[object Arguments]"}var Bo=Object.prototype,wl=Bo.hasOwnProperty,xl=Bo.propertyIsEnumerable,Gr=An(function(){return arguments}())?An:function(e){return dt(e)&&wl.call(e,"callee")&&!xl.call(e,"callee")},Uo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,zn=Uo&&typeof module=="object"&&module&&!module.nodeType&&module,En=zn&&zn.exports===Uo?De.Buffer:void 0,Er=(En?En.isBuffer:void 0)||function(){return!1},le={};function Do(e){return function(t){return e(t)}}le["[object Float32Array]"]=le["[object Float64Array]"]=le["[object Int8Array]"]=le["[object Int16Array]"]=le["[object Int32Array]"]=le["[object Uint8Array]"]=le["[object Uint8ClampedArray]"]=le["[object Uint16Array]"]=le["[object Uint32Array]"]=!0,le["[object Arguments]"]=le["[object Array]"]=le["[object ArrayBuffer]"]=le["[object Boolean]"]=le["[object DataView]"]=le["[object Date]"]=le["[object Error]"]=le["[object Function]"]=le["[object Map]"]=le["[object Number]"]=le["[object Object]"]=le["[object RegExp]"]=le["[object Set]"]=le["[object String]"]=le["[object WeakMap]"]=!1;var qo=typeof exports=="object"&&exports&&!exports.nodeType&&exports,zt=qo&&typeof module=="object"&&module&&!module.nodeType&&module,Sr=zt&&zt.exports===qo&&Mo.process,_t=function(){try{return zt&&zt.require&&zt.require("util").types||Sr&&Sr.binding&&Sr.binding("util")}catch{}}(),Cn=_t&&_t.isTypedArray,Vo=Cn?Do(Cn):function(e){return dt(e)&&Jr(e.length)&&!!le[xt(e)]},Sl=Object.prototype.hasOwnProperty;function kl(e,t){var r=We(e),o=!r&&Gr(e),n=!r&&!o&&Er(e),s=!r&&!o&&!n&&Vo(e),i=r||o||n||s,c=i?function(p,w){for(var y=-1,k=Array(p);++y<p;)k[y]=w(y);return k}(e.length,String):[],d=c.length;for(var u in e)!Sl.call(e,u)||i&&(u=="length"||n&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Vr(u,d))||c.push(u);return c}function $l(e,t){return function(r){return e(t(r))}}var jl=$l(Object.keys,Object),Ol=Object.prototype.hasOwnProperty;function Kr(e){return Mt(e)?kl(e):function(t){if(!_l(t))return jl(t);var r=[];for(var o in Object(t))Ol.call(t,o)&&o!="constructor"&&r.push(o);return r}(e)}var Pl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Al=/^\w*$/;function Cr(e,t){if(We(e))return!1;var r=typeof e;return!(r!="number"&&r!="symbol"&&r!="boolean"&&e!=null&&!Nt(e))||Al.test(e)||!Pl.test(e)||t!=null&&e in Object(t)}var $t=gt(Object,"create"),zl=Object.prototype.hasOwnProperty,El=Object.prototype.hasOwnProperty;function ct(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}function Jt(e,t){for(var r=e.length;r--;)if(Hr(e[r][0],t))return r;return-1}ct.prototype.clear=function(){this.__data__=$t?$t(null):{},this.size=0},ct.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ct.prototype.get=function(e){var t=this.__data__;if($t){var r=t[e];return r==="__lodash_hash_undefined__"?void 0:r}return zl.call(t,e)?t[e]:void 0},ct.prototype.has=function(e){var t=this.__data__;return $t?t[e]!==void 0:El.call(t,e)},ct.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=$t&&t===void 0?"__lodash_hash_undefined__":t,this};var Cl=Array.prototype.splice;function Je(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}Je.prototype.clear=function(){this.__data__=[],this.size=0},Je.prototype.delete=function(e){var t=this.__data__,r=Jt(t,e);return!(r<0||(r==t.length-1?t.pop():Cl.call(t,r,1),--this.size,0))},Je.prototype.get=function(e){var t=this.__data__,r=Jt(t,e);return r<0?void 0:t[r][1]},Je.prototype.has=function(e){return Jt(this.__data__,e)>-1},Je.prototype.set=function(e,t){var r=this.__data__,o=Jt(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this};var Rt=gt(De,"Map");function Gt(e,t){var r,o,n=e.__data__;return((o=typeof(r=t))=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null)?n[typeof t=="string"?"string":"hash"]:n.map}function He(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}function Xr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var r=function(){var o=arguments,n=t?t.apply(this,o):o[0],s=r.cache;if(s.has(n))return s.get(n);var i=e.apply(this,o);return r.cache=s.set(n,i)||s,i};return r.cache=new(Xr.Cache||He),r}He.prototype.clear=function(){this.size=0,this.__data__={hash:new ct,map:new(Rt||Je),string:new ct}},He.prototype.delete=function(e){var t=Gt(this,e).delete(e);return this.size-=t?1:0,t},He.prototype.get=function(e){return Gt(this,e).get(e)},He.prototype.has=function(e){return Gt(this,e).has(e)},He.prototype.set=function(e,t){var r=Gt(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this},Xr.Cache=He;var kr,$r,Tl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nl=/\\(\\)?/g,Rl=(kr=Xr(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Tl,function(r,o,n,s){t.push(n?s.replace(Nl,"$1"):o||r)}),t},function(e){return $r.size===500&&$r.clear(),e}),$r=kr.cache,kr);function Ho(e,t){return We(e)?e:Cr(e,t)?[e]:Rl(function(r){return r==null?"":Lo(r)}(e))}var Ml=1/0;function Yt(e){if(typeof e=="string"||Nt(e))return e;var t=e+"";return t=="0"&&1/e==-Ml?"-0":t}function Tr(e,t){for(var r=0,o=(t=Ho(t,e)).length;e!=null&&r<o;)e=e[Yt(t[r++])];return r&&r==o?e:void 0}function Jo(e,t){for(var r=-1,o=t.length,n=e.length;++r<o;)e[n+r]=t[r];return e}var Tn=Me?Me.isConcatSpreadable:void 0;function Il(e){return We(e)||Gr(e)||!!(Tn&&e&&e[Tn])}function Ll(e,t,r,o,n){var s=-1,i=e.length;for(r||(r=Il),n||(n=[]);++s<i;){var c=e[s];r(c)?Jo(n,c):n[n.length]=c}return n}function Ge(e){var t=this.__data__=new Je(e);this.size=t.size}Ge.prototype.clear=function(){this.__data__=new Je,this.size=0},Ge.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Ge.prototype.get=function(e){return this.__data__.get(e)},Ge.prototype.has=function(e){return this.__data__.has(e)},Ge.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Je){var o=r.__data__;if(!Rt||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new He(o)}return r.set(e,t),this.size=r.size,this};var Go=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Nn=Go&&typeof module=="object"&&module&&!module.nodeType&&module,Rn=Nn&&Nn.exports===Go?De.Buffer:void 0;Rn&&Rn.allocUnsafe;function Fl(){return[]}var Wl=Object.prototype.propertyIsEnumerable,Mn=Object.getOwnPropertySymbols,Bl=Mn?function(e){return e==null?[]:(e=Object(e),function(t,r){for(var o=-1,n=t==null?0:t.length,s=0,i=[];++o<n;){var c=t[o];Wl.call(e,c)&&(i[s++]=c)}return i}(Mn(e)))}:Fl,Ul=Bl;function Dl(e,t,r){var o=t(e);return We(e)?o:Jo(o,r(e))}function In(e){return Dl(e,Kr,Ul)}var Nr=gt(De,"DataView"),Rr=gt(De,"Promise"),Mr=gt(De,"Set"),Ln="[object Map]",Fn="[object Promise]",Wn="[object Set]",Bn="[object WeakMap]",Un="[object DataView]",ql=ht(Nr),Vl=ht(Rt),Hl=ht(Rr),Jl=ht(Mr),Gl=ht(zr),at=xt;(Nr&&at(new Nr(new ArrayBuffer(1)))!=Un||Rt&&at(new Rt)!=Ln||Rr&&at(Rr.resolve())!=Fn||Mr&&at(new Mr)!=Wn||zr&&at(new zr)!=Bn)&&(at=function(e){var t=xt(e),r=t=="[object Object]"?e.constructor:void 0,o=r?ht(r):"";if(o)switch(o){case ql:return Un;case Vl:return Ln;case Hl:return Fn;case Jl:return Wn;case Gl:return Bn}return t});var Dn=at,qn=De.Uint8Array,Vn=Me?Me.prototype:void 0;Vn&&Vn.valueOf;_t&&_t.isMap;_t&&_t.isSet;function Et(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new He;++t<r;)this.add(e[t])}function Kl(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}function Ir(e,t){return e.has(t)}Et.prototype.add=Et.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Et.prototype.has=function(e){return this.__data__.has(e)};var Xl=1,Zl=2;function Hn(e,t,r,o,n,s){var i=r&Xl,c=e.length,d=t.length;if(c!=d&&!(i&&d>c))return!1;var u=s.get(e),p=s.get(t);if(u&&p)return u==t&&p==e;var w=-1,y=!0,k=r&Zl?new Et:void 0;for(s.set(e,t),s.set(t,e);++w<c;){var g=e[w],m=t[w];if(o)var f=i?o(m,g,w,t,e,s):o(g,m,w,e,t,s);if(f!==void 0){if(f)continue;y=!1;break}if(k){if(!Kl(t,function($,E){if(!Ir(k,E)&&(g===$||n(g,$,r,o,s)))return k.push(E)})){y=!1;break}}else if(g!==m&&!n(g,m,r,o,s)){y=!1;break}}return s.delete(e),s.delete(t),y}function Yl(e){var t=-1,r=Array(e.size);return e.forEach(function(o,n){r[++t]=[n,o]}),r}function Ql(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}var eu=1,tu=2,ru="[object Boolean]",nu="[object Date]",ou="[object Error]",su="[object Map]",iu="[object Number]",au="[object RegExp]",cu="[object Set]",lu="[object String]",uu="[object Symbol]",du="[object ArrayBuffer]",fu="[object DataView]",Jn=Me?Me.prototype:void 0,jr=Jn?Jn.valueOf:void 0,hu=1,gu=Object.prototype.hasOwnProperty,pu=1,Gn="[object Arguments]",Kn="[object Array]",Kt="[object Object]",Xn=Object.prototype.hasOwnProperty;function Lr(e,t,r,o,n){return e===t||(e==null||t==null||!dt(e)&&!dt(t)?e!=e&&t!=t:function(s,i,c,d,u,p){var w=We(s),y=We(i),k=w?Kn:Dn(s),g=y?Kn:Dn(i),m=(k=k==Gn?Kt:k)==Kt,f=(g=g==Gn?Kt:g)==Kt,$=k==g;if($&&Er(s)){if(!Er(i))return!1;w=!0,m=!1}if($&&!m)return p||(p=new Ge),w||Vo(s)?Hn(s,i,c,d,u,p):function(x,_,N,M,L,B,F){switch(N){case fu:if(x.byteLength!=_.byteLength||x.byteOffset!=_.byteOffset)return!1;x=x.buffer,_=_.buffer;case du:return!(x.byteLength!=_.byteLength||!B(new qn(x),new qn(_)));case ru:case nu:case iu:return Hr(+x,+_);case ou:return x.name==_.name&&x.message==_.message;case au:case lu:return x==_+"";case su:var U=Yl;case cu:if(U||(U=Ql),x.size!=_.size&&!(M&eu))return!1;var H=F.get(x);if(H)return H==_;M|=tu,F.set(x,_);var Q=Hn(U(x),U(_),M,L,B,F);return F.delete(x),Q;case uu:if(jr)return jr.call(x)==jr.call(_)}return!1}(s,i,k,c,d,u,p);if(!(c&pu)){var E=m&&Xn.call(s,"__wrapped__"),j=f&&Xn.call(i,"__wrapped__");if(E||j){var T=E?s.value():s,P=j?i.value():i;return p||(p=new Ge),u(T,P,c,d,p)}}return!!$&&(p||(p=new Ge),function(x,_,N,M,L,B){var F=N&hu,U=In(x),H=U.length;if(H!=In(_).length&&!F)return!1;for(var Q=H;Q--;){var v=U[Q];if(!(F?v in _:gu.call(_,v)))return!1}var a=B.get(x),l=B.get(_);if(a&&l)return a==_&&l==x;var b=!0;B.set(x,_),B.set(_,x);for(var S=F;++Q<H;){var O=x[v=U[Q]],A=_[v];if(M)var q=F?M(A,O,v,_,x,B):M(O,A,v,x,_,B);if(!(q===void 0?O===A||L(O,A,N,M,B):q)){b=!1;break}S||(S=v=="constructor")}if(b&&!S){var re=x.constructor,D=_.constructor;re==D||!("constructor"in x)||!("constructor"in _)||typeof re=="function"&&re instanceof re&&typeof D=="function"&&D instanceof D||(b=!1)}return B.delete(x),B.delete(_),b}(s,i,c,d,u,p))}(e,t,r,o,Lr,n))}var mu=1,vu=2;function Zn(e){return e==e&&!er(e)}function Yn(e,t){return function(r){return r!=null&&r[e]===t&&(t!==void 0||e in Object(r))}}function yu(e,t){return e!=null&&t in Object(e)}var bu=1,_u=2;function wu(e){return typeof e=="function"?e:e==null?tr:typeof e=="object"?We(e)?function(s,i){return Cr(s)&&Zn(i)?Yn(Yt(s),i):function(c){var d=function(u,p,w){var y=u==null?void 0:Tr(u,p);return y===void 0?void 0:y}(c,s);return d===void 0&&d===i?function(u,p){return u!=null&&function(w,y,k){for(var g=-1,m=(y=Ho(y,w)).length,f=!1;++g<m;){var $=Yt(y[g]);if(!(f=w!=null&&k(w,$)))break;w=w[$]}return f||++g!=m?f:!!(m=w==null?0:w.length)&&Jr(m)&&Vr($,m)&&(We(w)||Gr(w))}(u,p,yu)}(c,s):Lr(i,d,bu|_u)}}(e[0],e[1]):(n=function(s){for(var i=Kr(s),c=i.length;c--;){var d=i[c],u=s[d];i[c]=[d,u,Zn(u)]}return i}(o=e),n.length==1&&n[0][2]?Yn(n[0][0],n[0][1]):function(s){return s===o||function(i,c,d,u){var p=d.length,w=p;if(i==null)return!w;for(i=Object(i);p--;){var y=d[p];if(y[2]?y[1]!==i[y[0]]:!(y[0]in i))return!1}for(;++p<w;){var k=(y=d[p])[0],g=i[k],m=y[1];if(y[2]){if(g===void 0&&!(k in i))return!1}else{var f=new Ge;if(!Lr(m,g,mu|vu,void 0,f))return!1}}return!0}(s,0,n)}):Cr(t=e)?(r=Yt(t),function(s){return s==null?void 0:s[r]}):function(s){return function(i){return Tr(i,s)}}(t);var t,r,o,n}var xu=function(e,t,r){for(var o=-1,n=Object(e),s=r(e),i=s.length;i--;){var c=s[++o];if(t(n[c],c,n)===!1)break}return e};function Su(e,t){return e&&xu(e,t,Kr)}var Qn,ku=(Qn=Su,function(e,t){if(e==null)return e;if(!Mt(e))return Qn(e,t);for(var r=e.length,o=-1,n=Object(e);++o<r&&t(n[o],o,n)!==!1;);return e});function $u(e,t){var r=-1,o=Mt(e)?Array(e.length):[];return ku(e,function(n,s,i){o[++r]=t(n,s,i)}),o}var ju=Math.min;function Ou(e){return function(t){return dt(t)&&Mt(t)}(e)?e:[]}Wo(function(e){var t=At(e,Ou);return t.length&&t[0]===e[0]?function(r,o,n){for(var s=pl,i=r[0].length,c=r.length,d=c,u=Array(c),p=1/0,w=[];d--;){var y=r[d];p=ju(y.length,p),u[d]=i>=120&&y.length>=120?new Et(d&&y):void 0}y=r[0];var k=-1,g=u[0];e:for(;++k<i&&w.length<p;){var m=y[k],f=m;if(m=m!==0?m:0,!(g?Ir(g,f):s(w,f,n))){for(d=c;--d;){var $=u[d];if(!($?Ir($,f):s(r[d],f,n)))continue e}g&&g.push(f),w.push(m)}}return w}(t):[]});function Pu(e,t){if(e!==t){var r=e!==void 0,o=e===null,n=e==e,s=Nt(e),i=t!==void 0,c=t===null,d=t==t,u=Nt(t);if(!c&&!u&&!s&&e>t||s&&i&&d&&!c&&!u||o&&i&&d||!r&&d||!n)return 1;if(!o&&!s&&!u&&e<t||u&&r&&n&&!o&&!s||c&&r&&n||!i&&n||!d)return-1}return 0}function Au(e,t,r){t=t.length?At(t,function(n){return We(n)?function(s){return Tr(s,n.length===1?n[0]:n)}:n}):[tr];var o=-1;return t=At(t,Do(wu)),function(n,s){var i=n.length;for(n.sort(function(c,d){return function(u,p,w){for(var y=-1,k=u.criteria,g=p.criteria,m=k.length,f=w.length;++y<m;){var $=Pu(k[y],g[y]);if($)return y>=f?$:$*(w[y]=="desc"?-1:1)}return u.index-p.index}(c,d,r)});i--;)n[i]=n[i].value;return n}($u(e,function(n,s,i){return{criteria:At(t,function(c){return c(n)}),index:++o,value:n}}))}Wo(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Pn(e,t[0],t[1])?t=[]:r>2&&Pn(t[0],t[1],t[2])&&(t=[t[0]]),Au(e,Ll(t),[])});function Y(e){if(this.words=[],e)if(Symbol&&Symbol.iterator&&e[Symbol.iterator]!==void 0){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.add(r.value),r=t.next()}else for(let t=0;t<e.length;t++)this.add(e[t])}Y.fromWords=function(e){const t=Object.create(Y.prototype);return t.words=e,t},Y.prototype.add=function(e){this.resize(e),this.words[e>>>5]|=1<<e},Y.prototype.flip=function(e){this.resize(e),this.words[e>>>5]^=1<<e},Y.prototype.clear=function(){this.words.length=0},Y.prototype.remove=function(e){this.resize(e),this.words[e>>>5]&=~(1<<e)},Y.prototype.isEmpty=function(e){const t=this.words.length;for(let r=0;r<t;r++)if(this.words[r]!==0)return!1;return!0},Y.prototype.has=function(e){return(this.words[e>>>5]&1<<e)!=0},Y.prototype.checkedAdd=function(e){this.resize(e);const t=this.words[e>>>5],r=t|1<<e;return this.words[e>>>5]=r,(r^t)>>>e},Y.prototype.trim=function(e){let t=this.words.length;for(;t>0&&this.words[t-1]===0;)t--;this.words.length=t},Y.prototype.resize=function(e){const t=e+32>>>5;for(let r=this.words.length;r<t;r++)this.words[r]=0},Y.prototype.hammingWeight=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},Y.prototype.hammingWeight4=function(e,t,r,o){return 16843009*((e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)+(t=(t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)+(r=(r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)+(o=(o=(858993459&(o-=o>>>1&1431655765))+(o>>>2&858993459))+(o>>>4)&252645135))>>>24},Y.prototype.size=function(){let e=0;const t=this.words.length,r=this.words;for(let o=0;o<t;o++)e+=this.hammingWeight(r[o]);return e},Y.prototype.array=function(){const e=new Array(this.size());let t=0;const r=this.words.length;for(let o=0;o<r;++o){let n=this.words[o];for(;n!=0;){const s=n&-n;e[t++]=(o<<5)+this.hammingWeight(s-1|0),n^=s}}return e},Y.prototype.forEach=function(e){const t=this.words.length;for(let r=0;r<t;++r){let o=this.words[r];for(;o!=0;){const n=o&-o;e((r<<5)+this.hammingWeight(n-1|0)),o^=n}}},Y.prototype[Symbol.iterator]=function(){const e=this.words.length;let t=0,r=this.words[t],o=this.hammingWeight,n=this.words;return{[Symbol.iterator](){return this},next(){for(;t<e;){if(r!==0){const s=r&-r,i=(t<<5)+o(s-1|0);return r^=s,{done:!1,value:i}}t++,t<e&&(r=n[t])}return{done:!0,value:void 0}}}},Y.prototype.clone=function(){const e=Object.create(Y.prototype);return e.words=this.words.slice(),e},Y.prototype.intersects=function(e){const t=Math.min(this.words.length,e.words.length);for(let r=0;r<t;++r)if(this.words[r]&e.words[r])return!0;return!1},Y.prototype.intersection=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)this.words[r]&=e.words[r],this.words[r+1]&=e.words[r+1],this.words[r+2]&=e.words[r+2],this.words[r+3]&=e.words[r+3],this.words[r+4]&=e.words[r+4],this.words[r+5]&=e.words[r+5],this.words[r+6]&=e.words[r+6],this.words[r+7]&=e.words[r+7];for(;r<t;++r)this.words[r]&=e.words[r];const o=this.words.length;for(r=t;r<o;++r)this.words[r]=0;return this},Y.prototype.intersection_size=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(let o=0;o<t;++o)r+=this.hammingWeight(this.words[o]&e.words[o]);return r},Y.prototype.new_intersection=function(e){const t=Object.create(Y.prototype),r=Math.min(this.words.length,e.words.length);t.words=new Array(r);let o=0;for(;o+7<r;o+=8)t.words[o]=this.words[o]&e.words[o],t.words[o+1]=this.words[o+1]&e.words[o+1],t.words[o+2]=this.words[o+2]&e.words[o+2],t.words[o+3]=this.words[o+3]&e.words[o+3],t.words[o+4]=this.words[o+4]&e.words[o+4],t.words[o+5]=this.words[o+5]&e.words[o+5],t.words[o+6]=this.words[o+6]&e.words[o+6],t.words[o+7]=this.words[o+7]&e.words[o+7];for(;o<r;++o)t.words[o]=this.words[o]&e.words[o];return t},Y.prototype.equals=function(e){const t=Math.min(this.words.length,e.words.length);for(let r=0;r<t;++r)if(this.words[r]!=e.words[r])return!1;if(this.words.length<e.words.length){const r=e.words.length;for(let o=this.words.length;o<r;++o)if(e.words[o]!=0)return!1}else if(e.words.length<this.words.length){const r=this.words.length;for(let o=e.words.length;o<r;++o)if(this.words[o]!=0)return!1}return!0},Y.prototype.difference=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)this.words[r]&=~e.words[r],this.words[r+1]&=~e.words[r+1],this.words[r+2]&=~e.words[r+2],this.words[r+3]&=~e.words[r+3],this.words[r+4]&=~e.words[r+4],this.words[r+5]&=~e.words[r+5],this.words[r+6]&=~e.words[r+6],this.words[r+7]&=~e.words[r+7];for(;r<t;++r)this.words[r]&=~e.words[r];return this},Y.prototype.new_difference=function(e){return this.clone().difference(e)},Y.prototype.difference2=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)e.words[r]=this.words[r]&~e.words[r],e.words[r+1]=this.words[r+1]&~e.words[r+1],e.words[r+2]=this.words[r+2]&~e.words[r+2],e.words[r+3]=this.words[r+3]&~e.words[r+3],e.words[r+4]=this.words[r+4]&~e.words[r+4],e.words[r+5]=this.words[r+5]&~e.words[r+5],e.words[r+6]=this.words[r+6]&~e.words[r+6],e.words[r+7]=this.words[r+7]&~e.words[r+7];for(;r<t;++r)e.words[r]=this.words[r]&~e.words[r];for(r=this.words.length-1;r>=t;--r)e.words[r]=this.words[r];return e.words.length=this.words.length,e},Y.prototype.difference_size=function(e){const t=Math.min(this.words.length,e.words.length);let r=0,o=0;for(;o<t;++o)r+=this.hammingWeight(this.words[o]&~e.words[o]);const n=this.words.length;for(;o<n;++o)r+=this.hammingWeight(this.words[o]);return r},Y.prototype.change=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)this.words[r]^=e.words[r],this.words[r+1]^=e.words[r+1],this.words[r+2]^=e.words[r+2],this.words[r+3]^=e.words[r+3],this.words[r+4]^=e.words[r+4],this.words[r+5]^=e.words[r+5],this.words[r+6]^=e.words[r+6],this.words[r+7]^=e.words[r+7];for(;r<t;++r)this.words[r]^=e.words[r];for(r=e.words.length-1;r>=t;--r)this.words[r]=e.words[r];return this},Y.prototype.new_change=function(e){const t=Object.create(Y.prototype),r=Math.max(this.words.length,e.words.length);t.words=new Array(r);const o=Math.min(this.words.length,e.words.length);let n=0;for(;n+7<o;n+=8)t.words[n]=this.words[n]^e.words[n],t.words[n+1]=this.words[n+1]^e.words[n+1],t.words[n+2]=this.words[n+2]^e.words[n+2],t.words[n+3]=this.words[n+3]^e.words[n+3],t.words[n+4]=this.words[n+4]^e.words[n+4],t.words[n+5]=this.words[n+5]^e.words[n+5],t.words[n+6]=this.words[n+6]^e.words[n+6],t.words[n+7]=this.words[n+7]^e.words[n+7];for(;n<o;++n)t.words[n]=this.words[n]^e.words[n];const s=this.words.length;for(n=o;n<s;++n)t.words[n]=this.words[n];const i=e.words.length;for(n=o;n<i;++n)t.words[n]=e.words[n];return t},Y.prototype.change_size=function(e){const t=Math.min(this.words.length,e.words.length);let r=0,o=0;for(;o<t;++o)r+=this.hammingWeight(this.words[o]^e.words[o]);const n=this.words.length>e.words.length?this:e,s=n.words.length;for(;o<s;++o)r+=this.hammingWeight(n.words[o]);return r},Y.prototype.toString=function(){return"{"+this.array().join(",")+"}"},Y.prototype.union=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(;r+7<t;r+=8)this.words[r]|=e.words[r],this.words[r+1]|=e.words[r+1],this.words[r+2]|=e.words[r+2],this.words[r+3]|=e.words[r+3],this.words[r+4]|=e.words[r+4],this.words[r+5]|=e.words[r+5],this.words[r+6]|=e.words[r+6],this.words[r+7]|=e.words[r+7];for(;r<t;++r)this.words[r]|=e.words[r];if(this.words.length<e.words.length){this.resize((e.words.length<<5)-1);const o=e.words.length;for(let n=t;n<o;++n)this.words[n]=e.words[n]}return this},Y.prototype.new_union=function(e){const t=Object.create(Y.prototype),r=Math.max(this.words.length,e.words.length);t.words=new Array(r);const o=Math.min(this.words.length,e.words.length);let n=0;for(;n+7<o;n+=8)t.words[n]=this.words[n]|e.words[n],t.words[n+1]=this.words[n+1]|e.words[n+1],t.words[n+2]=this.words[n+2]|e.words[n+2],t.words[n+3]=this.words[n+3]|e.words[n+3],t.words[n+4]=this.words[n+4]|e.words[n+4],t.words[n+5]=this.words[n+5]|e.words[n+5],t.words[n+6]=this.words[n+6]|e.words[n+6],t.words[n+7]=this.words[n+7]|e.words[n+7];for(;n<o;++n)t.words[n]=this.words[n]|e.words[n];const s=this.words.length;for(n=o;n<s;++n)t.words[n]=this.words[n];const i=e.words.length;for(n=o;n<i;++n)t.words[n]=e.words[n];return t},Y.prototype.union_size=function(e){const t=Math.min(this.words.length,e.words.length);let r=0;for(let o=0;o<t;++o)r+=this.hammingWeight(this.words[o]|e.words[o]);if(this.words.length<e.words.length){const o=e.words.length;for(let n=this.words.length;n<o;++n)r+=this.hammingWeight(0|e.words[n])}else{const o=this.words.length;for(let n=e.words.length;n<o;++n)r+=this.hammingWeight(0|this.words[n])}return r};(function(e){var t={exports:{}};return function(r,o){(function(){var n,s,i,c,d,u,p,w,y,k,g,m,f,$,E,j,T,P,x,_,N,M,L,B,F,U,H,Q,v=function(a){var l=new v.Index;return l.pipeline.add(v.trimmer,v.stopWordFilter,v.stemmer),a&&a.call(l,l),l};v.version="1.0.0",v.utils={},v.utils.warn=function(a){return function(l){a.console&&console.warn&&console.warn(l)}}(this),v.utils.asString=function(a){return a==null?"":a.toString()},v.EventEmitter=function(){this.events={}},v.EventEmitter.prototype.addListener=function(){var a=Array.prototype.slice.call(arguments),l=a.pop(),b=a;if(typeof l!="function")throw new TypeError("last argument must be a function");b.forEach(function(S){this.hasHandler(S)||(this.events[S]=[]),this.events[S].push(l)},this)},v.EventEmitter.prototype.removeListener=function(a,l){if(this.hasHandler(a)){var b=this.events[a].indexOf(l);this.events[a].splice(b,1),this.events[a].length||delete this.events[a]}},v.EventEmitter.prototype.emit=function(a){if(this.hasHandler(a)){var l=Array.prototype.slice.call(arguments,1);this.events[a].forEach(function(b){b.apply(void 0,l)})}},v.EventEmitter.prototype.hasHandler=function(a){return a in this.events},v.tokenizer=function(a){return arguments.length&&a!=null&&a!=null?Array.isArray(a)?a.map(function(l){return v.utils.asString(l).toLowerCase()}):a.toString().trim().toLowerCase().split(v.tokenizer.separator):[]},v.tokenizer.separator=/[\s\-]+/,v.tokenizer.load=function(a){var l=this.registeredFunctions[a];if(!l)throw new Error("Cannot load un-registered function: "+a);return l},v.tokenizer.label="default",v.tokenizer.registeredFunctions={default:v.tokenizer},v.tokenizer.registerFunction=function(a,l){l in this.registeredFunctions&&v.utils.warn("Overwriting existing tokenizer: "+l),a.label=l,this.registeredFunctions[l]=a},v.Pipeline=function(){this._stack=[]},v.Pipeline.registeredFunctions={},v.Pipeline.registerFunction=function(a,l){l in this.registeredFunctions&&v.utils.warn("Overwriting existing registered function: "+l),a.label=l,v.Pipeline.registeredFunctions[a.label]=a},v.Pipeline.warnIfFunctionNotRegistered=function(a){a.label&&a.label in this.registeredFunctions||v.utils.warn(`Function is not registered with pipeline. This may cause problems when serialising the index.
`,a)},v.Pipeline.load=function(a){var l=new v.Pipeline;return a.forEach(function(b){var S=v.Pipeline.registeredFunctions[b];if(!S)throw new Error("Cannot load un-registered function: "+b);l.add(S)}),l},v.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(a){v.Pipeline.warnIfFunctionNotRegistered(a),this._stack.push(a)},this)},v.Pipeline.prototype.after=function(a,l){v.Pipeline.warnIfFunctionNotRegistered(l);var b=this._stack.indexOf(a);if(b==-1)throw new Error("Cannot find existingFn");this._stack.splice(b+=1,0,l)},v.Pipeline.prototype.before=function(a,l){v.Pipeline.warnIfFunctionNotRegistered(l);var b=this._stack.indexOf(a);if(b==-1)throw new Error("Cannot find existingFn");this._stack.splice(b,0,l)},v.Pipeline.prototype.remove=function(a){var l=this._stack.indexOf(a);l!=-1&&this._stack.splice(l,1)},v.Pipeline.prototype.run=function(a){for(var l=[],b=a.length,S=this._stack.length,O=0;O<b;O++){for(var A=a[O],q=0;q<S&&(A=this._stack[q](A,O,a))!==void 0&&A!=="";q++);A!==void 0&&A!==""&&l.push(A)}return l},v.Pipeline.prototype.reset=function(){this._stack=[]},v.Pipeline.prototype.toJSON=function(){return this._stack.map(function(a){return v.Pipeline.warnIfFunctionNotRegistered(a),a.label})},v.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},v.Vector.Node=function(a,l,b){this.idx=a,this.val=l,this.next=b},v.Vector.prototype.insert=function(a,l){this._magnitude=void 0;var b=this.list;if(!b)return this.list=new v.Vector.Node(a,l,b),this.length++;if(a<b.idx)return this.list=new v.Vector.Node(a,l,b),this.length++;for(var S=b,O=b.next;O!=null;){if(a<O.idx)return S.next=new v.Vector.Node(a,l,O),this.length++;S=O,O=O.next}return S.next=new v.Vector.Node(a,l,O),this.length++},v.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var a,l=this.list,b=0;l;)b+=(a=l.val)*a,l=l.next;return this._magnitude=Math.sqrt(b)},v.Vector.prototype.dot=function(a){for(var l=this.list,b=a.list,S=0;l&&b;)l.idx<b.idx?l=l.next:(l.idx>b.idx||(S+=l.val*b.val,l=l.next),b=b.next);return S},v.Vector.prototype.similarity=function(a){return this.dot(a)/(this.magnitude()*a.magnitude())},v.SortedSet=function(){this.length=0,this.elements=[]},v.SortedSet.load=function(a){var l=new this;return l.elements=a,l.length=a.length,l},v.SortedSet.prototype.add=function(){var a,l;for(a=0;a<arguments.length;a++)~this.indexOf(l=arguments[a])||this.elements.splice(this.locationFor(l),0,l);this.length=this.elements.length},v.SortedSet.prototype.toArray=function(){return this.elements.slice()},v.SortedSet.prototype.map=function(a,l){return this.elements.map(a,l)},v.SortedSet.prototype.forEach=function(a,l){return this.elements.forEach(a,l)},v.SortedSet.prototype.indexOf=function(a){for(var l=0,b=this.elements.length,S=b-l,O=l+Math.floor(S/2),A=this.elements[O];S>1;){if(A===a)return O;A<a&&(l=O),A>a&&(b=O),S=b-l,O=l+Math.floor(S/2),A=this.elements[O]}return A===a?O:-1},v.SortedSet.prototype.locationFor=function(a){for(var l=0,b=this.elements.length,S=b-l,O=l+Math.floor(S/2),A=this.elements[O];S>1;)A<a&&(l=O),A>a&&(b=O),S=b-l,O=l+Math.floor(S/2),A=this.elements[O];return A>a?O:A<a?O+1:void 0},v.SortedSet.prototype.intersect=function(a){for(var l=new v.SortedSet,b=0,S=0,O=this.length,A=a.length,q=this.elements,re=a.elements;!(b>O-1||S>A-1);)q[b]!==re[S]?q[b]<re[S]?b++:q[b]>re[S]&&S++:(l.add(q[b]),b++,S++);return l},v.SortedSet.prototype.clone=function(){var a=new v.SortedSet;return a.elements=this.toArray(),a.length=a.elements.length,a},v.SortedSet.prototype.union=function(a){var l,b,S;this.length>=a.length?(l=this,b=a):(l=a,b=this),S=l.clone();for(var O=0,A=b.toArray();O<A.length;O++)S.add(A[O]);return S},v.SortedSet.prototype.toJSON=function(){return this.toArray()},v.Index=function(){this._fields=[],this._ref="id",this.pipeline=new v.Pipeline,this.documentStore=new v.Store,this.tokenStore=new v.TokenStore,this.corpusTokens=new v.SortedSet,this.eventEmitter=new v.EventEmitter,this.tokenizerFn=v.tokenizer,this._idfCache={},this.on("add","remove","update",(function(){this._idfCache={}}).bind(this))},v.Index.prototype.on=function(){var a=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,a)},v.Index.prototype.off=function(a,l){return this.eventEmitter.removeListener(a,l)},v.Index.load=function(a){a.version!==v.version&&v.utils.warn("version mismatch: current "+v.version+" importing "+a.version);var l=new this;return l._fields=a.fields,l._ref=a.ref,l.tokenizer(v.tokenizer.load(a.tokenizer)),l.documentStore=v.Store.load(a.documentStore),l.tokenStore=v.TokenStore.load(a.tokenStore),l.corpusTokens=v.SortedSet.load(a.corpusTokens),l.pipeline=v.Pipeline.load(a.pipeline),l},v.Index.prototype.field=function(a,l){return this._fields.push({name:a,boost:(l=l||{}).boost||1}),this},v.Index.prototype.ref=function(a){return this._ref=a,this},v.Index.prototype.tokenizer=function(a){return a.label&&a.label in v.tokenizer.registeredFunctions||v.utils.warn("Function is not a registered tokenizer. This may cause problems when serialising the index"),this.tokenizerFn=a,this},v.Index.prototype.add=function(a,l){var b={},S=new v.SortedSet,O=a[this._ref];l=l===void 0||l,this._fields.forEach(function(me){var Pe=this.pipeline.run(this.tokenizerFn(a[me.name]));b[me.name]=Pe;for(var Te=0;Te<Pe.length;Te++){var I=Pe[Te];S.add(I),this.corpusTokens.add(I)}},this),this.documentStore.set(O,S);for(var A=0;A<S.length;A++){for(var q=S.elements[A],re=0,D=0;D<this._fields.length;D++){var ie=this._fields[D],ue=b[ie.name],ce=ue.length;if(ce){for(var pe=0,be=0;be<ce;be++)ue[be]===q&&pe++;re+=pe/ce*ie.boost}}this.tokenStore.add(q,{ref:O,tf:re})}l&&this.eventEmitter.emit("add",a,this)},v.Index.prototype.remove=function(a,l){var b=a[this._ref];if(l=l===void 0||l,this.documentStore.has(b)){var S=this.documentStore.get(b);this.documentStore.remove(b),S.forEach(function(O){this.tokenStore.remove(O,b)},this),l&&this.eventEmitter.emit("remove",a,this)}},v.Index.prototype.update=function(a,l){l=l===void 0||l,this.remove(a,!1),this.add(a,!1),l&&this.eventEmitter.emit("update",a,this)},v.Index.prototype.idf=function(a){var l="@"+a;if(Object.prototype.hasOwnProperty.call(this._idfCache,l))return this._idfCache[l];var b=this.tokenStore.count(a),S=1;return b>0&&(S=1+Math.log(this.documentStore.length/b)),this._idfCache[l]=S},v.Index.prototype.search=function(a){var l=this.pipeline.run(this.tokenizerFn(a)),b=new v.Vector,S=[],O=this._fields.reduce(function(A,q){return A+q.boost},0);return l.some(function(A){return this.tokenStore.has(A)},this)?(l.forEach(function(A,q,re){var D=1/re.length*this._fields.length*O,ie=this,ue=this.tokenStore.expand(A).reduce(function(ce,pe){var be=ie.corpusTokens.indexOf(pe),me=ie.idf(pe),Pe=1,Te=new v.SortedSet;if(pe!==A){var I=Math.max(3,pe.length-A.length);Pe=1/Math.log(I)}be>-1&&b.insert(be,D*me*Pe);for(var K=ie.tokenStore.get(pe),ye=Object.keys(K),Ie=ye.length,_e=0;_e<Ie;_e++)Te.add(K[ye[_e]].ref);return ce.union(Te)},new v.SortedSet);S.push(ue)},this),S.reduce(function(A,q){return A.intersect(q)}).map(function(A){return{ref:A,score:b.similarity(this.documentVector(A))}},this).sort(function(A,q){return q.score-A.score})):[]},v.Index.prototype.documentVector=function(a){for(var l=this.documentStore.get(a),b=l.length,S=new v.Vector,O=0;O<b;O++){var A=l.elements[O],q=this.tokenStore.get(A)[a].tf,re=this.idf(A);S.insert(this.corpusTokens.indexOf(A),q*re)}return S},v.Index.prototype.toJSON=function(){return{version:v.version,fields:this._fields,ref:this._ref,tokenizer:this.tokenizerFn.label,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},v.Index.prototype.use=function(a){var l=Array.prototype.slice.call(arguments,1);l.unshift(this),a.apply(this,l)},v.Store=function(){this.store={},this.length=0},v.Store.load=function(a){var l=new this;return l.length=a.length,l.store=Object.keys(a.store).reduce(function(b,S){return b[S]=v.SortedSet.load(a.store[S]),b},{}),l},v.Store.prototype.set=function(a,l){this.has(a)||this.length++,this.store[a]=l},v.Store.prototype.get=function(a){return this.store[a]},v.Store.prototype.has=function(a){return a in this.store},v.Store.prototype.remove=function(a){this.has(a)&&(delete this.store[a],this.length--)},v.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},v.stemmer=(n={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},s={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},u="^("+(c="[^aeiou][^aeiouy]*")+")?"+(d=(i="[aeiouy]")+"[aeiou]*")+c+"("+d+")?$",p="^("+c+")?"+d+c+d+c,w="^("+c+")?"+i,y=new RegExp("^("+c+")?"+d+c),k=new RegExp(p),g=new RegExp(u),m=new RegExp(w),f=/^(.+?)(ss|i)es$/,$=/^(.+?)([^s])s$/,E=/^(.+?)eed$/,j=/^(.+?)(ed|ing)$/,T=/.$/,P=/(at|bl|iz)$/,x=new RegExp("([^aeiouylsz])\\1$"),_=new RegExp("^"+c+i+"[^aeiouwxy]$"),N=/^(.+?[^aeiou])y$/,M=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,L=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,B=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,F=/^(.+?)(s|t)(ion)$/,U=/^(.+?)e$/,H=/ll$/,Q=new RegExp("^"+c+i+"[^aeiouwxy]$"),function(a){var l,b,S,O,A,q,re;if(a.length<3)return a;if((S=a.substr(0,1))=="y"&&(a=S.toUpperCase()+a.substr(1)),A=$,(O=f).test(a)?a=a.replace(O,"$1$2"):A.test(a)&&(a=a.replace(A,"$1$2")),A=j,(O=E).test(a)){var D=O.exec(a);(O=y).test(D[1])&&(a=a.replace(O=T,""))}else A.test(a)&&(D=A.exec(a),(A=m).test(l=D[1])&&(q=x,re=_,(A=P).test(a=l)?a+="e":q.test(a)?a=a.replace(O=T,""):re.test(a)&&(a+="e")));return(O=N).test(a)&&(a=(l=(D=O.exec(a))[1])+"i"),(O=M).test(a)&&(b=(D=O.exec(a))[2],(O=y).test(l=D[1])&&(a=l+n[b])),(O=L).test(a)&&(b=(D=O.exec(a))[2],(O=y).test(l=D[1])&&(a=l+s[b])),A=F,(O=B).test(a)?(D=O.exec(a),(O=k).test(l=D[1])&&(a=l)):A.test(a)&&(D=A.exec(a),(A=k).test(l=D[1]+D[2])&&(a=l)),(O=U).test(a)&&(D=O.exec(a),A=g,q=Q,((O=k).test(l=D[1])||A.test(l)&&!q.test(l))&&(a=l)),A=k,(O=H).test(a)&&A.test(a)&&(a=a.replace(O=T,"")),S=="y"&&(a=S.toLowerCase()+a.substr(1)),a}),v.Pipeline.registerFunction(v.stemmer,"stemmer"),v.generateStopWordFilter=function(a){var l=a.reduce(function(b,S){return b[S]=S,b},{});return function(b){if(b&&l[b]!==b)return b}},v.stopWordFilter=v.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),v.Pipeline.registerFunction(v.stopWordFilter,"stopWordFilter"),v.trimmer=function(a){return a.replace(/^\W+/,"").replace(/\W+$/,"")},v.Pipeline.registerFunction(v.trimmer,"trimmer"),v.TokenStore=function(){this.root={docs:{}},this.length=0},v.TokenStore.load=function(a){var l=new this;return l.root=a.root,l.length=a.length,l},v.TokenStore.prototype.add=function(a,l,b){b=b||this.root;var S=a.charAt(0),O=a.slice(1);return S in b||(b[S]={docs:{}}),O.length===0?(b[S].docs[l.ref]=l,void(this.length+=1)):this.add(O,l,b[S])},v.TokenStore.prototype.has=function(a){if(!a)return!1;for(var l=this.root,b=0;b<a.length;b++){if(!l[a.charAt(b)])return!1;l=l[a.charAt(b)]}return!0},v.TokenStore.prototype.getNode=function(a){if(!a)return{};for(var l=this.root,b=0;b<a.length;b++){if(!l[a.charAt(b)])return{};l=l[a.charAt(b)]}return l},v.TokenStore.prototype.get=function(a,l){return this.getNode(a,l).docs||{}},v.TokenStore.prototype.count=function(a,l){return Object.keys(this.get(a,l)).length},v.TokenStore.prototype.remove=function(a,l){if(a){for(var b=this.root,S=0;S<a.length;S++){if(!(a.charAt(S)in b))return;b=b[a.charAt(S)]}delete b.docs[l]}},v.TokenStore.prototype.expand=function(a,l){var b=this.getNode(a);return l=l||[],Object.keys(b.docs||{}).length&&l.push(a),Object.keys(b).forEach(function(S){S!=="docs"&&l.concat(this.expand(a+S,l))},this),l},v.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},r.exports=v})()}(t),t.exports})();const zu={aggregations:{notAfter:{title:"Not after",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},notBefore:{title:"Not before",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},language:{title:"Language",hide_zero_doc_count:!0,size:200,sort:"key"},placeName:{title:"Place",hide_zero_doc_count:!0,size:200,sort:"key"},inscriptionType:{title:"Inscription type",hide_zero_doc_count:!0,size:200,sort:"key"},objectType:{title:"Object type",hide_zero_doc_count:!0,size:200,sort:"key"},material:{title:"Material",hide_zero_doc_count:!0,size:200,sort:"key"},technique:{title:"Technique",hide_zero_doc_count:!0,size:200,sort:"key"},pigment:{title:"Pigment",hide_zero_doc_count:!0,size:200,sort:"key"},damage:{title:"Damage",hide_zero_doc_count:!0,size:100,sort:"key"},repository:{title:"Repository",hide_zero_doc_count:!0,size:200,sort:"key"},status:{title:"Status",hide_zero_doc_count:!0,sort:"key"}},searchableFields:["keywords","title","text"],sortings:{file_asc:{field:"file",order:"asc"},file_desc:{field:"file",order:"desc"},notAfter_asc:{field:"notAfter",order:"asc"},notAfter_desc:{field:"notAfter",order:"desc"},notBefore_asc:{field:"notBefore",order:"desc"},notBefore_desc:{field:"notBefore",order:"desc"},title_asc:{field:"title",order:"asc"},title_desc:{field:"title",order:"desc"}}};function Eu(e){return new Worker(""+new URL("../workers/worker-CwZmB1qh.js",import.meta.url).href,{name:e==null?void 0:e.name})}var Cu=V("<!>Filters",1),Tu=V('<h2 aria-busy="true" class="svelte-16zqrgi">Loading inscriptions...</h2>'),Nu=V("<!>View cards",1),Ru=V("<!>View map",1),Mu=V("<!>View table",1),Iu=V('<div class="transition-container svelte-16zqrgi"><!></div>'),Lu=V('<div class="transition-container svelte-16zqrgi"><!></div>'),Fu=V("<!> <!> <!>",1),Wu=V('<!> <section class="controls svelte-16zqrgi"><div class="toggles svelte-16zqrgi"><!> <!> <!></div> <div class="sort-controls svelte-16zqrgi"><label for="sort-select">Sort by:</label> <select id="sort-select"><option>File</option><option>Not before</option><option>Not after</option><option>Title</option></select> <!></div></section> <!>',1),Bu=V('<article><section><form class="svelte-16zqrgi"><label class="visually-hidden" for="q">Search query:</label> <input type="text" name="q" id="q" placeholder="Search inscriptions metadata" class="svelte-16zqrgi"> <!> <!></form> <div class="filters-toggle svelte-16zqrgi"><!></div></section> <section class="inscriptions svelte-16zqrgi"><!></section></article> <!>',1);function Uu(e,t){Se(t,!0);const r=ft(),o=()=>Ce(d,"$searchLimit",r),n=()=>Ce(c,"$searchPage",r),s=()=>Ce(i,"$searchQuery",r),i=yr("q",pr.string("")),c=yr("page",pr.number(1)),d=yr("limit",pr.number(Lt.limit));let u=Le("cards"),p=Le("idle"),w=ge(()=>["idle","load"].includes(h(p))),y=Le(void 0),k=Le(de({})),g=ge(()=>{var I;return((I=h(k))==null?void 0:I.pagination)??{}}),m=ge(()=>{var I,K;return((K=(I=h(k))==null?void 0:I.data)==null?void 0:K.aggregations)??{}}),f=ge(()=>{var I;return((I=h(g))==null?void 0:I.total)??0}),$=ge(F),E=ge(()=>{var I,K;return((K=(I=h(k))==null?void 0:I.data)==null?void 0:K.items)??[]}),j=ge(()=>{var I;return(I=h(E))==null?void 0:I.map(K=>({file:K.file,title:K.title,places:K.places,geo:K.geo[0]}))}),T=Le(!1),P=de({sortAggregationsBy:"key",sortResultsBy:"file",sortResultsOrder:"asc"}),x=Le(de(L())),_=Le(de(B()));async function N(){h(p)!=="ready"&&(Z(p,"load"),Z(y,de(new Eu)),h(y).addEventListener("message",I=>{const{type:K,data:ye}=I.data;K==="ready"&&Z(p,"ready"),K==="results"&&Z(k,de(ye))}),h(y).postMessage({type:"load",data:{sortAggregationsBy:P.sortAggregationsBy}}))}Or(()=>{M()});async function M(){if(h(p)==="ready"){const I=Object.fromEntries(Object.keys(h(_)).map(K=>[K,[...h(_)[K]]]));h(y).postMessage({type:"search",data:{limit:o(),page:n(),query:s(),sort:`${P.sortResultsBy}_${P.sortResultsOrder}`,filters:I,dateRange:[...h(x)]}})}}function L(){return[-700,1830]}function B(){return Object.keys(zu.aggregations).filter(I=>I.indexOf("not")<0).reduce((I,K)=>(I[K]=[],I),{})}function F(){var I;return!h(m)||!((I=h(m))!=null&&I.placeName)?0:h(m).placeName.buckets.length}async function U(I){I.preventDefault()}async function H(I){I.preventDefault(),Ze(i,""),Ze(c,1),Ze(d,de(Lt.limit)),Z(x,de(L())),Z(_,de(B()))}function Q(){const I=L();return s()!==""||h(x).some((K,ye)=>K!==I[ye])||Object.keys(h(_)).some(K=>h(_)[K].length>0)}Or(()=>{P.sortAggregationsBy&&h(y)&&h(p)==="ready"&&(h(y).postMessage({type:"load",data:{sortAggregationsBy:P.sortAggregationsBy}}),M())});async function v(I){I==="map"?Ze(d,de(Lt.maxLimit)):h(u)==="map"&&(Z(k,de({...h(k),data:{...h(k).data,items:[]}})),Ze(d,de(Lt.limit)),Ze(c,1)),Z(u,de(I))}async function a(){P.sortResultsOrder=P.sortResultsOrder==="asc"?"desc":"asc"}async function l(I){Ze(c,de(I))}lo(()=>{N()});var b=Bu();Fe("keydown",as,I=>{var K;(I.ctrlKey||I.metaKey)&&(I.key==="k"||I.key==="K")&&(I.preventDefault(),Z(T,!h(T))),I.key==="/"&&(I.preventDefault(),(K=document.getElementById("q"))==null||K.focus())});var S=G(b),O=R(S),A=R(O),q=W(R(A),2);vt(q);var re=W(q,2),D=ge(()=>!s());$e(re,()=>Ye,(I,K)=>{K(I,{class:"surface-4",type:"submit",get disabled(){return h(D)},children:(ye,Ie)=>{Ee();var _e=Re("Search");z(ye,_e)},$$slots:{default:!0}})});var ie=W(re,2),ue=ge(()=>!Q());$e(ie,()=>Ye,(I,K)=>{K(I,{class:"surface-1",type:"reset",get disabled(){return h(ue)},children:(ye,Ie)=>{Ee();var _e=Re("Reset");z(ye,_e)},$$slots:{default:!0}})}),C(A);var ce=W(A,2),pe=R(ce),be=ge(()=>h(T)?"surface-4":"surface-1");$e(pe,()=>Ye,(I,K)=>{K(I,{get class(){return h(be)},onclick:()=>Z(T,!h(T)),children:(ye,Ie)=>{var _e=Cu(),pt=G(_e);ri(pt,{}),Ee(),z(ye,_e)},$$slots:{default:!0}})}),C(ce),C(O);var me=W(O,2),Pe=R(me);se(Pe,()=>h(w),I=>{var K=Tu();z(I,K)},I=>{var K=Wu(),ye=G(K);Gc(ye,{get total(){return h(f)},get dateRange(){return h(x)},get numberOfLocations(){return h($)},get query(){return s()},get filters(){return h(_)}});var Ie=W(ye,2),_e=R(Ie),pt=R(_e),rr=ge(()=>`${h(u)==="cards"?"surface-4":"surface-1"}`);$e(pt,()=>Ye,(Ae,we)=>{we(Ae,{get class(){return h(rr)},onclick:()=>v("cards"),children:(Ne,mt)=>{var ze=Nu(),qe=G(ze);ni(qe,{}),Ee(),z(Ne,ze)},$$slots:{default:!0}})});var Zr=W(pt,2),Ko=ge(()=>`${h(u)==="map"?"surface-4":"surface-1"}`);$e(Zr,()=>Ye,(Ae,we)=>{we(Ae,{get class(){return h(Ko)},onclick:()=>v("map"),children:(Ne,mt)=>{var ze=Ru(),qe=G(ze);oi(qe,{}),Ee(),z(Ne,ze)},$$slots:{default:!0}})});var Xo=W(Zr,2),Zo=ge(()=>`${h(u)==="table"?"surface-4":"surface-1"}`);$e(Xo,()=>Ye,(Ae,we)=>{we(Ae,{get class(){return h(Zo)},onclick:()=>v("table"),children:(Ne,mt)=>{var ze=Mu(),qe=G(ze);si(qe,{}),Ee(),z(Ne,ze)},$$slots:{default:!0}})}),C(_e);var Yr=W(_e,2),It=W(R(Yr),2),nr=R(It);nr.value=(nr.__value="file")==null?"":"file";var or=W(nr);or.value=(or.__value="notBefore")==null?"":"notBefore";var sr=W(or);sr.value=(sr.__value="notAfter")==null?"":"notAfter";var Qr=W(sr);Qr.value=(Qr.__value="title")==null?"":"title",C(It);var Yo=W(It,2);$e(Yo,()=>Ye,(Ae,we)=>{we(Ae,{class:"order-toggle",onclick:()=>a(),"aria-label":"Toggle sort order from ascending to descending to no order",children:(Ne,mt)=>{var ze=ne(),qe=G(ze);se(qe,()=>P.sortResultsOrder==="asc",Ve=>{Qs(Ve,{"aria-label":"Ascending"})},Ve=>{Ys(Ve,{"aria-label":"Descending"})}),z(Ne,ze)},$$slots:{default:!0}})}),C(Yr),C(Ie);var Qo=W(Ie,2);se(Qo,()=>h(u)==="map",Ae=>{var we=Iu(),Ne=R(we);tc(Ne,{get inscriptions(){return h(j)}}),C(we),jt(1,we,()=>Ft,()=>({duration:500})),jt(2,we,()=>Ft,()=>({duration:250})),z(Ae,we)},Ae=>{var we=Fu(),Ne=G(we);pn(Ne,{get page(){return n()},get count(){return h(f)},get perPage(){return o()},onPageChange:l});var mt=W(Ne,2);fs(mt,()=>h(u),qe=>{var Ve=Lu(),es=R(Ve);se(es,()=>h(u)==="table",ir=>{lc(ir,{get inscriptions(){return h(E)}})},ir=>{Za(ir,{get inscriptions(){return h(E)}})}),C(Ve),jt(1,Ve,()=>Ft,()=>({duration:500})),jt(2,Ve,()=>Ft,()=>({duration:250})),z(qe,Ve)});var ze=W(mt,2);pn(ze,{get page(){return n()},get count(){return h(f)},get perPage(){return o()},onPageChange:l}),z(Ae,we)}),ks(It,()=>P.sortResultsBy,Ae=>P.sortResultsBy=Ae),z(I,K)}),C(me),C(S);var Te=W(S,2);Dc(Te,{get show(){return h(T)},get aggregations(){return h(m)},get sortAggregationsBy(){return P.sortAggregationsBy},set sortAggregationsBy(I){P.sortAggregationsBy=I},get selectedDateRange(){return h(x)},set selectedDateRange(I){Z(x,de(I))},get selectedFilters(){return h(_)},set selectedFilters(I){Z(_,de(I))}}),Fe("submit",A,U),Fe("reset",A,H),Zt(q,s,I=>Ze(i,I)),z(e,b),ke()}var Du=V('<section class="hero svelte-1ou7ebr"><h1 class="svelte-1ou7ebr"> </h1></section> <!>',1);function od(e,t){Se(t,!1),Xe();var r=Du(),o=G(r),n=R(o),s=R(n,!0);C(n),C(o);var i=W(o,2);Uu(i,{}),X(()=>te(s,us)),z(e,r),ke()}export{od as component};

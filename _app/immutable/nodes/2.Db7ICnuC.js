var ki=Object.defineProperty;var bs=t=>{throw TypeError(t)};var ji=(t,e,r)=>e in t?ki(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var gt=(t,e,r)=>ji(t,typeof e!="symbol"?e+"":e,r),bn=(t,e,r)=>e.has(t)||bs("Cannot "+r);var Q=(t,e,r)=>(bn(t,e,"read from private field"),r?r.call(t):e.get(t)),rt=(t,e,r)=>e.has(t)?bs("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Xe=(t,e,r,n)=>(bn(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),jt=(t,e,r)=>(bn(t,e,"access private method"),r);import{z as on,A as ee,d as lt,a as P,t as W,b as Nt,s as Z,B as Ai,y as Ee,k as Jn}from"../chunks/disclose-version.QZbGk86a.js";import"../chunks/legacy.D_L04qBx.js";import{ay as Oi,t as Qn,b as ue,r as an,F as Ei,Y as ws,e as So,i as Ri,s as st,a$ as Ti,g as f,at as zi,aa as Ci,au as It,p as D,k as Ii,u as Zn,b0 as Ni,aU as xs,aV as Mi,I as Ot,P as H,K as Et,M as k,D as me,N as S,J as tt,R as ts,aW as wn,b1 as Li,h as Fi,aX as $i,aY as Ft,O as I,Q as Tt,aZ as Bi}from"../chunks/runtime.DMyyXXWh.js";import{i as Po}from"../chunks/lifecycle.BgY4cfbO.js";import{s as ye,i as Di,b as Vi,m as Wi,c as Ut,e as Ui}from"../chunks/config.WViaCtuW.js";import{i as ot}from"../chunks/if.bK4nEP7G.js";import{t as tr,s as qi,k as Hi,f as wr}from"../chunks/index.JcBC3NBs.js";import{b as Xi,c as Pt}from"../chunks/this.U1Zhk9SZ.js";import{i as ko,a as ht,p as U,r as _e,l as de,s as fe}from"../chunks/props.BA326RKY.js";import{b as $t,s as Gi,a as Ge}from"../chunks/store.CaIYWfUj.js";import{s as Mt,e as Yt,i as re}from"../chunks/snippet.UwFLqbcp.js";import{d as xn,a as be,s as ne,b as Yi,r as Ne}from"../chunks/attributes.Dh89bHWf.js";import{c as Ss,I as jo,m as Ki,D as Ji}from"../chunks/maplibre-gl.Ckn_TVe7.js";import{B as Qi}from"../chunks/BaseLink.kD0cDUq8.js";import{a as Zi}from"../chunks/actions.4cO37iox.js";import{o as Ao,a as ta}from"../chunks/index-client.DfDTZ8a9.js";import{I as we}from"../chunks/Icon.B9-MW91e.js";import{g as ea}from"../chunks/entry.CN1nRCbn.js";import{p as ra}from"../chunks/stores.BHQRDa7S.js";import{d as na,w as sa}from"../chunks/index.k4-KowmU.js";import{B as Gt}from"../chunks/button.BYLRV3_a.js";function Ln(t,e,r=e){var n=Oi();on(t,"input",s=>{var o=s?t.defaultValue:t.value;if(o=Pn(t)?kn(o):o,r(o),n&&o!==(o=e())){var i=t.selectionStart,a=t.selectionEnd;t.value=o??"",a!==null&&(t.selectionStart=i,t.selectionEnd=Math.min(a,t.value.length))}}),(Qn&&t.defaultValue!==t.value||ue(e)==null&&t.value)&&r(Pn(t)?kn(t.value):t.value),an(()=>{var s=e();Pn(t)&&s===kn(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}const Sn=new Set;function Ps(t,e,r,n,s=n){var o=r.getAttribute("type")==="checkbox",i=t;let a=!1;if(e!==null)for(var u of e)i=i[u]??(i[u]=[]);i.push(r),on(r,"change",()=>{var l=r.__value;o&&(l=ks(i,l,r.checked)),s(l)},()=>s(o?[]:null)),an(()=>{var l=n();if(Qn&&r.defaultChecked!==r.checked){a=!0;return}o?(l=l||[],r.checked=l.includes(r.__value)):r.checked=ko(r.__value,l)}),Ei(()=>{var l=i.indexOf(r);l!==-1&&i.splice(l,1)}),Sn.has(i)||(Sn.add(i),ws(()=>{i.sort((l,h)=>l.compareDocumentPosition(h)===4?-1:1),Sn.delete(i)})),ws(()=>{if(a){var l;if(o)l=ks(i,l,r.checked);else{var h=i.find(v=>v.checked);l=h==null?void 0:h.__value}s(l)}})}function oa(t,e,r=e){on(t,"change",n=>{var s=n?t.defaultChecked:t.checked;r(s)}),(Qn&&t.defaultChecked!==t.checked||ue(e)==null)&&r(t.checked),an(()=>{var n=e();t.checked=!!n})}function ks(t,e,r){for(var n=new Set,s=0;s<t.length;s+=1)t[s].checked&&n.add(t[s].__value);return r||n.delete(e),Array.from(n)}function Pn(t){var e=t.type;return e==="number"||e==="range"}function kn(t){return t===""?null:+t}function Oo(t,e,r){if(t.multiple)return ca(t,e);for(var n of t.options){var s=er(n);if(ko(s,e)){n.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function ia(t,e){So(()=>{var r=new MutationObserver(()=>{var n=t.__value;Oo(t,n)});return r.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function aa(t,e,r=e){var n=!0;on(t,"change",s=>{var o=s?"[selected]":":checked",i;if(t.multiple)i=[].map.call(t.querySelectorAll(o),er);else{var a=t.querySelector(o)??t.querySelector("option:not([disabled])");i=a&&er(a)}r(i)}),So(()=>{var s=e();if(Oo(t,s,n),n&&s===void 0){var o=t.querySelector(":checked");o!==null&&(s=er(o),r(s))}t.__value=s,n=!1}),ia(t)}function ca(t,e){for(var r of t.options)r.selected=~e.indexOf(er(r))}function er(t){return"__value"in t?t.__value:t.value}function js(t,e){var o;var r=(o=t.$$events)==null?void 0:o[e.type],n=Ri(r)?r.slice():r==null?[]:[r];for(var s of n)s.call(this,e)}function la(t){st(t,t.v+1)}function ua(t){let e=0,r=Ci(0),n;return()=>{Ti()&&(f(r),an(()=>(e===0&&(n=ue(()=>t(()=>la(r)))),e+=1,()=>{zi().then(()=>{e-=1,e===0&&(n==null||n(),n=void 0)})})))}}function da(t){return typeof t=="function"}function fa(t){return t!==null&&typeof t=="object"}const ha=["string","number","bigint","boolean"];function Fn(t){return t==null||ha.includes(typeof t)?!0:Array.isArray(t)?t.every(e=>Fn(e)):typeof t=="object"?Object.getPrototypeOf(t)===Object.prototype:!1}const ir=Symbol("box"),es=Symbol("is-writable");function ga(t){return fa(t)&&ir in t}function pa(t){return G.isBox(t)&&es in t}function G(t){let e=It(ht(t));return{[ir]:!0,[es]:!0,get current(){return f(e)},set current(r){st(e,ht(r))}}}function va(t,e){const r=D(t);return e?{[ir]:!0,[es]:!0,get current(){return f(r)},set current(n){e(n)}}:{[ir]:!0,get current(){return t()}}}function ma(t){return G.isBox(t)?t:da(t)?G.with(t):G(t)}function ya(t){return Object.entries(t).reduce((e,[r,n])=>G.isBox(n)?(G.isWritableBox(n)?Object.defineProperty(e,r,{get(){return n.current},set(s){n.current=s}}):Object.defineProperty(e,r,{get(){return n.current}}),e):Object.assign(e,{[r]:n}),{})}function _a(t){return G.isWritableBox(t)?{[ir]:!0,get current(){return t.current}}:t}G.from=ma;G.with=va;G.flatten=ya;G.readonly=_a;G.isBox=ga;G.isWritableBox=pa;function ba(...t){return function(e){var r;for(const n of t)if(n){if(e.defaultPrevented)return;typeof n=="function"?n.call(this,e):(r=n.current)==null||r.call(this,e)}}}var Eo={},As=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,wa=/\n/g,xa=/^\s*/,Sa=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Pa=/^:\s*/,ka=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,ja=/^[;\s]*/,Aa=/^\s+|\s+$/g,Oa=`
`,Os="/",Es="*",Ae="",Ea="comment",Ra="declaration",Ta=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var r=1,n=1;function s(d){var m=d.match(wa);m&&(r+=m.length);var b=d.lastIndexOf(Oa);n=~b?d.length-b:n+d.length}function o(){var d={line:r,column:n};return function(m){return m.position=new i(d),l(),m}}function i(d){this.start=d,this.end={line:r,column:n},this.source=e.source}i.prototype.content=t;function a(d){var m=new Error(e.source+":"+r+":"+n+": "+d);if(m.reason=d,m.filename=e.source,m.line=r,m.column=n,m.source=t,!e.silent)throw m}function u(d){var m=d.exec(t);if(m){var b=m[0];return s(b),t=t.slice(b.length),m}}function l(){u(xa)}function h(d){var m;for(d=d||[];m=v();)m!==!1&&d.push(m);return d}function v(){var d=o();if(!(Os!=t.charAt(0)||Es!=t.charAt(1))){for(var m=2;Ae!=t.charAt(m)&&(Es!=t.charAt(m)||Os!=t.charAt(m+1));)++m;if(m+=2,Ae===t.charAt(m-1))return a("End of comment missing");var b=t.slice(2,m-2);return n+=2,s(b),t=t.slice(m),n+=2,d({type:Ea,comment:b})}}function p(){var d=o(),m=u(Sa);if(m){if(v(),!u(Pa))return a("property missing ':'");var b=u(ka),O=d({type:Ra,property:Rs(m[0].replace(As,Ae)),value:b?Rs(b[0].replace(As,Ae)):Ae});return u(ja),O}}function _(){var d=[];h(d);for(var m;m=p();)m!==!1&&(d.push(m),h(d));return d}return l(),_()};function Rs(t){return t?t.replace(Aa,Ae):Ae}var za=Ss&&Ss.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Eo,"__esModule",{value:!0});var Ts=Eo.default=Ia,Ca=za(Ta);function Ia(t,e){var r=null;if(!t||typeof t!="string")return r;var n=(0,Ca.default)(t),s=typeof e=="function";return n.forEach(function(o){if(o.type==="declaration"){var i=o.property,a=o.value;s?e(i,a,o):a&&(r=r||{},r[i]=a)}}),r}const Na=Ts.default||Ts,Ma=/\d/,La=["-","_","/","."];function Fa(t=""){if(!Ma.test(t))return t!==t.toLowerCase()}function $a(t){const e=[];let r="",n,s;for(const o of t){const i=La.includes(o);if(i===!0){e.push(r),r="",n=void 0;continue}const a=Fa(o);if(s===!1){if(n===!1&&a===!0){e.push(r),r=o,n=a;continue}if(n===!0&&a===!1&&r.length>1){const u=r.at(-1);e.push(r.slice(0,Math.max(0,r.length-1))),r=u+o,n=a;continue}}r+=o,n=a,s=i}return e.push(r),e}function Ro(t){return t?$a(t).map(e=>Da(e)).join(""):""}function Ba(t){return Va(Ro(t||""))}function Da(t){return t?t[0].toUpperCase()+t.slice(1):""}function Va(t){return t?t[0].toLowerCase()+t.slice(1):""}function xr(t){if(!t)return{};const e={};function r(n,s){if(n.startsWith("-moz-")||n.startsWith("-webkit-")||n.startsWith("-ms-")||n.startsWith("-o-")){e[Ro(n)]=s;return}if(n.startsWith("--")){e[n]=s;return}e[Ba(n)]=s}return Na(t,r),e}function rs(...t){return(...e)=>{for(const r of t)typeof r=="function"&&r(...e)}}function Wa(t,e){const r=RegExp(t,"g");return n=>{if(typeof n!="string")throw new TypeError(`expected an argument of type string, but got ${typeof n}`);return n.match(r)?n.replace(r,e):n}}const Ua=Wa(/[A-Z]/,t=>`-${t.toLowerCase()}`);function qa(t){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected an argument of type object, but got ${typeof t}`);return Object.keys(t).map(e=>`${Ua(e)}: ${t[e]};`).join(`
`)}function To(t={}){return qa(t).replace(`
`," ")}const Ha={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};To(Ha);function Xa(t){var e;return t.length>2&&t.startsWith("on")&&t[2]===((e=t[2])==null?void 0:e.toLowerCase())}function Te(...t){const e={...t[0]};for(let r=1;r<t.length;r++){const n=t[r];for(const s in n){const o=e[s],i=n[s],a=typeof o=="function",u=typeof i=="function";if(a&&Xa(s)){const l=o,h=i;e[s]=ba(l,h)}else if(a&&u)e[s]=rs(o,i);else if(s==="class"){const l=Fn(o),h=Fn(i);l&&h?e[s]=xn(o,i):l?e[s]=xn(o):h&&(e[s]=xn(i))}else if(s==="style"){const l=typeof o=="object",h=typeof i=="object",v=typeof o=="string",p=typeof i=="string";if(l&&h)e[s]={...o,...i};else if(l&&p){const _=xr(i);e[s]={...o,..._}}else if(v&&h){const _=xr(o);e[s]={..._,...i}}else if(v&&p){const _=xr(o),d=xr(i);e[s]={..._,...d}}else l?e[s]=o:h?e[s]=i:v?e[s]=o:p&&(e[s]=i)}else e[s]=i!==void 0?i:o}}return typeof e.style=="object"&&(e.style=To(e.style).replaceAll(`
`," ")),e.hidden!==!0&&(e.hidden=void 0,delete e.hidden),e.disabled!==!0&&(e.disabled=void 0,delete e.disabled),e}const Ga=typeof window<"u"?window:void 0;function Ya(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const r=e.shadowRoot.activeElement;if(r===e)break;e=r}return e}var Fe,ur;class Ka{constructor(e={}){rt(this,Fe);rt(this,ur);const{window:r=Ga,document:n=r==null?void 0:r.document}=e;r!==void 0&&(Xe(this,Fe,n),Xe(this,ur,ua(s=>{const o=ee(r,"focusin",s),i=ee(r,"focusout",s);return()=>{o(),i()}})))}get current(){var e;return(e=Q(this,ur))==null||e.call(this),Q(this,Fe)?Ya(Q(this,Fe)):null}}Fe=new WeakMap,ur=new WeakMap;new Ka;function Ja(t,e){switch(t){case"post":Zn(e);break;case"pre":Ii(e);break}}function zo(t,e,r,n={}){const{lazy:s=!1}=n;let o=!s,i=Array.isArray(t)?[]:void 0;Ja(e,()=>{const a=Array.isArray(t)?t.map(l=>l()):t();if(!o){o=!0,i=a;return}const u=ue(()=>r(a,i));return i=a,u})}function cn(t,e,r){zo(t,"post",e,r)}function Qa(t,e,r){zo(t,"pre",e,r)}cn.pre=Qa;var dr,ae;class Co{constructor(e){rt(this,dr);rt(this,ae);Xe(this,dr,e),Xe(this,ae,Symbol(e))}get key(){return Q(this,ae)}exists(){return Ni(Q(this,ae))}get(){const e=xs(Q(this,ae));if(e===void 0)throw new Error(`Context "${Q(this,dr)}" not found`);return e}getOr(e){const r=xs(Q(this,ae));return r===void 0?e:r}set(e){return Mi(Q(this,ae),e)}}dr=new WeakMap,ae=new WeakMap;function Za(t){Zn(()=>()=>{t()})}function Be({id:t,ref:e,deps:r=()=>!0,onRefChange:n,getRootNode:s}){cn([()=>t.current,r],([o])=>{const i=(s==null?void 0:s())??document,a=i==null?void 0:i.getElementById(o);a?e.current=a:e.current=null,n==null||n(e.current)}),Za(()=>{e.current=null,n==null||n(null)})}function Io(t){Zn(()=>ue(()=>t()))}function No(t){return t?"true":"false"}function ln(t){return t?"":void 0}const ns="ArrowDown",un="ArrowLeft",dn="ArrowRight",ss="ArrowUp",os="End",Mo="Enter",is="Home",Lo=" ";function tc(t){return window.getComputedStyle(t).getPropertyValue("direction")}function ec(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?un:dn,vertical:ns}[e]}function rc(t="ltr",e="horizontal"){return{horizontal:t==="rtl"?dn:un,vertical:ss}[e]}function nc(t="ltr",e="horizontal"){return["ltr","rtl"].includes(t)||(t="ltr"),["horizontal","vertical"].includes(e)||(e="horizontal"),{nextKey:ec(t,e),prevKey:rc(t,e)}}function Fo(t){return t instanceof Element||t instanceof SVGElement}globalThis.bitsIdCounter??(globalThis.bitsIdCounter={current:0});function xe(t="bits"){return globalThis.bitsIdCounter.current++,`${t}-${globalThis.bitsIdCounter.current}`}function $n(){}function sc(t,e){return t>=0&&t<e.length}const oc="data-pagination-root",ic="data-pagination-page",ac="data-pagination-prev",cc="data-pagination-next";var Rr,Tr,zr,Cr,Ir,Nr,Mr;class lc{constructor(e){gt(this,"opts");rt(this,Rr,D(()=>this.opts.count.current===0?1:Math.ceil(this.opts.count.current/this.opts.perPage.current)));rt(this,Tr,D(()=>{const e=(this.opts.page.current-1)*this.opts.perPage.current,r=Math.min(e+this.opts.perPage.current,this.opts.count.current);return{start:e,end:r}}));rt(this,zr,D(()=>fc({page:this.opts.page.current,totalPages:this.totalPages,siblingCount:this.opts.siblingCount.current})));rt(this,Cr,D(()=>this.opts.page.current>1));rt(this,Ir,D(()=>this.opts.page.current<this.totalPages));rt(this,Nr,D(()=>({pages:this.pages,range:this.range,currentPage:this.opts.page.current})));rt(this,Mr,D(()=>({id:this.opts.id.current,"data-orientation":this.opts.orientation.current,[oc]:""})));this.opts=e,Be(e)}get totalPages(){return f(Q(this,Rr))}get range(){return f(Q(this,Tr))}get pages(){return f(Q(this,zr))}setPage(e){this.opts.page.current=e}getPageTriggerNodes(){const e=this.opts.ref.current;return e?Array.from(e.querySelectorAll("[data-pagination-page]")):[]}getButtonNode(e){const r=this.opts.ref.current;if(r)return r.querySelector(`[data-pagination-${e}]`)}get hasPrevPage(){return f(Q(this,Cr))}get hasNextPage(){return f(Q(this,Ir))}prevPage(){this.opts.page.current=Math.max(this.opts.page.current-1,1)}nextPage(){this.opts.page.current=Math.min(this.opts.page.current+1,this.totalPages)}get snippetProps(){return f(Q(this,Nr))}get props(){return f(Q(this,Mr))}}Rr=new WeakMap,Tr=new WeakMap,zr=new WeakMap,Cr=new WeakMap,Ir=new WeakMap,Nr=new WeakMap,Mr=new WeakMap;var Lr,Fr;class uc{constructor(e,r){gt(this,"opts");gt(this,"root");rt(this,Lr,D(()=>this.opts.page.current.value===this.root.opts.page.current));rt(this,Fr,D(()=>({id:this.opts.id.current,"aria-label":`Page ${this.opts.page.current.value}`,"data-value":`${this.opts.page.current.value}`,"data-selected":f(Q(this,Lr))?"":void 0,[ic]:"",onclick:this.onclick,onkeydown:this.onkeydown})));this.opts=e,this.root=r,Be(e),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button===0&&this.root.setPage(this.opts.page.current.value)}onkeydown(e){e.key===Lo||e.key===Mo?(e.preventDefault(),this.root.setPage(this.opts.page.current.value)):$o(e,this.opts.ref.current,this.root)}get props(){return f(Q(this,Fr))}}Lr=new WeakMap,Fr=new WeakMap;var fr,Bn,$r,Br;class dc{constructor(e,r){rt(this,fr);gt(this,"opts");gt(this,"root");rt(this,$r,D(()=>this.opts.disabled.current?!0:this.opts.type==="prev"?!this.root.hasPrevPage:this.opts.type==="next"?!this.root.hasNextPage:!1));rt(this,Br,D(()=>({id:this.opts.id.current,[ac]:this.opts.type==="prev"?"":void 0,[cc]:this.opts.type==="next"?"":void 0,disabled:f(Q(this,$r)),onclick:this.onclick,onkeydown:this.onkeydown})));this.opts=e,this.root=r,Be(e),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}onclick(e){this.opts.disabled.current||e.button===0&&jt(this,fr,Bn).call(this)}onkeydown(e){e.key===Lo||e.key===Mo?(e.preventDefault(),jt(this,fr,Bn).call(this)):$o(e,this.opts.ref.current,this.root)}get props(){return f(Q(this,Br))}}fr=new WeakSet,Bn=function(){this.opts.type==="prev"?this.root.prevPage():this.root.nextPage()},$r=new WeakMap,Br=new WeakMap;function $o(t,e,r){if(!e||!r.opts.ref.current)return;const n=r.getPageTriggerNodes(),s=r.getButtonNode("next"),o=r.getButtonNode("prev");o&&n.unshift(o),s&&n.push(s);const i=n.indexOf(e),a=tc(r.opts.ref.current),{nextKey:u,prevKey:l}=nc(a,r.opts.orientation.current),h=r.opts.loop.current;let p={[u]:i+1,[l]:i-1,[is]:0,[os]:n.length-1}[t.key];if(p===void 0)return;t.preventDefault(),p<0&&h?p=n.length-1:p===n.length&&h&&(p=0);const _=n[p];_&&_.focus()}function fc({page:t=1,totalPages:e,siblingCount:r=1}){const n=[],s=new Set([1,e]),o=3+r,i=e-2-r;if(o>i)for(let h=2;h<=e-1;h++)s.add(h);else if(t<o)for(let h=2;h<=Math.min(o,e);h++)s.add(h);else if(t>i)for(let h=e-1;h>=Math.max(i,2);h--)s.add(h);else for(let h=Math.max(t-r,2);h<=Math.min(t+r,e);h++)s.add(h);function a(h){n.push({type:"page",value:h,key:`page-${h}`})}function u(){const h=xe();n.push({type:"ellipsis",key:`ellipsis-${h}`})}let l=0;for(const h of Array.from(s).sort((v,p)=>v-p))h-l>1&&u(),a(h),l=h;return n}const as=new Co("Pagination.Root");function hc(t){return as.set(new lc(t))}function gc(t){return new uc(t,as.get())}function Bo(t){return new dc(t,as.get())}var pc=W("<div><!></div>");function vc(t,e){Ot(e,!0);let r=U(e,"id",19,xe),n=U(e,"perPage",3,1),s=U(e,"page",15,1),o=U(e,"ref",15,null),i=U(e,"siblingCount",3,1),a=U(e,"onPageChange",3,$n),u=U(e,"loop",3,!1),l=U(e,"orientation",3,"horizontal"),h=_e(e,["$$slots","$$events","$$legacy","id","count","perPage","page","ref","siblingCount","onPageChange","loop","orientation","child","children"]);const v=hc({id:G.with(()=>r()),count:G.with(()=>e.count),perPage:G.with(()=>n()),page:G.with(()=>s(),O=>{var T;s(O),(T=a())==null||T(O)}),loop:G.with(()=>u()),siblingCount:G.with(()=>i()),orientation:G.with(()=>l()),ref:G.with(()=>o(),O=>o(O))}),p=D(()=>Te(h,v.props));var _=lt(),d=H(_);{var m=O=>{var T=lt(),x=H(T),$=ts(()=>({props:f(p),...v.snippetProps}));Mt(x,()=>e.child,()=>f($)),P(O,T)},b=O=>{var T=pc();let x;var $=k(T);Mt($,()=>e.children??me,()=>v.snippetProps),S(T),tt(()=>x=be(T,x,{...f(p)})),P(O,T)};ot(d,O=>{e.child?O(m):O(b,!1)})}P(t,_),Et()}var mc=W("<button><!></button>");function yc(t,e){Ot(e,!0);let r=U(e,"id",19,xe),n=U(e,"ref",15,null),s=U(e,"type",3,"button"),o=U(e,"disabled",3,!1),i=_e(e,["$$slots","$$events","$$legacy","id","child","children","ref","type","disabled"]);const a=Bo({type:"prev",id:G.with(()=>r()),ref:G.with(()=>n(),_=>n(_)),disabled:G.with(()=>!!o())}),u=D(()=>Te(i,a.props,{type:s()}));var l=lt(),h=H(l);{var v=_=>{var d=lt(),m=H(d);Mt(m,()=>e.child,()=>({props:f(u)})),P(_,d)},p=_=>{var d=mc();let m;var b=k(d);Mt(b,()=>e.children??me),S(d),tt(()=>m=be(d,m,{...f(u)})),P(_,d)};ot(h,_=>{e.child?_(v):_(p,!1)})}P(t,l),Et()}var _c=W("<button><!></button>");function bc(t,e){Ot(e,!0);let r=U(e,"id",19,xe),n=U(e,"ref",15,null),s=U(e,"type",3,"button"),o=U(e,"disabled",3,!1),i=_e(e,["$$slots","$$events","$$legacy","id","child","children","ref","type","disabled"]);const a=Bo({type:"next",id:G.with(()=>r()),ref:G.with(()=>n(),_=>n(_)),disabled:G.with(()=>!!o())}),u=D(()=>Te(i,a.props,{type:s()}));var l=lt(),h=H(l);{var v=_=>{var d=lt(),m=H(d);Mt(m,()=>e.child,()=>({props:f(u)})),P(_,d)},p=_=>{var d=_c();let m;var b=k(d);Mt(b,()=>e.children??me),S(d),tt(()=>m=be(d,m,{...f(u)})),P(_,d)};ot(h,_=>{e.child?_(v):_(p,!1)})}P(t,l),Et()}var wc=W("<button><!></button>");function xc(t,e){Ot(e,!0);let r=U(e,"id",19,xe),n=U(e,"type",3,"button"),s=U(e,"ref",15,null),o=U(e,"disabled",3,!1),i=_e(e,["$$slots","$$events","$$legacy","id","page","child","children","type","ref","disabled"]);const a=gc({id:G.with(()=>r()),page:G.with(()=>e.page),ref:G.with(()=>s(),_=>s(_)),disabled:G.with(()=>!!o())}),u=D(()=>Te(i,a.props,{type:n()}));var l=lt(),h=H(l);{var v=_=>{var d=lt(),m=H(d);Mt(m,()=>e.child,()=>({props:f(u)})),P(_,d)},p=_=>{var d=wc();let m;var b=k(d);{var O=x=>{var $=lt(),q=H($);Mt(q,()=>e.children??me),P(x,$)},T=x=>{var $=Nt();tt(()=>Z($,e.page.value)),P(x,$)};ot(b,x=>{e.children?x(O):x(T,!1)})}S(d),tt(()=>m=be(d,m,{...f(u)})),P(_,d)};ot(h,_=>{e.child?_(v):_(p,!1)})}P(t,l),Et()}function Sc(t,e,r){const n={position:"absolute"};return t==="lr"?(n.left=`${e}%`,n.right=`${r}%`):t==="rl"?(n.right=`${e}%`,n.left=`${r}%`):t==="bt"?(n.bottom=`${e}%`,n.top=`${r}%`):(n.top=`${e}%`,n.bottom=`${r}%`),n}function Do(t,e){const r={position:"absolute"};return t==="lr"?(r.left=`${e}%`,r.translate="-50% 0"):t==="rl"?(r.right=`${e}%`,r.translate="50% 0"):t==="bt"?(r.bottom=`${e}%`,r.translate="0 50%"):(r.top=`${e}%`,r.translate="0 -50%"),r}function Vo(t,e,r){const n={position:"absolute"};return t==="lr"?(n.left=`${e}%`,n.translate=`${r}% 0`):t==="rl"?(n.right=`${e}%`,n.translate=`${-r}% 0`):t==="bt"?(n.bottom=`${e}%`,n.translate=`0 ${-r}%`):(n.top=`${e}%`,n.translate=`0 ${r}%`),n}function Me(t,e,r,n){const s=(t-(Number.isNaN(e)?0:e))%n;let o=Math.abs(s)*2>=n?t+Math.sign(s)*(n-Math.abs(s)):t-s;Number.isNaN(e)?!Number.isNaN(r)&&o>r&&(o=Math.floor(r/n)*n):o<e?o=e:!Number.isNaN(r)&&o>r&&(o=e+Math.floor((r-e)/n)*n);const i=n.toString(),a=i.indexOf("."),u=a>=0?i.length-a:0;if(u>0){const l=10**u;o=Math.round(o*l)/l}return o}const Pc="data-slider-root",Er="data-slider-thumb",kc="data-slider-range",Wo="data-slider-tick";var hr,Dr,Vr,Wr;class Uo{constructor(e){gt(this,"opts");rt(this,hr,It(!1));rt(this,Dr,D(()=>this.opts.orientation.current==="horizontal"?this.opts.dir.current==="rtl"?"rl":"lr":this.opts.dir.current==="rtl"?"tb":"bt"));rt(this,Vr,D(()=>{if(!this.opts.disabled.current)return this.opts.orientation.current==="horizontal"?"pan-y":"pan-x"}));gt(this,"getAllThumbs",()=>{const e=this.opts.ref.current;return e?Array.from(e.querySelectorAll(`[${Er}]`)):[]});rt(this,Wr,D(()=>({id:this.opts.id.current,"data-orientation":this.opts.orientation.current,"data-disabled":ln(this.opts.disabled.current),style:{touchAction:f(Q(this,Vr))},[Pc]:""})));this.opts=e,Be(e)}get isActive(){return f(Q(this,hr))}set isActive(e){st(Q(this,hr),ht(e))}get direction(){return f(Q(this,Dr))}get props(){return f(Q(this,Wr))}}hr=new WeakMap,Dr=new WeakMap,Vr=new WeakMap,Wr=new WeakMap;var Ur,qr,Hr,Xr,Gr;class jc extends Uo{constructor(r){super(r);gt(this,"opts");gt(this,"isMulti",!1);gt(this,"updateValue",r=>{this.opts.value.current=Me(r,this.opts.min.current,this.opts.max.current,this.opts.step.current)});gt(this,"handlePointerMove",r=>{if(!this.isActive||this.opts.disabled.current)return;r.preventDefault(),r.stopPropagation();const n=this.opts.ref.current,s=this.getAllThumbs()[0];if(!n||!s)return;s.focus();const{left:o,right:i,top:a,bottom:u}=n.getBoundingClientRect();this.direction==="lr"?this.applyPosition({clientXY:r.clientX,start:o,end:i}):this.direction==="rl"?this.applyPosition({clientXY:r.clientX,start:i,end:o}):this.direction==="bt"?this.applyPosition({clientXY:r.clientY,start:u,end:a}):this.direction==="tb"&&this.applyPosition({clientXY:r.clientY,start:a,end:u})});gt(this,"handlePointerDown",r=>{if(r.button!==0||this.opts.disabled.current)return;const n=this.opts.ref.current,s=this.getAllThumbs()[0];if(!s||!n)return;const o=r.target;!Fo(o)||!n.contains(o)||(r.preventDefault(),s.focus(),this.isActive=!0,this.handlePointerMove(r))});gt(this,"handlePointerUp",()=>{this.opts.disabled.current||(this.isActive&&this.opts.onValueCommit.current(ue(()=>this.opts.value.current)),this.isActive=!1)});gt(this,"getPositionFromValue",r=>{const n=this.opts.min.current,s=this.opts.max.current;return(r-n)/(s-n)*100});rt(this,Ur,D(()=>{const r=this.opts.value.current;return Array.from({length:1},()=>{const n=r,s=this.getPositionFromValue(n??0),o=Do(this.direction,s);return{role:"slider","aria-valuemin":this.opts.min.current,"aria-valuemax":this.opts.max.current,"aria-valuenow":n,"aria-disabled":No(this.opts.disabled.current),"aria-orientation":this.opts.orientation.current,"data-value":n,tabindex:this.opts.disabled.current?-1:0,style:o,[Er]:""}})}));rt(this,qr,D(()=>this.thumbsPropsArr.map((r,n)=>n)));rt(this,Hr,D(()=>{const r=this.opts.max.current,n=this.opts.min.current,s=this.opts.step.current,o=r-n;let i=Math.ceil(o/s);o%s==0&&i++;const a=this.opts.value.current;return Array.from({length:i},(u,l)=>{const h=l*(s/o)*100,v=l===0,p=l===i-1,_=v?0:p?-100:-50,d=Vo(this.direction,h,_),m=n+l*s,b=m<=a;return{"data-disabled":ln(this.opts.disabled.current),"data-orientation":this.opts.orientation.current,"data-bounded":b?"":void 0,"data-value":m,style:d,[Wo]:""}})}));rt(this,Xr,D(()=>this.ticksPropsArr.map((r,n)=>n)));rt(this,Gr,D(()=>({ticks:this.ticksRenderArr,thumbs:this.thumbsRenderArr})));this.opts=r,Io(()=>rs(ee(document,"pointerdown",this.handlePointerDown),ee(document,"pointerup",this.handlePointerUp),ee(document,"pointermove",this.handlePointerMove),ee(document,"pointerleave",this.handlePointerUp))),cn([()=>this.opts.step.current,()=>this.opts.min.current,()=>this.opts.max.current,()=>this.opts.value.current],([n,s,o,i])=>{const a=l=>Me(l,s,o,n)===l,u=l=>Me(l,s,o,n);a(i)||(this.opts.value.current=u(i))})}applyPosition({clientXY:r,start:n,end:s}){const o=this.opts.min.current,i=this.opts.max.current,u=(r-n)/(s-n)*(i-o)+o;if(u<o)this.updateValue(o);else if(u>i)this.updateValue(i);else{const l=this.opts.step.current,h=Math.floor((u-o)/l),v=o+h*l+l/2,p=o+(h+1)*l+l/2,_=u>=v&&u<p?(h+1)*l+o:h*l+o;_<=i&&this.updateValue(_)}}get thumbsPropsArr(){return f(Q(this,Ur))}get thumbsRenderArr(){return f(Q(this,qr))}get ticksPropsArr(){return f(Q(this,Hr))}get ticksRenderArr(){return f(Q(this,Xr))}get snippetProps(){return f(Q(this,Gr))}}Ur=new WeakMap,qr=new WeakMap,Hr=new WeakMap,Xr=new WeakMap,Gr=new WeakMap;var gr,pr,Yr,Kr,Jr,Qr,Zr,tn;class Ac extends Uo{constructor(r){super(r);gt(this,"opts");gt(this,"isMulti",!0);rt(this,gr,It(null));rt(this,pr,It(0));rt(this,Yr,r=>{const n=this.getAllThumbs();if(!n.length)return;for(const a of n)a.blur();const s=n.map(a=>{if(this.opts.orientation.current==="horizontal"){const{left:u,right:l}=a.getBoundingClientRect();return Math.abs(r.clientX-(u+l)/2)}else{const{top:u,bottom:l}=a.getBoundingClientRect();return Math.abs(r.clientY-(u+l)/2)}}),o=n[s.indexOf(Math.min(...s))],i=n.indexOf(o);return{node:o,idx:i}});gt(this,"handlePointerMove",r=>{if(!this.isActive||this.opts.disabled.current)return;r.preventDefault(),r.stopPropagation();const n=this.opts.ref.current,s=this.activeThumb;if(!n||!s)return;s.node.focus();const{left:o,right:i,top:a,bottom:u}=n.getBoundingClientRect(),l=this.direction;l==="lr"?this.applyPosition({clientXY:r.clientX,activeThumbIdx:s.idx,start:o,end:i}):l==="rl"?this.applyPosition({clientXY:r.clientX,activeThumbIdx:s.idx,start:i,end:o}):l==="bt"?this.applyPosition({clientXY:r.clientY,activeThumbIdx:s.idx,start:u,end:a}):l==="tb"&&this.applyPosition({clientXY:r.clientY,activeThumbIdx:s.idx,start:a,end:u})});gt(this,"handlePointerDown",r=>{if(r.button!==0||this.opts.disabled.current)return;const n=this.opts.ref.current,s=Q(this,Yr).call(this,r);if(!s||!n)return;const o=r.target;!Fo(o)||!n.contains(o)||(r.preventDefault(),this.activeThumb=s,s.node.focus(),this.isActive=!0,this.handlePointerMove(r))});gt(this,"handlePointerUp",()=>{this.opts.disabled.current||(this.isActive&&this.opts.onValueCommit.current(ue(()=>this.opts.value.current)),this.isActive=!1)});gt(this,"getPositionFromValue",r=>{const n=this.opts.min.current,s=this.opts.max.current;return(r-n)/(s-n)*100});gt(this,"getAllThumbs",()=>{const r=this.opts.ref.current;return r?Array.from(r.querySelectorAll(`[${Er}]`)):[]});gt(this,"updateValue",(r,n)=>{const s=this.opts.value.current;if(!s.length){this.opts.value.current.push(r);return}if(s[n]===r)return;const i=[...s];if(!sc(n,i))return;const a=i[n]>r?-1:1,u=()=>{var d;const p=n+a;i[n]=i[p],i[p]=r;const _=this.getAllThumbs();_.length&&((d=_[p])==null||d.focus(),this.activeThumb={node:_[p],idx:p})};if(this.opts.autoSort.current&&(a===-1&&r<i[n-1]||a===1&&r>i[n+1])){u(),this.opts.value.current=i;return}const l=this.opts.min.current,h=this.opts.max.current,v=this.opts.step.current;i[n]=Me(r,l,h,v),this.opts.value.current=i});rt(this,Kr,D(()=>{const r=this.opts.value.current;return Array.from({length:r.length||1},(n,s)=>{const o=ue(()=>this.currentThumbIdx);o<r.length&&ue(()=>{this.currentThumbIdx=o+1});const i=r[s],a=this.getPositionFromValue(i??0),u=Do(this.direction,a);return{role:"slider","aria-valuemin":this.opts.min.current,"aria-valuemax":this.opts.max.current,"aria-valuenow":i,"aria-disabled":No(this.opts.disabled.current),"aria-orientation":this.opts.orientation.current,"data-value":i,tabindex:this.opts.disabled.current?-1:0,style:u,[Er]:""}})}));rt(this,Jr,D(()=>this.thumbsPropsArr.map((r,n)=>n)));rt(this,Qr,D(()=>{const r=this.opts.max.current,n=this.opts.min.current,s=this.opts.step.current,o=r-n;let i=Math.ceil(o/s);o%s==0&&i++;const a=this.opts.value.current;return Array.from({length:i},(u,l)=>{const h=l*(s/o)*100,v=l===0,p=l===i-1,_=v?0:p?-100:-50,d=Vo(this.direction,h,_),m=n+l*s,b=a.length===1?m<=a[0]:a[0]<=m&&m<=a[a.length-1];return{"data-disabled":ln(this.opts.disabled.current),"data-orientation":this.opts.orientation.current,"data-bounded":b?"":void 0,"data-value":m,style:d,[Wo]:""}})}));rt(this,Zr,D(()=>this.ticksPropsArr.map((r,n)=>n)));rt(this,tn,D(()=>({ticks:this.ticksRenderArr,thumbs:this.thumbsRenderArr})));this.opts=r,Io(()=>rs(ee(document,"pointerdown",this.handlePointerDown),ee(document,"pointerup",this.handlePointerUp),ee(document,"pointermove",this.handlePointerMove),ee(document,"pointerleave",this.handlePointerUp))),cn([()=>this.opts.step.current,()=>this.opts.min.current,()=>this.opts.max.current,()=>this.opts.value.current],([n,s,o,i])=>{const a=l=>Me(l,s,o,n)===l,u=l=>Me(l,s,o,n);i.some(l=>!a(l))&&(this.opts.value.current=i.map(u))})}get activeThumb(){return f(Q(this,gr))}set activeThumb(r){st(Q(this,gr),ht(r))}get currentThumbIdx(){return f(Q(this,pr))}set currentThumbIdx(r){st(Q(this,pr),ht(r))}applyPosition({clientXY:r,activeThumbIdx:n,start:s,end:o}){const i=this.opts.min.current,a=this.opts.max.current,l=(r-s)/(o-s)*(a-i)+i;if(l<i)this.updateValue(i,n);else if(l>a)this.updateValue(a,n);else{const h=this.opts.step.current,v=Math.floor((l-i)/h),p=i+v*h+h/2,_=i+(v+1)*h+h/2,d=l>=p&&l<_?(v+1)*h+i:v*h+i;d<=a&&this.updateValue(d,n)}}get thumbsPropsArr(){return f(Q(this,Kr))}get thumbsRenderArr(){return f(Q(this,Jr))}get ticksPropsArr(){return f(Q(this,Qr))}get ticksRenderArr(){return f(Q(this,Zr))}get snippetProps(){return f(Q(this,tn))}}gr=new WeakMap,pr=new WeakMap,Yr=new WeakMap,Kr=new WeakMap,Jr=new WeakMap,Qr=new WeakMap,Zr=new WeakMap,tn=new WeakMap;const Oc=[un,dn,ss,ns,is,os];var en,rn;class Ec{constructor(e,r){gt(this,"opts");gt(this,"root");rt(this,en,D(()=>{const e=Array.isArray(this.root.opts.value.current)&&this.root.opts.value.current.length>1?this.root.getPositionFromValue(Math.min(...this.root.opts.value.current)??0):0,r=Array.isArray(this.root.opts.value.current)?100-this.root.getPositionFromValue(Math.max(...this.root.opts.value.current)??0):100-this.root.getPositionFromValue(this.root.opts.value.current);return{position:"absolute",...Sc(this.root.direction,e,r)}}));rt(this,rn,D(()=>({id:this.opts.id.current,"data-orientation":this.root.opts.orientation.current,"data-disabled":ln(this.root.opts.disabled.current),style:this.rangeStyles,[kc]:""})));this.opts=e,this.root=r,Be(e)}get rangeStyles(){return f(Q(this,en))}get props(){return f(Q(this,rn))}}en=new WeakMap,rn=new WeakMap;var nn,At,Ct,sn;class Rc{constructor(e,r){rt(this,At);gt(this,"opts");gt(this,"root");rt(this,nn,D(()=>this.root.opts.disabled.current||this.opts.disabled.current));rt(this,sn,D(()=>({...this.root.thumbsPropsArr[this.opts.index.current],id:this.opts.id.current,onkeydown:this.onkeydown})));this.opts=e,this.root=r,Be(e),this.onkeydown=this.onkeydown.bind(this)}onkeydown(e){if(f(Q(this,nn)))return;const r=this.opts.ref.current;if(!r)return;const n=this.root.getAllThumbs();if(!n.length)return;const s=n.indexOf(r);if(this.root.isMulti&&(this.root.currentThumbIdx=s),!Oc.includes(e.key))return;e.preventDefault();const o=this.root.opts.min.current,i=this.root.opts.max.current,a=this.root.opts.value.current,u=Array.isArray(a)?a[s]:a,l=this.root.opts.orientation.current,h=this.root.direction,v=this.root.opts.step.current;switch(e.key){case is:jt(this,At,Ct).call(this,o);break;case os:jt(this,At,Ct).call(this,i);break;case un:if(l!=="horizontal")break;if(e.metaKey){const p=h==="rl"?i:o;jt(this,At,Ct).call(this,p)}else h==="rl"&&u<i?jt(this,At,Ct).call(this,u+v):h==="lr"&&u>o&&jt(this,At,Ct).call(this,u-v);break;case dn:if(l!=="horizontal")break;if(e.metaKey){const p=h==="rl"?o:i;jt(this,At,Ct).call(this,p)}else h==="rl"&&u>o?jt(this,At,Ct).call(this,u-v):h==="lr"&&u<i&&jt(this,At,Ct).call(this,u+v);break;case ss:if(e.metaKey){const p=h==="tb"?o:i;jt(this,At,Ct).call(this,p)}else h==="tb"&&u>o?jt(this,At,Ct).call(this,u-v):h!=="tb"&&u<i&&jt(this,At,Ct).call(this,u+v);break;case ns:if(e.metaKey){const p=h==="tb"?i:o;jt(this,At,Ct).call(this,p)}else h==="tb"&&u<i?jt(this,At,Ct).call(this,u+v):h!=="tb"&&u>o&&jt(this,At,Ct).call(this,u-v);break}this.root.opts.onValueCommit.current(this.root.opts.value.current)}get props(){return f(Q(this,sn))}}nn=new WeakMap,At=new WeakSet,Ct=function(e){this.root.isMulti?this.root.updateValue(e,this.opts.index.current):this.root.updateValue(e)},sn=new WeakMap;const cs=new Co("Slider.Root");function Tc(t){const{type:e,...r}=t,n=e==="single"?new jc(r):new Ac(r);return cs.set(n)}function zc(t){return new Ec(t,cs.get())}function Cc(t){return new Rc(t,cs.get())}var Ic=W("<span><!></span>");function Nc(t,e){Ot(e,!0);let r=U(e,"id",19,xe),n=U(e,"ref",15,null),s=U(e,"value",15),o=U(e,"onValueChange",3,$n),i=U(e,"onValueCommit",3,$n),a=U(e,"disabled",3,!1),u=U(e,"min",3,0),l=U(e,"max",3,100),h=U(e,"step",3,1),v=U(e,"dir",3,"ltr"),p=U(e,"autoSort",3,!0),_=U(e,"orientation",3,"horizontal"),d=_e(e,["$$slots","$$events","$$legacy","children","child","id","ref","value","type","onValueChange","onValueCommit","disabled","min","max","step","dir","autoSort","orientation"]);s()===void 0&&s(e.type==="single"?0:[]);const m=Tc({id:G.with(()=>r()),ref:G.with(()=>n(),q=>n(q)),value:G.with(()=>s(),q=>{s(q),o()(q)}),onValueCommit:G.with(()=>i()),disabled:G.with(()=>a()),min:G.with(()=>u()),max:G.with(()=>l()),step:G.with(()=>h()),dir:G.with(()=>v()),autoSort:G.with(()=>p()),orientation:G.with(()=>_()),type:e.type}),b=D(()=>Te(d,m.props));var O=lt(),T=H(O);{var x=q=>{var j=lt(),z=H(j),X=ts(()=>({props:f(b),...m.snippetProps}));Mt(z,()=>e.child,()=>f(X)),P(q,j)},$=q=>{var j=Ic();let z;var X=k(j);Mt(X,()=>e.children??me,()=>m.snippetProps),S(j),tt(()=>z=be(j,z,{...f(b)})),P(q,j)};ot(T,q=>{e.child?q(x):q($,!1)})}P(t,O),Et()}var Mc=W("<span><!></span>");function Lc(t,e){Ot(e,!0);let r=U(e,"ref",15,null),n=U(e,"id",19,xe),s=_e(e,["$$slots","$$events","$$legacy","children","child","ref","id"]);const o=zc({id:G.with(()=>n()),ref:G.with(()=>r(),v=>r(v))}),i=D(()=>Te(s,o.props));var a=lt(),u=H(a);{var l=v=>{var p=lt(),_=H(p);Mt(_,()=>e.child,()=>({props:f(i)})),P(v,p)},h=v=>{var p=Mc();let _;var d=k(p);Mt(d,()=>e.children??me),S(p),tt(()=>_=be(p,_,{...f(i)})),P(v,p)};ot(u,v=>{e.child?v(l):v(h,!1)})}P(t,a),Et()}var Fc=W("<span><!></span>");function $c(t,e){Ot(e,!0);let r=U(e,"ref",15,null),n=U(e,"id",19,xe),s=U(e,"disabled",3,!1),o=_e(e,["$$slots","$$events","$$legacy","children","child","ref","id","index","disabled"]);const i=Cc({id:G.with(()=>n()),ref:G.with(()=>r(),p=>r(p)),index:G.with(()=>e.index),disabled:G.with(()=>s())}),a=D(()=>Te(o,i.props));var u=lt(),l=H(u);{var h=p=>{var _=lt(),d=H(_);Mt(d,()=>e.child,()=>({props:f(a)})),P(p,_)},v=p=>{var _=Fc();let d;var m=k(_);Mt(m,()=>e.children??me),S(_),tt(()=>d=be(_,d,{...f(a)})),P(p,_)};ot(l,p=>{e.child?p(h):p(v,!1)})}P(t,u),Et()}function Bc(t,e){const r=de(e,["children","$$slots","$$events","$$legacy"]);we(t,fe({name:"arrow-down"},()=>r,{iconNode:[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]],children:(s,o)=>{var i=lt(),a=H(i);ye(a,e,"default",{}),P(s,i)},$$slots:{default:!0}}))}function Dc(t,e){const r=de(e,["children","$$slots","$$events","$$legacy"]);we(t,fe({name:"arrow-up"},()=>r,{iconNode:[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]],children:(s,o)=>{var i=lt(),a=H(i);ye(a,e,"default",{}),P(s,i)},$$slots:{default:!0}}))}function Vc(t,e){const r=de(e,["children","$$slots","$$events","$$legacy"]);we(t,fe({name:"chevron-left"},()=>r,{iconNode:[["path",{d:"m15 18-6-6 6-6"}]],children:(s,o)=>{var i=lt(),a=H(i);ye(a,e,"default",{}),P(s,i)},$$slots:{default:!0}}))}function Wc(t,e){const r=de(e,["children","$$slots","$$events","$$legacy"]);we(t,fe({name:"chevron-right"},()=>r,{iconNode:[["path",{d:"m9 18 6-6-6-6"}]],children:(s,o)=>{var i=lt(),a=H(i);ye(a,e,"default",{}),P(s,i)},$$slots:{default:!0}}))}function Uc(t,e){const r=de(e,["children","$$slots","$$events","$$legacy"]);we(t,fe({name:"filter"},()=>r,{iconNode:[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}]],children:(s,o)=>{var i=lt(),a=H(i);ye(a,e,"default",{}),P(s,i)},$$slots:{default:!0}}))}function qc(t,e){const r=de(e,["children","$$slots","$$events","$$legacy"]);we(t,fe({name:"layout-grid"},()=>r,{iconNode:[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"}]],children:(s,o)=>{var i=lt(),a=H(i);ye(a,e,"default",{}),P(s,i)},$$slots:{default:!0}}))}function Hc(t,e){const r=de(e,["children","$$slots","$$events","$$legacy"]);we(t,fe({name:"map"},()=>r,{iconNode:[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"}],["path",{d:"M15 5.764v15"}],["path",{d:"M9 3.236v15"}]],children:(s,o)=>{var i=lt(),a=H(i);ye(a,e,"default",{}),P(s,i)},$$slots:{default:!0}}))}function Xc(t,e){const r=de(e,["children","$$slots","$$events","$$legacy"]);we(t,fe({name:"table"},()=>r,{iconNode:[["path",{d:"M12 3v18"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}]],children:(s,o)=>{var i=lt(),a=H(i);ye(a,e,"default",{}),P(s,i)},$$slots:{default:!0}}))}const Gc={"images.ctfassets.net":"contentful","cdn.builder.io":"builder.io","images.prismic.io":"imgix","www.datocms-assets.com":"imgix","cdn.sanity.io":"imgix","images.unsplash.com":"imgix","cdn.shopify.com":"shopify","s7d1.scene7.com":"scene7","ip.keycdn.com":"keycdn","assets.caisy.io":"bunny","images.contentstack.io":"contentstack","ucarecdn.com":"uploadcare","imagedelivery.net":"cloudflare_images"},Yc={"imgix.net":"imgix","files.wordpress.com":"wordpress","b-cdn.net":"bunny","storyblok.com":"storyblok","kc-usercontent.com":"kontent.ai","cloudinary.com":"cloudinary","kxcdn.com":"keycdn","imgeng.in":"imageengine","imagekit.io":"imagekit","cloudimg.io":"cloudimage","ucarecdn.com":"uploadcare","supabase.co":"supabase"},Kc={"/cdn-cgi/image/":"cloudflare","/cdn-cgi/imagedelivery/":"cloudflare_images","/_next/image":"nextjs","/_next/static":"nextjs","/_vercel/image":"vercel","/is/image":"scene7","/_ipx/":"ipx","/_image":"astro","/.netlify/images":"netlify","/storage/v1/object/public/":"supabase","/storage/v1/render/image/public/":"supabase"},Le=t=>{if(!t)return t;const e=Number(t);return isNaN(e)?t:Math.round(e)},Y=(t,e,r,n,s)=>{r?(s&&(r=Le(r)),t.searchParams.set(e,r.toString())):n&&t.searchParams.delete(e)},Bt=(t,e,r)=>{t.searchParams.has(e)||t.searchParams.set(e,r.toString())},ar=(t,e)=>{const r=Number(t.searchParams.get(e));return isNaN(r)?void 0:r},qo=t=>{const{pathname:e,search:r}=t;return`${e}${r}`},ls=t=>t.hostname==="n"?qo(t):t.toString(),ut=(t,e)=>typeof t=="string"?new URL(t,e??"http://n/"):t,zs=new Map(Object.entries(Gc)),Jc=Object.entries(Yc);function Qc(t){return Ho(t)||Zc(t)}function Ho(t){if(typeof t=="string"&&!t.startsWith("https://"))return!1;const{hostname:e}=ut(t);if(zs.has(e))return zs.get(e);for(const[r,n]of Jc)if(e.endsWith(`.${r}`))return n;return!1}function Zc(t){const{pathname:e}=ut(t);for(const[r,n]of Object.entries(Kc))if(e.startsWith(r))return n;return!1}const tl=({url:t,width:e,height:r,format:n})=>{const s=ut(t);return e&&e>4e3&&(r&&(r=Math.round(r*4e3/e)),e=4e3),r&&r>4e3&&(e&&(e=Math.round(e*4e3/r)),r=4e3),Y(s,"w",e,!0,!0),Y(s,"h",r,!0,!0),Y(s,"fm",n),Bt(s,"fit","fill"),s},el=({url:t,width:e,height:r,format:n})=>{const s=ut(t);return Y(s,"width",e,!0,!0),Y(s,"height",r,!0,!0),Y(s,"format",n),e&&r&&(Bt(s,"fit","cover"),Bt(s,"sharp","true")),s},rl=({url:t,width:e,height:r,format:n})=>{var o;const s=ut(t);if(Y(s,"w",e,!0,!0),Y(s,"h",r,!0,!0),Bt(s,"fit","min"),n){s.searchParams.set("fm",n);const i=s.searchParams.get("auto");i==="format"?s.searchParams.delete("auto"):i!=null&&i.includes("format")&&s.searchParams.set("auto",i.split(",").filter(a=>a!=="format").join(","))}else s.searchParams.delete("fm"),(o=s.searchParams.get("auto"))!=null&&o.includes("format")||s.searchParams.append("auto","format");return s},nl=/(.+?)(?:_(?:(pico|icon|thumb|small|compact|medium|large|grande|original|master)|(\d*)x(\d*)))?(?:_crop_([a-z]+))?(\.[a-zA-Z]+)(\.png|\.jpg|\.webp|\.avif)?$/,sl=t=>{const e=ut(t),r=e.pathname.match(nl);if(!r)throw new Error("Invalid Shopify URL");const[,n,s,o,i,a,u,l]=r;e.pathname=`${n}${u}`;const h=o||e.searchParams.get("width"),v=i||e.searchParams.get("height");return e.searchParams.delete("width"),e.searchParams.delete("height"),{base:e.toString(),width:Number(h)||void 0,height:Number(v)||void 0,format:l?l.slice(1):void 0,params:{crop:a,size:s},cdn:"shopify"}},ol=({base:t,width:e,height:r,format:n,params:s})=>{const o=ut(t);return Y(o,"width",e,!0,!0),Y(o,"height",r,!0,!0),Y(o,"crop",s==null?void 0:s.crop),Y(o,"format",n),o},il=({url:t,width:e,height:r})=>{const n=sl(t);if(!n)return;const s={...n,width:e,height:r};return ol(s)},al=({url:t,width:e,height:r})=>{const n=ut(t);return Y(n,"w",e,!0,!0),Y(n,"h",r,!0,!0),Bt(n,"crop","1"),n},cl=({url:t,width:e,height:r})=>{const n=ut(t);return Y(n,"w",e,!0,!0),Y(n,"h",r,!0,!0),Y(n,"q",ar(n,"q"),!0),n},ll=/https?:\/\/(?<host>[^\/]+)\/(?<cloudName>[^\/]+)\/(?<assetType>image|video|raw)\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)\/?(?<signature>s\-\-[a-zA-Z0-9]+\-\-)?\/?(?<transformations>(?:[^_\/]+_[^,\/]+,?)*)?\/(?:(?<version>v\d+)\/)?(?<idAndFormat>[^\s]+)$/g,ul=t=>t?Object.fromEntries(t.split(",").map(e=>e.split("_"))):{},Xo=({host:t,cloudName:e,assetType:r,deliveryType:n,signature:s,transformations:o={},version:i,id:a,format:u})=>{u&&(o.f=u);const l=Object.entries(o).map(([v,p])=>`${v}_${p}`).join(",");return`https://${[t,e,r,n,s,l,i,a].filter(Boolean).join("/")}`},Go=t=>{const r=[...ut(t).toString().matchAll(ll)];if(!r.length)throw new Error("Invalid Cloudinary URL");const n=r[0].groups||{},{transformations:s="",idAndFormat:o,...i}=n;delete n.idAndFormat;const a=o.lastIndexOf("."),u=a<0?o:o.slice(0,a),l=a<0?void 0:o.slice(a+1),{w:h,h:v,f:p,..._}=ul(s),d=p&&p!=="auto"?p:l;return{base:Xo({...i,id:u,transformations:_}),width:Number(h)||void 0,height:Number(v)||void 0,format:d,cdn:"cloudinary",params:{...n,id:n.deliveryType==="fetch"?o:u,format:d,transformations:_}}},dl=({base:t,width:e,height:r,format:n,params:s})=>{var a;const o=Go(t.toString()),i={transformations:{},...o.params,...s,format:n||"auto"};return e&&(i.transformations.w=Le(e).toString()),r&&(i.transformations.h=Le(r).toString()),(a=i.transformations).c||(a.c="lfill"),Xo(i)},fl=({url:t,width:e,height:r,format:n="auto"})=>{var i,a;const s=Go(t);if(!s)throw new Error("Invalid Cloudinary URL");if(((i=s.params)==null?void 0:i.assetType)!=="image")throw new Error("Cloudinary transformer only supports images");if((a=s.params)!=null&&a.signature)throw new Error("Cloudinary transformer does not support signed URLs");const o={...s,width:e,height:r,format:n};return dl(o)},hl=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/image\/(?<transformations>[^\/]+)?\/(?<path>.*)$/g,gl=t=>Object.fromEntries(t.split(",").map(e=>e.split("="))),Yo=({host:t,transformations:e={},path:r})=>{const n=Object.entries(e).map(([o,i])=>`${o}=${i}`).join(",");return`https://${[t,"cdn-cgi","image",n,r].join("/")}`},Ko=t=>{const e=ut(t),r=[...e.toString().matchAll(hl)];if(!r.length)throw new Error("Invalid Cloudflare URL");const n=r[0].groups||{},{transformations:s,...o}=n,{width:i,height:a,f:u,...l}=gl(s);return Yo({...o,transformations:l}),{base:e.toString(),width:Number(i)||void 0,height:Number(a)||void 0,format:u,cdn:"cloudflare",params:{...n,transformations:l}}},pl=({base:t,width:e,height:r,format:n,params:s})=>{var a;const o=Ko(t.toString()),i={transformations:{},...o.params,...s};return e&&(i.transformations.width=e==null?void 0:e.toString()),r&&(i.transformations.height=r==null?void 0:r.toString()),n&&(i.transformations.f=n==="jpg"?"jpeg":n),(a=i.transformations).fit||(a.fit="cover"),new URL(Yo(i))},vl=({url:t,width:e,height:r,format:n="auto"})=>{const s=Ko(t);if(!s)throw new Error("Invalid Cloudflare URL");const o={...s,width:e,height:r,format:n};return pl(o)},ml=({url:t,width:e,height:r})=>{const n=ut(t);return Y(n,"width",e,!0,!0),e&&r&&Bt(n,"aspect_ratio",`${e}:${r}`),n},yl=/(?<id>\/f\/\d+\/\d+x\d+\/\w+\/[^\/]+)\/?(?<modifiers>m\/?(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?)?$/g,_l=/^(?<modifiers>\/(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?\/?)?(?<id>\/f\/.+)$/g,bl=t=>t?Object.fromEntries(t.split(":").map(e=>{if(!e)return[];const[r,n]=e.split("(");return[r,n.replace(")","")]})):{},wl=t=>{if(!t)return;const e=Object.entries(t).map(([r,n])=>`${r}(${n??""})`);if(e.length!==0)return`filters:${e.join(":")}`},xl=t=>{const e=ut(t),r=e.hostname==="img2.storyblok.com"?_l:yl,[n]=e.pathname.matchAll(r);if(!n||!n.groups)throw new Error("Invalid Storyblok URL");const{id:s,crop:o,width:i,height:a,filters:u,flipx:l,flipy:h}=n.groups,{format:v,...p}=bl(u);return e.hostname==="img2.storyblok.com"&&(e.hostname="a.storyblok.com"),{base:e.origin+s,width:Number(i)||void 0,height:Number(a)||void 0,format:v,params:{crop:o,filters:p,flipx:l,flipy:h},cdn:"storyblok"}},Sl=({base:t,width:e=0,height:r=0,format:n,params:s={}})=>{const{crop:o,filters:i,flipx:a="",flipy:u=""}=s,l=`${a}${e}x${u}${r}`;return new URL([t,"m",o,l,wl(i),n].filter(Boolean).join("/"))},Pl=({url:t,width:e,height:r,format:n})=>{const s=xl(t);if(s)return n&&(s.params||(s.params={filters:{}}),s.params.filters||(s.params.filters={}),s.params.filters.format=n),Sl({...s,width:e,height:r})},kl=({url:t,width:e,height:r,format:n})=>{const s=ut(t);return Y(s,"w",e,!0,!0),Y(s,"h",r,!0,!0),Y(s,"fm",n,!0),e&&r&&Bt(s,"fit","crop"),s},Cs=t=>{const r=ut(t).searchParams.get("url");if(!r||!r.startsWith("http"))return!1;const n=Ho(r);return n?{cdn:n,url:r}:!1},jl=({base:t,width:e,params:{quality:r=75,root:n="_vercel"}={}})=>{const s=new URL("http://n");return s.pathname=`/${n}/image`,s.searchParams.set("url",t.toString()),Y(s,"w",e,!1,!0),Bt(s,"q",r),qo(s)},Jo=({url:t,width:e,cdn:r})=>{const n=ut(t),s=n.pathname.startsWith("/_next/image")||n.pathname.startsWith("/_vercel/image"),o=s?n.searchParams.get("url"):t.toString();if(o)return Y(n,"w",e,!0,!0),s?ls(n):jl({base:o,width:e,params:{root:r==="nextjs"?"_next":"_vercel"}})},Al=t=>Jo({...t,cdn:"nextjs"}),Ol=({url:t,width:e,height:r,format:n})=>{const s=ut(t);return Y(s,"wid",e,!0,!0),Y(s,"hei",r,!0,!0),Y(s,"fmt",n,!0),Y(s,"qlt",ar(s,"qlt"),!0),Y(s,"scl",ar(s,"scl"),!0),Bt(s,"fit","crop"),!e&&!r&&Bt(s,"scl",1),s},El=({url:t,width:e,height:r,format:n})=>{const s=ut(t);return Y(s,"width",e,!0,!0),Y(s,"height",r,!0,!0),Y(s,"format",n,!0),Y(s,"quality",ar(s,"quality"),!0),Bt(s,"enlarge",0),s},Rl=({url:t,width:e,height:r,format:n})=>{const s=ut(t);return Y(s,"width",e,!0,!0),Y(s,"height",r,!0,!0),Y(s,"format",n),Y(s,"quality",ar(s,"quality"),!0),s},Dn={width:"w",height:"h",autoWidthWithFallback:"w_auto",auto_width_fallback:"w_auto",scaleToScreenWidth:"pc",scale_to_screen_width:"pc",crop:"cr",outputFormat:"f",format:"f",fit:"m",fitMethod:"m",compression:"cmpr",sharpness:"s",rotate:"r",inline:"in",keepMeta:"meta",keep_meta:"meta",noOptimization:"pass",no_optimization:"pass",force_download:"dl",max_device_pixel_ratio:"maxdpr",maxDevicePixelRatio:"maxdpr"};function Tl(t){return Object.keys(Dn).find(n=>Dn[n]===t)||""}function zl(t){let e=t.toString(),r=[];if(e){let n=e.split("imgeng=");n.length>1&&(r=n[1].split("/"))}return r}function Cl(t){let e=t.toString(),r="";if(e){let n=e.split("imgeng=");n.length>1?r=n[0].slice(0,-1):r=e}return r}const Il=({url:t,width:e,height:r,format:n})=>{const s=ut(t),o=Cl(s);let i={};const a=s.toString()===o?[]:zl(s);a.length&&(i=Fl(a)),e&&(i.width=e),r&&(i.height=r),n&&(i.format=n),i.hasOwnProperty("fit")||(i={...i,fit:"cropbox"});let u=Nl(i),l=Ml(u),h=l===""?"":o.includes("?")?"&":"?";return`${o}${h}${l}`};function Nl(t){return Object.entries(t).reduce((e,[r,n])=>e+Ll(r,n),"")}function Ml(t){return t&&t!==""?`imgeng=${t}`:""}function Ll(t,e){let r=Dn[t];return r&&(e||e===0)?`/${r}_${e}`:""}function Fl(t){let e={};return t.forEach(r=>{let n=r.split("_");if(n.length>1){let s=n[0],o=n[1],i=Tl(s);i&&(e[i]=o)}}),e}const $l=({url:t,width:e,height:r,format:n})=>{const s=ut(t);return Y(s,"width",e,!0,!0),Y(s,"height",r,!0,!0),Y(s,"format",n),s.searchParams.has("format")||Bt(s,"auto","webp"),e&&r&&Bt(s,"fit","crop"),s},Bl=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/imagedelivery\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,Dl=/https?:\/\/(?<host>imagedelivery.net)\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,Vl=t=>{var e;return Object.fromEntries(((e=t==null?void 0:t.split(","))==null?void 0:e.map(r=>r.split("=")))??[])},Wl=({host:t,accountHash:e,transformations:r={},imageId:n})=>{const s=Object.entries(r).filter(([i,a])=>!!i&&a!==void 0).map(([i,a])=>`${i}=${a}`).join(",");return`https://${[...t==="imagedelivery.net"?[t]:[t,"cdn-cgi","imagedelivery"],e,n,s].join("/")}`},Qo=t=>{const e=ut(t),r=[...e.toString().matchAll(Bl),...e.toString().matchAll(Dl)];if(!r.length)throw new Error("Invalid Cloudflare Images URL");const n=r[0].groups||{},{transformations:s,...o}=n,{w:i,h:a,f:u,...l}=Vl(s);return{base:e.toString(),width:Number(i)||void 0,height:Number(a)||void 0,format:u,cdn:"cloudflare_images",params:{...o,transformations:l}}},Ul=({base:t,width:e,height:r,format:n,params:s})=>{var a;const o=Qo(t.toString()),i={transformations:{},...o.params,...s};return e&&(i.transformations.w=e==null?void 0:e.toString()),r&&(i.transformations.h=r==null?void 0:r.toString()),n&&(i.transformations.f=n),(a=i.transformations).fit||(a.fit="cover"),new URL(Wl(i))},ql=({url:t,width:e,height:r,format:n="auto"})=>{const s=Qo(t);if(!s)throw new Error("Invalid Cloudflare Images URL");const o={...s,width:e,height:r,format:n};return Ul(o)},Hl=t=>{const e=ut(t),[r,...n]=e.pathname.split("/").slice(1),s=Object.fromEntries(r.split(",").map(o=>{const[i,a]=o.split("_");return[i,a]}));if(s.s){const[o,i]=s.s.split("x");s.w||(s.w=o),s.h||(s.h=i)}return{base:n.join("/"),width:Number(s.w)||void 0,height:Number(s.h)||void 0,quality:Number(s.q)||void 0,format:s.f||"auto",params:s,cdn:"ipx"}},Is=({base:t,width:e,height:r,format:n,params:s})=>{const o=(s==null?void 0:s.modifiers)??{};e&&r?o.s=`${e}x${r}`:e?o.w=`${e}`:r&&(o.h=`${r}`),n&&(o.f=n);const i=s!=null&&s.base.endsWith("/")?s==null?void 0:s.base:`${s==null?void 0:s.base}/`,a=Object.entries(o).map(([h,v])=>`${h}_${v}`).join(","),u=t.toString(),l=u.startsWith("/")?u.slice(1):u;return`${i}${a}/${l}`},Xl=t=>{var i,a,u,l;const e=String(t.url),r=ut(e),n=r.pathname.startsWith("/_ipx")&&r.hostname!=="n"?`${r.origin}/_ipx`:"/_ipx",s=((a=(i=t.cdnOptions)==null?void 0:i.ipx)==null?void 0:a.base)??n;if(s&&s!=="/"&&e.startsWith(s)){const h=Hl(e.replace(s,""));return Is({...h,...t,params:{...(u=t.cdnOptions)==null?void 0:u.ipx,base:s}})}return Is({...t,base:e,params:{...(l=t.cdnOptions)==null?void 0:l.ipx,base:s}})},Gl=({url:t,width:e,height:r,format:n})=>{const s=ut(t),o=ls(new URL(s.pathname,s.origin)),i={searchParams:new URLSearchParams};return Y(i,"href",o,!0,!0),Y(i,"w",e,!0,!0),Y(i,"h",r,!0,!0),Y(i,"f",n),`/_image?${i.searchParams.toString()}`},Yl=new Set(["w","h","q","fm","url","width","height","quality"]),Kl=t=>{const e=ut(t),r=Number(e.searchParams.get("w")??e.searchParams.get("width"))??void 0,n=Number(e.searchParams.get("h")??e.searchParams.get("height"))??void 0,s=Number(e.searchParams.get("q")??e.searchParams.get("quality"))||void 0,o=e.searchParams.get("fm")||void 0,i=e.searchParams.get("url")||"",a={quality:s};return e.searchParams.forEach((u,l)=>{Yl.has(l)||(a[l]=u)}),e.search="",{base:i,width:r,height:n,format:o,params:a,cdn:"netlify"}},Ns=({base:t,width:e,height:r,format:n,params:{site:s,quality:o,...i}={}})=>{const a=ut("/.netlify/images",s);return Object.entries(i).forEach(([u,l])=>Y(a,u,l)),Y(a,"q",o,!0,!0),Y(a,"w",e,!0,!0),Y(a,"h",r,!0,!0),Y(a,"fm",n),Bt(a,"fit","cover"),a.searchParams.set("url",t.toString()),ls(a)},Jl=t=>{var r,n;const e=ut(t.url);if(e.pathname.startsWith("/.netlify/images")){const{params:s,base:o,format:i}=Kl(e);return Ns({base:o,format:i,...t,params:{...s,site:e.hostname==="n"?void 0:e.origin}})}return Ns({...t,base:t.url,params:{site:(n=(r=t.cdnOptions)==null?void 0:r.netlify)==null?void 0:n.site}})},Ql=t=>(t.searchParams.get("tr")||"").split(",").reduce((r,n)=>{const[s,o]=n.split("-");return r[s]=o,r},{}),Zl=({url:t,width:e,height:r,format:n})=>{const s=ut(t),o=Ql(s);o.w=e&&Math.round(e),o.h=r&&Math.round(r),o.f||(o.f="auto"),n&&(o.f=n);const i=Object.keys(o).map(a=>{const u=o[a];if(u)return`${a}-${u}`}).filter(a=>a).join(",");return s.searchParams.set("tr",i),s},tu=/^https?:\/\/(?<host>[^\/]+)\/(?<uuid>[^\/]+)/g;function Zo(t){const e=new URL(t),r=e.pathname+e.search+e.hash,n=r.lastIndexOf("http"),s=r.lastIndexOf("/");let o="";return n>=0?o=r.slice(n):s>=0&&(o=r.slice(s+1)),o}function eu(t){return t.startsWith("http")}function ru(t){const e=new URL(t);return{pathname:e.origin+e.pathname||"",search:e.search||"",hash:e.hash||""}}function nu(t){const e=new URL(t),r=Zo(t),n=eu(r)?ru(r).pathname:r;return e.pathname=e.pathname.replace(n,""),e.search="",e.hash="",e.toString()}const su=t=>{if(typeof t!="string"||!t)return"";let e=t.trim();return e.startsWith("-/")?e=e.slice(2):e.startsWith("/")&&(e=e.slice(1)),e.endsWith("/")&&(e=e.slice(0,e.length-1)),e};function ou(t){const e=nu(t),r=new URL(e),n=r.pathname.indexOf("/-/");return n===-1?[]:r.pathname.substring(n).split("/-/").filter(Boolean).map(o=>su(o))}const iu=t=>t.length?t.reduce((e,r)=>{const[n,s]=r.split("/");return{...e,[n]:s}},{}):{},ti=({host:t,uuid:e,operations:r={},filename:n})=>{const s=Object.entries(r).map(([i,a])=>`${i}/${a}`).join("/-/");return`https://${[t,e,s?`-/${s}`:"",n].join("/")}`},ei=t=>{const e=ut(t),r=[...e.toString().matchAll(tu)];if(!r.length)throw new Error("Invalid Uploadcare URL");const n=r[0].groups||{},{...s}=n,o=Zo(e.toString()),{format:i,...a}=iu(ou(e.toString())),u=i&&i!=="auto"?i:"auto";return{base:ti({...s,filename:o||void 0,operations:{...a,format:u}}),cdn:"uploadcare",params:{...n,filename:o||void 0,operations:{...a,format:u}}}},au=({base:t,width:e,height:r,params:n})=>{const s=t.toString(),o=ei(s.endsWith("/")?s:`${s}/`),i={operations:{},...o.params,...n};return e&&r?i.operations={...i.operations,resize:`${e}x${r}`}:(e&&(i.operations={...i.operations,resize:`${e}x`}),r&&(i.operations={...i.operations,resize:`x${r}`})),ti(i)},cu=({url:t,width:e,height:r})=>{const n=ei(t);if(!n)throw new Error("Invalid Uploadcare URL");const s={...n,width:e,height:r};return au(s)},lu=["origin"],ri="/storage/v1/object/public/",us="/storage/v1/render/image/public/",uu=t=>t.pathname.startsWith(us),ni=t=>{const e=ut(t);if(!uu(e))return{cdn:"supabase",base:e.origin+e.pathname};const n=e.pathname.replace(us,""),s=e.searchParams.has("quality")?Number(e.searchParams.get("quality")):void 0,o=e.searchParams.has("width")?Number(e.searchParams.get("width")):void 0,i=e.searchParams.has("height")?Number(e.searchParams.get("height")):void 0,a=e.searchParams.has("format")?e.searchParams.get("format"):void 0,u=e.searchParams.has("resize")?e.searchParams.get("resize"):void 0;return{cdn:"supabase",base:e.origin+ri+n,width:o,height:i,format:a,params:{quality:s,resize:u}}},du=({base:t,width:e,height:r,format:n,params:s})=>{const o=ni(t.toString());t=o.base,e=e||o.width,r=r||o.height,n=n||o.format,s={...o.params,...s};const i=new URLSearchParams;return e&&i.set("width",Le(e).toString()),r&&i.set("height",Le(r).toString()),n&&lu.includes(n)&&i.set("format",n),s!=null&&s.quality&&i.set("quality",Le(s.quality).toString()),s!=null&&s.resize&&i.set("resize",s.resize),i.toString()===""?t:o.base.replace(ri,us)+"?"+i.toString()},fu=({url:t,width:e,height:r,format:n,cdnOptions:s})=>{const o=ni(t);return du({base:o.base,width:e||o.width,height:r||o.height,format:n||o.format,params:(s==null?void 0:s.supabase)||o.params})},Ms={vercel:Cs,nextjs:Cs};function hu(t,e){if(!(e in Ms))return!1;const r=Ms[e];return r?r(t):!1}function ds(t,e){const r=Qc(t)||e;if(!r)return!1;const n=hu(t,r);return n||{cdn:r,url:t}}const fs=t=>({imgix:rl,contentful:tl,"builder.io":el,shopify:il,wordpress:al,cloudimage:cl,cloudinary:fl,bunny:ml,storyblok:Pl,cloudflare:vl,vercel:Jo,nextjs:Al,scene7:Ol,"kontent.ai":kl,keycdn:El,directus:Rl,imageengine:Il,contentstack:$l,cloudflare_images:ql,ipx:Xl,astro:Gl,netlify:Jl,imagekit:Zl,uploadcare:cu,supabase:fu})[t];var gu=(t,e)=>{if(!(!t||!e))switch(e){case"constrained":return`(min-width: ${t}px) ${t}px, 100vw`;case"fixed":return`${t}px`;case"fullWidth":return"100vw";default:return}},Ye=t=>t||t===0?`${t}px`:void 0,pu=({width:t,height:e,aspectRatio:r,layout:n,objectFit:s="cover",background:o})=>{const i=[["object-fit",s]];return o!=null&&o.startsWith("https:")||o!=null&&o.startsWith("http:")||o!=null&&o.startsWith("data:")?(i.push(["background-image",`url(${o})`]),i.push(["background-size","cover"]),i.push(["background-repeat","no-repeat"])):i.push(["background",o]),n==="fixed"&&(i.push(["width",Ye(t)]),i.push(["height",Ye(e)])),n==="constrained"&&(i.push(["max-width",Ye(t)]),i.push(["max-height",Ye(e)]),i.push(["aspect-ratio",r?`${r}`:void 0]),i.push(["width","100%"])),n==="fullWidth"&&(i.push(["width","100%"]),i.push(["aspect-ratio",r?`${r}`:void 0]),i.push(["height",Ye(e)])),Object.fromEntries(i.filter(([,a])=>a))},vu=[6016,5120,4480,3840,3200,2560,2048,1920,1668,1280,1080,960,828,750,640],Ls=24,mu=({width:t,layout:e,resolutions:r=vu})=>{if(e==="fullWidth")return r;if(!t)return[];const n=t*2;return e==="fixed"?[t,n]:e==="constrained"?[t,n,...r.filter(s=>s<n)]:[]},yu=({src:t,width:e,layout:r="constrained",height:n,aspectRatio:s,breakpoints:o,cdn:i,transformer:a,format:u})=>{const l=ds(t,i);return l&&!a&&(a=fs(l.cdn)),a?(o||(o=mu({width:e,layout:r})),o.sort((h,v)=>h-v).map(h=>{let v;return n&&s&&(v=Math.round(h/s)),{url:l?l.url:t,width:h,height:v,format:u}})):[]},_u=t=>{let{src:e,cdn:r,transformer:n}=t;const s=ds(e,r);return s&&!n&&(n=fs(s.cdn)),n?yu({...t,transformer:n}).map(o=>{const i=n(o);return`${i==null?void 0:i.toString()} ${o.width}w`}).join(`,
`):""};function bu({width:t,height:e,priority:r,layout:n="constrained",aspectRatio:s,...o}){return t=t&&Number(t)||void 0,e=e&&Number(e)||void 0,r?(o.loading||(o.loading="eager"),o.fetchpriority||(o.fetchpriority="high")):(o.loading||(o.loading="lazy"),o.decoding||(o.decoding="async")),o.alt===""&&(o.role||(o.role="presentation")),s?t?e||(e=Math.round(t/s)):e&&(t=Math.round(e*s)):t&&e&&(s=t/e),{width:t,height:e,aspectRatio:s,layout:n,...o}}function wu(t){let{src:e,cdn:r,transformer:n,background:s,layout:o,objectFit:i,breakpoints:a,width:u,height:l,aspectRatio:h,unstyled:v,...p}=bu(t);const _=e?ds(e,r):void 0;let d=e;if(_&&(d=_.url,n||(n=fs(_.cdn))),n&&s==="auto"){const b=h?Math.round(Ls/h):void 0,O=n({url:d,width:Ls,height:b});O&&(s=O.toString())}const m={width:u,height:l,aspectRatio:h,layout:o,objectFit:i,background:s};if(p.sizes||(p.sizes=gu(u,o)),v||(p.style={...pu(m),...p.style}),n){p.srcset=_u({src:d,width:u,height:l,aspectRatio:h,layout:o,breakpoints:a,transformer:n,cdn:r});const b=n({url:d,width:u,height:l});b&&(d=b),(o==="fullWidth"||o==="constrained")&&(u=void 0,l=void 0)}return{...p,src:d==null?void 0:d.toString(),width:u,height:l}}function xu(t,e){const r=RegExp(t,"g");return n=>{if(typeof n!="string")throw new TypeError(`expected an argument of type string, but got ${typeof n}`);return n.match(r)?n.replace(r,e):n}}const Su=xu(/[A-Z]/,t=>`-${t.toLowerCase()}`);function Pu(t,e=Su){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected an argument of type object, but got ${typeof t}`);return Object.keys(t).map(r=>`${e(r)}: ${t[r]};`).join(`
`)}var ku=W("<img>");function ju(t,e){const r=de(e,["children","$$slots","$$events","$$legacy"]);Ot(e,!1);const n=Ft(),s=Ft(),o=Ft(),i=Ft(),a=Ft(),u=Ft(),l=Ft(),h=Ft(),v=Ft(),p=Ft(),_=Ft(),d=Ft(),m=Ft(),b=Ft();wn(()=>(f(n),f(s),Fi(r)),()=>{st(n,r.style),st(s,Li(r,["style"]))}),wn(()=>(f(o),f(i),f(a),f(u),f(l),f(h),f(v),f(p),f(_),f(d),f(m),f(s)),()=>{(x=>(st(o,x.alt),st(i,x.style),st(a,x.src),st(u,x.width),st(l,x.height),st(h,x.loading),st(v,x.decoding),st(p,x.srcset),st(_,x.role),st(d,x.sizes),st(m,x.fetchpriority)))(wu(f(s)))}),wn(()=>(f(i),f(n)),()=>{st(b,[Pu(f(i)||{}),f(n)].filter(Boolean).join(";"))}),$i(),Po();var O=ku();let T;tt((x,$,q,j)=>T=be(O,T,{...r,style:f(b),loading:f(h),width:f(u),height:f(l),decoding:f(v),role:f(_),fetchpriority:f(m),alt:x,src:$,srcset:q,sizes:j}),[()=>{var x;return(x=f(o))==null?void 0:x.toString()},()=>{var x;return(x=f(a))==null?void 0:x.toString()},()=>{var x;return(x=f(p))==null?void 0:x.toString()},()=>{var x;return(x=f(d))==null?void 0:x.toString()}],ts),Ai(O),Ee("load",O,function(x){js.call(this,e,x)}),Ee("error",O,function(x){js.call(this,e,x)}),P(t,O),Et()}var Au=W("<em> </em>"),Ou=W('<a class="strong"> </a>'),Eu=W('<span class="strong"> </span>'),Ru=W("<!> <!> ",1),Tu=W('<li class="badge"><!></li>'),zu=W('<div class="inscription-place"><ul class="svelte-4tokn1"></ul></div>');function si(t,e){Ot(e,!0);let r=D(()=>{var o,i;return(i=(o=e.inscription)==null?void 0:o.places)==null?void 0:i.slice(0,2)});var n=zu(),s=k(n);Yt(s,21,()=>f(r),re,(o,i)=>{var a=Tu(),u=k(a);{var l=h=>{var v=Ru(),p=H(v);{var _=T=>{var x=Au(),$=k(x,!0);S(x),tt(()=>Z($,f(i).offset)),P(T,x)};ot(p,T=>{f(i).offset&&T(_)})}var d=I(p,2);{var m=T=>{var x=Ou(),$=k(x,!0);S(x),tt(()=>{ne(x,"href",f(i).ref),Z($,f(i)._)}),P(T,x)},b=T=>{var x=Eu(),$=k(x,!0);S(x),tt(()=>Z($,f(i)._)),P(T,x)};ot(d,T=>{f(i).ref?T(m):T(b,!1)})}var O=I(d);tt(()=>Z(O,` (${f(i).type??""})`)),P(h,v)};ot(u,h=>{f(i)&&h(l)})}S(a),P(o,a)}),S(s),S(n),P(t,n),Et()}function rr(t,e){let r=U(e,"title",3,""),n=_e(e,["$$slots","$$events","$$legacy","id","title","children"]);const s=D(()=>e.children),o=D(()=>`/inscription/${e.id}`),i=D(()=>r()||e.id);Qi(t,fe({get href(){return f(o)},get title(){return f(i)}},()=>n,{children:(a,u)=>{var l=lt(),h=H(l);Mt(h,()=>f(s)??me),P(a,l)},$$slots:{default:!0}}))}var Cu=W('<div class="card-image-placeholder svelte-18utaky"></div>'),Iu=W("<a> </a>"),Nu=W("<a> </a>"),Mu=W('<div class="inscription-card svelte-18utaky"><div class="card-header svelte-18utaky"><!> <div class="card-image svelte-18utaky"><!></div></div> <div class="card-body svelte-18utaky"><div class="inscription-title svelte-18utaky"><!></div> <div class="inscription-date-place"><!> <!></div></div> <div class="card-footer svelte-18utaky"><dl class="svelte-18utaky"><dt class="svelte-18utaky">Status</dt> <dd class="svelte-18utaky"> </dd> <dt class="svelte-18utaky">Type</dt> <dd class="badge strong svelte-18utaky"><!></dd></dl> <dl class="svelte-18utaky"><dt class="svelte-18utaky">Object type</dt> <dd class="badge strong svelte-18utaky"><!></dd> <dt class="svelte-18utaky">Language</dt> <dd class="svelte-18utaky"> </dd></dl></div></div>');function Lu(t,e){Ot(e,!0);var r=Mu(),n=k(r),s=k(n);rr(s,{get id(){return e.inscription.file},class:"inscription-id",children:(F,V)=>{Tt();var y=Nt();tt(()=>Z(y,`ID: ${e.inscription.file??""}`)),P(F,y)},$$slots:{default:!0}});var o=I(s,2),i=k(o);{var a=F=>{rr(F,{get id(){return e.inscription.file},get title(){return e.inscription.title},children:(V,y)=>{ju(V,{get src(){return`${Di}${e.inscription.file??""}/${e.inscription.facsimile.url??""}/${Vi}`},get alt(){return e.inscription.facsimile.desc},width:400,height:200})},$$slots:{default:!0}})},u=F=>{var V=Cu();P(F,V)};ot(i,F=>{e.inscription.facsimile?F(a):F(u,!1)})}S(o),S(n);var l=I(n,2),h=k(l),v=k(h);rr(v,{get id(){return e.inscription.file},get title(){return e.inscription.title},children:(F,V)=>{Tt();var y=Nt();tt(()=>Z(y,e.inscription.title)),P(F,y)},$$slots:{default:!0}}),S(h);var p=I(h,2),_=k(p);jo(_,{get date(){return e.inscription.date}});var d=I(_,2);si(d,{get inscription(){return e.inscription}}),S(p),S(l);var m=I(l,2),b=k(m),O=I(k(b),2),T=k(O,!0);S(O);var x=I(O,4),$=k(x);{var q=F=>{var V=Iu(),y=k(V,!0);S(V),tt(()=>{var c;ne(V,"href",e.inscription.type.ref),Z(y,(c=e.inscription.type)==null?void 0:c._)}),P(F,V)},j=F=>{var V=Nt();tt(()=>{var y;return Z(V,((y=e.inscription.type)==null?void 0:y._)||"N/A")}),P(F,V)};ot($,F=>{var V;(V=e.inscription.type)!=null&&V.ref?F(q):F(j,!1)})}S(x),S(b);var z=I(b,2),X=I(k(z),2),N=k(X);{var M=F=>{var V=Nu(),y=k(V,!0);S(V),tt(()=>{var c;ne(V,"href",e.inscription.rawObjectType.ref),Z(y,(c=e.inscription.rawObjectType)==null?void 0:c._)}),P(F,V)},R=F=>{var V=Nt();tt(()=>{var y;return Z(V,((y=e.inscription.rawObjectType)==null?void 0:y._)||"N/A")}),P(F,V)};ot(N,F=>{var V;(V=e.inscription.rawObjectType)!=null&&V.ref?F(M):F(R,!1)})}S(X);var B=I(X,4),et=k(B,!0);S(B),S(z),S(m),S(r),tt(()=>{var F;Z(T,e.inscription.status),Z(et,((F=e.inscription.textLang)==null?void 0:F._)||"N/A")}),P(t,r),Et()}var Fu=W('<li class="svelte-1ahfstl"><!></li>'),$u=W('<ol class="inscription-list svelte-1ahfstl"></ol>');function Bu(t,e){var r=$u();Yt(r,21,()=>e.inscriptions,re,(n,s)=>{var o=Fu(),i=k(o);Lu(i,{get inscription(){return f(s)}}),S(o),P(n,o)}),S(r),P(t,r)}var Du=W("<span> </span>"),Vu=W('<div role="img"><!></div>'),Wu=W('<div class="inscription-map svelte-mhd10g"><!></div>');function Uu(t,e){Ot(e,!0);const{Map:r,Marker:n,NavigationControl:s,Popup:o}=Ki;let i=U(e,"mapStyle",19,()=>Wi),a=U(e,"show",3,!0),u=It(void 0),l=It(void 0),h=It(ht([])),v=D(()=>e.inscriptions.filter(T=>T.geo).reduce((T,x)=>{if(!x.geo||x.geo.length!==2)return T;const $=x.geo.join("_");return T[$]||(T[$]=[]),T[$].push(x),T},{})),p=D(()=>Object.entries(f(v)).map(([T,x])=>{const $=x[0].geo,q=x.length;let j="single";return q>100?j="lg":q>25?j="md":q>1&&(j="sm"),{coords:[$[1],$[0]],markerSize:j,numberInscriptions:q,inscriptions:x}}));function _(T,{coords:x,inscriptions:$}){const q=new o,j=()=>{const X=d($);q.setHTML(X)};j();const z=new n({element:T}).setLngLat(x).setPopup(q).addTo(f(u));return f(h).push(z),{destroy(){z==null||z.remove(),st(h,ht(f(h).filter(X=>X!==z)))},update({coords:X,inscriptions:N}){$=N,j(),z.setLngLat(X)}}}function d(T){const x=T.reduce((j,z)=>(z.places[0]&&(j[z.places[0]._]||(j[z.places[0]._]=[]),j[z.places[0]._].push(z)),j),{});let $='<div class="tooltip">';const q=Object.entries(x).map(([j,z])=>{let X=`<dt>${j}</dt>`,N=z.map(M=>`<dd><a href="inscription/${M.file}">${M.title}</a></dd>`).join("");return`${X}${N}`}).join("");return`${$}<dl>${q}</dl></div>`}Ao(async()=>{st(u,ht(new r({container:f(l),style:i(),center:[14.01535,37.59999],zoom:7}))),f(u).addControl(new s({showCompass:!0,showZoom:!0}))}),ta(async()=>{f(u)&&(f(u).remove(),st(u,void 0),st(l,void 0))});var m=lt(),b=H(m);{var O=T=>{var x=Wu(),$=k(x);{var q=j=>{var z=lt(),X=H(z);Yt(X,17,()=>f(p),re,(N,M)=>{var R=Vu();let B;var et=k(R);{var F=V=>{var y=Du(),c=k(y,!0);S(y),tt(()=>Z(c,f(M).numberInscriptions)),P(V,y)};ot(et,V=>{f(M).numberInscriptions>1&&V(F)})}S(R),Zi(R,(V,y)=>_==null?void 0:_(V,y),()=>({coords:f(M).coords,inscriptions:f(M).inscriptions})),tt(()=>{B=Yi(R,1,"marker svelte-mhd10g",null,B,{single:f(M).markerSize==="single",sm:f(M).markerSize==="sm",md:f(M).markerSize==="md",lg:f(M).markerSize==="lg"}),ne(R,"aria-label",`Map marker for ${f(M).inscriptions[0].title}`)}),P(N,R)}),P(j,z)};ot($,j=>{f(u)&&f(p)&&j(q)})}S(x),Xi(x,j=>st(l,j),()=>f(l)),P(T,x)};ot(b,T=>{a()&&T(O)})}P(t,m),Et()}var qu=W('<span class="svelte-1pdb2ke">...</span>'),Hu=W('<div class="pagination svelte-1pdb2ke"><!> <div class="pages svelte-1pdb2ke"></div> <!></div> <p class="svelte-1pdb2ke"> </p>',1);function Fs(t,e){var r=lt(),n=H(r);{var s=o=>{var i=lt(),a=H(i);Pt(a,()=>vc,(u,l)=>{l(u,{get page(){return e.page},get count(){return e.count},get perPage(){return e.perPage},get onPageChange(){return e.onPageChange},children:(v,p)=>{let _=()=>p==null?void 0:p().pages,d=()=>p==null?void 0:p().range;var m=Hu(),b=H(m),O=k(b);Pt(O,()=>yc,(j,z)=>{z(j,{"aria-label":"Previous page",children:(X,N)=>{Vc(X,{})},$$slots:{default:!0}})});var T=I(O,2);Yt(T,21,_,j=>j.key,(j,z,X,N)=>{var M=lt(),R=H(M);{var B=F=>{var V=qu();P(F,V)},et=F=>{var V=lt(),y=H(V);Pt(y,()=>xc,(c,g)=>{g(c,{get page(){return f(z)},children:(w,A)=>{Tt();var E=Nt();tt(()=>Z(E,f(z).value)),P(w,E)},$$slots:{default:!0}})}),P(F,V)};ot(R,F=>{f(z).type==="ellipsis"?F(B):F(et,!1)})}P(j,M)}),S(T);var x=I(T,2);Pt(x,()=>bc,(j,z)=>{z(j,{"aria-label":"Next page",children:(X,N)=>{Wc(X,{})},$$slots:{default:!0}})}),S(b);var $=I(b,2),q=k($);S($),tt(()=>Z(q,`Showing ${d().start+1} - ${d().end??""}`)),P(v,m)},$$slots:{default:!0}})}),P(o,i)};ot(n,o=>{e.count>0&&o(s)})}P(t,r)}var Xu=W('<a class="badge svelte-f0norw"> </a>'),Gu=W('<a class="badge svelte-f0norw"> </a>'),Yu=W('<tr class="svelte-f0norw"><td class="strong svelte-f0norw"><!></td><td class="strong svelte-f0norw"><!></td><td class="svelte-f0norw"><!></td><td class="svelte-f0norw"><!></td><td class="svelte-f0norw"> </td><td class="svelte-f0norw"><!></td><td class="svelte-f0norw"><!></td><td class="svelte-f0norw"> </td><td class="svelte-f0norw"> </td></tr>');function Ku(t,e){Ot(e,!0);var r=Yu(),n=k(r),s=k(n);rr(s,{get id(){return e.inscription.file},children:(N,M)=>{Tt();var R=Nt();tt(()=>Z(R,e.inscription.file)),P(N,R)},$$slots:{default:!0}}),S(n);var o=I(n),i=k(o);rr(i,{get id(){return e.inscription.file},children:(N,M)=>{Tt();var R=Nt();tt(()=>Z(R,e.inscription.title)),P(N,R)},$$slots:{default:!0}}),S(o);var a=I(o),u=k(a);jo(u,{get date(){return e.inscription.date}}),S(a);var l=I(a),h=k(l);si(h,{get inscription(){return e.inscription}}),S(l);var v=I(l),p=k(v,!0);S(v);var _=I(v),d=k(_);{var m=N=>{var M=Xu(),R=k(M,!0);S(M),tt(()=>{var B;ne(M,"href",e.inscription.type.ref),Z(R,(B=e.inscription.type)==null?void 0:B._)}),P(N,M)},b=N=>{var M=Nt();tt(()=>{var R;return Z(M,((R=e.inscription.type)==null?void 0:R._)||"N/A")}),P(N,M)};ot(d,N=>{var M;(M=e.inscription.type)!=null&&M.ref?N(m):N(b,!1)})}S(_);var O=I(_),T=k(O);{var x=N=>{var M=Gu(),R=k(M,!0);S(M),tt(()=>{var B;ne(M,"href",e.inscription.rawObjectType.ref),Z(R,(B=e.inscription.rawObjectType)==null?void 0:B._)}),P(N,M)},$=N=>{var M=Nt();tt(()=>{var R;return Z(M,((R=e.inscription.rawObjectType)==null?void 0:R._)||"N/A")}),P(N,M)};ot(T,N=>{var M;(M=e.inscription.rawObjectType)!=null&&M.ref?N(x):N($,!1)})}S(O);var q=I(O),j=k(q,!0);S(q);var z=I(q),X=k(z,!0);S(z),S(r),tt(()=>{var N;Z(p,e.inscription.status),Z(j,((N=e.inscription.textLang)==null?void 0:N._)||"N/A"),Z(X,e.inscription.settlement||"N/A")}),P(t,r),Et()}var Ju=W('<table class="svelte-jg441j"><thead class="svelte-jg441j"><tr><th class="svelte-jg441j">ID</th><th class="svelte-jg441j">Title</th><th class="svelte-jg441j">Date</th><th class="svelte-jg441j">Place</th><th class="svelte-jg441j">Status</th><th class="svelte-jg441j">Type</th><th class="svelte-jg441j">Object type</th><th class="svelte-jg441j">Language</th><th class="svelte-jg441j">Settlement</th></tr></thead><tbody></tbody></table>');function Qu(t,e){var r=Ju(),n=I(k(r));Yt(n,21,()=>e.inscriptions,re,(s,o)=>{Ku(s,{get inscription(){return f(o)}})}),S(n),S(r),P(t,r)}function Zu(t){const e=t.map(s=>`${s.file},${s.title},${s.notBefore},${s.notAfter},${s.places},${s.status},${s.type},${s.objectType},${s.language},${s.settlement}`).join(`
`),r=`inscription,title,not before,not after,places,status,type,object type,language,settlement
`,n=document.createElement("a");n.href=`data:text/csv;charset=utf-8,${encodeURIComponent(r+e)}`,n.download="inscriptions.csv",n.click(),n.remove()}let Sr=String.fromCharCode,oi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",Pr={};function td(t,e){if(!Pr[t]){Pr[t]={};for(let r=0;r<t.length;r++)Pr[t][t.charAt(r)]=r}return Pr[t][e]}function ed(t){return t==null?"":nd(t,6,function(e){return oi.charAt(e)})}function rd(t){return t==null?"":t==""?null:sd((t=t.replace(/ /g,"+")).length,32,function(e){return td(oi,t.charAt(e))})}function nd(t,e,r){if(t==null)return"";let n,s,o={},i={},a="",u="",l="",h=2,v=3,p=2,_=[],d=0,m=0,b;for(b=0;b<t.length;b+=1)if(a=t.charAt(b),Object.prototype.hasOwnProperty.call(o,a)||(o[a]=v++,i[a]=!0),u=l+a,Object.prototype.hasOwnProperty.call(o,u))l=u;else{if(Object.prototype.hasOwnProperty.call(i,l)){if(256>l.charCodeAt(0)){for(n=0;n<p;n++)d<<=1,m==e-1?(m=0,_.push(r(d)),d=0):m++;for(n=0,s=l.charCodeAt(0);n<8;n++)d=d<<1|1&s,m==e-1?(m=0,_.push(r(d)),d=0):m++,s>>=1}else{for(n=0,s=1;n<p;n++)d=d<<1|s,m==e-1?(m=0,_.push(r(d)),d=0):m++,s=0;for(n=0,s=l.charCodeAt(0);n<16;n++)d=d<<1|1&s,m==e-1?(m=0,_.push(r(d)),d=0):m++,s>>=1}--h==0&&(h=Math.pow(2,p),p++),delete i[l]}else for(n=0,s=o[l];n<p;n++)d=d<<1|1&s,m==e-1?(m=0,_.push(r(d)),d=0):m++,s>>=1;--h==0&&(h=Math.pow(2,p),p++),o[u]=v++,l=String(a)}if(l!==""){if(Object.prototype.hasOwnProperty.call(i,l)){if(256>l.charCodeAt(0)){for(n=0;n<p;n++)d<<=1,m==e-1?(m=0,_.push(r(d)),d=0):m++;for(n=0,s=l.charCodeAt(0);n<8;n++)d=d<<1|1&s,m==e-1?(m=0,_.push(r(d)),d=0):m++,s>>=1}else{for(n=0,s=1;n<p;n++)d=d<<1|s,m==e-1?(m=0,_.push(r(d)),d=0):m++,s=0;for(n=0,s=l.charCodeAt(0);n<16;n++)d=d<<1|1&s,m==e-1?(m=0,_.push(r(d)),d=0):m++,s>>=1}--h==0&&(h=Math.pow(2,p),p++),delete i[l]}else for(n=0,s=o[l];n<p;n++)d=d<<1|1&s,m==e-1?(m=0,_.push(r(d)),d=0):m++,s>>=1;--h==0&&(h=Math.pow(2,p),p++)}for(n=0,s=2;n<p;n++)d=d<<1|1&s,m==e-1?(m=0,_.push(r(d)),d=0):m++,s>>=1;for(;;){if(d<<=1,m==e-1){_.push(r(d));break}m++}return _.join("")}function sd(t,e,r){let n=[],s=4,o=4,i=3,a="",u=[],l,h,v,p,_,d,m,b={val:r(0),position:e,index:1};for(l=0;l<3;l+=1)n[l]=l;for(v=0,_=4,d=1;d!=_;)p=b.val&b.position,b.position>>=1,b.position==0&&(b.position=e,b.val=r(b.index++)),v|=(p>0?1:0)*d,d<<=1;switch(v){case 0:for(v=0,_=256,d=1;d!=_;)p=b.val&b.position,b.position>>=1,b.position==0&&(b.position=e,b.val=r(b.index++)),v|=(p>0?1:0)*d,d<<=1;m=Sr(v);break;case 1:for(v=0,_=65536,d=1;d!=_;)p=b.val&b.position,b.position>>=1,b.position==0&&(b.position=e,b.val=r(b.index++)),v|=(p>0?1:0)*d,d<<=1;m=Sr(v);break;case 2:return""}for(n[3]=m,h=m,u.push(m);;){if(b.index>t)return"";for(v=0,_=Math.pow(2,i),d=1;d!=_;)p=b.val&b.position,b.position>>=1,b.position==0&&(b.position=e,b.val=r(b.index++)),v|=(p>0?1:0)*d,d<<=1;switch(m=v){case 0:for(v=0,_=256,d=1;d!=_;)p=b.val&b.position,b.position>>=1,b.position==0&&(b.position=e,b.val=r(b.index++)),v|=(p>0?1:0)*d,d<<=1;n[o++]=Sr(v),m=o-1,s--;break;case 1:for(v=0,_=65536,d=1;d!=_;)p=b.val&b.position,b.position>>=1,b.position==0&&(b.position=e,b.val=r(b.index++)),v|=(p>0?1:0)*d,d<<=1;n[o++]=Sr(v),m=o-1,s--;break;case 2:return u.join("")}if(s==0&&(s=Math.pow(2,i),i++),n[m])a=n[m];else{if(m!==o)return null;a=h+h.charAt(0)}u.push(a),n[o++]=h+a.charAt(0),s--,h=a,s==0&&(s=Math.pow(2,i),i++)}}let ii;ii=ra;const od={keepFocus:!0,noScroll:!0,replaceState:!0},id={keepFocus:!0,noScroll:!0,replaceState:!1};function jn(t,e,r=(n,s)=>JSON.stringify(n)===JSON.stringify(s)){return typeof t=="object"&&typeof e=="object"&&r(t,e)}function An({encode:t,decode:e}){function r(n){return{encode:t,decode:e,defaultValue:n}}return r}function ad(t){return{encode:e=>JSON.stringify(e),decode:e=>{if(e===null)return null;try{return JSON.parse(e)}catch{return null}},defaultValue:t}}function cd(t){return{encode:e=>JSON.stringify(e),decode:e=>{if(e===null)return null;try{return JSON.parse(e)}catch{return null}},defaultValue:t}}function ld(t){return{encode:e=>ed(JSON.stringify(e)),decode:e=>{if(!e)return null;try{return JSON.parse(rd(e)??"")}catch{return null}},defaultValue:t}}const Ke={number:An({encode:t=>t.toString(),decode:t=>t?parseFloat(t):null}),boolean:An({encode:t=>t+"",decode:t=>t!==null&&t!=="false"}),string:An({encode:t=>t??"",decode:t=>t}),object:ad,array:cd,lz:ld},On=new Set;let $s;const Bs=new Map,En={encode:t=>t.toString(),decode:t=>t?t.toString():null};function Je(t,{encode:e=En.encode,decode:r=En.decode,defaultValue:n}=En,{debounceHistory:s=0,pushHistory:o=!0,sort:i=!0,showDefaults:a=!0,equalityFn:u}={}){const l=sa(null);let h=!0,v;function p(d,m){h=!1;const b=window.location.hash,O=x=>{if(d==null)x.delete(t);else{const $=e(d);$==null?x.delete(t):x.set(t,$)}};On.add(O),clearTimeout($s);const T=new URLSearchParams(window.location.search);$s=setTimeout(async()=>{On.forEach(x=>{x(T)}),clearTimeout(Bs.get(t));{l.set(d);async function x(){i&&T.sort(),await ea(`?${T}${b}`,o?id:od),l.set(null)}m||s===0?x():Bs.set(t,setTimeout(x,s))}On.clear()})}const{subscribe:_}=na([ii,l],([d,m],b)=>{var x,$,q;if(m!=null)return jn(v,m,u)?void 0:(v=structuredClone(m),b(m));const O=(q=($=(x=d==null?void 0:d.url)==null?void 0:x.searchParams)==null?void 0:$.get)==null?void 0:q.call($,t);if(O==null&&n!=null)return a&&p(structuredClone(n),h),jn(v,n,u)?void 0:(v=structuredClone(n),b(structuredClone(n)));const T=r(O);if(!jn(v,T,u))return v=structuredClone(T),b(T)});return{set(d){p(d)},subscribe:_,update:d=>{const m=d(v);p(m)}}}var ud=W("&#160;<small> </small>",1),dd=W('<span class="slider-track"><!></span> <!>',1),fd=W('<h3> <!></h3> <div class="slider"><!></div> <div class="range-inputs svelte-1wxg60f"><label class="svelte-1wxg60f"><span> </span> <input type="number"></label> <label class="svelte-1wxg60f"><span> </span> <input type="number"></label></div>',1);function Ds(t,e){Ot(e,!0);let r=U(e,"title",3,"Range slider"),n=U(e,"unit",3,""),s=U(e,"min",3,0),o=U(e,"max",3,100),i=U(e,"step",3,1),a=U(e,"startLabel",3,"From"),u=U(e,"endLabel",3,"To"),l=U(e,"selectedRange",31,()=>ht([0,0]));var h=fd(),v=H(h),p=k(v,!0),_=I(p);{var d=M=>{var R=ud(),B=I(H(R)),et=k(B);S(B),tt(()=>Z(et,`(${n()??""})`)),P(M,R)};ot(_,M=>{n()&&M(d)})}S(v);var m=I(v,2),b=k(m);Pt(b,()=>Nc,(M,R)=>{R(M,{class:"slider-root",get min(){return s()},get max(){return o()},get step(){return i()},type:"multiple",autoSort:!0,get onValueCommit(){return e.rangeChange},get value(){return l()},set value(et){l(et)},children:(et,F)=>{let V=()=>F==null?void 0:F().thumbs;var y=dd(),c=H(y),g=k(c);Pt(g,()=>Lc,(A,E)=>{E(A,{class:"slider-range"})}),S(c);var w=I(c,2);Yt(w,17,V,re,(A,E)=>{var L=lt(),at=H(L);const pt=D(()=>`${f(E)===0?a():u()}`);Pt(at,()=>$c,(it,Dt)=>{Dt(it,{get index(){return f(E)},class:"slider-thumb",get"aria-label"(){return f(pt)}})}),P(A,L)}),P(et,y)},$$slots:{default:!0}})}),S(m);var O=I(m,2),T=k(O),x=k(T),$=k(x,!0);S(x);var q=I(x,2);Ne(q),q.__input=function(...M){var R;(R=e.rangeChange)==null||R.apply(this,M)},S(T);var j=I(T,2),z=k(j),X=k(z,!0);S(z);var N=I(z,2);Ne(N),N.__input=function(...M){var R;(R=e.rangeChange)==null||R.apply(this,M)},S(j),S(O),tt(()=>{Z(p,r()),Z($,a()),ne(q,"min",s()),ne(q,"max",o()),Z(X,u()),ne(N,"min",s()),ne(N,"max",o())}),Ln(q,()=>l()[0],M=>l(l()[0]=M,!0)),Ln(N,()=>l()[1],M=>l(l()[1]=M,!0)),P(t,h),Et()}Jn(["input"]);var hd=(t,e)=>e.sortAggregationsByChange(),gd=W('<label><input type="radio" name="sort-aggregations" class="svelte-14gvudh"> </label>'),pd=W('<li class="svelte-14gvudh"><!></li>'),vd=W('<section class="filters-group svelte-14gvudh"><!></section>'),md=(t,e)=>e.languageConjunctionChange(),yd=W('<div class="conjunction-options svelte-14gvudh"><label><input type="checkbox" class="svelte-14gvudh"> Match all selected languages (AND)</label></div>'),_d=W('<input type="text" placeholder="Filter options..." class="filter-input svelte-14gvudh">'),bd=(t,e)=>e.searchFiltersChange(),wd=W('<li class="svelte-14gvudh"><label class="svelte-14gvudh"><input type="checkbox" class="svelte-14gvudh"> <div class="svelte-14gvudh"><span> </span> <small> </small></div></label></li>'),xd=W('<section class="filters-group svelte-14gvudh"><details class="svelte-14gvudh"><summary class="svelte-14gvudh"><h3 class="svelte-14gvudh"> </h3></summary> <div><small> </small> <!> <!> <ul class="svelte-14gvudh"></ul></div></details></section>'),Sd=W('<section class="filters-group svelte-14gvudh"><!></section>'),Pd=W("<!> <!>",1),kd=W('<aside class="filters svelte-14gvudh" tabindex="-1"><section class="filters-header svelte-14gvudh"><h2 class="svelte-14gvudh">Filters</h2> <!></section> <section class="filters-sort svelte-14gvudh"><h3 class="svelte-14gvudh">Sort by</h3> <div class="svelte-14gvudh"></div></section> <section class="filters-by svelte-14gvudh"><div class="svelte-14gvudh"><hgroup class="svelte-14gvudh"><h3 class="svelte-14gvudh">Filter by</h3> <small> </small></hgroup> <!></div> <ul class="svelte-14gvudh"></ul></section> <section class="filters-groups svelte-14gvudh"><!> <!></section></aside>');function jd(t,e){Ot(e,!0);const r=[],n=[];let s=U(e,"show",7,!1),o=U(e,"aggregations",19,()=>({})),i=U(e,"total",3,0),a=U(e,"languageConjunction",15,!0),u=U(e,"sortAggregationsBy",15,"key"),l=U(e,"selectedDateRange",31,()=>ht([0,0])),h=U(e,"selectedLetterHeightRange",31,()=>ht([0,0])),v=U(e,"selectedFilters",31,()=>ht({}));const p=D(()=>Object.values(v()).some(R=>R.length>0)),_=D(()=>Object.entries(v()).filter(([R,B])=>B.length>0).flatMap(([R,B])=>B.map(et=>[R,et]))),d=[{label:"Name",value:"key"},{label:"Count",value:"count"}],m=ht({});let b=It(null);function O(R){var B;st(b,ht(document.activeElement)),(B=R.currentTarget)==null||B.focus()}function T(){s(!1)}function x(){f(b)&&f(b).focus()}function $(){v(Object.fromEntries(Object.keys(v()).map(R=>[R,[]]))),e.searchFiltersChange()}function q(R,B){v(v()[R]=v()[R].filter(et=>et!==B),!0),e.searchFiltersChange()}function j(R,B){var F;const et=((F=m[B])==null?void 0:F.toLowerCase())||"";return et?R.filter(V=>V.key.toLowerCase().includes(et)):R}function z(R){if(R.indexOf(":::")==-1)return R;const B=R.split(":::"),et=B.length;return u()==="count"?B.pop()||"":`${"+".repeat(et-1)} ${B.pop()}`}var X=lt(),N=H(X);{var M=R=>{var B=kd(),et=k(B),F=I(k(et),2);Pt(F,()=>Gt,(ft,J)=>{J(ft,{class:"close-button",onclick:T,"aria-label":"Close filters",children:(mt,dt)=>{Tt();var yt=Nt("×");P(mt,yt)},$$slots:{default:!0}})}),S(et);var V=I(et,2),y=I(k(V),2);Yt(y,21,()=>d,re,(ft,J)=>{var mt=gd(),dt=k(mt);Ne(dt);var yt;dt.__change=[hd,e];var kt=I(dt);S(mt),tt(()=>{yt!==(yt=f(J).value)&&(dt.value=(dt.__value=f(J).value)==null?"":f(J).value),Z(kt,` ${f(J).label??""}`)}),Ps(r,[],dt,()=>(f(J).value,u()),u),P(ft,mt)}),S(y),S(V);var c=I(V,2),g=k(c),w=k(g),A=I(k(w),2),E=k(A);S(A),S(w);var L=I(w,2);{var at=ft=>{var J=lt(),mt=H(J);Pt(mt,()=>Gt,(dt,yt)=>{yt(dt,{class:"clear-filters-button","aria-label":"Clear all filters",onclick:$,children:(kt,oe)=>{Tt();var Qt=Nt("Clear all filters");P(kt,Qt)},$$slots:{default:!0}})}),P(ft,J)};ot(L,ft=>{f(p)&&ft(at)})}S(g);var pt=I(g,2);Yt(pt,21,()=>f(_),re,(ft,J)=>{let mt=()=>f(J)[0],dt=()=>f(J)[1];var yt=pd();const kt=D(()=>dt().replaceAll("_"," ").replaceAll(":::"," "));var oe=k(yt);Pt(oe,()=>Gt,(Qt,Vt)=>{Vt(Qt,{class:"remove-filter-button",get"aria-label"(){return`Remove ${mt()??""} filter with value ${f(kt)??""}`},get title(){return`Remove ${mt()??""} filter with value ${f(kt)??""}`},onclick:()=>q(mt(),dt()),children:(bt,Se)=>{Tt();var Zt=Nt();tt(()=>Z(Zt,f(kt))),P(bt,Zt)},$$slots:{default:!0}})}),S(yt),P(ft,yt)}),S(pt),S(c);var it=I(c,2),Dt=k(it);{var he=ft=>{var J=vd(),mt=k(J);Ds(mt,{title:"Date",min:-700,max:1830,step:1,startLabel:"No earlier than",endLabel:"No later than",rangeChange:()=>e.searchFiltersChange(),get selectedRange(){return l()},set selectedRange(dt){l(dt)}}),S(J),P(ft,J)};ot(Dt,ft=>{var J;(J=o())!=null&&J.notBefore&&ft(he)})}var Jt=I(Dt,2);Yt(Jt,17,()=>Object.keys(v()),re,(ft,J,mt)=>{var dt=Pd(),yt=H(dt);{var kt=Vt=>{var bt=xd(),Se=k(bt),Zt=k(Se),Ve=k(Zt),gn=k(Ve,!0);S(Ve),S(Zt);var mr=I(Zt,2),We=k(mr),pn=k(We);S(We);var C=I(We,2);{var K=_t=>{var wt=yd(),Ht=k(wt),ge=k(Ht);Ne(ge),ge.__change=[md,e],Tt(),S(Ht),S(wt),oa(ge,a),P(_t,wt)};ot(C,_t=>{f(J)==="language"&&_t(K)})}var ct=I(C,2);{var zt=_t=>{var wt=_d();Ne(wt),Ln(wt,()=>m[f(J)],Ht=>m[f(J)]=Ht),P(_t,wt)};ot(ct,_t=>{o()[f(J)].buckets.length>20&&_t(zt)})}var Wt=I(ct,2);Yt(Wt,21,()=>j(o()[f(J)].buckets,f(J)),re,(_t,wt)=>{var Ht=wd(),ge=k(Ht),te=k(ge);Ne(te);var yr;te.__change=[bd,e];var Ue=I(te,2),qe=k(Ue),vn=k(qe,!0);S(qe);var _r=I(qe,2),br=k(_r);S(_r),S(Ue),S(ge),S(Ht),tt((pe,He)=>{yr!==(yr=f(wt).key)&&(te.value=(te.__value=f(wt).key)==null?"":f(wt).key),te.disabled=f(wt).doc_count===0,Z(vn,pe),Z(br,`matches: ${He??""}`)},[()=>z(f(wt).key),()=>f(wt).doc_count.toLocaleString()]),Ps(n,[mt],te,()=>(f(wt).key,v()[f(J)]),pe=>v(v()[f(J)]=pe,!0)),P(_t,Ht)}),S(Wt),S(mr),S(Se),S(bt),tt(_t=>{Z(gn,o()[f(J)].title),Z(pn,`Options: ${_t??""}`)},[()=>o()[f(J)].buckets.filter(_t=>_t.doc_count>0).length]),P(Vt,bt)};ot(yt,Vt=>{f(J)in o()&&o()[f(J)].title&&Vt(kt)})}var oe=I(yt,2);{var Qt=Vt=>{var bt=Sd(),Se=k(bt);Ds(Se,{title:"Letter height",unit:"mm",min:0,max:100,step:1,startLabel:"At least",endLabel:"At most",rangeChange:()=>e.searchFiltersChange(),get selectedRange(){return h()},set selectedRange(Zt){h(Zt)}}),S(bt),P(Vt,bt)};ot(oe,Vt=>{var bt;f(J)=="pigment"&&((bt=o())!=null&&bt.letterHeightAtLeast)&&Vt(Qt)})}P(ft,dt)}),S(it),S(B),tt(ft=>Z(E,`(${ft??""} inscriptions found)`),[()=>i().toLocaleString()]),Ee("introend",B,O),Ee("outroend",B,x),tr(3,B,()=>qi,()=>({axis:"x",duration:300})),P(R,B)};ot(N,R=>{s()&&R(M)})}P(t,X),Et()}Jn(["change"]);var Ad=W(", matching <em> </em>",1),Od=W('<span class="svelte-eb26nt"> <em> </em></span>'),Ed=W('<span class="svelte-eb26nt">letter height: <em> </em></span>'),Rd=W(', filtered by <span class="selected-filters svelte-eb26nt"><!> <!></span>',1),Td=W('<h2 class="svelte-eb26nt"><em> </em> Inscriptions between <em> </em> – <em> </em> across <em> </em> locations<!><!></h2>');function zd(t,e){Ot(e,!0);let r=D(()=>Object.values(e.filters).some(b=>b.length>0)||e.letterHeightRange[0]!==e.defaultLetterHeightRange[0]||e.letterHeightRange[1]!==e.defaultLetterHeightRange[1]);var n=Td(),s=k(n),o=k(s,!0);S(s);var i=I(s,2),a=k(i,!0);S(i);var u=I(i,2),l=k(u,!0);S(u);var h=I(u,2),v=k(h,!0);S(h);var p=I(h,2);{var _=b=>{var O=Ad(),T=I(H(O)),x=k(T,!0);S(T),tt($=>Z(x,$),[()=>e.query.split(" ").join(", ")]),P(b,O)};ot(p,b=>{e.query&&b(_)})}var d=I(p);{var m=b=>{var O=Rd(),T=I(H(O)),x=k(T);Yt(x,17,()=>Object.entries(e.filters).filter(([j,z])=>z.length>0),re,(j,z)=>{let X=()=>f(z)[0],N=()=>f(z)[1];var M=Od(),R=k(M),B=I(R),et=k(B,!0);S(B),S(M),tt(F=>{Z(R,`${X()??""}: `),Z(et,F)},[()=>N().join(", ").replaceAll("_"," ").replaceAll(":::"," ")]),P(j,M)});var $=I(x,2);{var q=j=>{var z=Ed(),X=I(k(z)),N=k(X);S(X),S(z),tt(()=>Z(N,`${e.letterHeightRange[0]??""}–${e.letterHeightRange[1]??""}mm`)),P(j,z)};ot($,j=>{e.letterHeightRange&&j(q)})}S(T),P(b,O)};ot(d,b=>{f(r)&&b(m)})}S(n),tt((b,O,T,x)=>{Z(o,b),Z(a,O),Z(l,T),Z(v,x)},[()=>e.total.toLocaleString(),()=>e.dateRange[0]>0?`AD ${e.dateRange[0]}`:`${Math.abs(e.dateRange[0])} BC`,()=>e.dateRange[1]>0?`AD ${e.dateRange[1]}`:`${Math.abs(e.dateRange[1])} BC`,()=>e.numberOfLocations.toLocaleString()]),P(t,n),Et()}var ai=typeof global=="object"&&global&&global.Object===Object&&global,Cd=typeof self=="object"&&self&&self.Object===Object&&self,se=ai||Cd||Function("return this")(),qt=se.Symbol,ci=Object.prototype,Id=ci.hasOwnProperty,Nd=ci.toString,Qe=qt?qt.toStringTag:void 0,Md=Object.prototype.toString,Ld="[object Null]",Fd="[object Undefined]",Vs=qt?qt.toStringTag:void 0;function De(t){return t==null?t===void 0?Fd:Ld:Vs&&Vs in Object(t)?function(e){var r=Id.call(e,Qe),n=e[Qe];try{e[Qe]=void 0;var s=!0}catch{}var o=Nd.call(e);return s&&(r?e[Qe]=n:delete e[Qe]),o}(t):function(e){return Md.call(e)}(t)}function Re(t){return t!=null&&typeof t=="object"}var $d="[object Symbol]";function cr(t){return typeof t=="symbol"||Re(t)&&De(t)==$d}function nr(t,e){for(var r=-1,n=t==null?0:t.length,s=Array(n);++r<n;)s[r]=e(t[r],r,t);return s}var Kt=Array.isArray,Bd=1/0,Ws=qt?qt.prototype:void 0,Us=Ws?Ws.toString:void 0;function li(t){if(typeof t=="string")return t;if(Kt(t))return nr(t,li)+"";if(cr(t))return Us?Us.call(t):"";var e=t+"";return e=="0"&&1/t==-Bd?"-0":e}function fn(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function hn(t){return t}var Dd="[object AsyncFunction]",Vd="[object Function]",Wd="[object GeneratorFunction]",Ud="[object Proxy]";function ui(t){if(!fn(t))return!1;var e=De(t);return e==Vd||e==Wd||e==Dd||e==Ud}var qs,Rn=se["__core-js_shared__"],Hs=(qs=/[^.]+$/.exec(Rn&&Rn.keys&&Rn.keys.IE_PROTO||""))?"Symbol(src)_1."+qs:"",qd=Function.prototype.toString;function ze(t){if(t!=null){try{return qd.call(t)}catch{}try{return t+""}catch{}}return""}var Hd=/^\[object .+?Constructor\]$/,Xd=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ce(t,e){var r=function(n,s){return n==null?void 0:n[s]}(t,e);return function(n){return!(!fn(n)||(s=n,Hs&&Hs in s))&&(ui(n)?Xd:Hd).test(ze(n));var s}(r)?r:void 0}var Xs,Tn,zn,Vn=Ce(se,"WeakMap"),Gd=Date.now,Yd=function(){try{var t=Ce(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Gs=Yd,Kd=Gs?function(t,e){return Gs(t,"toString",{configurable:!0,enumerable:!1,value:(r=e,function(){return r}),writable:!0});var r}:hn,Jd=(Xs=Kd,Tn=0,zn=0,function(){var t=Gd(),e=16-(t-zn);if(zn=t,e>0){if(++Tn>=800)return arguments[0]}else Tn=0;return Xs.apply(void 0,arguments)});function Qd(t){return t!=t}function Zd(t,e){return!(t==null||!t.length)&&function(r,n,s){return n==n?function(o,i,a){for(var u=-1,l=o.length;++u<l;)if(o[u]===i)return u;return-1}(r,n):function(o,i,a,u){for(var l=o.length,h=-1;++h<l;)if(i(o[h],h,o))return h;return-1}(r,Qd)}(t,e)>-1}var tf=9007199254740991,ef=/^(?:0|[1-9]\d*)$/;function hs(t,e){var r=typeof t;return!!(e=e??tf)&&(r=="number"||r!="symbol"&&ef.test(t))&&t>-1&&t%1==0&&t<e}function gs(t,e){return t===e||t!=t&&e!=e}var Ys=Math.max;function di(t,e){return Jd(function(r,n,s){return n=Ys(n===void 0?r.length-1:n,0),function(){for(var o=arguments,i=-1,a=Ys(o.length-n,0),u=Array(a);++i<a;)u[i]=o[n+i];i=-1;for(var l=Array(n+1);++i<n;)l[i]=o[i];return l[n]=s(u),function(h,v,p){switch(p.length){case 0:return h.call(v);case 1:return h.call(v,p[0]);case 2:return h.call(v,p[0],p[1]);case 3:return h.call(v,p[0],p[1],p[2])}return h.apply(v,p)}(r,this,l)}}(t,e,hn),t+"")}var rf=9007199254740991;function ps(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=rf}function vr(t){return t!=null&&ps(t.length)&&!ui(t)}function Ks(t,e,r){if(!fn(r))return!1;var n=typeof e;return!!(n=="number"?vr(r)&&hs(e,r.length):n=="string"&&e in r)&&gs(r[e],t)}var nf=Object.prototype;function sf(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||nf)}function Js(t){return Re(t)&&De(t)=="[object Arguments]"}var fi=Object.prototype,of=fi.hasOwnProperty,af=fi.propertyIsEnumerable,vs=Js(function(){return arguments}())?Js:function(t){return Re(t)&&of.call(t,"callee")&&!af.call(t,"callee")},hi=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Qs=hi&&typeof module=="object"&&module&&!module.nodeType&&module,Zs=Qs&&Qs.exports===hi?se.Buffer:void 0,Wn=(Zs?Zs.isBuffer:void 0)||function(){return!1},vt={};function gi(t){return function(e){return t(e)}}vt["[object Float32Array]"]=vt["[object Float64Array]"]=vt["[object Int8Array]"]=vt["[object Int16Array]"]=vt["[object Int32Array]"]=vt["[object Uint8Array]"]=vt["[object Uint8ClampedArray]"]=vt["[object Uint16Array]"]=vt["[object Uint32Array]"]=!0,vt["[object Arguments]"]=vt["[object Array]"]=vt["[object ArrayBuffer]"]=vt["[object Boolean]"]=vt["[object DataView]"]=vt["[object Date]"]=vt["[object Error]"]=vt["[object Function]"]=vt["[object Map]"]=vt["[object Number]"]=vt["[object Object]"]=vt["[object RegExp]"]=vt["[object Set]"]=vt["[object String]"]=vt["[object WeakMap]"]=!1;var pi=typeof exports=="object"&&exports&&!exports.nodeType&&exports,sr=pi&&typeof module=="object"&&module&&!module.nodeType&&module,Cn=sr&&sr.exports===pi&&ai.process,$e=function(){try{return sr&&sr.require&&sr.require("util").types||Cn&&Cn.binding&&Cn.binding("util")}catch{}}(),to=$e&&$e.isTypedArray,vi=to?gi(to):function(t){return Re(t)&&ps(t.length)&&!!vt[De(t)]},cf=Object.prototype.hasOwnProperty;function lf(t,e){var r=Kt(t),n=!r&&vs(t),s=!r&&!n&&Wn(t),o=!r&&!n&&!s&&vi(t),i=r||n||s||o,a=i?function(h,v){for(var p=-1,_=Array(h);++p<h;)_[p]=v(p);return _}(t.length,String):[],u=a.length;for(var l in t)!cf.call(t,l)||i&&(l=="length"||s&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||hs(l,u))||a.push(l);return a}function uf(t,e){return function(r){return t(e(r))}}var df=uf(Object.keys,Object),ff=Object.prototype.hasOwnProperty;function ms(t){return vr(t)?lf(t):function(e){if(!sf(e))return df(e);var r=[];for(var n in Object(e))ff.call(e,n)&&n!="constructor"&&r.push(n);return r}(t)}var hf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gf=/^\w*$/;function Un(t,e){if(Kt(t))return!1;var r=typeof t;return!(r!="number"&&r!="symbol"&&r!="boolean"&&t!=null&&!cr(t))||gf.test(t)||!hf.test(t)||e!=null&&t in Object(e)}var Ze=Ce(Object,"create"),pf=Object.prototype.hasOwnProperty,vf=Object.prototype.hasOwnProperty;function Oe(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function kr(t,e){for(var r=t.length;r--;)if(gs(t[r][0],e))return r;return-1}Oe.prototype.clear=function(){this.__data__=Ze?Ze(null):{},this.size=0},Oe.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Oe.prototype.get=function(t){var e=this.__data__;if(Ze){var r=e[t];return r==="__lodash_hash_undefined__"?void 0:r}return pf.call(e,t)?e[t]:void 0},Oe.prototype.has=function(t){var e=this.__data__;return Ze?e[t]!==void 0:vf.call(e,t)},Oe.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Ze&&e===void 0?"__lodash_hash_undefined__":e,this};var mf=Array.prototype.splice;function ce(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ce.prototype.clear=function(){this.__data__=[],this.size=0},ce.prototype.delete=function(t){var e=this.__data__,r=kr(e,t);return!(r<0||(r==e.length-1?e.pop():mf.call(e,r,1),--this.size,0))},ce.prototype.get=function(t){var e=this.__data__,r=kr(e,t);return r<0?void 0:e[r][1]},ce.prototype.has=function(t){return kr(this.__data__,t)>-1},ce.prototype.set=function(t,e){var r=this.__data__,n=kr(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var lr=Ce(se,"Map");function jr(t,e){var r,n,s=t.__data__;return((n=typeof(r=e))=="string"||n=="number"||n=="symbol"||n=="boolean"?r!=="__proto__":r===null)?s[typeof e=="string"?"string":"hash"]:s.map}function ie(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function ys(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var r=function(){var n=arguments,s=e?e.apply(this,n):n[0],o=r.cache;if(o.has(s))return o.get(s);var i=t.apply(this,n);return r.cache=o.set(s,i)||o,i};return r.cache=new(ys.Cache||ie),r}ie.prototype.clear=function(){this.size=0,this.__data__={hash:new Oe,map:new(lr||ce),string:new Oe}},ie.prototype.delete=function(t){var e=jr(this,t).delete(t);return this.size-=e?1:0,e},ie.prototype.get=function(t){return jr(this,t).get(t)},ie.prototype.has=function(t){return jr(this,t).has(t)},ie.prototype.set=function(t,e){var r=jr(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},ys.Cache=ie;var In,Nn,yf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_f=/\\(\\)?/g,bf=(In=ys(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(yf,function(r,n,s,o){e.push(s?o.replace(_f,"$1"):n||r)}),e},function(t){return Nn.size===500&&Nn.clear(),t}),Nn=In.cache,In);function mi(t,e){return Kt(t)?t:Un(t,e)?[t]:bf(function(r){return r==null?"":li(r)}(t))}var wf=1/0;function Or(t){if(typeof t=="string"||cr(t))return t;var e=t+"";return e=="0"&&1/t==-wf?"-0":e}function qn(t,e){for(var r=0,n=(e=mi(e,t)).length;t!=null&&r<n;)t=t[Or(e[r++])];return r&&r==n?t:void 0}function yi(t,e){for(var r=-1,n=e.length,s=t.length;++r<n;)t[s+r]=e[r];return t}var eo=qt?qt.isConcatSpreadable:void 0;function xf(t){return Kt(t)||vs(t)||!!(eo&&t&&t[eo])}function Sf(t,e,r,n,s){var o=-1,i=t.length;for(r||(r=xf),s||(s=[]);++o<i;){var a=t[o];r(a)?yi(s,a):s[s.length]=a}return s}function le(t){var e=this.__data__=new ce(t);this.size=e.size}le.prototype.clear=function(){this.__data__=new ce,this.size=0},le.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},le.prototype.get=function(t){return this.__data__.get(t)},le.prototype.has=function(t){return this.__data__.has(t)},le.prototype.set=function(t,e){var r=this.__data__;if(r instanceof ce){var n=r.__data__;if(!lr||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new ie(n)}return r.set(t,e),this.size=r.size,this};var _i=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ro=_i&&typeof module=="object"&&module&&!module.nodeType&&module,no=ro&&ro.exports===_i?se.Buffer:void 0;no&&no.allocUnsafe;function Pf(){return[]}var kf=Object.prototype.propertyIsEnumerable,so=Object.getOwnPropertySymbols,jf=so?function(t){return t==null?[]:(t=Object(t),function(e,r){for(var n=-1,s=e==null?0:e.length,o=0,i=[];++n<s;){var a=e[n];kf.call(t,a)&&(i[o++]=a)}return i}(so(t)))}:Pf,Af=jf;function Of(t,e,r){var n=e(t);return Kt(t)?n:yi(n,r(t))}function oo(t){return Of(t,ms,Af)}var Hn=Ce(se,"DataView"),Xn=Ce(se,"Promise"),Gn=Ce(se,"Set"),io="[object Map]",ao="[object Promise]",co="[object Set]",lo="[object WeakMap]",uo="[object DataView]",Ef=ze(Hn),Rf=ze(lr),Tf=ze(Xn),zf=ze(Gn),Cf=ze(Vn),je=De;(Hn&&je(new Hn(new ArrayBuffer(1)))!=uo||lr&&je(new lr)!=io||Xn&&je(Xn.resolve())!=ao||Gn&&je(new Gn)!=co||Vn&&je(new Vn)!=lo)&&(je=function(t){var e=De(t),r=e=="[object Object]"?t.constructor:void 0,n=r?ze(r):"";if(n)switch(n){case Ef:return uo;case Rf:return io;case Tf:return ao;case zf:return co;case Cf:return lo}return e});var fo=je,ho=se.Uint8Array,go=qt?qt.prototype:void 0;go&&go.valueOf;$e&&$e.isMap;$e&&$e.isSet;function or(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new ie;++e<r;)this.add(t[e])}function If(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function Yn(t,e){return t.has(e)}or.prototype.add=or.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},or.prototype.has=function(t){return this.__data__.has(t)};var Nf=1,Mf=2;function po(t,e,r,n,s,o){var i=r&Nf,a=t.length,u=e.length;if(a!=u&&!(i&&u>a))return!1;var l=o.get(t),h=o.get(e);if(l&&h)return l==e&&h==t;var v=-1,p=!0,_=r&Mf?new or:void 0;for(o.set(t,e),o.set(e,t);++v<a;){var d=t[v],m=e[v];if(n)var b=i?n(m,d,v,e,t,o):n(d,m,v,t,e,o);if(b!==void 0){if(b)continue;p=!1;break}if(_){if(!If(e,function(O,T){if(!Yn(_,T)&&(d===O||s(d,O,r,n,o)))return _.push(T)})){p=!1;break}}else if(d!==m&&!s(d,m,r,n,o)){p=!1;break}}return o.delete(t),o.delete(e),p}function Lf(t){var e=-1,r=Array(t.size);return t.forEach(function(n,s){r[++e]=[s,n]}),r}function Ff(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var $f=1,Bf=2,Df="[object Boolean]",Vf="[object Date]",Wf="[object Error]",Uf="[object Map]",qf="[object Number]",Hf="[object RegExp]",Xf="[object Set]",Gf="[object String]",Yf="[object Symbol]",Kf="[object ArrayBuffer]",Jf="[object DataView]",vo=qt?qt.prototype:void 0,Mn=vo?vo.valueOf:void 0,Qf=1,Zf=Object.prototype.hasOwnProperty,th=1,mo="[object Arguments]",yo="[object Array]",Ar="[object Object]",_o=Object.prototype.hasOwnProperty;function Kn(t,e,r,n,s){return t===e||(t==null||e==null||!Re(t)&&!Re(e)?t!=t&&e!=e:function(o,i,a,u,l,h){var v=Kt(o),p=Kt(i),_=v?yo:fo(o),d=p?yo:fo(i),m=(_=_==mo?Ar:_)==Ar,b=(d=d==mo?Ar:d)==Ar,O=_==d;if(O&&Wn(o)){if(!Wn(i))return!1;v=!0,m=!1}if(O&&!m)return h||(h=new le),v||vi(o)?po(o,i,a,u,l,h):function(j,z,X,N,M,R,B){switch(X){case Jf:if(j.byteLength!=z.byteLength||j.byteOffset!=z.byteOffset)return!1;j=j.buffer,z=z.buffer;case Kf:return!(j.byteLength!=z.byteLength||!R(new ho(j),new ho(z)));case Df:case Vf:case qf:return gs(+j,+z);case Wf:return j.name==z.name&&j.message==z.message;case Hf:case Gf:return j==z+"";case Uf:var et=Lf;case Xf:if(et||(et=Ff),j.size!=z.size&&!(N&$f))return!1;var F=B.get(j);if(F)return F==z;N|=Bf,B.set(j,z);var V=po(et(j),et(z),N,M,R,B);return B.delete(j),V;case Yf:if(Mn)return Mn.call(j)==Mn.call(z)}return!1}(o,i,_,a,u,l,h);if(!(a&th)){var T=m&&_o.call(o,"__wrapped__"),x=b&&_o.call(i,"__wrapped__");if(T||x){var $=T?o.value():o,q=x?i.value():i;return h||(h=new le),l($,q,a,u,h)}}return!!O&&(h||(h=new le),function(j,z,X,N,M,R){var B=X&Qf,et=oo(j),F=et.length;if(F!=oo(z).length&&!B)return!1;for(var V=F;V--;){var y=et[V];if(!(B?y in z:Zf.call(z,y)))return!1}var c=R.get(j),g=R.get(z);if(c&&g)return c==z&&g==j;var w=!0;R.set(j,z),R.set(z,j);for(var A=B;++V<F;){var E=j[y=et[V]],L=z[y];if(N)var at=B?N(L,E,y,z,j,R):N(E,L,y,j,z,R);if(!(at===void 0?E===L||M(E,L,X,N,R):at)){w=!1;break}A||(A=y=="constructor")}if(w&&!A){var pt=j.constructor,it=z.constructor;pt==it||!("constructor"in j)||!("constructor"in z)||typeof pt=="function"&&pt instanceof pt&&typeof it=="function"&&it instanceof it||(w=!1)}return R.delete(j),R.delete(z),w}(o,i,a,u,l,h))}(t,e,r,n,Kn,s))}var eh=1,rh=2;function bo(t){return t==t&&!fn(t)}function wo(t,e){return function(r){return r!=null&&r[t]===e&&(e!==void 0||t in Object(r))}}function nh(t,e){return t!=null&&e in Object(t)}var sh=1,oh=2;function ih(t){return typeof t=="function"?t:t==null?hn:typeof t=="object"?Kt(t)?function(o,i){return Un(o)&&bo(i)?wo(Or(o),i):function(a){var u=function(l,h,v){var p=l==null?void 0:qn(l,h);return p===void 0?void 0:p}(a,o);return u===void 0&&u===i?function(l,h){return l!=null&&function(v,p,_){for(var d=-1,m=(p=mi(p,v)).length,b=!1;++d<m;){var O=Or(p[d]);if(!(b=v!=null&&_(v,O)))break;v=v[O]}return b||++d!=m?b:!!(m=v==null?0:v.length)&&ps(m)&&hs(O,m)&&(Kt(v)||vs(v))}(l,h,nh)}(a,o):Kn(i,u,sh|oh)}}(t[0],t[1]):(s=function(o){for(var i=ms(o),a=i.length;a--;){var u=i[a],l=o[u];i[a]=[u,l,bo(l)]}return i}(n=t),s.length==1&&s[0][2]?wo(s[0][0],s[0][1]):function(o){return o===n||function(i,a,u,l){var h=u.length,v=h;if(i==null)return!v;for(i=Object(i);h--;){var p=u[h];if(p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++h<v;){var _=(p=u[h])[0],d=i[_],m=p[1];if(p[2]){if(d===void 0&&!(_ in i))return!1}else{var b=new le;if(!Kn(m,d,eh|rh,void 0,b))return!1}}return!0}(o,0,s)}):Un(e=t)?(r=Or(e),function(o){return o==null?void 0:o[r]}):function(o){return function(i){return qn(i,o)}}(e);var e,r,n,s}var ah=function(t,e,r){for(var n=-1,s=Object(t),o=r(t),i=o.length;i--;){var a=o[++n];if(e(s[a],a,s)===!1)break}return t};function ch(t,e){return t&&ah(t,e,ms)}var xo,lh=(xo=ch,function(t,e){if(t==null)return t;if(!vr(t))return xo(t,e);for(var r=t.length,n=-1,s=Object(t);++n<r&&e(s[n],n,s)!==!1;);return t});function uh(t,e){var r=-1,n=vr(t)?Array(t.length):[];return lh(t,function(s,o,i){n[++r]=e(s,o,i)}),n}var dh=Math.min;function fh(t){return function(e){return Re(e)&&vr(e)}(t)?t:[]}di(function(t){var e=nr(t,fh);return e.length&&e[0]===t[0]?function(r,n,s){for(var o=Zd,i=r[0].length,a=r.length,u=a,l=Array(a),h=1/0,v=[];u--;){var p=r[u];h=dh(p.length,h),l[u]=i>=120&&p.length>=120?new or(u&&p):void 0}p=r[0];var _=-1,d=l[0];t:for(;++_<i&&v.length<h;){var m=p[_],b=m;if(m=m!==0?m:0,!(d?Yn(d,b):o(v,b,s))){for(u=a;--u;){var O=l[u];if(!(O?Yn(O,b):o(r[u],b,s)))continue t}d&&d.push(b),v.push(m)}}return v}(e):[]});function hh(t,e){if(t!==e){var r=t!==void 0,n=t===null,s=t==t,o=cr(t),i=e!==void 0,a=e===null,u=e==e,l=cr(e);if(!a&&!l&&!o&&t>e||o&&i&&u&&!a&&!l||n&&i&&u||!r&&u||!s)return 1;if(!n&&!o&&!l&&t<e||l&&r&&s&&!n&&!o||a&&r&&s||!i&&s||!u)return-1}return 0}function gh(t,e,r){e=e.length?nr(e,function(s){return Kt(s)?function(o){return qn(o,s.length===1?s[0]:s)}:s}):[hn];var n=-1;return e=nr(e,gi(ih)),function(s,o){var i=s.length;for(s.sort(function(a,u){return function(l,h,v){for(var p=-1,_=l.criteria,d=h.criteria,m=_.length,b=v.length;++p<m;){var O=hh(_[p],d[p]);if(O)return p>=b?O:O*(v[p]=="desc"?-1:1)}return l.index-h.index}(a,u,r)});i--;)s[i]=s[i].value;return s}(uh(t,function(s,o,i){return{criteria:nr(e,function(a){return a(s)}),index:++n,value:s}}))}di(function(t,e){if(t==null)return[];var r=e.length;return r>1&&Ks(t,e[0],e[1])?e=[]:r>2&&Ks(e[0],e[1],e[2])&&(e=[e[0]]),gh(t,Sf(e),[])});function nt(t){if(this.words=[],t)if(Symbol&&Symbol.iterator&&t[Symbol.iterator]!==void 0){const e=t[Symbol.iterator]();let r=e.next();for(;!r.done;)this.add(r.value),r=e.next()}else for(let e=0;e<t.length;e++)this.add(t[e])}nt.fromWords=function(t){const e=Object.create(nt.prototype);return e.words=t,e},nt.prototype.add=function(t){this.resize(t),this.words[t>>>5]|=1<<t},nt.prototype.flip=function(t){this.resize(t),this.words[t>>>5]^=1<<t},nt.prototype.clear=function(){this.words.length=0},nt.prototype.remove=function(t){this.resize(t),this.words[t>>>5]&=~(1<<t)},nt.prototype.isEmpty=function(t){const e=this.words.length;for(let r=0;r<e;r++)if(this.words[r]!==0)return!1;return!0},nt.prototype.has=function(t){return(this.words[t>>>5]&1<<t)!=0},nt.prototype.checkedAdd=function(t){this.resize(t);const e=this.words[t>>>5],r=e|1<<t;return this.words[t>>>5]=r,(r^e)>>>t},nt.prototype.trim=function(t){let e=this.words.length;for(;e>0&&this.words[e-1]===0;)e--;this.words.length=e},nt.prototype.resize=function(t){const e=t+32>>>5;for(let r=this.words.length;r<e;r++)this.words[r]=0},nt.prototype.hammingWeight=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},nt.prototype.hammingWeight4=function(t,e,r,n){return 16843009*((t=(t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)+(e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)+(r=(r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)+(n=(n=(858993459&(n-=n>>>1&1431655765))+(n>>>2&858993459))+(n>>>4)&252645135))>>>24},nt.prototype.size=function(){let t=0;const e=this.words.length,r=this.words;for(let n=0;n<e;n++)t+=this.hammingWeight(r[n]);return t},nt.prototype.array=function(){const t=new Array(this.size());let e=0;const r=this.words.length;for(let n=0;n<r;++n){let s=this.words[n];for(;s!=0;){const o=s&-s;t[e++]=(n<<5)+this.hammingWeight(o-1|0),s^=o}}return t},nt.prototype.forEach=function(t){const e=this.words.length;for(let r=0;r<e;++r){let n=this.words[r];for(;n!=0;){const s=n&-n;t((r<<5)+this.hammingWeight(s-1|0)),n^=s}}},nt.prototype[Symbol.iterator]=function(){const t=this.words.length;let e=0,r=this.words[e],n=this.hammingWeight,s=this.words;return{[Symbol.iterator](){return this},next(){for(;e<t;){if(r!==0){const o=r&-r,i=(e<<5)+n(o-1|0);return r^=o,{done:!1,value:i}}e++,e<t&&(r=s[e])}return{done:!0,value:void 0}}}},nt.prototype.clone=function(){const t=Object.create(nt.prototype);return t.words=this.words.slice(),t},nt.prototype.intersects=function(t){const e=Math.min(this.words.length,t.words.length);for(let r=0;r<e;++r)if(this.words[r]&t.words[r])return!0;return!1},nt.prototype.intersection=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)this.words[r]&=t.words[r],this.words[r+1]&=t.words[r+1],this.words[r+2]&=t.words[r+2],this.words[r+3]&=t.words[r+3],this.words[r+4]&=t.words[r+4],this.words[r+5]&=t.words[r+5],this.words[r+6]&=t.words[r+6],this.words[r+7]&=t.words[r+7];for(;r<e;++r)this.words[r]&=t.words[r];const n=this.words.length;for(r=e;r<n;++r)this.words[r]=0;return this},nt.prototype.intersection_size=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(let n=0;n<e;++n)r+=this.hammingWeight(this.words[n]&t.words[n]);return r},nt.prototype.new_intersection=function(t){const e=Object.create(nt.prototype),r=Math.min(this.words.length,t.words.length);e.words=new Array(r);let n=0;for(;n+7<r;n+=8)e.words[n]=this.words[n]&t.words[n],e.words[n+1]=this.words[n+1]&t.words[n+1],e.words[n+2]=this.words[n+2]&t.words[n+2],e.words[n+3]=this.words[n+3]&t.words[n+3],e.words[n+4]=this.words[n+4]&t.words[n+4],e.words[n+5]=this.words[n+5]&t.words[n+5],e.words[n+6]=this.words[n+6]&t.words[n+6],e.words[n+7]=this.words[n+7]&t.words[n+7];for(;n<r;++n)e.words[n]=this.words[n]&t.words[n];return e},nt.prototype.equals=function(t){const e=Math.min(this.words.length,t.words.length);for(let r=0;r<e;++r)if(this.words[r]!=t.words[r])return!1;if(this.words.length<t.words.length){const r=t.words.length;for(let n=this.words.length;n<r;++n)if(t.words[n]!=0)return!1}else if(t.words.length<this.words.length){const r=this.words.length;for(let n=t.words.length;n<r;++n)if(this.words[n]!=0)return!1}return!0},nt.prototype.difference=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)this.words[r]&=~t.words[r],this.words[r+1]&=~t.words[r+1],this.words[r+2]&=~t.words[r+2],this.words[r+3]&=~t.words[r+3],this.words[r+4]&=~t.words[r+4],this.words[r+5]&=~t.words[r+5],this.words[r+6]&=~t.words[r+6],this.words[r+7]&=~t.words[r+7];for(;r<e;++r)this.words[r]&=~t.words[r];return this},nt.prototype.new_difference=function(t){return this.clone().difference(t)},nt.prototype.difference2=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)t.words[r]=this.words[r]&~t.words[r],t.words[r+1]=this.words[r+1]&~t.words[r+1],t.words[r+2]=this.words[r+2]&~t.words[r+2],t.words[r+3]=this.words[r+3]&~t.words[r+3],t.words[r+4]=this.words[r+4]&~t.words[r+4],t.words[r+5]=this.words[r+5]&~t.words[r+5],t.words[r+6]=this.words[r+6]&~t.words[r+6],t.words[r+7]=this.words[r+7]&~t.words[r+7];for(;r<e;++r)t.words[r]=this.words[r]&~t.words[r];for(r=this.words.length-1;r>=e;--r)t.words[r]=this.words[r];return t.words.length=this.words.length,t},nt.prototype.difference_size=function(t){const e=Math.min(this.words.length,t.words.length);let r=0,n=0;for(;n<e;++n)r+=this.hammingWeight(this.words[n]&~t.words[n]);const s=this.words.length;for(;n<s;++n)r+=this.hammingWeight(this.words[n]);return r},nt.prototype.change=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)this.words[r]^=t.words[r],this.words[r+1]^=t.words[r+1],this.words[r+2]^=t.words[r+2],this.words[r+3]^=t.words[r+3],this.words[r+4]^=t.words[r+4],this.words[r+5]^=t.words[r+5],this.words[r+6]^=t.words[r+6],this.words[r+7]^=t.words[r+7];for(;r<e;++r)this.words[r]^=t.words[r];for(r=t.words.length-1;r>=e;--r)this.words[r]=t.words[r];return this},nt.prototype.new_change=function(t){const e=Object.create(nt.prototype),r=Math.max(this.words.length,t.words.length);e.words=new Array(r);const n=Math.min(this.words.length,t.words.length);let s=0;for(;s+7<n;s+=8)e.words[s]=this.words[s]^t.words[s],e.words[s+1]=this.words[s+1]^t.words[s+1],e.words[s+2]=this.words[s+2]^t.words[s+2],e.words[s+3]=this.words[s+3]^t.words[s+3],e.words[s+4]=this.words[s+4]^t.words[s+4],e.words[s+5]=this.words[s+5]^t.words[s+5],e.words[s+6]=this.words[s+6]^t.words[s+6],e.words[s+7]=this.words[s+7]^t.words[s+7];for(;s<n;++s)e.words[s]=this.words[s]^t.words[s];const o=this.words.length;for(s=n;s<o;++s)e.words[s]=this.words[s];const i=t.words.length;for(s=n;s<i;++s)e.words[s]=t.words[s];return e},nt.prototype.change_size=function(t){const e=Math.min(this.words.length,t.words.length);let r=0,n=0;for(;n<e;++n)r+=this.hammingWeight(this.words[n]^t.words[n]);const s=this.words.length>t.words.length?this:t,o=s.words.length;for(;n<o;++n)r+=this.hammingWeight(s.words[n]);return r},nt.prototype.toString=function(){return"{"+this.array().join(",")+"}"},nt.prototype.union=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(;r+7<e;r+=8)this.words[r]|=t.words[r],this.words[r+1]|=t.words[r+1],this.words[r+2]|=t.words[r+2],this.words[r+3]|=t.words[r+3],this.words[r+4]|=t.words[r+4],this.words[r+5]|=t.words[r+5],this.words[r+6]|=t.words[r+6],this.words[r+7]|=t.words[r+7];for(;r<e;++r)this.words[r]|=t.words[r];if(this.words.length<t.words.length){this.resize((t.words.length<<5)-1);const n=t.words.length;for(let s=e;s<n;++s)this.words[s]=t.words[s]}return this},nt.prototype.new_union=function(t){const e=Object.create(nt.prototype),r=Math.max(this.words.length,t.words.length);e.words=new Array(r);const n=Math.min(this.words.length,t.words.length);let s=0;for(;s+7<n;s+=8)e.words[s]=this.words[s]|t.words[s],e.words[s+1]=this.words[s+1]|t.words[s+1],e.words[s+2]=this.words[s+2]|t.words[s+2],e.words[s+3]=this.words[s+3]|t.words[s+3],e.words[s+4]=this.words[s+4]|t.words[s+4],e.words[s+5]=this.words[s+5]|t.words[s+5],e.words[s+6]=this.words[s+6]|t.words[s+6],e.words[s+7]=this.words[s+7]|t.words[s+7];for(;s<n;++s)e.words[s]=this.words[s]|t.words[s];const o=this.words.length;for(s=n;s<o;++s)e.words[s]=this.words[s];const i=t.words.length;for(s=n;s<i;++s)e.words[s]=t.words[s];return e},nt.prototype.union_size=function(t){const e=Math.min(this.words.length,t.words.length);let r=0;for(let n=0;n<e;++n)r+=this.hammingWeight(this.words[n]|t.words[n]);if(this.words.length<t.words.length){const n=t.words.length;for(let s=this.words.length;s<n;++s)r+=this.hammingWeight(0|t.words[s])}else{const n=this.words.length;for(let s=t.words.length;s<n;++s)r+=this.hammingWeight(0|this.words[s])}return r};(function(t){var e={exports:{}};return function(r,n){(function(){var s,o,i,a,u,l,h,v,p,_,d,m,b,O,T,x,$,q,j,z,X,N,M,R,B,et,F,V,y=function(c){var g=new y.Index;return g.pipeline.add(y.trimmer,y.stopWordFilter,y.stemmer),c&&c.call(g,g),g};y.version="1.0.0",y.utils={},y.utils.warn=function(c){return function(g){c.console&&console.warn&&console.warn(g)}}(this),y.utils.asString=function(c){return c==null?"":c.toString()},y.EventEmitter=function(){this.events={}},y.EventEmitter.prototype.addListener=function(){var c=Array.prototype.slice.call(arguments),g=c.pop(),w=c;if(typeof g!="function")throw new TypeError("last argument must be a function");w.forEach(function(A){this.hasHandler(A)||(this.events[A]=[]),this.events[A].push(g)},this)},y.EventEmitter.prototype.removeListener=function(c,g){if(this.hasHandler(c)){var w=this.events[c].indexOf(g);this.events[c].splice(w,1),this.events[c].length||delete this.events[c]}},y.EventEmitter.prototype.emit=function(c){if(this.hasHandler(c)){var g=Array.prototype.slice.call(arguments,1);this.events[c].forEach(function(w){w.apply(void 0,g)})}},y.EventEmitter.prototype.hasHandler=function(c){return c in this.events},y.tokenizer=function(c){return arguments.length&&c!=null&&c!=null?Array.isArray(c)?c.map(function(g){return y.utils.asString(g).toLowerCase()}):c.toString().trim().toLowerCase().split(y.tokenizer.separator):[]},y.tokenizer.separator=/[\s\-]+/,y.tokenizer.load=function(c){var g=this.registeredFunctions[c];if(!g)throw new Error("Cannot load un-registered function: "+c);return g},y.tokenizer.label="default",y.tokenizer.registeredFunctions={default:y.tokenizer},y.tokenizer.registerFunction=function(c,g){g in this.registeredFunctions&&y.utils.warn("Overwriting existing tokenizer: "+g),c.label=g,this.registeredFunctions[g]=c},y.Pipeline=function(){this._stack=[]},y.Pipeline.registeredFunctions={},y.Pipeline.registerFunction=function(c,g){g in this.registeredFunctions&&y.utils.warn("Overwriting existing registered function: "+g),c.label=g,y.Pipeline.registeredFunctions[c.label]=c},y.Pipeline.warnIfFunctionNotRegistered=function(c){c.label&&c.label in this.registeredFunctions||y.utils.warn(`Function is not registered with pipeline. This may cause problems when serialising the index.
`,c)},y.Pipeline.load=function(c){var g=new y.Pipeline;return c.forEach(function(w){var A=y.Pipeline.registeredFunctions[w];if(!A)throw new Error("Cannot load un-registered function: "+w);g.add(A)}),g},y.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(c){y.Pipeline.warnIfFunctionNotRegistered(c),this._stack.push(c)},this)},y.Pipeline.prototype.after=function(c,g){y.Pipeline.warnIfFunctionNotRegistered(g);var w=this._stack.indexOf(c);if(w==-1)throw new Error("Cannot find existingFn");this._stack.splice(w+=1,0,g)},y.Pipeline.prototype.before=function(c,g){y.Pipeline.warnIfFunctionNotRegistered(g);var w=this._stack.indexOf(c);if(w==-1)throw new Error("Cannot find existingFn");this._stack.splice(w,0,g)},y.Pipeline.prototype.remove=function(c){var g=this._stack.indexOf(c);g!=-1&&this._stack.splice(g,1)},y.Pipeline.prototype.run=function(c){for(var g=[],w=c.length,A=this._stack.length,E=0;E<w;E++){for(var L=c[E],at=0;at<A&&(L=this._stack[at](L,E,c))!==void 0&&L!=="";at++);L!==void 0&&L!==""&&g.push(L)}return g},y.Pipeline.prototype.reset=function(){this._stack=[]},y.Pipeline.prototype.toJSON=function(){return this._stack.map(function(c){return y.Pipeline.warnIfFunctionNotRegistered(c),c.label})},y.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},y.Vector.Node=function(c,g,w){this.idx=c,this.val=g,this.next=w},y.Vector.prototype.insert=function(c,g){this._magnitude=void 0;var w=this.list;if(!w)return this.list=new y.Vector.Node(c,g,w),this.length++;if(c<w.idx)return this.list=new y.Vector.Node(c,g,w),this.length++;for(var A=w,E=w.next;E!=null;){if(c<E.idx)return A.next=new y.Vector.Node(c,g,E),this.length++;A=E,E=E.next}return A.next=new y.Vector.Node(c,g,E),this.length++},y.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var c,g=this.list,w=0;g;)w+=(c=g.val)*c,g=g.next;return this._magnitude=Math.sqrt(w)},y.Vector.prototype.dot=function(c){for(var g=this.list,w=c.list,A=0;g&&w;)g.idx<w.idx?g=g.next:(g.idx>w.idx||(A+=g.val*w.val,g=g.next),w=w.next);return A},y.Vector.prototype.similarity=function(c){return this.dot(c)/(this.magnitude()*c.magnitude())},y.SortedSet=function(){this.length=0,this.elements=[]},y.SortedSet.load=function(c){var g=new this;return g.elements=c,g.length=c.length,g},y.SortedSet.prototype.add=function(){var c,g;for(c=0;c<arguments.length;c++)~this.indexOf(g=arguments[c])||this.elements.splice(this.locationFor(g),0,g);this.length=this.elements.length},y.SortedSet.prototype.toArray=function(){return this.elements.slice()},y.SortedSet.prototype.map=function(c,g){return this.elements.map(c,g)},y.SortedSet.prototype.forEach=function(c,g){return this.elements.forEach(c,g)},y.SortedSet.prototype.indexOf=function(c){for(var g=0,w=this.elements.length,A=w-g,E=g+Math.floor(A/2),L=this.elements[E];A>1;){if(L===c)return E;L<c&&(g=E),L>c&&(w=E),A=w-g,E=g+Math.floor(A/2),L=this.elements[E]}return L===c?E:-1},y.SortedSet.prototype.locationFor=function(c){for(var g=0,w=this.elements.length,A=w-g,E=g+Math.floor(A/2),L=this.elements[E];A>1;)L<c&&(g=E),L>c&&(w=E),A=w-g,E=g+Math.floor(A/2),L=this.elements[E];return L>c?E:L<c?E+1:void 0},y.SortedSet.prototype.intersect=function(c){for(var g=new y.SortedSet,w=0,A=0,E=this.length,L=c.length,at=this.elements,pt=c.elements;!(w>E-1||A>L-1);)at[w]!==pt[A]?at[w]<pt[A]?w++:at[w]>pt[A]&&A++:(g.add(at[w]),w++,A++);return g},y.SortedSet.prototype.clone=function(){var c=new y.SortedSet;return c.elements=this.toArray(),c.length=c.elements.length,c},y.SortedSet.prototype.union=function(c){var g,w,A;this.length>=c.length?(g=this,w=c):(g=c,w=this),A=g.clone();for(var E=0,L=w.toArray();E<L.length;E++)A.add(L[E]);return A},y.SortedSet.prototype.toJSON=function(){return this.toArray()},y.Index=function(){this._fields=[],this._ref="id",this.pipeline=new y.Pipeline,this.documentStore=new y.Store,this.tokenStore=new y.TokenStore,this.corpusTokens=new y.SortedSet,this.eventEmitter=new y.EventEmitter,this.tokenizerFn=y.tokenizer,this._idfCache={},this.on("add","remove","update",(function(){this._idfCache={}}).bind(this))},y.Index.prototype.on=function(){var c=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,c)},y.Index.prototype.off=function(c,g){return this.eventEmitter.removeListener(c,g)},y.Index.load=function(c){c.version!==y.version&&y.utils.warn("version mismatch: current "+y.version+" importing "+c.version);var g=new this;return g._fields=c.fields,g._ref=c.ref,g.tokenizer(y.tokenizer.load(c.tokenizer)),g.documentStore=y.Store.load(c.documentStore),g.tokenStore=y.TokenStore.load(c.tokenStore),g.corpusTokens=y.SortedSet.load(c.corpusTokens),g.pipeline=y.Pipeline.load(c.pipeline),g},y.Index.prototype.field=function(c,g){return this._fields.push({name:c,boost:(g=g||{}).boost||1}),this},y.Index.prototype.ref=function(c){return this._ref=c,this},y.Index.prototype.tokenizer=function(c){return c.label&&c.label in y.tokenizer.registeredFunctions||y.utils.warn("Function is not a registered tokenizer. This may cause problems when serialising the index"),this.tokenizerFn=c,this},y.Index.prototype.add=function(c,g){var w={},A=new y.SortedSet,E=c[this._ref];g=g===void 0||g,this._fields.forEach(function(mt){var dt=this.pipeline.run(this.tokenizerFn(c[mt.name]));w[mt.name]=dt;for(var yt=0;yt<dt.length;yt++){var kt=dt[yt];A.add(kt),this.corpusTokens.add(kt)}},this),this.documentStore.set(E,A);for(var L=0;L<A.length;L++){for(var at=A.elements[L],pt=0,it=0;it<this._fields.length;it++){var Dt=this._fields[it],he=w[Dt.name],Jt=he.length;if(Jt){for(var ft=0,J=0;J<Jt;J++)he[J]===at&&ft++;pt+=ft/Jt*Dt.boost}}this.tokenStore.add(at,{ref:E,tf:pt})}g&&this.eventEmitter.emit("add",c,this)},y.Index.prototype.remove=function(c,g){var w=c[this._ref];if(g=g===void 0||g,this.documentStore.has(w)){var A=this.documentStore.get(w);this.documentStore.remove(w),A.forEach(function(E){this.tokenStore.remove(E,w)},this),g&&this.eventEmitter.emit("remove",c,this)}},y.Index.prototype.update=function(c,g){g=g===void 0||g,this.remove(c,!1),this.add(c,!1),g&&this.eventEmitter.emit("update",c,this)},y.Index.prototype.idf=function(c){var g="@"+c;if(Object.prototype.hasOwnProperty.call(this._idfCache,g))return this._idfCache[g];var w=this.tokenStore.count(c),A=1;return w>0&&(A=1+Math.log(this.documentStore.length/w)),this._idfCache[g]=A},y.Index.prototype.search=function(c){var g=this.pipeline.run(this.tokenizerFn(c)),w=new y.Vector,A=[],E=this._fields.reduce(function(L,at){return L+at.boost},0);return g.some(function(L){return this.tokenStore.has(L)},this)?(g.forEach(function(L,at,pt){var it=1/pt.length*this._fields.length*E,Dt=this,he=this.tokenStore.expand(L).reduce(function(Jt,ft){var J=Dt.corpusTokens.indexOf(ft),mt=Dt.idf(ft),dt=1,yt=new y.SortedSet;if(ft!==L){var kt=Math.max(3,ft.length-L.length);dt=1/Math.log(kt)}J>-1&&w.insert(J,it*mt*dt);for(var oe=Dt.tokenStore.get(ft),Qt=Object.keys(oe),Vt=Qt.length,bt=0;bt<Vt;bt++)yt.add(oe[Qt[bt]].ref);return Jt.union(yt)},new y.SortedSet);A.push(he)},this),A.reduce(function(L,at){return L.intersect(at)}).map(function(L){return{ref:L,score:w.similarity(this.documentVector(L))}},this).sort(function(L,at){return at.score-L.score})):[]},y.Index.prototype.documentVector=function(c){for(var g=this.documentStore.get(c),w=g.length,A=new y.Vector,E=0;E<w;E++){var L=g.elements[E],at=this.tokenStore.get(L)[c].tf,pt=this.idf(L);A.insert(this.corpusTokens.indexOf(L),at*pt)}return A},y.Index.prototype.toJSON=function(){return{version:y.version,fields:this._fields,ref:this._ref,tokenizer:this.tokenizerFn.label,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},y.Index.prototype.use=function(c){var g=Array.prototype.slice.call(arguments,1);g.unshift(this),c.apply(this,g)},y.Store=function(){this.store={},this.length=0},y.Store.load=function(c){var g=new this;return g.length=c.length,g.store=Object.keys(c.store).reduce(function(w,A){return w[A]=y.SortedSet.load(c.store[A]),w},{}),g},y.Store.prototype.set=function(c,g){this.has(c)||this.length++,this.store[c]=g},y.Store.prototype.get=function(c){return this.store[c]},y.Store.prototype.has=function(c){return c in this.store},y.Store.prototype.remove=function(c){this.has(c)&&(delete this.store[c],this.length--)},y.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},y.stemmer=(s={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},o={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},l="^("+(a="[^aeiou][^aeiouy]*")+")?"+(u=(i="[aeiouy]")+"[aeiou]*")+a+"("+u+")?$",h="^("+a+")?"+u+a+u+a,v="^("+a+")?"+i,p=new RegExp("^("+a+")?"+u+a),_=new RegExp(h),d=new RegExp(l),m=new RegExp(v),b=/^(.+?)(ss|i)es$/,O=/^(.+?)([^s])s$/,T=/^(.+?)eed$/,x=/^(.+?)(ed|ing)$/,$=/.$/,q=/(at|bl|iz)$/,j=new RegExp("([^aeiouylsz])\\1$"),z=new RegExp("^"+a+i+"[^aeiouwxy]$"),X=/^(.+?[^aeiou])y$/,N=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,M=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,R=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,B=/^(.+?)(s|t)(ion)$/,et=/^(.+?)e$/,F=/ll$/,V=new RegExp("^"+a+i+"[^aeiouwxy]$"),function(c){var g,w,A,E,L,at,pt;if(c.length<3)return c;if((A=c.substr(0,1))=="y"&&(c=A.toUpperCase()+c.substr(1)),L=O,(E=b).test(c)?c=c.replace(E,"$1$2"):L.test(c)&&(c=c.replace(L,"$1$2")),L=x,(E=T).test(c)){var it=E.exec(c);(E=p).test(it[1])&&(c=c.replace(E=$,""))}else L.test(c)&&(it=L.exec(c),(L=m).test(g=it[1])&&(at=j,pt=z,(L=q).test(c=g)?c+="e":at.test(c)?c=c.replace(E=$,""):pt.test(c)&&(c+="e")));return(E=X).test(c)&&(c=(g=(it=E.exec(c))[1])+"i"),(E=N).test(c)&&(w=(it=E.exec(c))[2],(E=p).test(g=it[1])&&(c=g+s[w])),(E=M).test(c)&&(w=(it=E.exec(c))[2],(E=p).test(g=it[1])&&(c=g+o[w])),L=B,(E=R).test(c)?(it=E.exec(c),(E=_).test(g=it[1])&&(c=g)):L.test(c)&&(it=L.exec(c),(L=_).test(g=it[1]+it[2])&&(c=g)),(E=et).test(c)&&(it=E.exec(c),L=d,at=V,((E=_).test(g=it[1])||L.test(g)&&!at.test(g))&&(c=g)),L=_,(E=F).test(c)&&L.test(c)&&(c=c.replace(E=$,"")),A=="y"&&(c=A.toLowerCase()+c.substr(1)),c}),y.Pipeline.registerFunction(y.stemmer,"stemmer"),y.generateStopWordFilter=function(c){var g=c.reduce(function(w,A){return w[A]=A,w},{});return function(w){if(w&&g[w]!==w)return w}},y.stopWordFilter=y.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),y.Pipeline.registerFunction(y.stopWordFilter,"stopWordFilter"),y.trimmer=function(c){return c.replace(/^\W+/,"").replace(/\W+$/,"")},y.Pipeline.registerFunction(y.trimmer,"trimmer"),y.TokenStore=function(){this.root={docs:{}},this.length=0},y.TokenStore.load=function(c){var g=new this;return g.root=c.root,g.length=c.length,g},y.TokenStore.prototype.add=function(c,g,w){w=w||this.root;var A=c.charAt(0),E=c.slice(1);return A in w||(w[A]={docs:{}}),E.length===0?(w[A].docs[g.ref]=g,void(this.length+=1)):this.add(E,g,w[A])},y.TokenStore.prototype.has=function(c){if(!c)return!1;for(var g=this.root,w=0;w<c.length;w++){if(!g[c.charAt(w)])return!1;g=g[c.charAt(w)]}return!0},y.TokenStore.prototype.getNode=function(c){if(!c)return{};for(var g=this.root,w=0;w<c.length;w++){if(!g[c.charAt(w)])return{};g=g[c.charAt(w)]}return g},y.TokenStore.prototype.get=function(c,g){return this.getNode(c,g).docs||{}},y.TokenStore.prototype.count=function(c,g){return Object.keys(this.get(c,g)).length},y.TokenStore.prototype.remove=function(c,g){if(c){for(var w=this.root,A=0;A<c.length;A++){if(!(c.charAt(A)in w))return;w=w[c.charAt(A)]}delete w.docs[g]}},y.TokenStore.prototype.expand=function(c,g){var w=this.getNode(c);return g=g||[],Object.keys(w.docs||{}).length&&g.push(c),Object.keys(w).forEach(function(A){A!=="docs"&&g.concat(this.expand(c+A,g))},this),g},y.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},r.exports=y})()}(e),e.exports})();const ph={aggregations:{notAfter:{title:"Not after",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},notBefore:{title:"Not before",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},language:{title:"Language",hide_zero_doc_count:!0,size:200,sort:"key",conjunction:!1},languageCert:{title:"Language certainty",hide_zero_doc_count:!0,size:10,sort:"key"},provenance:{title:"Provenance",hide_zero_doc_count:!0,size:200,sort:"key",conjunction:!1},inscriptionType:{title:"Inscription type",hide_zero_doc_count:!0,size:200,sort:"key",conjunction:!1},objectType:{title:"Object type",hide_zero_doc_count:!0,size:200,sort:"key",conjunction:!1},material:{title:"Material",hide_zero_doc_count:!0,size:200,sort:"key",conjunction:!1},technique:{title:"Technique",hide_zero_doc_count:!0,size:200,sort:"key",conjunction:!1},pigment:{title:"Pigment",hide_zero_doc_count:!0,size:200,sort:"key",conjunction:!1},letterHeightAtLeast:{title:"Letter height at least",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},letterHeightAtMost:{title:"Letter height at most",hide_zero_doc_count:!0,show_facet_stats:!0,size:1e3,sort:"key"},condition:{title:"Condition",hide_zero_doc_count:!0,size:100,sort:"key",conjunction:!1},damage:{title:"Damage",hide_zero_doc_count:!0,size:100,sort:"key",conjunction:!1},repository:{title:"Repository",hide_zero_doc_count:!0,size:200,sort:"key",conjunction:!1},publicationAuthors:{title:"Publication author",hide_zero_doc_count:!0,size:1e3,sort:"key",conjunction:!1},publicationTitles:{title:"Publication title",hide_zero_doc_count:!0,size:1500,sort:"key",conjunction:!1},publicationYears:{title:"Publication year",hide_zero_doc_count:!0,size:1e3,sort:"key",conjunction:!1},status:{title:"Status",hide_zero_doc_count:!0,sort:"key",conjunction:!1}},searchableFields:["keywords","title","text"],sortings:{file_asc:{field:"file",order:"asc"},file_desc:{field:"file",order:"desc"},notAfter_asc:{field:"notAfter",order:"asc"},notAfter_desc:{field:"notAfter",order:"desc"},notBefore_asc:{field:"notBefore",order:"desc"},notBefore_desc:{field:"notBefore",order:"desc"},title_asc:{field:"title",order:"asc"},title_desc:{field:"title",order:"desc"}}};function vh(t){return new Worker(""+new URL("../workers/worker-BJuAj2kW.js",import.meta.url).href,{name:t==null?void 0:t.name})}async function mh(t,e,r,n,s,o){var i,a;t.preventDefault(),$t(r,1),$t(s,((i=t.target)==null?void 0:i.value)??""),o(1,((a=t.target)==null?void 0:a.value)??"")}var yh=W("<!>Filters",1),_h=W('<h2 aria-busy="true" class="svelte-16zqrgi">Loading inscriptions...</h2>'),bh=W("<!>View cards",1),wh=W("<!>View map",1),xh=W("<!>View table",1),Sh=W("<!>Download",1),Ph=W('<div class="transition-container svelte-16zqrgi"><!></div>'),kh=W('<div class="transition-container svelte-16zqrgi"><!></div>'),jh=W("<!> <!> <!>",1),Ah=W('<!> <section class="controls svelte-16zqrgi"><div class="toggles svelte-16zqrgi"><!> <!> <!> <!></div> <div class="sort-controls svelte-16zqrgi"><label for="sort-select">Sort by:</label> <select id="sort-select"><option>File</option><option>Not before</option><option>Not after</option><option>Title</option></select> <!></div></section> <!>',1),Oh=W('<article><section><form class="svelte-16zqrgi"><label class="visually-hidden" for="q">Search query:</label> <input type="text" name="q" id="q" placeholder="Search inscriptions metadata" class="svelte-16zqrgi"> <!> <!></form> <div class="filters-toggle svelte-16zqrgi"><!></div></section> <section class="inscriptions svelte-16zqrgi"><!></section></article> <!>',1);function Eh(t,e){Ot(e,!0);const[r,n]=Gi(),s=()=>Ge(p,"$searchViewParam",r),o=()=>Ge(h,"$searchPageParam",r),i=()=>Ge(l,"$searchQueryParam",r),a=()=>Ge(v,"$searchLimitParam",r),u=()=>Ge(_,"$searchFiltersParam",r),l=Je("q",Ke.string("")),h=Je("page",Ke.number(1)),v=Je("limit",Ke.number(Ut.limit)),p=Je("view",Ke.string("cards")),_=Je("filters",Ke.object({}));let d=It("idle"),m=D(()=>["idle","load"].includes(f(d))),b=It(void 0),O=It(ht({})),T=D(()=>{var C;return((C=f(O))==null?void 0:C.pagination)??{}}),x=D(()=>{var C,K;return((K=(C=f(O))==null?void 0:C.data)==null?void 0:K.aggregations)??{}}),$=D(()=>{var C;return((C=f(T))==null?void 0:C.total)??0}),q=D(g),j=D(()=>{var C,K;return((K=(C=f(O))==null?void 0:C.data)==null?void 0:K.items)??[]}),z=D(()=>{var C;return s()==="map"?(C=f(j))==null?void 0:C.map(K=>({file:K.file,title:K.title,places:K.places,geo:K.geo[0]})):[]}),X=It(!1);const N=ht({sortAggregationsBy:"key",languageConjunction:!0,sortResultsBy:"file",sortResultsOrder:"asc"});let M=It(ht(V())),R=It(ht(y())),B=It(ht(c()));async function et(){f(d)!=="ready"&&(st(d,"load"),st(b,ht(new vh)),f(b).addEventListener("message",C=>{const{type:K,data:ct}=C.data;K==="ready"&&(st(d,"ready"),F()),K==="results"&&st(O,ht(ct))}),f(b).postMessage({type:"load",data:{sortAggregationsBy:N.sortAggregationsBy}}))}async function F(C,K){let ct=o(),zt=i();if(C&&(ct=C),K!=null&&(zt=K),f(d)==="ready"){const Wt=Object.fromEntries(Object.keys(f(B)).map(_t=>[_t,[...f(B)[_t]]]));f(b).postMessage({type:"search",data:{limit:a(),page:ct,query:zt,sort:`${N.sortResultsBy}_${N.sortResultsOrder}`,filters:Wt,dateRange:[...f(M)],letterHeightRange:[...f(R)]}})}}function V(){return[Ut.minDate,Ut.maxDate]}function y(){return[Ut.minLetterHeight,Ut.maxLetterHeight]}function c(){return Object.keys(ph.aggregations).filter(C=>C.indexOf("not")<0).filter(C=>C.indexOf("letterHeight")<0).reduce((C,K)=>(C[K]=u()[K]?[...u()[K]]:[],C),{})}function g(){var C;return!f(x)||!((C=f(x))!=null&&C.provenance)?0:f(x).provenance.buckets.length}async function w(C){C.preventDefault(),$t(h,1),F()}async function A(C){C.preventDefault(),$t(l,""),$t(h,1),$t(v,s()==="map"?Ut.maxLimit:Ut.limit),$t(_,""),st(M,ht([...V()])),st(R,ht([...y()])),st(B,ht({...c()})),F()}async function E(){N.sortAggregationsBy&&f(b)&&f(d)==="ready"&&(f(b).postMessage({type:"load",data:{sortAggregationsBy:N.sortAggregationsBy,languageConjunction:N.languageConjunction}}),F())}async function L(){N.sortAggregationsBy&&f(b)&&f(d)==="ready"&&(f(b).postMessage({type:"load",data:{sortAggregationsBy:N.sortAggregationsBy,languageConjunction:N.languageConjunction}}),F())}async function at(){$t(h,1);const C=Object.fromEntries(Object.entries(f(B)).filter(([K,ct])=>ct&&ct.length>0).map(([K,ct])=>[K,[...ct]]));$t(_,C),F()}function pt(){const C=V(),K=y();return i()!==""||f(M).some((ct,zt)=>ct!==C[zt])||f(R).some((ct,zt)=>ct!==K[zt])||Object.keys(f(B)).some(ct=>f(B)[ct].length>0)}async function it(C){C==="map"?$t(v,Ut.maxLimit):s()==="map"&&(st(O,ht({...f(O),data:{...f(O).data,items:[]}})),$t(v,Ut.limit),$t(h,1)),$t(p,C),F()}async function Dt(){f(b).postMessage({type:"search",data:{limit:-1,page:1,query:i(),sort:`${N.sortResultsBy}_${N.sortResultsOrder}`,filters:Object.fromEntries(Object.entries(f(B)).filter(([K,ct])=>ct&&ct.length>0).map(([K,ct])=>[K,[...ct]])),dateRange:[...f(M)],letterHeightRange:[...f(R)]}});const C=K=>{const{type:ct,data:zt}=K.data;ct==="results"&&(Zu(zt.data.items),f(b).removeEventListener("message",C),F())};f(b).addEventListener("message",C)}async function he(){N.sortResultsOrder=N.sortResultsOrder==="asc"?"desc":"asc",F()}async function Jt(C){$t(h,C),F(C)}Ao(()=>{et()});var ft=Oh();Ee("keydown",Bi,C=>{var K;(C.ctrlKey||C.metaKey)&&(C.key==="k"||C.key==="K")&&(C.preventDefault(),st(X,!f(X))),C.key==="/"&&(C.preventDefault(),(K=document.getElementById("q"))==null||K.focus())});var J=H(ft),mt=k(J),dt=k(mt),yt=I(k(dt),2);yt.__input=[mh,o,h,i,l,F];var kt=I(yt,2);const oe=D(()=>!i());Pt(kt,()=>Gt,(C,K)=>{K(C,{class:"surface-4",type:"submit",get disabled(){return f(oe)},children:(ct,zt)=>{Tt();var Wt=Nt("Search");P(ct,Wt)},$$slots:{default:!0}})});var Qt=I(kt,2);const Vt=D(()=>!pt());Pt(Qt,()=>Gt,(C,K)=>{K(C,{class:"surface-1",type:"reset",get disabled(){return f(Vt)},children:(ct,zt)=>{Tt();var Wt=Nt("Reset");P(ct,Wt)},$$slots:{default:!0}})}),S(dt);var bt=I(dt,2),Se=k(bt);const Zt=D(()=>f(X)?"surface-4":"surface-1");Pt(Se,()=>Gt,(C,K)=>{K(C,{get class(){return f(Zt)},onclick:()=>st(X,!f(X)),children:(ct,zt)=>{var Wt=yh(),_t=H(Wt);Uc(_t,{}),Tt(),P(ct,Wt)},$$slots:{default:!0}})}),S(bt),S(mt);var Ve=I(mt,2),gn=k(Ve);{var mr=C=>{var K=_h();P(C,K)},We=C=>{var K=Ah(),ct=H(K);const zt=D(()=>[Ut.minDate,Ut.maxDate]),Wt=D(()=>[Ut.minLetterHeight,Ut.maxLetterHeight]);zd(ct,{get total(){return f($)},get dateRange(){return f(M)},get defaultDateRange(){return f(zt)},get letterHeightRange(){return f(R)},get defaultLetterHeightRange(){return f(Wt)},get numberOfLocations(){return f(q)},get query(){return i()},get filters(){return f(B)}});var _t=I(ct,2),wt=k(_t),Ht=k(wt);const ge=D(()=>`${s()==="cards"?"surface-4":"surface-1"}`);Pt(Ht,()=>Gt,(xt,St)=>{St(xt,{get class(){return f(ge)},onclick:()=>it("cards"),children:(Lt,Pe)=>{var Rt=bh(),Xt=H(Rt);qc(Xt,{}),Tt(),P(Lt,Rt)},$$slots:{default:!0}})});var te=I(Ht,2);const yr=D(()=>`${s()==="map"?"surface-4":"surface-1"}`);Pt(te,()=>Gt,(xt,St)=>{St(xt,{get class(){return f(yr)},onclick:()=>it("map"),children:(Lt,Pe)=>{var Rt=wh(),Xt=H(Rt);Hc(Xt,{}),Tt(),P(Lt,Rt)},$$slots:{default:!0}})});var Ue=I(te,2);const qe=D(()=>`${s()==="table"?"surface-4":"surface-1"}`);Pt(Ue,()=>Gt,(xt,St)=>{St(xt,{get class(){return f(qe)},onclick:()=>it("table"),children:(Lt,Pe)=>{var Rt=xh(),Xt=H(Rt);Xc(Xt,{}),Tt(),P(Lt,Rt)},$$slots:{default:!0}})});var vn=I(Ue,2);const _r=D(()=>!pt());Pt(vn,()=>Gt,(xt,St)=>{St(xt,{class:"surface-2",get disabled(){return f(_r)},onclick:Dt,children:(Lt,Pe)=>{var Rt=Sh(),Xt=H(Rt);Ji(Xt,{}),Tt(),P(Lt,Rt)},$$slots:{default:!0}})}),S(wt);var br=I(wt,2),pe=I(k(br),2),He=k(pe);He.value=(He.__value="file")==null?"":"file";var mn=I(He);mn.value=(mn.__value="notBefore")==null?"":"notBefore";var yn=I(mn);yn.value=(yn.__value="notAfter")==null?"":"notAfter";var _s=I(yn);_s.value=(_s.__value="title")==null?"":"title",S(pe);var bi=I(pe,2);Pt(bi,()=>Gt,(xt,St)=>{St(xt,{class:"order-toggle",onclick:()=>he(),"aria-label":"Toggle sort order from ascending to descending to no order",children:(Lt,Pe)=>{var Rt=lt(),Xt=H(Rt);{var ke=ve=>{Dc(ve,{"aria-label":"Ascending"})},_n=ve=>{Bc(ve,{"aria-label":"Descending"})};ot(Xt,ve=>{N.sortResultsOrder==="asc"?ve(ke):ve(_n,!1)})}P(Lt,Rt)},$$slots:{default:!0}})}),S(br),S(_t);var wi=I(_t,2);{var xi=xt=>{var St=Ph(),Lt=k(St);Uu(Lt,{get inscriptions(){return f(z)}}),S(St),tr(1,St,()=>wr,()=>({duration:500})),tr(2,St,()=>wr,()=>({duration:250})),P(xt,St)},Si=xt=>{var St=jh(),Lt=H(St);Fs(Lt,{get page(){return o()},get count(){return f($)},get perPage(){return a()},onPageChange:Jt});var Pe=I(Lt,2);Hi(Pe,s,Xt=>{var ke=kh(),_n=k(ke);{var ve=Ie=>{Qu(Ie,{get inscriptions(){return f(j)}})},Pi=Ie=>{Bu(Ie,{get inscriptions(){return f(j)}})};ot(_n,Ie=>{s()==="table"?Ie(ve):Ie(Pi,!1)})}S(ke),tr(1,ke,()=>wr,()=>({duration:500})),tr(2,ke,()=>wr,()=>({duration:250})),P(Xt,ke)});var Rt=I(Pe,2);Fs(Rt,{get page(){return o()},get count(){return f($)},get perPage(){return a()},onPageChange:Jt}),P(xt,St)};ot(wi,xt=>{s()==="map"?xt(xi):xt(Si,!1)})}aa(pe,()=>N.sortResultsBy,xt=>N.sortResultsBy=xt),P(C,K)};ot(gn,C=>{f(m)?C(mr):C(We,!1)})}S(Ve),S(J);var pn=I(J,2);jd(pn,{get show(){return f(X)},get aggregations(){return f(x)},get total(){return f($)},sortAggregationsByChange:E,languageConjunctionChange:L,searchFiltersChange:at,get sortAggregationsBy(){return N.sortAggregationsBy},set sortAggregationsBy(C){N.sortAggregationsBy=C},get languageConjunction(){return N.languageConjunction},set languageConjunction(C){N.languageConjunction=C},get selectedDateRange(){return f(M)},set selectedDateRange(C){st(M,ht(C))},get selectedLetterHeightRange(){return f(R)},set selectedLetterHeightRange(C){st(R,ht(C))},get selectedFilters(){return f(B)},set selectedFilters(C){st(B,ht(C))}}),Ee("submit",dt,w),Ee("reset",dt,A),P(t,ft),Et(),n()}Jn(["input"]);var Rh=W('<section class="hero svelte-1ou7ebr"><h1 class="svelte-1ou7ebr"> </h1></section> <!>',1);function Zh(t,e){Ot(e,!1),Po();var r=Rh(),n=H(r),s=k(n),o=k(s,!0);S(s),S(n);var i=I(n,2);Eh(i,{}),tt(()=>Z(o,Ui)),P(t,r),Et()}export{Zh as component};

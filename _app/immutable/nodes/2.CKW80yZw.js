import{s as Ce,r as Te,c as ye,o as Ie,n as Me}from"../chunks/scheduler.Cp4baeFQ.js";import{S as Ne,i as we,e as m,l as w,s as U,c as v,a as S,m as O,d as u,b as P,n as y,f as j,h as l,x as ve,y as ee,o as J,t as te,k as Oe,j as re,q as Ae,r as Re,u as De,g as ie,v as Be,w as Ue,p as Pe}from"../chunks/index.jyCh-qzj.js";import{e as ge}from"../chunks/each.D6YF6ztN.js";import{g as be}from"../chunks/entry.DsybzWgu.js";import{p as je}from"../chunks/stores.CYyUoHU1.js";import{B as qe}from"../chunks/BaseLink.B7GDbT89.js";import{d as He}from"../chunks/config.Bl6GI46O.js";function Ee(s,e,t){const a=s.slice();return a[14]=e[t],a}function ze(s){let e,t,a=s[2].split(" ").join(", ")+"",z;return{c(){e=w(`, matching
				`),t=m("em"),z=w(a)},l(o){e=O(o,`, matching
				`),t=v(o,"EM",{});var c=S(t);z=O(c,a),c.forEach(u)},m(o,c){j(o,e,c),j(o,t,c),l(t,z)},p(o,c){c&4&&a!==(a=o[2].split(" ").join(", ")+"")&&J(z,a)},d(o){o&&(u(e),u(t))}}}function Fe(s){let e,t=s[14].title+"",a,z,o,c=s[14].file+"",k,i,f,_=s[14].status+"",r;return{c(){e=m("span"),a=w(t),z=U(),o=m("small"),k=w(c),i=U(),f=m("small"),r=w(_)},l(p){e=v(p,"SPAN",{});var g=S(e);a=O(g,t),g.forEach(u),z=P(p),o=v(p,"SMALL",{});var N=S(o);k=O(N,c),N.forEach(u),i=P(p),f=v(p,"SMALL",{});var C=S(f);r=O(C,_),C.forEach(u)},m(p,g){j(p,e,g),l(e,a),j(p,z,g),j(p,o,g),l(o,k),j(p,i,g),j(p,f,g),l(f,r)},p(p,g){g&32&&t!==(t=p[14].title+"")&&J(a,t),g&32&&c!==(c=p[14].file+"")&&J(k,c),g&32&&_!==(_=p[14].status+"")&&J(r,_)},d(p){p&&(u(e),u(z),u(o),u(i),u(f))}}}function Se(s){var B,A;let e,t,a,z,o,c,k="Settlement",i,f=(((B=s[14].repository)==null?void 0:B._)||"N/A")+"",_,r,p="Language",g,N=(((A=s[14].textLang)==null?void 0:A._)||"N/A")+"",C,q,L;return a=new qe({props:{href:"inscription/"+s[14].file,$$slots:{default:[Fe]},$$scope:{ctx:s}}}),{c(){e=m("li"),t=m("p"),Re(a.$$.fragment),z=U(),o=m("dl"),c=m("dt"),c.textContent=k,i=m("dd"),_=w(f),r=m("dt"),r.textContent=p,g=m("dd"),C=w(N),q=U(),this.h()},l(h){e=v(h,"LI",{});var T=S(e);t=v(T,"P",{class:!0});var D=S(t);De(a.$$.fragment,D),D.forEach(u),z=P(T),o=v(T,"DL",{});var R=S(o);c=v(R,"DT",{class:!0,"data-svelte-h":!0}),ie(c)!=="svelte-upur71"&&(c.textContent=k),i=v(R,"DD",{});var H=S(i);_=O(H,f),H.forEach(u),r=v(R,"DT",{class:!0,"data-svelte-h":!0}),ie(r)!=="svelte-1aab11o"&&(r.textContent=p),g=v(R,"DD",{});var F=S(g);C=O(F,N),F.forEach(u),R.forEach(u),q=P(T),T.forEach(u),this.h()},h(){y(t,"class","title svelte-tuzdzp"),y(c,"class","svelte-tuzdzp"),y(r,"class","svelte-tuzdzp")},m(h,T){j(h,e,T),l(e,t),Be(a,t,null),l(e,z),l(e,o),l(o,c),l(o,i),l(i,_),l(o,r),l(o,g),l(g,C),l(e,q),L=!0},p(h,T){var R,H;const D={};T&32&&(D.href="inscription/"+h[14].file),T&131104&&(D.$$scope={dirty:T,ctx:h}),a.$set(D),(!L||T&32)&&f!==(f=(((R=h[14].repository)==null?void 0:R._)||"N/A")+"")&&J(_,f),(!L||T&32)&&N!==(N=(((H=h[14].textLang)==null?void 0:H._)||"N/A")+"")&&J(C,N)},i(h){L||(te(a.$$.fragment,h),L=!0)},o(h){re(a.$$.fragment,h),L=!1},d(h){h&&u(e),Ue(a)}}}function ke(s){let e,t="Load More Inscriptions",a,z;return{c(){e=m("button"),e.textContent=t},l(o){e=v(o,"BUTTON",{"data-svelte-h":!0}),ie(e)!=="svelte-1j8c85t"&&(e.textContent=t)},m(o,c){j(o,e,c),a||(z=ee(e,"click",s[8]),a=!0)},p:Me,d(o){o&&u(e),a=!1,z()}}}function Ge(s){let e,t,a,z=He+"",o,c,k,i,f,_,r,p,g,N,C,q,L,B,A,h,T,D=s[0].length.toLocaleString()+"",R,H,F,Y=s[3].toLocaleString()+"",$,le,se,K,oe,Q,G,ae,ue,I=s[2]&&s[1]&&ze(s),V=ge(s[5]),b=[];for(let n=0;n<V.length;n+=1)b[n]=Se(Ee(s,V,n));const Le=n=>re(b[n],1,1,()=>{b[n]=null});let M=s[4]&&ke(s);return{c(){e=m("article"),t=m("section"),a=m("h1"),o=w(z),c=U(),k=m("section"),i=m("form"),f=m("input"),_=U(),r=m("button"),p=w("Search"),N=U(),C=m("button"),q=w("Reset"),B=U(),A=m("section"),h=m("h2"),T=m("em"),R=w(D),H=w(` Inscriptions over x years across
			`),F=m("em"),$=w(Y),le=w(`
			locations`),I&&I.c(),se=U(),K=m("ol");for(let n=0;n<b.length;n+=1)b[n].c();oe=U(),Q=m("section"),M&&M.c(),this.h()},l(n){e=v(n,"ARTICLE",{});var d=S(e);t=v(d,"SECTION",{class:!0});var E=S(t);a=v(E,"H1",{class:!0});var Z=S(a);o=O(Z,z),Z.forEach(u),E.forEach(u),c=P(d),k=v(d,"SECTION",{class:!0});var ce=S(k);i=v(ce,"FORM",{class:!0});var W=S(i);f=v(W,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0}),_=P(W),r=v(W,"BUTTON",{type:!0});var fe=S(r);p=O(fe,"Search"),fe.forEach(u),N=P(W),C=v(W,"BUTTON",{type:!0});var pe=S(C);q=O(pe,"Reset"),pe.forEach(u),W.forEach(u),ce.forEach(u),B=P(d),A=v(d,"SECTION",{class:!0});var x=S(A);h=v(x,"H2",{class:!0});var X=S(h);T=v(X,"EM",{});var de=S(T);R=O(de,D),de.forEach(u),H=O(X,` Inscriptions over x years across
			`),F=v(X,"EM",{});var _e=S(F);$=O(_e,Y),_e.forEach(u),le=O(X,`
			locations`),I&&I.l(X),X.forEach(u),se=P(x),K=v(x,"OL",{class:!0});var he=S(K);for(let ne=0;ne<b.length;ne+=1)b[ne].l(he);he.forEach(u),x.forEach(u),oe=P(d),Q=v(d,"SECTION",{class:!0});var me=S(Q);M&&M.l(me),me.forEach(u),d.forEach(u),this.h()},h(){y(a,"class","svelte-tuzdzp"),y(t,"class","hero svelte-tuzdzp"),y(f,"type","text"),y(f,"name","keywords"),y(f,"id","keywords"),y(f,"placeholder","Search inscriptions metadata"),y(r,"type","submit"),r.value="Search",r.disabled=g=!s[2],y(C,"type","reset"),C.value="Reset",C.disabled=L=!s[2],y(i,"class","svelte-tuzdzp"),y(k,"class","svelte-tuzdzp"),y(h,"class","svelte-tuzdzp"),y(K,"class","svelte-tuzdzp"),y(A,"class","inscriptions svelte-tuzdzp"),y(Q,"class","svelte-tuzdzp")},m(n,d){j(n,e,d),l(e,t),l(t,a),l(a,o),l(e,c),l(e,k),l(k,i),l(i,f),ve(f,s[2]),l(i,_),l(i,r),l(r,p),l(i,N),l(i,C),l(C,q),l(e,B),l(e,A),l(A,h),l(h,T),l(T,R),l(h,H),l(h,F),l(F,$),l(h,le),I&&I.m(h,null),l(A,se),l(A,K);for(let E=0;E<b.length;E+=1)b[E]&&b[E].m(K,null);l(e,oe),l(e,Q),M&&M.m(Q,null),G=!0,ae||(ue=[ee(f,"input",s[11]),ee(i,"submit",s[7]),ee(i,"reset",s[6])],ae=!0)},p(n,[d]){if(d&4&&f.value!==n[2]&&ve(f,n[2]),(!G||d&4&&g!==(g=!n[2]))&&(r.disabled=g),(!G||d&4&&L!==(L=!n[2]))&&(C.disabled=L),(!G||d&1)&&D!==(D=n[0].length.toLocaleString()+"")&&J(R,D),(!G||d&8)&&Y!==(Y=n[3].toLocaleString()+"")&&J($,Y),n[2]&&n[1]?I?I.p(n,d):(I=ze(n),I.c(),I.m(h,null)):I&&(I.d(1),I=null),d&32){V=ge(n[5]);let E;for(E=0;E<V.length;E+=1){const Z=Ee(n,V,E);b[E]?(b[E].p(Z,d),te(b[E],1)):(b[E]=Se(Z),b[E].c(),te(b[E],1),b[E].m(K,null))}for(Pe(),E=V.length;E<b.length;E+=1)Le(E);Oe()}n[4]?M?M.p(n,d):(M=ke(n),M.c(),M.m(Q,null)):M&&(M.d(1),M=null)},i(n){if(!G){for(let d=0;d<V.length;d+=1)te(b[d]);G=!0}},o(n){b=b.filter(Boolean);for(let d=0;d<b.length;d+=1)re(b[d]);G=!1},d(n){n&&u(e),I&&I.d(),Ae(b,n),M&&M.d(),ae=!1,Te(ue)}}}function Je(s,e,t){let a,z,o,c;ye(s,je,L=>t(13,c=L));let{data:k}=e,i=k.corpus,f=!1,_="",r=50,p=r;function g(){t(0,i=k.corpus),t(1,f=!1),t(2,_=""),be(`?keywords=${encodeURIComponent(_)}`,{replaceState:!0}),t(10,r=50),p=r}function N(){if(be(`?keywords=${encodeURIComponent(_)}`,{replaceState:!0}),t(1,f=!0),t(10,r=50),p=r,!_){t(0,i=k.corpus);return}t(0,i=k.corpus.filter(L=>!_||_.split(" ").map(B=>B.toLowerCase()).every(B=>L.keywords.some(A=>A.includes(B)))))}function C(){t(10,r=Math.min(i.length,r+p))}Ie(()=>{t(2,_=c.url.searchParams.get("keywords")||""),_&&N()});function q(){_=this.value,t(2,_)}return s.$$set=L=>{"data"in L&&t(9,k=L.data)},s.$$.update=()=>{s.$$.dirty&1025&&t(5,a=i.slice(0,r)),s.$$.dirty&1025&&t(4,z=i.length>r),s.$$.dirty&1&&t(3,o=new Set(i.map(L=>L.settlement)).size)},[i,f,_,o,z,a,g,N,C,k,r,q]}class $e extends Ne{constructor(e){super(),we(this,e,Je,Ge,Ce,{data:9})}}export{$e as component};

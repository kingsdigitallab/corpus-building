import{s as Te,r as we,c as Ie,o as Me,n as Ne}from"../chunks/scheduler.Cp4baeFQ.js";import{S as Oe,i as Ae,e as _,l as O,s as D,c as d,a as k,m as A,d as u,b as P,g as $,n as j,f as q,h as t,x as be,y as le,o as z,t as oe,k as De,j as fe,q as Pe,r as Re,u as Be,v as Ue,w as He,p as je}from"../chunks/index.jyCh-qzj.js";import{e as Ee}from"../chunks/each.D6YF6ztN.js";import{p as qe}from"../chunks/stores.CfZy6cyh.js";import{B as Ge}from"../chunks/BaseLink.goZyfnNj.js";import{d as Fe}from"../chunks/config.BixxLhad.js";function Ce(s,e,l){const n=s.slice();return n[13]=e[l],n}function ke(s){let e,l,n,v=s[1].length+"",a,h,b,g=s[3].split(" ").join(", ")+"",p;return{c(){e=_("h3"),l=O("Displaying "),n=_("em"),a=O(v),h=O(` inscriptions matching
					`),b=_("em"),p=O(g)},l(r){e=d(r,"H3",{});var f=k(e);l=A(f,"Displaying "),n=d(f,"EM",{});var c=k(n);a=A(c,v),c.forEach(u),h=A(f,` inscriptions matching
					`),b=d(f,"EM",{});var o=k(b);p=A(o,g),o.forEach(u),f.forEach(u)},m(r,f){q(r,e,f),t(e,l),t(e,n),t(n,a),t(e,h),t(e,b),t(b,p)},p(r,f){f&2&&v!==(v=r[1].length+"")&&z(a,v),f&8&&g!==(g=r[3].split(" ").join(", ")+"")&&z(p,g)},d(r){r&&u(e)}}}function Ke(s){let e,l=s[13].file+"",n,v,a,h=s[13].title+"",b,g,p,r=s[13].status+"",f;return{c(){e=_("small"),n=O(l),v=D(),a=_("span"),b=O(h),g=D(),p=_("small"),f=O(r)},l(c){e=d(c,"SMALL",{});var o=k(e);n=A(o,l),o.forEach(u),v=P(c),a=d(c,"SPAN",{});var y=k(a);b=A(y,h),y.forEach(u),g=P(c),p=d(c,"SMALL",{});var R=k(p);f=A(R,r),R.forEach(u)},m(c,o){q(c,e,o),t(e,n),q(c,v,o),q(c,a,o),t(a,b),q(c,g,o),q(c,p,o),t(p,f)},p(c,o){o&32&&l!==(l=c[13].file+"")&&z(n,l),o&32&&h!==(h=c[13].title+"")&&z(b,h),o&32&&r!==(r=c[13].status+"")&&z(f,r)},d(c){c&&(u(e),u(v),u(a),u(g),u(p))}}}function Le(s){var G,B;let e,l,n,v,a,h,b="Settlement",g,p=(((G=s[13].repository)==null?void 0:G._)||"N/A")+"",r,f,c="Language",o,y=(((B=s[13].textLang)==null?void 0:B._)||"N/A")+"",R,N,L;return n=new Ge({props:{href:"inscription/"+s[13].file,$$slots:{default:[Ke]},$$scope:{ctx:s}}}),{c(){e=_("li"),l=_("p"),Re(n.$$.fragment),v=D(),a=_("dl"),h=_("dt"),h.textContent=b,g=_("dd"),r=O(p),f=_("dt"),f.textContent=c,o=_("dd"),R=O(y),N=D(),this.h()},l(S){e=d(S,"LI",{});var T=k(e);l=d(T,"P",{class:!0});var U=k(l);Be(n.$$.fragment,U),U.forEach(u),v=P(T),a=d(T,"DL",{});var w=k(a);h=d(w,"DT",{class:!0,"data-svelte-h":!0}),$(h)!=="svelte-upur71"&&(h.textContent=b),g=d(w,"DD",{});var H=k(g);r=A(H,p),H.forEach(u),f=d(w,"DT",{class:!0,"data-svelte-h":!0}),$(f)!=="svelte-1aab11o"&&(f.textContent=c),o=d(w,"DD",{});var J=k(o);R=A(J,y),J.forEach(u),w.forEach(u),N=P(T),T.forEach(u),this.h()},h(){j(l,"class","title svelte-5ui4wv"),j(h,"class","svelte-5ui4wv"),j(f,"class","svelte-5ui4wv")},m(S,T){q(S,e,T),t(e,l),Ue(n,l,null),t(e,v),t(e,a),t(a,h),t(a,g),t(g,r),t(a,f),t(a,o),t(o,R),t(e,N),L=!0},p(S,T){var w,H;const U={};T&32&&(U.href="inscription/"+S[13].file),T&65568&&(U.$$scope={dirty:T,ctx:S}),n.$set(U),(!L||T&32)&&p!==(p=(((w=S[13].repository)==null?void 0:w._)||"N/A")+"")&&z(r,p),(!L||T&32)&&y!==(y=(((H=S[13].textLang)==null?void 0:H._)||"N/A")+"")&&z(R,y)},i(S){L||(oe(n.$$.fragment,S),L=!0)},o(S){fe(n.$$.fragment,S),L=!1},d(S){S&&u(e),He(n)}}}function ye(s){let e,l="Load More Inscriptions",n,v;return{c(){e=_("button"),e.textContent=l},l(a){e=d(a,"BUTTON",{"data-svelte-h":!0}),$(e)!=="svelte-1j8c85t"&&(e.textContent=l)},m(a,h){q(a,e,h),n||(v=le(e,"click",s[8]),n=!0)},p:Ne,d(a){a&&u(e),n=!1,v()}}}function ze(s){let e,l,n,v=s[0].corpus.length.toLocaleString()+"",a,h,b,g,p=Fe+"",r,f,c,o,y,R="Keywords",N,L,G,B,S,T,U,w,H,J,se,Q,F,X,ce="Inscriptions",ne,ae,Y,re,Z,V,ie,he,I=s[2]&&ke(s),W=Ee(s[5]),C=[];for(let i=0;i<W.length;i+=1)C[i]=Le(Ce(s,W,i));const Se=i=>fe(C[i],1,1,()=>{C[i]=null});let M=s[4]&&ye(s);return{c(){e=_("article"),l=_("hgroup"),n=_("h1"),a=O(v),h=O(" Inscriptions over x years across x locations"),b=D(),g=_("p"),r=O(p),f=D(),c=_("section"),o=_("form"),y=_("label"),y.textContent=R,N=D(),L=_("input"),G=D(),B=_("button"),S=O("Search"),U=D(),w=_("button"),H=O("Reset"),se=D(),Q=_("section"),F=_("hgroup"),X=_("h2"),X.textContent=ce,ne=D(),I&&I.c(),ae=D(),Y=_("ol");for(let i=0;i<C.length;i+=1)C[i].c();re=D(),Z=_("section"),M&&M.c(),this.h()},l(i){e=d(i,"ARTICLE",{});var m=k(e);l=d(m,"HGROUP",{});var E=k(l);n=d(E,"H1",{});var x=k(n);a=A(x,v),h=A(x," Inscriptions over x years across x locations"),x.forEach(u),b=P(E),g=d(E,"P",{});var pe=k(g);r=A(pe,p),pe.forEach(u),E.forEach(u),f=P(m),c=d(m,"SECTION",{});var _e=k(c);o=d(_e,"FORM",{});var K=k(o);y=d(K,"LABEL",{for:!0,"data-svelte-h":!0}),$(y)!=="svelte-10ryt36"&&(y.textContent=R),N=P(K),L=d(K,"INPUT",{type:!0,name:!0,id:!0}),G=P(K),B=d(K,"BUTTON",{type:!0});var de=k(B);S=A(de,"Search"),de.forEach(u),U=P(K),w=d(K,"BUTTON",{type:!0});var me=k(w);H=A(me,"Reset"),me.forEach(u),K.forEach(u),_e.forEach(u),se=P(m),Q=d(m,"SECTION",{});var ee=k(Q);F=d(ee,"HGROUP",{});var te=k(F);X=d(te,"H2",{"data-svelte-h":!0}),$(X)!=="svelte-n49mf5"&&(X.textContent=ce),ne=P(te),I&&I.l(te),te.forEach(u),ae=P(ee),Y=d(ee,"OL",{});var ve=k(Y);for(let ue=0;ue<C.length;ue+=1)C[ue].l(ve);ve.forEach(u),ee.forEach(u),re=P(m),Z=d(m,"SECTION",{});var ge=k(Z);M&&M.l(ge),ge.forEach(u),m.forEach(u),this.h()},h(){j(y,"for","keywords"),j(L,"type","text"),j(L,"name","keywords"),j(L,"id","keywords"),j(B,"type","submit"),B.value="Search",B.disabled=T=!s[3],j(w,"type","reset"),w.value="Reset",w.disabled=J=!s[3]},m(i,m){q(i,e,m),t(e,l),t(l,n),t(n,a),t(n,h),t(l,b),t(l,g),t(g,r),t(e,f),t(e,c),t(c,o),t(o,y),t(o,N),t(o,L),be(L,s[3]),t(o,G),t(o,B),t(B,S),t(o,U),t(o,w),t(w,H),t(e,se),t(e,Q),t(Q,F),t(F,X),t(F,ne),I&&I.m(F,null),t(Q,ae),t(Q,Y);for(let E=0;E<C.length;E+=1)C[E]&&C[E].m(Y,null);t(e,re),t(e,Z),M&&M.m(Z,null),V=!0,ie||(he=[le(L,"input",s[10]),le(o,"submit",s[7]),le(o,"reset",s[6])],ie=!0)},p(i,[m]){if((!V||m&1)&&v!==(v=i[0].corpus.length.toLocaleString()+"")&&z(a,v),m&8&&L.value!==i[3]&&be(L,i[3]),(!V||m&8&&T!==(T=!i[3]))&&(B.disabled=T),(!V||m&8&&J!==(J=!i[3]))&&(w.disabled=J),i[2]?I?I.p(i,m):(I=ke(i),I.c(),I.m(F,null)):I&&(I.d(1),I=null),m&32){W=Ee(i[5]);let E;for(E=0;E<W.length;E+=1){const x=Ce(i,W,E);C[E]?(C[E].p(x,m),oe(C[E],1)):(C[E]=Le(x),C[E].c(),oe(C[E],1),C[E].m(Y,null))}for(je(),E=W.length;E<C.length;E+=1)Se(E);De()}i[4]?M?M.p(i,m):(M=ye(i),M.c(),M.m(Z,null)):M&&(M.d(1),M=null)},i(i){if(!V){for(let m=0;m<W.length;m+=1)oe(C[m]);V=!0}},o(i){C=C.filter(Boolean);for(let m=0;m<C.length;m+=1)fe(C[m]);V=!1},d(i){i&&u(e),I&&I.d(),Pe(C,i),M&&M.d(),ie=!1,we(he)}}}function Je(s,e,l){let n,v,a;Ie(s,qe,N=>l(12,a=N));let{data:h}=e,b=h.corpus,g=!1,p="",r=50,f=r;function c(){l(1,b=h.corpus),l(2,g=!1),l(3,p=""),l(9,r=50),f=r}function o(){if(l(2,g=!0),l(9,r=50),f=r,!p){l(1,b=h.corpus);return}l(1,b=h.corpus.filter(N=>!p||p.split(" ").map(L=>L.toLowerCase()).every(L=>N.keywords.some(G=>G.includes(L)))))}function y(){l(9,r=Math.min(b.length,r+f))}Me(()=>{l(3,p=a.url.searchParams.get("keywords")||"")});function R(){p=this.value,l(3,p)}return s.$$set=N=>{"data"in N&&l(0,h=N.data)},s.$$.update=()=>{s.$$.dirty&514&&l(5,n=b.slice(0,r)),s.$$.dirty&514&&l(4,v=b.length>r)},[h,b,g,p,v,n,c,o,y,r,R]}class xe extends Oe{constructor(e){super(),Ae(this,e,Je,ze,Te,{data:0})}}export{xe as component};

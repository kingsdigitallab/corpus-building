import{s as Se,r as De,c as Ie,o as Me,n as Ne}from"../chunks/scheduler.CR4wpqUo.js";import{S as we,i as Oe,e as f,l as O,s as H,c,a as C,m as R,d,b as P,g as te,n as z,f as X,h as t,y as be,z as ae,o as Q,t as se,k as Re,j as ce,q as qe,r as Ae,u as Be,v as He,w as Pe,p as Ue}from"../chunks/index.C9G_mPGS.js";import{e as Ee}from"../chunks/each.D6YF6ztN.js";import{p as je}from"../chunks/stores.aGWniXzD.js";import{B as Ge}from"../chunks/BaseLink.A4_DOkQy.js";import{d as ze}from"../chunks/config.BcrlzuFT.js";function Ce(o,e,l){const n=o.slice();return n[13]=e[l],n}function ke(o){let e,l,n,h=o[1].length+"",a,u,r,i=o[3].split(" ").join(", ")+"",E;return{c(){e=f("h3"),l=O("Displaying "),n=f("em"),a=O(h),u=O(` inscriptions matching
					`),r=f("em"),E=O(i)},l(_){e=c(_,"H3",{});var m=C(e);l=R(m,"Displaying "),n=c(m,"EM",{});var q=C(n);a=R(q,h),q.forEach(d),u=R(m,` inscriptions matching
					`),r=c(m,"EM",{});var g=C(r);E=R(g,i),g.forEach(d),m.forEach(d)},m(_,m){X(_,e,m),t(e,l),t(e,n),t(n,a),t(e,u),t(e,r),t(r,E)},p(_,m){m&2&&h!==(h=_[1].length+"")&&Q(a,h),m&8&&i!==(i=_[3].split(" ").join(", ")+"")&&Q(E,i)},d(_){_&&d(e)}}}function Fe(o){let e=o[13].metadata.title+"",l,n,h,a=o[13].file+"",u;return{c(){l=O(e),n=H(),h=f("small"),u=O(a)},l(r){l=R(r,e),n=P(r),h=c(r,"SMALL",{});var i=C(h);u=R(i,a),i.forEach(d)},m(r,i){X(r,l,i),X(r,n,i),X(r,h,i),t(h,u)},p(r,i){i&32&&e!==(e=r[13].metadata.title+"")&&Q(l,e),i&32&&a!==(a=r[13].file+"")&&Q(u,a)},d(r){r&&(d(l),d(n),d(h))}}}function ye(o){var A,Y;let e,l,n,h,a,u,r="Settlement",i,E=o[13].metadata.settlement+"",_,m,q="Repository",g,M=(((A=o[13].metadata.repository)==null?void 0:A._)||"N/A")+"",G,L,S="Language",U,N=(((Y=o[13].metadata.textLang)==null?void 0:Y._)||"N/A")+"",F,K,j;return n=new Ge({props:{href:"inscription/"+o[13].file,$$slots:{default:[Fe]},$$scope:{ctx:o}}}),{c(){e=f("li"),l=f("h4"),Ae(n.$$.fragment),h=H(),a=f("dl"),u=f("dt"),u.textContent=r,i=f("dd"),_=O(E),m=f("dt"),m.textContent=q,g=f("dd"),G=O(M),L=f("dt"),L.textContent=S,U=f("dd"),F=O(N),K=H(),this.h()},l(k){e=c(k,"LI",{});var T=C(e);l=c(T,"H4",{});var w=C(l);Be(n.$$.fragment,w),w.forEach(d),h=P(T),a=c(T,"DL",{});var y=C(a);u=c(y,"DT",{class:!0,"data-svelte-h":!0}),te(u)!=="svelte-upur71"&&(u.textContent=r),i=c(y,"DD",{});var B=C(i);_=R(B,E),B.forEach(d),m=c(y,"DT",{class:!0,"data-svelte-h":!0}),te(m)!=="svelte-1uef0e6"&&(m.textContent=q),g=c(y,"DD",{});var le=C(g);G=R(le,M),le.forEach(d),L=c(y,"DT",{class:!0,"data-svelte-h":!0}),te(L)!=="svelte-1aab11o"&&(L.textContent=S),U=c(y,"DD",{});var Z=C(U);F=R(Z,N),Z.forEach(d),y.forEach(d),K=P(T),T.forEach(d),this.h()},h(){z(u,"class","svelte-1qsvq6o"),z(m,"class","svelte-1qsvq6o"),z(L,"class","svelte-1qsvq6o")},m(k,T){X(k,e,T),t(e,l),He(n,l,null),t(e,h),t(e,a),t(a,u),t(a,i),t(i,_),t(a,m),t(a,g),t(g,G),t(a,L),t(a,U),t(U,F),t(e,K),j=!0},p(k,T){var y,B;const w={};T&32&&(w.href="inscription/"+k[13].file),T&65568&&(w.$$scope={dirty:T,ctx:k}),n.$set(w),(!j||T&32)&&E!==(E=k[13].metadata.settlement+"")&&Q(_,E),(!j||T&32)&&M!==(M=(((y=k[13].metadata.repository)==null?void 0:y._)||"N/A")+"")&&Q(G,M),(!j||T&32)&&N!==(N=(((B=k[13].metadata.textLang)==null?void 0:B._)||"N/A")+"")&&Q(F,N)},i(k){j||(se(n.$$.fragment,k),j=!0)},o(k){ce(n.$$.fragment,k),j=!1},d(k){k&&d(e),Pe(n)}}}function Le(o){let e,l="Load More Inscriptions",n,h;return{c(){e=f("button"),e.textContent=l},l(a){e=c(a,"BUTTON",{"data-svelte-h":!0}),te(e)!=="svelte-1j8c85t"&&(e.textContent=l)},m(a,u){X(a,e,u),n||(h=ae(e,"click",o[8]),n=!0)},p:Ne,d(a){a&&d(e),n=!1,h()}}}function Ke(o){let e,l,n,h=o[0].corpus.length.toLocaleString()+"",a,u,r,i,E=ze+"",_,m,q,g,M,G="Keywords",L,S,U,N,F,K,j,A,Y,k,T,w,y,B,le="Inscriptions",Z,re,x,ie,$,V,ue,de,D=o[2]&&ke(o),W=Ee(o[5]),b=[];for(let s=0;s<W.length;s+=1)b[s]=ye(Ce(o,W,s));const Te=s=>ce(b[s],1,1,()=>{b[s]=null});let I=o[4]&&Le(o);return{c(){e=f("article"),l=f("hgroup"),n=f("h1"),a=O(h),u=O(" Inscriptions over x years across x locations"),r=H(),i=f("p"),_=O(E),m=H(),q=f("section"),g=f("form"),M=f("label"),M.textContent=G,L=H(),S=f("input"),U=H(),N=f("button"),F=O("Search"),j=H(),A=f("button"),Y=O("Reset"),T=H(),w=f("section"),y=f("hgroup"),B=f("h2"),B.textContent=le,Z=H(),D&&D.c(),re=H(),x=f("ol");for(let s=0;s<b.length;s+=1)b[s].c();ie=H(),$=f("section"),I&&I.c(),this.h()},l(s){e=c(s,"ARTICLE",{});var p=C(e);l=c(p,"HGROUP",{});var v=C(l);n=c(v,"H1",{});var ee=C(n);a=R(ee,h),u=R(ee," Inscriptions over x years across x locations"),ee.forEach(d),r=P(v),i=c(v,"P",{});var he=C(i);_=R(he,E),he.forEach(d),v.forEach(d),m=P(p),q=c(p,"SECTION",{});var _e=C(q);g=c(_e,"FORM",{});var J=C(g);M=c(J,"LABEL",{for:!0,"data-svelte-h":!0}),te(M)!=="svelte-10ryt36"&&(M.textContent=G),L=P(J),S=c(J,"INPUT",{type:!0,name:!0,id:!0}),U=P(J),N=c(J,"BUTTON",{type:!0});var pe=C(N);F=R(pe,"Search"),pe.forEach(d),j=P(J),A=c(J,"BUTTON",{type:!0});var me=C(A);Y=R(me,"Reset"),me.forEach(d),J.forEach(d),_e.forEach(d),T=P(p),w=c(p,"SECTION",{});var oe=C(w);y=c(oe,"HGROUP",{});var ne=C(y);B=c(ne,"H2",{"data-svelte-h":!0}),te(B)!=="svelte-n49mf5"&&(B.textContent=le),Z=P(ne),D&&D.l(ne),ne.forEach(d),re=P(oe),x=c(oe,"OL",{});var ve=C(x);for(let fe=0;fe<b.length;fe+=1)b[fe].l(ve);ve.forEach(d),oe.forEach(d),ie=P(p),$=c(p,"SECTION",{});var ge=C($);I&&I.l(ge),ge.forEach(d),p.forEach(d),this.h()},h(){z(M,"for","keywords"),z(S,"type","text"),z(S,"name","keywords"),z(S,"id","keywords"),z(N,"type","submit"),N.value="Search",N.disabled=K=!o[3],z(A,"type","reset"),A.value="Reset",A.disabled=k=!o[3]},m(s,p){X(s,e,p),t(e,l),t(l,n),t(n,a),t(n,u),t(l,r),t(l,i),t(i,_),t(e,m),t(e,q),t(q,g),t(g,M),t(g,L),t(g,S),be(S,o[3]),t(g,U),t(g,N),t(N,F),t(g,j),t(g,A),t(A,Y),t(e,T),t(e,w),t(w,y),t(y,B),t(y,Z),D&&D.m(y,null),t(w,re),t(w,x);for(let v=0;v<b.length;v+=1)b[v]&&b[v].m(x,null);t(e,ie),t(e,$),I&&I.m($,null),V=!0,ue||(de=[ae(S,"input",o[10]),ae(g,"submit",o[7]),ae(g,"reset",o[6])],ue=!0)},p(s,[p]){if((!V||p&1)&&h!==(h=s[0].corpus.length.toLocaleString()+"")&&Q(a,h),p&8&&S.value!==s[3]&&be(S,s[3]),(!V||p&8&&K!==(K=!s[3]))&&(N.disabled=K),(!V||p&8&&k!==(k=!s[3]))&&(A.disabled=k),s[2]?D?D.p(s,p):(D=ke(s),D.c(),D.m(y,null)):D&&(D.d(1),D=null),p&32){W=Ee(s[5]);let v;for(v=0;v<W.length;v+=1){const ee=Ce(s,W,v);b[v]?(b[v].p(ee,p),se(b[v],1)):(b[v]=ye(ee),b[v].c(),se(b[v],1),b[v].m(x,null))}for(Ue(),v=W.length;v<b.length;v+=1)Te(v);Re()}s[4]?I?I.p(s,p):(I=Le(s),I.c(),I.m($,null)):I&&(I.d(1),I=null)},i(s){if(!V){for(let p=0;p<W.length;p+=1)se(b[p]);V=!0}},o(s){b=b.filter(Boolean);for(let p=0;p<b.length;p+=1)ce(b[p]);V=!1},d(s){s&&d(e),D&&D.d(),qe(b,s),I&&I.d(),ue=!1,De(de)}}}function Je(o,e,l){let n,h,a;Ie(o,je,L=>l(12,a=L));let{data:u}=e,r=u.corpus,i=!1,E="",_=50,m=_;function q(){l(1,r=u.corpus),l(2,i=!1),l(3,E=""),l(9,_=50),m=_}function g(){if(l(2,i=!0),l(9,_=50),m=_,!E){l(1,r=u.corpus);return}l(1,r=u.corpus.filter(L=>!E||E.split(" ").map(S=>S.toLowerCase()).every(S=>L.metadata.keywords.some(U=>U.includes(S)))))}function M(){l(9,_=Math.min(r.length,_+m))}Me(()=>{l(3,E=a.url.searchParams.get("keywords")||"")});function G(){E=this.value,l(3,E)}return o.$$set=L=>{"data"in L&&l(0,u=L.data)},o.$$.update=()=>{o.$$.dirty&514&&l(5,n=r.slice(0,_)),o.$$.dirty&514&&l(4,h=r.length>_)},[u,r,i,E,h,n,q,g,M,_,G]}class xe extends we{constructor(e){super(),Oe(this,e,Je,Ke,Se,{data:0})}}export{xe as component};

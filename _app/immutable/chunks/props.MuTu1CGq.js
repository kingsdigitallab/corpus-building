import{S as N,ad as z,ae as G,a6 as y,af as Q,s as P,ag as E,ah as p,g as w,W as L,ai as W,a9 as J,i as X,b as k,V as F,a as j,p as B,h as K,c as ee,E as re,Q as ne,R as se,O as te,T as C,d as ie,aj as ae,ak as fe,al as ue,am as le,an as M,k as oe,ao as ce,n as U,K as Y,ap as de,aq as $,ar as _e,as as H,at as S,au as ve,av as pe,aw as he,m as be}from"./utils.DE1e-iYh.js";import{l as we}from"./disclose-version.DNuuheQc.js";function x(e,r=null,a){if(typeof e!="object"||e===null||N in e)return e;const f=J(e);if(f!==z&&f!==G)return e;var t=new Map,o=X(e),v=y(0);o&&t.set("length",y(e.length));var _;return new Proxy(e,{defineProperty(u,n,s){(!("value"in s)||s.configurable===!1||s.enumerable===!1||s.writable===!1)&&Q();var i=t.get(n);return i===void 0?(i=y(s.value),t.set(n,i)):P(i,x(s.value,_)),!0},deleteProperty(u,n){var s=t.get(n);if(s===void 0)n in u&&t.set(n,y(p));else{if(o&&typeof n=="string"){var i=t.get("length"),l=Number(n);Number.isInteger(l)&&l<i.v&&P(i,l)}P(s,p),V(v)}return!0},get(u,n,s){var h;if(n===N)return e;var i=t.get(n),l=n in u;if(i===void 0&&(!l||(h=E(u,n))!=null&&h.writable)&&(i=y(x(l?u[n]:p,_)),t.set(n,i)),i!==void 0){var c=w(i);return c===p?void 0:c}return Reflect.get(u,n,s)},getOwnPropertyDescriptor(u,n){var s=Reflect.getOwnPropertyDescriptor(u,n);if(s&&"value"in s){var i=t.get(n);i&&(s.value=w(i))}else if(s===void 0){var l=t.get(n),c=l==null?void 0:l.v;if(l!==void 0&&c!==p)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return s},has(u,n){var c;if(n===N)return!0;var s=t.get(n),i=s!==void 0&&s.v!==p||Reflect.has(u,n);if(s!==void 0||L!==null&&(!i||(c=E(u,n))!=null&&c.writable)){s===void 0&&(s=y(i?x(u[n],_):p),t.set(n,s));var l=w(s);if(l===p)return!1}return i},set(u,n,s,i){var I;var l=t.get(n),c=n in u;if(o&&n==="length")for(var h=s;h<l.v;h+=1){var b=t.get(h+"");b!==void 0?P(b,p):h in u&&(b=y(p),t.set(h+"",b))}l===void 0?(!c||(I=E(u,n))!=null&&I.writable)&&(l=y(void 0),P(l,x(s,_)),t.set(n,l)):(c=l.v!==p,P(l,x(s,_)));var m=Reflect.getOwnPropertyDescriptor(u,n);if(m!=null&&m.set&&m.set.call(i,s),!c){if(o&&typeof n=="string"){var T=t.get("length"),g=Number(n);Number.isInteger(g)&&g>=T.v&&P(T,g+1)}V(v)}return!0},ownKeys(u){w(v);var n=Reflect.ownKeys(u).filter(l=>{var c=t.get(l);return c===void 0||c.v!==p});for(var[s,i]of t)i.v!==p&&!(s in u)&&n.push(s);return n},setPrototypeOf(){W()}})}function V(e,r=1){P(e,e.v+r)}function Ee(e,r,a,f=null,t=!1){K&&ee();var o=e,v=null,_=null,u=null,n=t?re:0;k(()=>{if(u===(u=!!r()))return;let s=!1;if(K){const i=o.data===ne;u===i&&(o=se(),te(o),C(!1),s=!0)}u?(v?F(v):v=j(()=>a(o)),_&&B(_,()=>{_=null})):(_?F(_):f&&(_=j(()=>f(o))),v&&B(v,()=>{v=null})),s&&C(!0)},n),K&&(o=ie)}const ye={get(e,r){if(!e.exclude.includes(r))return e.props[r]},set(e,r){return!1},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function Ie(e,r,a){return new Proxy({props:e,exclude:r},ye)}const Pe={get(e,r){if(!e.exclude.includes(r))return w(e.version),r in e.special?e.special[r]():e.props[r]},set(e,r,a){return r in e.special||(e.special[r]=ge({get[r](){return e.props[r]}},r,$)),e.special[r](a),H(e.version),!0},getOwnPropertyDescriptor(e,r){if(!e.exclude.includes(r)&&r in e.props)return{enumerable:!0,configurable:!0,value:e.props[r]}},deleteProperty(e,r){return e.exclude.includes(r)||(e.exclude.push(r),H(e.version)),!0},has(e,r){return e.exclude.includes(r)?!1:r in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(r=>!e.exclude.includes(r))}};function Oe(e,r){return new Proxy({props:e,exclude:r,special:{},version:y(0)},Pe)}const me={get(e,r){let a=e.props.length;for(;a--;){let f=e.props[a];if(S(f)&&(f=f()),typeof f=="object"&&f!==null&&r in f)return f[r]}},set(e,r,a){let f=e.props.length;for(;f--;){let t=e.props[f];S(t)&&(t=t());const o=E(t,r);if(o&&o.set)return o.set(a),!0}return!1},getOwnPropertyDescriptor(e,r){let a=e.props.length;for(;a--;){let f=e.props[a];if(S(f)&&(f=f()),typeof f=="object"&&f!==null&&r in f){const t=E(f,r);return t&&!t.configurable&&(t.configurable=!0),t}}},has(e,r){for(let a of e.props)if(S(a)&&(a=a()),a!=null&&r in a)return!0;return!1},ownKeys(e){const r=[];for(let a of e.props){S(a)&&(a=a());for(const f in a)r.includes(f)||r.push(f)}return r}};function Se(...e){return new Proxy({props:e},me)}function Z(e){for(var r=L,a=L;r!==null&&!(r.f&(ue|le));)r=r.parent;try{return M(r),e()}finally{M(a)}}function ge(e,r,a,f){var q;var t=(a&ve)!==0,o=!oe||(a&ce)!==0,v=(a&pe)!==0,_=(a&he)!==0,u=!1,n;v?[n,u]=we(()=>e[r]):n=e[r];var s=(q=E(e,r))==null?void 0:q.set,i=f,l=!0,c=!1,h=()=>(c=!0,l&&(l=!1,_?i=U(f):i=f),i);n===void 0&&f!==void 0&&(s&&o&&ae(),n=h(),s&&s(n));var b;if(o)b=()=>{var d=e[r];return d===void 0?h():(l=!0,c=!1,d)};else{var m=Z(()=>(t?Y:de)(()=>e[r]));m.f|=fe,b=()=>{var d=w(m);return d!==void 0&&(i=void 0),d===void 0?i:d}}if(!(a&$))return b;if(s){var T=e.$$legacy;return function(d,R){return arguments.length>0?((!o||!R||T||u)&&s(R?b():d),d):b()}}var g=!1,I=!1,A=be(n),O=Z(()=>Y(()=>{var d=b(),R=w(A);return g?(g=!1,I=!0,R):(I=!1,A.v=d)}));return t||(O.equals=_e),function(d,R){if(arguments.length>0){const D=R?w(O):o&&v?x(d):d;return O.equals(D)||(g=!0,P(A,D),c&&i!==void 0&&(i=D),U(()=>w(O))),d}return w(O)}}export{x as a,Ee as i,Oe as l,ge as p,Ie as r,Se as s};

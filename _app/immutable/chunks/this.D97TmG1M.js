import{o as v,p as n,t as y,aq as b,H as q,v as R,q as p,w as d,y as A,z as h,A as _,x as I,ac as x,ar as L,as as g,b as C,C as D,a7 as F}from"./runtime.DiKes7Fb.js";function O(f,r,t=!1){n&&y();var i=f,s=null,a=null,c=x,N=t?b:0,l=!1;const S=(u,e=!0)=>{l=!0,o(e,u)},o=(u,e)=>{if(c===(c=u))return;let T=!1;if(n){const k=i.data===q;!!c===k&&(i=R(),p(i),d(!1),T=!0)}c?(s?A(s):e&&(s=h(()=>e(i))),a&&_(a,()=>{a=null})):(a?A(a):e&&(a=h(()=>e(i))),s&&_(s,()=>{s=null})),T&&d(!0)};v(()=>{l=!1,r(S),l||o(null,null)},N),n&&(i=I)}function Y(f,r,t){n&&y();var i=f,s,a;v(()=>{s!==(s=r())&&(a&&(_(a),a=null),s&&(a=h(()=>t(i,s))))},b),n&&(i=I)}function E(f,r){return f===r||(f==null?void 0:f[F])===r}function w(f={},r,t,i){return L(()=>{var s,a;return g(()=>{s=a,a=[],C(()=>{f!==t(...a)&&(r(f,...a),s&&E(t(...s),f)&&r(null,...s))})}),()=>{D(()=>{a&&E(t(...a),f)&&r(null,...a)})}}),f}export{w as b,Y as c,O as i};

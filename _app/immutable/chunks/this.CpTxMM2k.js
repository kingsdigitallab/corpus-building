import{a6 as S,ab as T,a8 as u,ac as h,C as c,D as _,a7 as y,ad as R,ae as b,af as g,ag as o,aa as A,ah as N,ai as q,b as x,H as C,S as D}from"./utils.CRPEv3Yk.js";function H(f,i,r,t=null,s=!1){c&&_();var a=f,e=null,n=null,l=null,k=s?y:0;S(()=>{if(l===(l=!!i()))return;let d=!1;if(c){const v=a.data===R;l===v&&(a=b(),g(a),o(!1),d=!0)}l?(e?T(e):e=u(()=>r(a)),n&&h(n,()=>{n=null})):(n?T(n):t&&(n=u(()=>t(a))),e&&h(e,()=>{e=null})),d&&o(!0)},k),c&&(a=A)}function L(f,i,r){c&&_();var t=f,s,a;S(()=>{s!==(s=i())&&(a&&(h(a),a=null),s&&(a=u(()=>r(t,s))))},y),c&&(t=A)}function E(f,i){return f===i||(f==null?void 0:f[D])===i}function O(f={},i,r,t){return N(()=>{var s,a;return q(()=>{s=a,a=[],x(()=>{f!==r(...a)&&(i(f,...a),s&&E(r(...s),f)&&i(null,...s))})}),()=>{C(()=>{a&&E(r(...a),f)&&i(null,...a)})}}),f}export{O as b,L as c,H as i};
